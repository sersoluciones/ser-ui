{"version":3,"sources":["jurlp.js","image-zoom.js","jquery.daterangepicker.js","utils.js","cookies.js","auth.js","chip.js","autocomplete.js","date.js","filters.js","fullscreen.js","clipboard.js","i18n.js","image.js","image-crop.js","loader.js","search.js","selector.js","tooltipster.js","validation-match.js","barcode.js","diff.js","map.js","sentry.js","main.js"],"names":["$","urlRegEx","selectorCallStack","currentSelector","initialiseElement","href","getHref","apply","this","get","document","location","is","attr","sanitiseUrl","data","setAttrUrl","url","restoreAttrUrl","removeData","restoreElement","methods","unwatch","updateHref","segment","value","setHref","setUrlSegment","updateHrefShim","parameters","objectToUrl","urlToObject","scheme","user","password","host","port","path","query","fragment","credentials","substring","indexOf","urlSegments","match","a","createElement","protocol","err","number","authority","replace","pathname","hostname","search","hash","urlString","uri","parse","toString","urlObject","getUrlObject","updateQuery","queryObject","currentQueryObject","getQueryObject","queryStringToObject","isEmptyObject","extend","queryObjectToString","object","elements","split","i","length","parameter","slice","string","getPathObject","pathString","updatePath","pathArray","newPathArray","splice","l","push","pathObjectToString","join","addSelectorCallback","element","callback","returnEachElement","each","returnEachObject","result","dispatchGetSetHelper","getHelper","setHelper","helperArguments","http","mailto","javascript","generic","parsers","pos","toLowerCase","helpers","getUrl","setUrl","parseUrl","getFragment","setFragment","getQuery","setQuery","getPath","setPath","getPort","setPort","getHost","setHost","getPassword","setPassword","getUser","setUser","getScheme","setScheme","filters","=","actualValue","userValue","!=","<",">","<=",">=","*=","^=","$=","regex","arguments","initialise","me","html","hasClass","urls","modifiedHtml","findUrlRegExp","exec","addClass","find","filter","add","restore","goto","proxy","elementUrl","watch","selector","bind","DOMListener","event","target","filtered","output","unbind","operator","parseInt","interface","fn","jurlp","method","Array","prototype","call","jQuery","Object","create","obj","F","window","undefined","ElevateZoom","init","options","elem","self","$elem","elevateZoom","imageSrc","tint","lensColour","lensOpacity","zoomType","showLens","parent","removeAttr","zoomImage","refresh","gallery","click","e","galleryActiveClass","removeClass","preventDefault","zoomImagePre","swaptheimage","setTimeout","fetch","imgsrc","newImg","Image","onload","largeWidth","width","largeHeight","height","startZoom","currentImage","onZoomedImageLoaded","src","nzWidth","nzHeight","isWindowActive","isLensActive","isTintActive","overWindow","imageCrossfade","zoomWrap","wrap","css","zoomLock","scrollingLock","changeBgSize","currentZoomLevel","zoomLevel","nzOffset","offset","widthRatio","heightRatio","zoomWindowStyle","String","zoomWindowBgColour","zoomWindowWidth","zoomWindowHeight","borderSize","borderColour","borderWidth","lensHeight","lensWidth","lensStyle","tintStyle","tintColour","lensRound","lensSize","lensShape","zoomContainer","left","top","after","containLensZoom","zoomLens","appendTo","trigger","tintContainer","zoomTint","zoomTintcss","zoomTintImage","isNaN","zoomWindowPosition","zoomWindow","zoomWindowContainer","backgroundImage","touch","originalEvent","touches","changedTouches","setPosition","showHideWindow","showHideLens","showHideTint","setElements","lastX","clientX","lastY","clientY","currentLoc","mouseenter","mouseleave","scrollLock","onDestroy","minZoomLevel","scrollZoomIncrement","scrollZoom","clearTimeout","theEvent","wheelDelta","detail","stopImmediatePropagation","stopPropagation","changeZoomLevel","maxZoomLevel","parseFloat","type","zoomEnabled","isWindowSet","responsive","mouseLeft","pageX","mouseTop","pageY","Etoppos","Eboppos","lensBorderSize","Eloppos","Eroppos","lensLeftPos","Math","floor","lensTopPos","windowLeftPos","tintpos","max","windowTopPos","backgroundPosition","background-size","newvalueheight","newvaluewidth","setWindowPostition","setTintPosition","fullwidth","change","zoomWindowFadeIn","stop","fadeIn","show","zoomWindowFadeOut","fadeOut","loop","clearInterval","hide","lensFadeIn","lensFadeOut","zoomTintFadeIn","opacity","tintOpacity","animate","zoomTintFadeOut","setLensPostition","externalContainer","externalContainerWidth","externalContainerHeight","externalContainerOffset","windowOffsetTop","windowOffsetLeft","zoomWindowOffety","zoomWindowOffetx","fullheight","easing","xp","yp","setInterval","easingAmount","round","abs","tintposy","smallimage","largeimage","loadingIcon","spinner","onImageSwap","swapAction","newImg2","onImageSwapComplete","doneCallback","oldImg","clone","remove","oldImgTint","newImgTint","constrainType","constrainSize","constwidth","constheight","getCurrentImage","getGalleryList","gallerylist","img_src","unshift","title","newvalue","toFixed","maxheightnewvalue","maxwidthtnewvalue","scrcontinue","changeZoom","closeAll","changeState","elevate","zoomActivation","preloading","debug","zoomWindowAlwaysShow","lensBorderColour","lenszoom","cursor","onComplete","noop","factory","define","amd","exports","module","require","moment","dateRangePickerLanguages","default","selected","day","days","week-1","week-2","week-3","week-4","week-5","week-6","week-7","week-number","month-name","shortcuts","custom-values","past","following","previous","prev-week","prev-month","prev-year","next","next-week","next-month","next-year","less-than","more-than","default-more","default-single","default-less","default-range","default-default","time","hour","minute","de","Time","es","fr","pt","dateRangePicker","opt","autoClose","format","separator","language","startOfWeek","getValue","val","setValue","s","startDate","endDate","enabled","minDays","maxDays","customShortcuts","inline","container","alwaysOpen","singleDate","lookBehind","batchMode","highlightToday","duration","stickyMonths","dayDivAttrs","dayTdAttrs","selectForward","selectBackward","applyBtnClass","singleMonth","hoveringTooltip","startTime","hoveringTime","translate","showTopbar","swapTime","showWeekNumbers","getWeekNumber","date","customOpenAnimation","customCloseAnimation","customArrowPrevSymbol","customArrowNextSymbol","start","end","startWeek","isTouchDevice","navigator","msMaxTouchPoints","toDate","box","domChangeTimer","languages","browserLanguage","getLanguages","initiated","selfDom","evt","open","checkAndSetDefaultValue","closeDatePicker","extraClass","_colspan","arrowPrev","arrowNext","getWeekHead","createDom","append","calcPosition","defaultTime","getDefaultTime","resetMonthsView","showTime","defaultEndTime","defaultTopText","updateCalendarWidth","selfObj","contains","childNodes","inArray","nextMonth1","nextMonth","month1","nextMonth2","month2","isMonthOutOfBounds","compare_month","showMonth","showSelectedDays","gotoNextMonth_stickily","isMonth2","parents","month","showGap","gotoNextMonth","prevMonth1","prevMonth","prevMonth2","gotoPrevMonth_stickily","gotoPrevMonth","dateRange","getDateString","Date","date1","date2","valueName","checkSelectionValid","showSelectedInfo","dir","shortcut","getTime","stopDay","getDay","setDate","setFullYear","getFullYear","setMonth","name","sh","movetodate","setDateRange","min","setTime","setStart","d1","silent","setSingleDate","setEnd","d2","clear","close","redraw","redrawDatePicker","getDatePicker","destroy","containerOffset","outerHeight","animationTime","relatedTarget","slideDown","__default_string","defaults","___format","getValidValue","locale","isValid","gapMargin","w1","w2","w3","renderTime","hours","minutes","changeTime","startOf","valueOf","text","setRange","endTime","timePoint","h","m","handleStart","r","handleEnd","endOf","dayClicked","tmp","clearHovering","dayHovering","updateSelectableRange","autoclose","isValidTime","compare_day","countDays","beforeShowDay","valid","timeTmp","hoverTime","tooltip","posDay","posBox","_left","_top","$tip","w","visibility","display","ceil","forceValid","daysFrom1970","monthName","getMonth","d","today","now","dayOfWeek","getDate","toMonth","week","_day","_r","todayDivAttr","data-tooltip","class","attributesCallbacks","showDayHTML","createMonthHTML","weekNumberDom","thisTime","m1","m2","p","h1","h2","afterAnim","slideUp","prepend","isBefore","isAfter","initialObject","callbacksArray","resultObject","cbAttrIndex","cbAttr","addAttributes","hasOwnProperty","attrString","t","isMoment","getTimezoneOffset","toLocalTimestamp","showDateFilter","translationKey","translationKeyLowerCase","defaultLanguage","angular","KEYS","up","down","right","escape","enter","backspace","delete","shift","leftCmd","rightCmd","ctrl","alt","tab","getStyles","HTMLElement","ownerDocument","defaultView","opener","getComputedStyle","arrayGroupBy","array","field","array_group_by","index","hasValue","isArray","isDate","isObject","NaN","notValue","hasProperty","key","notInArray","getObjectByValue","prop","getObjIndexByValue","browserWidth","innerWidth","screen","hasPdfViewer","plugins","getRandomInt","random","hasFiles","Files","file","Blob","flashId","size","guid","s4","onbeforeprint","console","log","onafterprint","matchMedia","mediaQueryList","addListener","mql","matches","getLogo","version","AWS_S3_URL","deleteAllCookies","cookies","cookie","eqPos","substr","bowser","osname","osversion","registeredInModuleLoader","OldCookies","Cookies","api","noConflict","attributes","converter","expires","setMilliseconds","getMilliseconds","toUTCString","JSON","stringify","test","write","encodeURIComponent","decodeURIComponent","stringifiedAttributes","attributeName","rdecode","parts","charAt","read","json","set","getJSON","withConverter","service","userPermissions","isSuperuser","hasPermission","requiredPermission","atLeastPermissions","requiredPermissions","hasPermissions","directive","$document","restrict","scope","model","pattern","link","attrs","controller","RegExp","formCtrl","selectedValue","$setViewValue","$setDirty","addChip","chipInput","$validate","removeChip","setFocus","setBlur","checkKeypress","ev","keyCode","template","$http","$timeout","ngModel","remoteUrl","keywordField","ngRequired","ngDisabled","selectItem","dropdownClass","transclude","inputChangedPromise","dropdown","querySelector","originParents","namespace","detach","results","isFetching","selectInternalItem","item","isFunction","newValue","dropdownPosition","label","style","bottom","getBoundingClientRect","offsetWidth","body","offsetHeight","showDropdown","triggerHandler","isOpen","on","$apply","then","response","addon","disabled","required","mdItemSize","templateTag","toggleDay","isSet","__","$filter","config","$scope","placeholder","tooltipster","content","delay","positionTracker","theme","position","interactive","picker_instance","$watch","oldValue","setHours","FromDate","ToDate","input","str","toUpperCase","trim","fields","resultArray","char","$rootScope","isKeyboardAvailbleOnFullScreen","Element","ALLOW_KEYBOARD_INPUT","emitter","$new","$emit","serviceInstance","isEnabled","$on","all","enable","documentElement","requestFullScreen","mozRequestFullScreen","webkitRequestFullscreen","userAgent","msRequestFullscreen","cancel","cancelFullScreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","toggleAll","isSupported","docElm","Fullscreen","$element","$attrs","fullscreen","removeFullscreenHandler","isFullscreenEnabled","$evalAsync","$eval","onlyWatchedProperty","$window","textarea","toCopy","ShowAlert","select","successful","execCommand","alert","prompt","CopyToClipboard","serClickCopy","i18n","__DICT","loadJSON","locale_json","warn","error","Upload","afterPromises","initialPromises","naturalWidth","naturalHeight","notify","urlToBlob","blob","callbackImage","retryGetImage","fallbackRetry","timeout","new_value","image","zoomReset","max-height","merge","zoomIn","zoomOut","zoomExpand","defaultValues","ngSrc","CropArea","CropAreaCircle","_boxResizeBaseSize","_boxResizeNormalRatio","_boxResizeHoverRatio","_iconMoveNormalRatio","_iconMoveHoverRatio","_boxResizeNormalSize","_boxResizeHoverSize","_posDragStartX","_posDragStartY","_posResizeStartX","_posResizeStartY","_posResizeStartSize","_boxResizeIsHover","_areaIsHover","_boxResizeIsDragging","_areaIsDragging","_calcCirclePerimeterCoords","angleDegrees","hSize","_size","angleRadians","PI","_x","cos","_y","sin","_calcResizeIconCenterCoords","_isCoordWithinArea","coord","sqrt","_isCoordWithinBoxResize","resizeIconCenterCoords","_drawArea","ctx","centerCoords","arc","draw","_cropCanvas","drawIconMove","drawIconResizeBoxNESW","processMouseMove","mouseCurX","mouseCurY","res","_events","iFR","iFX","iFY","_minSize","_dontDragOutside","_ctx","canvas","processMouseDown","mouseDownX","mouseDownY","processMouseUp","CropAreaSquare","_resizeCtrlBaseRadius","_resizeCtrlNormalRatio","_resizeCtrlHoverRatio","_resizeCtrlNormalRadius","_resizeCtrlHoverRadius","_resizeCtrlIsHover","_resizeCtrlIsDragging","_calcSquareCorners","_calcSquareDimensions","squareDimensions","_isCoordWithinResizeCtrl","resizeIconsCenterCoords","len","rect","drawIconResizeCircle","xMulti","yMulti","wasSize","posModifier","hoveredResizeBox","isWithinResizeCtrl","CropCanvas","events","_image","getImage","setImage","getX","setX","x","getY","setY","y","getSize","setSize","getMinSize","setMinSize","drawCropArea","shapeArrowNW","shapeArrowNE","shapeArrowSW","shapeArrowSE","shapeArrowN","shapeArrowW","shapeArrowS","shapeArrowE","colors","calcPoint","point","scale","drawFilledPolygon","shape","fillStyle","save","beginPath","pc","pc0","moveTo","lineTo","fill","closePath","circleRadius","scaledCircleRadius","strokeStyle","lineWidth","stroke","drawIconResizeBoxBase","boxSize","scaledBoxSize","fillRect","strokeRect","drawIconResizeBoxNWSE","fnDrawClipPath","xRatio","yRatio","xLeft","yTop","clip","drawImage","ExifTags","Tags","36864","40960","40961","40962","40963","37121","37122","37500","37510","40964","36867","36868","37520","37521","37522","33434","33437","34850","34852","34855","34856","37377","37378","37379","37380","37381","37382","37383","37384","37385","37396","37386","41483","41484","41486","41487","41488","41492","41493","41495","41728","41729","41730","41985","41986","41987","41988","41989","41990","41991","41992","41993","41994","41995","41996","40965","42016","TiffTags","256","257","34665","34853","258","259","262","274","277","284","530","531","282","283","296","273","278","279","513","514","301","318","319","529","532","306","270","271","272","305","315","33432","GPSTags","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","StringValues","ExposureProgram","MeteringMode","255","LightSource","Flash","31","32","65","69","71","73","77","79","89","93","95","SensingMethod","SceneCaptureType","SceneType","CustomRendered","WhiteBalance","GainControl","Contrast","Saturation","Sharpness","SubjectDistanceRange","FileSource","Components","imageHasData","img","getImageData","handleBinaryFile","binFile","findEXIFinJPEG","iptcdata","dataView","DataView","byteLength","getUint8","nameHeaderLength","startOffset","sectionLength","getUint16","readIPTCData","findIPTCinJPEG","exifdata","base64","contentType","binary","atob","buffer","ArrayBuffer","view","Uint8Array","charCodeAt","base64ToArrayBuffer","fileReader","FileReader","readAsArrayBuffer","XMLHttpRequest","responseType","status","send","File","marker","readEXIFData","IptcFieldMap","120","110","55","80","85","122","105","116","fieldValue","fieldName","dataSize","segmentType","segmentStartPos","getInt16","getStringFromDB","readTags","tiffStart","dirStart","strings","bigEnd","entryOffset","tag","entries","tags","readTagValue","vals","n","numerator","denominator","numValues","getUint32","valueOffset","Number","getInt32","outstr","fromCharCode","exifData","gpsData","tiffOffset","firstIFDOffset","ExifIFDPointer","GPSInfoIFDPointer","getData","HTMLImageElement","complete","getTag","getAllTags","pretty","strPretty","readFromBinaryFile","cropEXIF","getElementOffset","docElem","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","elCanvas","opts","theArea","minCanvasDims","maxCanvasDims","resImgSize","resImgFormat","resImgQuality","drawScene","clearRect","resetCropHost","imageDims","imageRatio","canvasDims","margin-left","margin-top","getChangedTouches","isDefined","onMouseMove","onMouseDown","onMouseUp","getResultImageDataURI","temp_ctx","temp_canvas","getContext","toDataURL","setNewImageSource","imageSource","newImage","crossOrigin","orientation","cw","ch","cx","cy","deg","rotate","onerror","setMaxDimensions","curWidth","curHeight","ratioNewCurWidth","ratioNewCurHeight","ratioMin","setAreaMinSize","setResultImageSize","setResultImageFormat","setResultImageQuality","quality","setAreaType","curSize","curMinSize","curX","curY","AreaClass","off","names","handler","forEach","args","CropHost","CropPubSub","resultImage","changeOnFly","areaType","areaMinSize","resultImageSize","resultImageFormat","resultImageQuality","onChange","onLoadBegin","onLoadDone","onLoadError","storedResultImage","cropHost","updateResultImage","$dataURI","fnSafeApply","clientWidth","clientHeight","topCount","callbackFunction","counter","remoteSearchResults","remoteSearch","which","ngEnter","$event","blur","$q","$templateCache","disableSearch","multiple","valueAttr","labelAttr","limit","rtl","removeButton","softDelete","closeAfterSelection","selectInput","inputCtrl","selectCtrl","selectedValues","highlighted","Infinity","defaultsKey","getObjValue","setObjValue","optionValue","option","optionEquals","equals","map","optionToObject","dataset","fillWithHtml","tagName","updateSelected","initialize","filterOptions","updateValue","setInputWidth","scrollToHighlighted","resetInput","highlight","filteredOptions","unset","keydown","inOptions","measureWidth","styles","shadow","origin","$watchCollection","$pristine","$touched","focus","values","indexes","isDirty","isInvalid","el","dropdownItemTemplate","viewItemTemplate","tooltipsterOptions","tooltipster_default","maxWidth","contentAsHTML","functionReady","instance","helper","tooltipsterMenu","tooltipsterHtml","$parse","matchGetter","caselessGetter","matchCaseless","noMatchGetter","notMatch","matchIgnoreEmptyGetter","matchIgnoreEmpty","getMatchValue","$$parseAndValidate","$validators","modelValue","viewValue","matcher","lowercase","$viewValue","default_options","lineColor","displayValue","JsBarcode","$sce","diff","getPatchChanges","init_obj","mod_obj","shallow","isOwn","_mod_obj","fromJson","toJson","_diff","changed","op","b","equalObj","typeA","typeB","diffValue","equal","removed","added","valueDiff","getCurrentPosition","defered","defer","promise","geolocation","resolve","Latitude","coords","latitude","Longitude","longitude","accuracy","reject","checkLatLog","middlePoint","optionsSrc","From","Lat","To","lat1","lat2","lon1","dLon","lat3","atan2","lon3","deltaY","deltaX","angle","distance","distancePoints","lon2","asin","cutPrecision","arr","features","geometries","coordinates","processPoints","geometry","thisArg","google","maps","LatLng","Data","Point","getArray","g","generateGeoJSONCircle","center","radius","numSides","points","degreeStep","gpos","spherical","computeOffset","lng","lat","getLatLngLiteralArray","latLngArray","$log","Raven","RAVEN_CONFIG_DSN","install","exception","cause","captureException","RAVEN_SHOW_DIALOG","showReportDialog","SerImagePowered","$urlRouterProvider","$urlMatcherFactoryProvider","$compileProvider","$resourceProvider","$httpProvider","paramSerialize","stripTrailingSlashes","aHrefSanitizationWhitelist","rule","$injector","$location","GUID_REGEXP","encode","identity","decode","run","backHistory","history","back","bodyHeight","trustAsHtml"],"mappings":"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","file":"ser-ui.min.js","sourcesContent":["/**\n *\n *\tFile:\tjurlp.js\n *\n *\tTitle:\tJQuery URL parser.\n *\n * \tJQuery URL parser plugin for parsing, manipulating, filtering and monitoring URLs in href and src attributes within arbitrary elements (including document.location.href), as well as creating anchor elements from URLs found in HTML/text.\n *\n *\tAbout: Authors\n *\n *\tThomas James Bonner (tom.bonner@gmail.com).\n *\n *\tYonas Sandbk (seltar@gmail.com).\n *\n *\tAbout: Version\n *\n *\t1.0.4\n *\n *\tAbout: License\n *\n *\tCopyright (C) 2012, Thomas James Bonner (tom.bonner@gmail.com).\n *\n *\tMIT License:\n *\tPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n *\t- The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n *\n *\t- THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n **/ \n\n/**\n *\n *\tSection: URL overview.\n *\n *\tURL naming scheme:\n *\n *\tA quick quide to URL nomenclature in this plugin.\n *\n *\tThroughout this plugin, URLs are segmented and refered to in the following manner;\n *\n *\t> http://username:password@www.example.com:443/path/file.name?query=string#anchor\n *\t> |_____||______| |______| |_____________| |_||_____________||___________||_____|\n *\t>    |       |       |           |          |         |             |         |\n *\t> scheme   user   password      host       port      path         query   fragment\n *\t> |______________________________________________________________________________|\n *\t>                                        |\n *  >                                       url\n *\n *\tScheme:\n *\n *\tContains the protocol identifier (i.e. \"https://\", \"ftp://\").\n *\n *\tUser:\n *\n *\tConains the username to use when connecting to the host server. This segment may be empty.\n *\n *\tPassword:\n *\n *\tContains the password to use in conjunction with the username when connecting to the remote server. This segment may be empty (and cannot be set without a user name).\n *\n *\tHost:\n *\n *\tContains the name or IP address of the host server (i.e. \"www.example.com\", or \"127.0.0.1\").\n *\n *\tPort:\n *\n *\tContains the listening port number for the host server (i.e. \"80\", or \"8080\"). Note that an empty port value implies the default port (80).\n *\n *\tPath:\n *\n *\tContains the file path (i.e. \"/index.html\", or \"/\").\n *\n *\tQuery:\n *\n *\tContains any parameters passed in the query (i.e. \"?param1=value1&param2=value2\"). This segment may be empty.\n *\n *\tFragment:\n *\n *\tContains any anchors/hash tags (i.e. \"#elementname\"). This segment may be empty.\n *\n *\tSection: URL Objects\n *\n *\tURL object definition.\n *\n *\tFor the purposes of this plugin, URLs can be represented either as a string, for example \"http://www.example.com:8080/path/file.name?query=string#anchor\", or as an object;\n *\n *\t(start code)\n *\n *\t{\n *\t\tscheme: \"http://\"\n *\t\tuser: \"username\",\n *\t\tpassword: \"password\",\n *\t\thost: \"www.example.com\",\n *\t\tport: \"8080\",\n *\t\tpath: \"/path/file.name\",\n *\t\tquery: \"?query=string\",\n *\t\tfragment: \"#anchor\" \n *\t}\n *\n *\t(end code)\n *\n *\tTherefore, wherever URLs are supplied as a parameter to the plugin via the <url> or <proxy> methods, either a string or object representation or the URL may be supplied.\n *\n *\tURL objects that have been returned via the parser interface can easily be converted to a string by calling the objects toString() method. \n *\n *\tExample:\n *\n *\t(start code)\n *\n *\t// Parse the document.location.href URL, and convert it back to a string again.\n *\t$(document).jurlp(\"url\").toString();\n *\n *\t(end code)\n *\n */\n \n/**\n *\n *\tSection: Quick overview\n *\n *\tUseful example code.\n *\n *\t(start code)\n *\n *\t// Parse and set the element(s) URL\n *\t$(\"a\").jurlp(\"url\");\n *\t$(\"a\").jurlp(\"url\", \"http://www.example.com/\");\n *\t\n *\t// Get or set individual URL segments for the element(s)\n *\t$(\"a\").jurlp(\"scheme\");\n *\t$(\"a\").jurlp(\"scheme\", \"https://\");\n *\n *\t$(\"a\").jurlp(\"user\");\n *\t$(\"a\").jurlp(\"user\", \"username\");\n *\n *\t$(\"a\").jurlp(\"password\");\n *\t$(\"a\").jurlp(\"password\", \"password\");\n *\n *\t$(\"a\").jurlp(\"host\");\n *\t$(\"a\").jurlp(\"host\", \"www.example.com\");\n *\t\n *\t$(\"a\").jurlp(\"port\");\n *\t$(\"a\").jurlp(\"port\", \"8080\");\n *\t\n *\t$(\"a\").jurlp(\"path\");\n *\t$(\"a\").jurlp(\"path\", \"../file.name\");\n *\t\n *\t$(\"a\").jurlp(\"query\");\n *\t$(\"a\").jurlp(\"query\", {\"param\":\"value\"});\n *\t\n *\t$(\"a\").jurlp(\"fragment\");\n *\t$(\"a\").jurlp(\"fragment\", \"elementid\");\n *\t\n *\t// Filter on URL segments\n *\t$(\"a\").jurlp(\"filter\", \"scheme\", \"^=\", \"http\")\n *\t      .jurlp(\"filter\", \"user\", \"=\", \"user\")\n *\t      .jurlp(\"filter\", \"password\", \"=\", \"password\")\n *\t      .jurlp(\"filter\", \"host\", \"=\", \"www.example.com\")\n *\t      .jurlp(\"filter\", \"port\", \"!=\", \"8080\")\n *\t      .jurlp(\"filter\", \"path\", \"$=\", \".html\")\n *\t      .jurlp(\"filter\", \"query\", \"*=\", \"param=value\")\n *\t      .jurlp(\"filter\", \"fragment\", \"regex\", /(\\#)/);\n *\t\n *\t// Watch a selector for new nodes\n *\t$(\"a:eq(0)\").jurlp(\"watch\", function(element, selector){})\n *\t            .jurlp(\"filter\", \"host\", \"=\", \"www.example.com\")\n *\t            .jurlp(\"query\",{\"found\":\"example\"});\n *\t\n *\t$(\"body\").prepend(\"<a href='http://www.example.com/'></a>\");\n *\t\n *\t$(\"a:eq(0)\").jurlp(\"unwatch\");\n *\t\n *\t// Parse an element's text for URLs and create/return anchor elements\n *\t$(\"<div>www.example.com</div>\").jurlp();\n *\n *\t// Get an interface for parsing/manipulating the supplied URL\n *\turl = $.jurlp(\"http://www.example.com:80/path/file.name?param1=value1#fragment\");\n *\n *\t// Parse the URL to an object.\n *\turl.url();\n *\n *\t// Get the URL scheme.\n *\turl.scheme();\n *\n *\t// Get the URL user name.\n *\turl.user();\n *\n *\t// Get the URL password.\n *\turl.password();\n *\n *\t// Get the URL host.\n *\turl.host();\n *\n *\t// Get the URL port.\n *\turl.port();\n *\n *\t// Get the URL path.\n *\turl.path();\n *\n *\t// Get the URL query.\n *\turl.query();\n *\n *\t// Get a specific parameter value from the URL query.\n *\turl.query().param1;\n *\n *\t// Get the URL fragment.\n *\turl.fragment();\n *\n *\t// Set the full URL.\n *\turl.url(\"http://www.example.com:80/path/file.name?param1=value1#fragment\");\n *\n *\t// Set the URL scheme.\n *\turl.scheme(\"https://\");\n *\n *\t// Set the URL user name.\n *\turl.user(\"user\");\n *\n *\t// Set the URL password.\n *\turl.password(\"password\");\n *\n *\t// Set the URL host.\n *\turl.host(\"www.newexample.com\");\n *\n *\t// Set the URL port.\n *\turl.port(\"80\");\n *\n *\t// Set the URL path.\n *\turl.path(\"/newpath/newfile.file\");\n *\n *\t// Append to the URL path.\n *\turl.path(\"./newfile.file\");\n *\n *\t// Remove two path elements and append to the URL path.\n *\turl.path(\"../../newfile.file\");\n *\n *\t// Set the URL query.\n *\turl.query(\"?param=value\");\n *\n *\t// Append/modify the URL query (string or object)\n *\turl.query(\"param=value\");\n *\turl.query({\"param\":\"value\"});\n *\n *\t// Remove the URL query\n *\turl.query(\"\");\n *\turl.query({});\n *\n *\t// Set the URL fragment.\n *\turl.fragment(\"#newfragment\");\n *\n *\t(end code)\n *\n **/\n\n/**\n *\tSection: Parsing document.location.href\n *\n *\tParsing the document URL.\n *\n *\tThe document URL (document.location.href) can be parsed by specifying the HTML document element to the parser in the following manner;\n *\n *\t(start code)\n *\n *\t// Parse the document.location.href URL string into a URL object\n *\t$(document).jurlp(\"url\");\n *\n *\t(end code)\n *\n *\tSimilarly, the document URL can be modified by the plugin, but it is worth noting that changes will not be directly applied to document.location.href until <goto> is explicitly called on the element, and instead, a working copy of the URL is stored under the documents \"data-href\" attribute.\n *\n *\t(start code)\n *\n *\t// Does not modify document.location.href (updates $(document).data(\"href\"))\n *\t$(document).jurlp(\"url\", \"www.example.com\");\n *\n *\t// Does modify document.location.href (from $(document).data(\"href\"))\n *\t$(document).jurlp(\"goto\");\n *\n *\t(end code)\n *\n */\n \n/**\n *\tSection: Parsing elements with an \"href\" or \"src\" attribute.\n *\n *\tParsing \"href\" or \"src\" attributes.\n *\n *\tElements with an \"href\" or \"src\" attribute (i.e. <a href=\"\">, <base href=\"\">, <link href=\"\">, <img src=\"\">, <script src=\"\"> or <iframe src=\"\">), can be parsed by specifying the element(s) to the parser in the following manner;\n *\n *\t(start code)\n *\n *\t// Parse all anchor element URLs into an array\n *\t$(\"a\").jurlp(\"url\");\n *\n *\t(end code)\n *\n *\tAny modifications made to the URL will modify the relevant \"href\" or \"src\" attribute directly. If you want to visit the URL within an elements \"href\" or \"src\" attribute, it is possible to call <goto> on the element.\n *\n *\t(start code)\n *\n *\t// Directly set the first anchor elements URL, and then goto it!\n *\t$(\"a:eq(0)\").jurlp(\"url\", \"www.example.com\").jurlp(\"goto\");\n *\n *\t(end code)\n *\n */\n\n/**\n *\tSection: Parsing element text/HTML.\n *\n *\tParsing text/HTML for URLs.\n *\n *\tIt is possible for the URL parser to find URLs within text/HTML, and convert them into HTML anchor elements.\n *\n *\t(start code)\n *\n *\t// Parse the HTML for URLs, and convert all URLs found in the text to anchors.\n *\t$(\"<div>Here are URLs: www.example1.com, www.example2.com</div>\").jurlp();\n *\n *\t// HTML becomes:\n *\t<div>\n *\t\tHere are URLs: \n *\t\t<a href=\"http://www.example1.com/\" class=\"jurlp-no-watch\">www.example1.com</a>, \n *\t\t<a href=\"http://www.example2.com/\" class=\"jurlp-no-watch\">www.example2.com</a>\n *\t</div>\n *\t(end code)\n *\n **/\n \n/**\n *\tSection: Parsing URL strings directly.\n *\n *\tHow to directly parse, modify or monitor an arbitrary URL string.\n *\n *\t(start code)\n *\n *\t// Get an interface for parsing the document URL...\n *\tvar url = $.jurlp();\n *\n *\t// .. or get an interface for parsing your own URL.\n *\turl = $.jurlp(\"www.example.com\");\n *\n *\t// Parse the URL to an object.\n *\turl.url();\n *\n *\t// Get the URL scheme.\n *\turl.scheme();\n *\n *\t// Get the URL host.\n *\turl.host();\n *\n *\t// Get the URL port.\n *\turl.port();\n *\n *\t// Get the URL path.\n *\turl.path();\n *\n *\t// Get the URL query.\n *\turl.query();\n *\n *\t// Get a specific parameter value from the URL query.\n *\turl.query().parameter;\n *\n *\t// Get the URL fragment.\n *\turl.fragment();\n *\n *\t// Create a watch for new URLs that contain \"example.com\" in the host name\n *\tvar watch = $.jurlp(\"example.com\").watch(function(element, selector){\n *\t\tconsole.log(\"Found example.com URL!\", element, selector);\n *\t});\n *\n *\t// We can even apply filters to the watch to be sure!\n *\twatch.jurlp(\"filter\", \"host\", \"*=\", \"example.com\");\n *\n *\t// Append a new URL, which will trigger the watch\n *\t$(\"body\").append(\"<a href=\\\"www.example.com\\\"></a>\");\n *\n *\t// Stop watching for \"example.com\" URLs.\n *\twatch.jurlp(\"unwatch\");\n *\n *\t(end code)\n *\n */\n \n/**\n *\tSection: Unknown URLs.\n *\n *\tOverview of unknown URL parsing.\n *\n *\tUnknown scheme:\n *\n *\tThe parser will attempt to parse any type of URL it encounters based on its scheme. However, not all URLs are parsable, for example \"spotify:track:<trackid>\". In this case, the following URL object is returned;\n *\n *\t(start code)\n *\n *\t{\n *\t\tscheme: \"spotify:\",\n *\t\turl: \"track:<trackid>\"\n *\t}\n *\n *\t(end code)\n *\n *\tThe unknown URL object will always contain the scheme (if present), for filtering purposes, and also contains a toString() method, which will convert the URL object back to the original URL string.\n *\n *\tmailto:\n *\n *\t\"mailto:\" URLs are parsable in the same manner as a regular HTTP URL. For example, the following URL object is returned for a URL with a \"mailto:\" scheme;\n *\n *\t(start code)\n *\n *\t{\n *\t\tscheme: \"mailto:\"\n *\t\tuser: \"username\",\n *\t\tpassword: \"\",\n *\t\thost: \"www.example.com\",\n *\t\tport: \"\",\n *\t\tpath: \"\",\n *\t\tquery: \"?subject=subject&body=body\",\n *\t\tfragment: \"\" \n *\t}\n *\n *\t(end code)\n *\n *\tTherefore, \"mailto:\" URLs can be fully parsed using this parser, but note that it is not possible to set the password, port or fragment strings on a \"mailto:\" URL.\n *\n *\tjavascript:\n *\n *\t\"javascript\" URLs are parsable in the same manner as a regular HTTP URL. For example, the following URL object is returned for a URL with a \"javasrcipt:\" scheme;\n *\n *\t(start code)\n *\n *\t{\n *\t\tscheme: \"javascript:\"\n *\t\tuser: \"\",\n *\t\tpassword: \"\",\n *\t\thost: \"www.example.com\",\n *\t\tport: \"\",\n *\t\tpath: \"/\",\n *\t\tquery: \"\",\n *\t\tfragment: \"\",\n *\t\tjavascript: \"alert('!');\"\n *\t}\n *\n *\t(end code)\n *\n *\tTherefore, \"javascript:\" URLs can be fully parsed using this parser, but note that the current \"document.location.href\" will always be parsed/returned as the main URL object.\n *\n **/\n \n/**\n *\tSection: Operators.\n *\n *\tOverview of filter operators.\n *\n *\tThe following filter operators may be specified as the \"operator\" parameter to the <filter> method.\n *\n *\tURL filter operators:\n *\n *\t\"=\" - Equal to.\n *\t\"!=\" - Not equal to.\n *\t\"*=\" - Contains.\n *\t\"<\" - Less than. \n *\t\"<=\" - Less than or equal to.\n *\t\">\" - Greater than.\n *\t\">=\" - Greater than or equal to.\n *\t\"^=\" - Starts with.\n *\t\"$=\" - Ends with.\n *\t\"regex\" - Regular expression.\n *\n **/\n\n /**\n *\tSection: this parameter.\n *\n *\tWhere \"this\" is refered to as an argument to the method functions, it may be one of the following;\n *\n *\t- HTML document element.\n *\t- An array of 1 or more elements with a \"href\" or \"src\" attribute.\n *\t- A URL parser interface returned from $.jurlp().\n *\n **/\n\n(\n\tfunction ( $ )\n\t{\n\t\t/**\n\t\t *\n\t\t *\tRegular expression for parsing URLs.\n\t\t *\n\t\t *\tTaken from parseUri 1.2 (http://blog.stevenlevithan.com/archives/parseuri).\n\t\t *\n\t\t **/ \n\n\t\tvar urlRegEx = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\n\t\t/*\n\n\t\t\tGlobal object of watched selectors and their array of callstacks.\n\n\t\t*/ \n\n\t\tvar selectorCallStack = { };\n\n\t\t/*\n\n\t\t\tCurrently watched selector. ToDo: Remove this and use a better mechanism for selector tracking.\n\n\t\t*/\n\n\t\tvar currentSelector = \"\";\n\n\t\t/**\n\t\t *\n\t\t *\tSection: Internal functions.\n\t\t *\n\t\t *\tAll internal private functions.\n\t\t *\n\t\t *\tThis section contains all internal functions that perform the grunt work for the parser interface.\n\t\t *\n\t\t **/ \n\n\t\t/**\n\t\t *\n\t\t *\tFunction: initialiseElement\n\t\t *\n\t\t *\tInitialise an element for use with the URL parser.\n\t\t *\n\t\t *\tParameters: \n\t\t * \n\t\t *\tthis - The element to initialise. See <this parameter>.\n\t\t *\n\t\t **/ \n\n\t\tvar initialiseElement = function ( )\n\t\t{\n\t\t\t/* Attempt to retreive a href from the element */ \n\n\t\t\tvar href = getHref.apply ( this );\n\n\t\t\t/* Was a href found for the element? */ \n\n\t\t\tif ( href == \"\" )\n\t\t\t{\n\t\t\t\t/* Is the current element the document? */\n\n\t\t\t\tif ( this.get ( 0 ) == $( document ).get ( 0 ) )\n\t\t\t\t{\n\t\t\t\t\t/* Use the document href */ \n\n\t\t\t\t\thref = document.location.href;\n\t\t\t\t}\n\t\t\t\telse if ( this.is ( \"[href]\" ) )\n\t\t\t\t{\n\t\t\t\t\t/* Use the element href attribute */ \n\n\t\t\t\t\thref = this.attr ( \"href\" );\n\t\t\t\t}\n\t\t\t\telse if ( this.is ( \"[src]\" ) )\n\t\t\t\t{\n\t\t\t\t\t/* Use the element src attribute */ \n\n\t\t\t\t\thref = this.attr ( \"src\" );\n\t\t\t\t}\n\n\t\t\t\t/* Check the href is not empty so we don't initialise the \"data-href\" attribute on text elements (although maybe this is not wanted, as an empty href is technically the current page?). */ \n\n\t\t\t\tif ( href != \"\" )\n\t\t\t\t{\n\t\t\t\t\t/* Sanitise the URL */ \n\n\t\t\t\t\thref = sanitiseUrl ( href );\n\n\t\t\t\t\t/* Store the URL as a data attribute within the element */ \n\n\t\t\t\t\tthis.data ( \"href\", href );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: initialiseElementText\n\t\t *\n\t\t *\tInitialise an elements text field for use with the URL parser.\n\t\t *\n\t\t *\tParameters: \n\t\t * \n\t\t *\tthis - The element to initialise.\n\t\t *\n\t\t **/ \n\n\t\tvar initialiseElementText = function ( )\n\t\t{\n\t\t\t/* Is the current element not the document, and also does not contain a \"href\" attribute */ \n\n\t\t\tif ( this.get ( 0 ) != $( document ).get ( 0 ) && this.attr ( \"href\" ) == null && this.attr ( \"src\" ) == null )\n\t\t\t{\n\t\t\t\t/* Does the element contain anything? */ \n\n\t\t\t\tif ( this.html ( ) != null && this.hasClass ( \"jurlp-span\" ) == false )\n\t\t\t\t{\n\t\t\t\t\tvar urls = [ ];\n\t\t\t\t\tvar modifiedHtml = false;\n\t\t\t\t\tvar match = \"\";\n\n\t\t\t\t\t/* Regular expression for finding URLs in free text */ \n\n\t\t\t\t\tvar findUrlRegExp = /((((mailto|spotify|skype)\\:([a-zA-Z0-9\\.\\-\\:@\\?\\=\\%]*))|((ftp|git|irc|ircs|irc6|pop|rss|ssh|svn|udp|feed|imap|ldap|nntp|rtmp|sftp|snmp|xmpp|http|https|telnet|ventrilo|webcal|view\\-source)\\:[\\/]{2})?(([a-zA-Z0-9\\.\\-]+)\\:([a-zA-Z0-9\\.&;%\\$\\-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|localhost|([a-zA-Z0-9\\-]+\\.)*[a-zA-Z0-9\\-]+\\.(aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|[a-zA-Z]{2}))(\\:[0-9]+)*(\\/($|[a-zA-Z0-9\\.\\,\\?\\'\\\\\\+&;%\\$\\=~_\\-]+)?(#\\w*)?)*))/i;\n\n\t\t\t\t\t/* Store the elements HTML */ \n\n\t\t\t\t\tvar html = this.html ( );\n\n\t\t\t\t\t/* Attempt to locate URLs within the HTML */ \n\n\t\t\t\t\twhile ( match = findUrlRegExp.exec ( html ) )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Replace the URL with a unique ID */ \n\n\t\t\t\t\t\thtml = html.replace ( match [ 0 ], \"$\" + urls.length );\n\n\t\t\t\t\t\t/* Store the discovered URL */ \n\n\t\t\t\t\t\turls.push ( match [ 0 ] );\n\n\t\t\t\t\t\t/* Indicate that the HTML was modified */ \n\n\t\t\t\t\t\tmodifiedHtml = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Iterate through all discovered URLs */ \n\n\t\t\t\t\tfor ( var i = 0; i < urls.length; i++ )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Get the postion of the current URL ID */ \n\n\t\t\t\t\t\tvar pos = html.indexOf ( \"$\" + i );\n\n\t\t\t\t\t\t/* Get the possible attribute name */ \n\n\t\t\t\t\t\tvar attr = html.substring ( pos - 6, pos - 1 );\n\n\t\t\t\t\t\t/* Does the URL reside within an attribute (i.e. an existing tag) */ \n\n\t\t\t\t\t\tif ( attr == \"href=\" || attr == \" src=\" || html.substring ( pos - 1, pos ) == \">\" )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/* Replace the ID with the original URL (do not convert this URL to an anchor as it most likely is part of one) */ \n\n\t\t\t\t\t\t\thtml = html.replace ( \"$\" + i, urls [ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/* Replace the unique ID with an anchor tag */ \n\n\t\t\t\t\t\t\thtml = html.replace ( \"$\" + i, \"<a href=\\\"[url]\\\" class=\\\"jurlp-no-watch\\\">[url]</a>\".replace ( /\\[url\\]/g, urls [ i ] ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Did we change the HTML at all? */ \n\n\t\t\t\t\tif ( modifiedHtml != false )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Add a class on the parent element to indicate that we have modified it */ \n\n\t\t\t\t\t\tthis.addClass ( \"jurlp-span\" );\n\n\t\t\t\t\t\t/* Update the elements HTML */ \n\n\t\t\t\t\t\tthis.html ( html );\n\n\t\t\t\t\t\t/* Find and return all newly created anchor tags */ \n\n\t\t\t\t\t\treturn this.find ( \"a[href]\" ).each\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tfunction ( )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t/* Get the href attribute for the element */ \n\n\t\t\t\t\t\t\t\tvar href = getHref.apply ( $( this ) );\n\n\t\t\t\t\t\t\t\t/* Sanitise the URL and reset the elements href */ \n\n\t\t\t\t\t\t\t\tsetHref.apply ( $( this ), [ href ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/* No URLs found */ \n\n\t\t\treturn null;\n\t\t}\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: setAttrUrl\n\t\t *\n\t\t *\tGiven an element, and an attribute, set the attribute to the supplied URL, and created a backup of the original URL if not already done.\n\t\t *\n\t\t *\tNote, if the attribute doesn't exist, then it will not be created.\n\t\t *\n\t\t *\tParameters: \n\t\t * \n\t\t *\tthis - The element to set the attribute URL on.\n\t\t *\n\t\t *\tattr - The name of the attribute to set.\n\t\t *\n\t\t *\turl - The value of the attributes URL.\n\t\t *\n\t\t **/ \n\n\t\tvar setAttrUrl = function ( attr, url )\n\t\t{\n\t\t\t/* Is the attribute present on this element? */ \n\n\t\t\tif ( this.is ( \"[\" + attr + \"]\" ) != false )\n\t\t\t{\n\t\t\t\t/* Has a copy of the original attribute been stored? */ \n\n\t\t\t\tif ( this.data ( \"original-\" + attr ) == null )\n\t\t\t\t{\n\t\t\t\t\t/* Store a copy of the original attribute */ \n\n\t\t\t\t\tthis.data ( \"original-\" + attr, this.attr ( attr ) );\n\t\t\t\t}\n\n\t\t\t\t/* Update the elements attribute */ \n\n\t\t\t\tthis.attr ( attr, url );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: restoreAttrUrl\n\t\t *\n\t\t *\tGiven an element, and an attribute, then restore the URL attribute value to its original value.\n\t\t *\n\t\t *\tParameters: \n\t\t * \n\t\t *\tthis - The element to restore the attribute URL on.\n\t\t *\n\t\t *\tattr - The name of the attribute to restore.\n\t\t *\n\t\t **/ \n\n\t\tvar restoreAttrUrl = function ( attr )\n\t\t{\n\t\t\t/* Was a backup of the original attribute URL made? */ \n\n\t\t\tif ( this.data ( \"original-\" + attr ) != null )\n\t\t\t{\n\t\t\t\t/* Restore the attribute URL */ \n\n\t\t\t\tthis.attr ( attr, this.data ( \"original-\" + attr ) );\n\n\t\t\t\t/* Remove the original URL */ \n\n\t\t\t\tthis.removeData ( \"original-\" + attr );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: restoreElement\n\t\t *\n\t\t *\tDestroys any data associated with an element that has previously been initialised for use with the URL parser, and restores the elements \"href\" or \"src\" attribute (if any) to its original value.\n\t\t *\n\t\t *\tParameters: \n\t\t * \n\t\t *\tthis - The element to destroy.\n\t\t *\n\t\t **/ \n\n\t\tvar restoreElement = function ( )\n\t\t{\n\t\t\t/* Remove the working href URL */ \n\n\t\t\tthis.removeData ( \"href\" );\n\n\t\t\t/* Restore the href attribute */ \n\n\t\t\trestoreAttrUrl.apply ( this, [ \"href\" ] );\n\n\t\t\t/* Restore the src attribute */ \n\n\t\t\trestoreAttrUrl.apply ( this, [ \"src\" ] );\n\n\t\t\t/* Remove any watch attributes */ \n\n\t\t\tthis.removeData ( \"jurlp-no-watch\" );\n\t\t\tthis.removeData ( \"is-watched\" );\n\n\t\t\t/* clean up selector callstack and unbind */ \n\n\t\t\tmethods.unwatch.apply ( this );\n\t\t}\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: getHref\n\t\t *\n\t\t *\tGet the href URL for the element. Prioritises internal objects href, over \"data-href\", over \"href\", over \"src\" attributes.\n\t\t *\n\t\t *\tParameters: \n\t\t * \n\t\t *\tthis - The element to retieve the URL value from.\n\t\t *\n\t\t **/ \n\n\t\tvar getHref = function ( )\n\t\t{\n\t\t\treturn this.href || this.data ( \"href\" ) || this.attr ( \"href\" ) || this.attr ( \"src\" ) || \"\";\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: updateHref\n\t\t *\n\t\t *\tUpdate a segment of the elements href URL.\n\t\t *\n\t\t *\tParameters: \n\t\t * \n\t\t *\tthis - The element to update the URL value on.\n\t\t *\n\t\t *\tsegment - The segment to update (\"scheme\", \"host\", \"port\", \"path\", \"query\" or \"fragment\").\n\t\t *\n\t\t *\tvalue - The new value for the segment.\n\t\t *\n\t\t **/ \n\n\t\tvar updateHref = function ( segment, value )\n\t\t{\n\t\t\tsetHref.apply ( this, [ setUrlSegment ( getHref.apply ( this ), segment, value ) ] );\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: updateHrefShim\n\t\t *\n\t\t *\tShim function for reorganising parameters before calling updateHref(). Called via the each callback.\n\t\t *\n\t\t *\tParameters: \n\t\t * \n\t\t *\tthis - The element to update the URL value on.\n\t\t *\n\t\t *\tparameters - Array containing segment and value parameters for updateHref().\n\t\t *\n\t\t **/ \n\n\t\tvar updateHrefShim = function ( parameters )\n\t\t{\n\t\t\tupdateHref.apply ( this, [ parameters [ 0 ], parameters [ 1 ] ] );\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: setHref\n\t\t *\n\t\t *\tSets the href URL value for an element.\n\t\t *\n\t\t *\tParameters: \n\t\t * \n\t\t *\tthis - The element to set the URL value on.\n\t\t *\n\t\t *\turl - The new url (string) value.\n\t\t *\n\t\t **/ \n\n\t\tvar setHref = function ( url )\n\t\t{\n\t\t\t/* Ensure the supplied URL is a string */ \n\n\t\t\tif ( typeof url == \"object\" )\n\t\t\t{\n\t\t\t\turl = objectToUrl ( url );\n\t\t\t}\n\n\t\t\t/* Sanitise the URL - slow and horrible :( */ \n\n\t\t\turl = sanitiseUrl ( url );\n\n\t\t\tif ( this.href != null )\n\t\t\t{\n\t\t\t\tthis.href = url;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/* Is the current element the document? */ \n\n\t\t\tif ( this.get ( 0 ) == $( document ).get ( 0 ) )\n\t\t\t{\n\t\t\t\t/* Current element is the document. Save the href under a data attribute. */\n\n\t\t\t\tthis.data ( \"href\", url );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/* Update href URL (if present) */ \n\n\t\t\t\tsetAttrUrl.apply ( this, [ \"href\", url ] );\n\n\t\t\t\t/* Update src URL (if present) */ \n\n\t\t\t\tsetAttrUrl.apply ( this, [ \"src\", url ] );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: urlToObject\n\t\t *\n\t\t *\tParse a URL into segments using the DOM. Parses authority information from the URL using parseUri (http://blog.stevenlevithan.com/archives/parseuri).\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - URL String to parse.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tURL object.\n\t\t *\n\t\t **/ \n\n\t\tvar urlToObject = function ( url )\n\t\t{\n\t\t\t/* Was a null URL supplied? */ \n\n\t\t\tif ( url == null )\n\t\t\t{\n\t\t\t\t/* Return an empty object */ \n\n\t\t\t\treturn { scheme : \"\", user : \"\", password : \"\", host : \"\", port : \"\", path : \"\", query : \"\", fragment : \"\" };\n\t\t\t}\n\n\t\t\tvar credentials = { user : \"\", password : \"\" };\n\n\t\t\tif ( url.substring ( 0, 2 ) == \"//\" )\n\t\t\t{\n\t\t\t\turl = \"http:\" + url;\n\t\t\t}\n\n\t\t\t/* If a URL is supplied, ensure a protocol is specified, otherwise the parser will assume that the supplied host is the path */ \n\n\t\t\tif ( url != \"\" && url.indexOf ( \"://\" ) == -1 )\n\t\t\t{\n\t\t\t\turl = \"http://\" + url;\n\t\t\t}\n\n\t\t\t/* Does the URL contain authority information? */ \n\n\t\t\tif ( url.indexOf ( \"@\" ) != -1 )\n\t\t\t{\n\t\t\t\t/* Parse the URL using regex */ \n\n\t\t\t\tvar urlSegments = url.match ( urlRegEx );\n\n\t\t\t\t/* Was a username found? */ \n\n\t\t\t\tif ( urlSegments [ 4 ] )\n\t\t\t\t{\n\t\t\t\t\tcredentials.user = urlSegments [ 4 ];\n\t\t\t\t}\n\n\t\t\t\t/* Was a password found? */ \n\n\t\t\t\tif ( urlSegments [ 5 ] )\n\t\t\t\t{\n\t\t\t\t\tcredentials.password = urlSegments [ 5 ];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/* Construct a new anchor element based on the supplied URL */ \n\n\t\t\tvar a = document.createElement ( \"a\" );\n\n\t\t\t/* Set the anchor href to the URL to parse (let the browser do (most of) the parsing) */ \n\n\t\t\ta.href = url;\n\n\t\t\t/* Under IE, an anchor element containing a username and password is inaccessible, so we will probe \"a.protocol\" to test if we have access */ \n\n\t\t\ttry\n\t\t\t{\n\t\t\t\t/* Check if the element is accessible */ \n\n\t\t\t\tvar accessible = a.protocol;\n\t\t\t}\n\t\t\tcatch ( err )\n\t\t\t{\n\t\t\t\t/* MSIE: A security problem occurred. (cannot access the anchor element) */ \n\n\t\t\t\tif ( err.number == -2146697202 )\n\t\t\t\t{\n\t\t\t\t\t/* IE hack!.. strip the username and password from the URL, and reparse */ \n\n\t\t\t\t\tvar authority = \"\";\n\n\t\t\t\t\t/* Were credentials found in the URL? */ \n\n\t\t\t\t\tif ( credentials.user != \"\" )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Build string containing the username and password to strip from the URL */ \n\n\t\t\t\t\t\tauthority += credentials.user;\n\n\t\t\t\t\t\tif ( credentials.password != \"\" )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tauthority += \":\" + credentials.password;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tauthority += \"@\";\n\n\t\t\t\t\t\t/* Strip the username and password from the URL and set the anchor href (this could in theory be done for all browsers) */ \n\n\t\t\t\t\t\ta.href = url.replace ( authority, \"\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/* Sanitise the protocol string */ \n\n\t\t\tvar protocol = a.protocol;\n\n\t\t\tif ( a.protocol.indexOf ( \"//\" ) == -1 )\n\t\t\t{\n\t\t\t\tprotocol += \"//\";\n\t\t\t}\n\n\t\t\t/* Sanitise the path string */ \n\n\t\t\tvar pathname = a.pathname;\n\n\t\t\tif ( pathname [ 0 ] != \"/\" )\n\t\t\t{\n\t\t\t\tpathname = \"/\" + pathname;\n\t\t\t}\n\n\t\t\t/* Ensure the port value is a string */ \n\n\t\t\tvar port = a.port + \"\";\n\n\t\t\t/* Strip of default port numbers if added, and not present in the original URL */ \n\n\t\t\tif ( ( port == \"21\" && url.indexOf ( \":21\" ) == -1 ) || ( port == \"80\" && url.indexOf ( \":80\" ) == -1 ) || ( port == \"443\" && url.indexOf ( \":443\" ) == -1 ) || port == \"0\" )\n\t\t\t{\n\t\t\t\tport = \"\";\n\t\t\t}\n\n\t\t\t/* Return the URL object, based on the URL information for the newly created anchor element contained in the DOM */ \n\n\t\t\treturn { scheme : protocol, user : credentials.user, password : credentials.password, host : a.hostname, port : port, path : pathname, query : a.search, fragment : a.hash };\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: objectToUrl\n\t\t *\n\t\t *\tConvert a URL object to a string.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - The URL object to convert.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tURL string.\n\t\t *\n\t\t **/ \n\n\t\tvar objectToUrl = function ( url )\n\t\t{\n\t\t\t/* Build URL string, starting with the scheme */ \n\n\t\t\tvar urlString = url.scheme;\n\n\t\t\t/* Was a username specified? */ \n\n\t\t\tif ( url.user != null && url.user != \"\" )\n\t\t\t{\n\t\t\t\t/* Insert the username */ \n\n\t\t\t\turlString += url.user;\n\n\t\t\t\t/* Was a password also specified? */ \n\n\t\t\t\tif ( url.password != null && url.password != \"\" )\n\t\t\t\t{\n\t\t\t\t\turlString += \":\" + url.password;\n\t\t\t\t}\n\n\t\t\t\t/* Insert authority/host seperator */ \n\n\t\t\t\turlString += \"@\";\n\t\t\t}\n\n\t\t\t/* Glue the remainder of the URL together (only including the port if explicitly specified) */ \n\n\t\t\treturn urlString + url.host + ( url.port != \"\" ? \":\" + url.port : \"\" ) + url.path + url.query + url.fragment;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: sanitiseUrl\n\t\t *\n\t\t *\tSanitise a URL. Creates a fully qualified URL by converting it from a string to a DOM element and back to a string again.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - The URL to sanitise.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe sanitised URL string.\n\t\t *\n\t\t **/ \n\n\t\tvar sanitiseUrl = function ( url )\n\t\t{\n\t\t\treturn uri.parse ( url ).toString ( );\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: urlObjectToString\n\t\t *\n\t\t *\tConverts a URL object to a string (used to override toString for URL objects).\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\tthis - The URL object to convert to a string.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe URL string.\n\t\t *\n\t\t **/ \n\n\t\tvar urlObjectToString = function ( )\n\t\t{\n\t\t\treturn objectToUrl ( this );\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: setUrlSegment\n\t\t *\n\t\t *\tSet the value of a segment within a URL string.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - The URL to modify.\n\t\t *\n\t\t *\tsegment - The segment of the URL to modify (\"scheme\", \"host\", \"port\", \"path\", \"query\" or \"fragment\").\n\t\t *\n\t\t *\tvalue - The new segment value.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe URL string containing the update segment.\n\t\t *\n\t\t **/ \n\n\t\tvar setUrlSegment = function ( url, segment, value )\n\t\t{\n\t\t\t/* Convert the URL to an object */ \n\n\t\t\tvar urlObject = uri.parse ( url );\n\n\t\t\t/* Update the URL segment */ \n\n\t\t\turlObject [ segment ] = value;\n\n\t\t\t/* Convert the URL object back to a string */ \n\n\t\t\treturn objectToUrl ( urlObject );\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: getUrlObject\n\t\t *\n\t\t *\tConvert a URL string to an object, if not already. Used to ensure we always work with URL objects where either a string or object can be supplied.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - URL string or object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tURL object.\n\t\t *\n\t\t **/ \n\n\t\tvar getUrlObject = function ( url )\n\t\t{\n\t\t\t/* Is the URL a string? */ \n\n\t\t\tif ( typeof url == \"string\" )\n\t\t\t{\n\t\t\t\t/* Return the URL string converted to an object */ \n\n\t\t\t\treturn uri.parse ( url );\n\t\t\t}\n\n\t\t\t/* Return the URL object */ \n\n\t\t\treturn url;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: getFragmentString\n\t\t *\n\t\t *\tRetrieve the fragment string for a given URL.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - URL string or object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe fragment string.\n\t\t *\n\t\t **/ \n\n\t\tvar getFragmentString = function ( url )\n\t\t{\n\t\t\treturn getUrlObject ( url ).fragment;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: getQueryString\n\t\t *\n\t\t *\tRetrieve the query string for a given URL.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - URL string or object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe query string.\n\t\t *\n\t\t **/ \n\n\t\tvar getQueryString = function ( url )\n\t\t{\n\t\t\t/* Get the query string from the URL object */ \n\n\t\t\tvar query = getUrlObject ( url ).query;\n\n\t\t\t/* Anything?`*/ \n\n\t\t\tif ( query [ 0 ] == \"?\" )\n\t\t\t{\n\t\t\t\t/* Strip the leading \"?\" (makes .split() happy later) */ \n\n\t\t\t\treturn query.slice ( 1 );\n\t\t\t}\n\n\t\t\t/* Return the (probably not very valid?) query */ \n\n\t\t\treturn query;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: updateQuery\n\t\t *\n\t\t *\tUpdate the query string for the elements URL.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\tthis - The element to set the new query string on.\n\t\t *\n\t\t *\tquery - New query object.\n\t\t *\n\t\t **/ \n\n\t\tvar updateQuery = function ( query )\n\t\t{\n\t\t\tvar queryObject = { };\n\n\t\t\t/* Get the query object for the current URL */ \n\n\t\t\tvar currentQueryObject = getQueryObject ( getHref.apply ( this ) );\n\n\t\t\t/* Was a string supplied as the parameter? */ \n\n\t\t\tif ( typeof query == \"string\" )\n\t\t\t{\n\t\t\t\t/* If the first character is a \"?\", then replace the whole query string */ \n\n\t\t\t\tif ( query [ 0 ] == \"?\" )\n\t\t\t\t{\n\t\t\t\t\t/* Trash the existing query object */ \n\n\t\t\t\t\tcurrentQueryObject = { };\n\n\t\t\t\t\t/* Strip the leading question mark */ \n\n\t\t\t\t\tquery = query.substring ( 1 );\n\t\t\t\t}\n\n\t\t\t\t/* Convert the supplied query string to an object */ \n\n\t\t\t\tqueryObject = queryStringToObject ( query );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tqueryObject = query;\n\t\t\t}\n\n\t\t\t/* Did the supplied query object contain parameters? */ \n\n\t\t\tif ( $.isEmptyObject ( queryObject ) == false )\n\t\t\t{\n\t\t\t\t/* Extend the existing query object with the new query object */ \n\n\t\t\t\tqueryObject = $.extend ( currentQueryObject, queryObject );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t/* An empty query object was supplied, so null the query string */ \n\n\t\t\t\tcurrentQueryObject = { };\n\t\t\t}\n\n\t\t\t/* Convert the query object to a string, and update the URL query string */ \n\n\t\t\tupdateHref.apply ( this, [ \"query\", queryObjectToString.apply ( queryObject ) ] );\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: queryStringToObject\n\t\t *\n\t\t *\tConvert a query string to an object.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\tquery - Query string to convert to an object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe query object.\n\t\t *\n\t\t **/ \n\n\t\tvar queryStringToObject = function ( query )\n\t\t{\n\t\t\tvar object = { };\n\n\t\t\t/* Was a query string supplied? */ \n\n\t\t\tif ( query != \"\" )\n\t\t\t{\n\t\t\t\t/* Get all elements of the query string (\"&name=value\") */ \n\n\t\t\t\tvar elements = query.split ( \"&\" );\n\n\t\t\t\t/* Create the query object */ \n\n\t\t\t\tfor ( var i = 0; i < elements.length; i++ )\n\t\t\t\t{\n\t\t\t\t\t/* Retrieve the parameter name and value from the string \"name=value\" */ \n\n\t\t\t\t\tvar parameter = elements [ i ].split ( \"=\" );\n\n\t\t\t\t\t/* Add the parameter to the query object */ \n\n\t\t\t\t\tobject [ parameter [ 0 ] ] = parameter [ 1 ];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/* Return the query object */ \n\n\t\t\treturn object;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: getQueryObject\n\t\t *\n\t\t *\tRetrieve the query object for a given URL.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - URL string or object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe query object.\n\t\t *\n\t\t **/ \n\n\t\tvar getQueryObject = function ( url )\n\t\t{\n\t\t\t/* Get the query string from the URL and convert it to an object */ \n\n\t\t\treturn queryStringToObject ( getQueryString ( url ) );\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: queryObjectToString\n\t\t *\n\t\t *\tQuery objects toString method.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\tthis - Query object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe query string.\n\t\t *\n\t\t **/ \n\n\t\tvar queryObjectToString = function ( )\n\t\t{\n\t\t\tvar string = \"\";\n\n\t\t\t/* For each item in the query string */ \n\n\t\t\tfor ( var i in this )\n\t\t\t{\n\t\t\t\t/* Ensure that it contains valid data */ \n\n\t\t\t\tif ( i != \"toString\" && this [ i ] != null )\n\t\t\t\t{\n\t\t\t\t\tstring += \"&\" + i + \"=\" + this [ i ];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/* Anything? */ \n\n\t\t\tif ( string [ 0 ] == \"&\" )\n\t\t\t{\n\t\t\t\t/* Return the query string (replacing the first \"&\" character with a \"?\" character. */ \n\n\t\t\t\tstring = \"?\" + string.slice ( 1 );\n\t\t\t}\n \n\t\t\t/* Empty query string */ \n\n\t\t\treturn string;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: getPathString\n\t\t *\n\t\t *\tRetrieve the path string for a given URL.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - URL string or object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe path string.\n\t\t *\n\t\t **/ \n\n\t\tvar getPathString = function ( url )\n\t\t{\n\t\t\t/* Get the path string from the URL object */ \n\n\t\t\tvar path = getUrlObject ( url ).path;\n\n\t\t\t/* Ensure the path starts with a leading slash */ \n\n\t\t\tif ( path [ 0 ] == \"/\" )\n\t\t\t{\n\t\t\t\t/* Strip the leading slash from the path */ \n\n\t\t\t\treturn path.slice ( 1 );\n\t\t\t}\n\n\t\t\t/* Empty or malformed path */ \n\n\t\t\treturn path;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: getPathObject\n\t\t *\n\t\t *\tRetrieve the path object for a given URL.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - URL string or object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe path obbject.\n\t\t *\n\t\t **/ \n\n\t\tvar getPathObject = function ( url )\n\t\t{\n\t\t\t/* Get the path string from the URL object (without leading slash) */ \n\n\t\t\tvar pathString = getPathString ( url );\n\n\t\t\t/* Anything? */ \n\n\t\t\tif ( pathString != \"\" )\n\t\t\t{\n\t\t\t\t/* Create the path object */ \n\n\t\t\t\treturn pathString.split ( \"/\" );\n\t\t\t}\n\n\t\t\t/* No path specified */ \n\n\t\t\treturn [ ];\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: updatePath\n\t\t *\n\t\t *\tUpdate the path string for the elements URL.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\tthis - The element to set the new path string on.\n\t\t *\n\t\t *\tpath - New path object.\n\t\t *\n\t\t **/ \n\n\t\tvar updatePath = function ( path )\n\t\t{\n\t\t\tvar pathString = \"\";\n\n\t\t\t/* Get an array of existing path elements */ \n\n\t\t\tvar pathArray = getUrlObject ( getHref.apply ( this ) ).path.split ( \"/\" );\n\n\t\t\t/* Get an array of new path elements */ \n\n\t\t\tvar newPathArray = path.split ( \"/\" );\n\t\t\tvar i = 0;\n\n\t\t\t/* Was the first character a \"/\"? */ \n\n\t\t\tif ( newPathArray [ 0 ] == \"\" )\n\t\t\t{\n\t\t\t\t/* Truncate the existing path */ \n\n\t\t\t\tpathArray = [ ];\n\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\t/* Remove the initial empty path element */ \n\n\t\t\tpathArray.splice ( 0, 1 );\n\n\t\t\t/* Iterate through all new path elements */ \n\n\t\t\tfor ( var l = newPathArray.length; i < l; i++ )\n\t\t\t{\n\t\t\t\t/* Remove an old path element? */ \n\n\t\t\t\tif ( newPathArray [ i ] == \"..\" )\n\t\t\t\t{\n\t\t\t\t\t/* Remove the element from the path array */ \n\n\t\t\t\t\tif ( pathArray.length > 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tpathArray.splice ( pathArray.length - 1, 1 );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if ( newPathArray [ i ] == \".\" )\n\t\t\t\t{\n\t\t\t\t\t/* Current directory */ \n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t/* Include the new path element */ \n\n\t\t\t\t\tpathArray.push ( newPathArray [ i ] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/* Update the path string */ \n\n\t\t\tupdateHref.apply ( this, [ \"path\", pathObjectToString.apply ( pathArray ) ] );\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: pathObjectToString\n\t\t *\n\t\t *\tPath objects toString method.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\tthis - Path object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe path string.\n\t\t *\n\t\t **/ \n\n\t\tvar pathObjectToString = function ( )\n\t\t{\n\t\t\t/* Are there any path elements? */ \n\n\t\t\tif ( this.length > 0 )\n\t\t\t{\n\t\t\t\t/* Join all elements with a \"/\", and return the leading path slash again */ \n\n\t\t\t\treturn \"/\" + this.join ( \"/\" );\n\t\t\t}\n\n\t\t\t/* No path */ \n\n\t\t\treturn \"/\";\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: getPortString\n\t\t *\n\t\t *\tRetrieve the port string for a given URL.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - URL string or object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe port string.\n\t\t *\n\t\t **/ \n\n\t\tvar getPortString = function ( url )\n\t\t{\n\t\t\treturn getUrlObject ( url ).port;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: getHostString\n\t\t *\n\t\t *\tRetrieve the host string for a given URL.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - URL string or object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe host string.\n\t\t *\n\t\t **/ \n\n\t\tvar getHostString = function ( url )\n\t\t{\n\t\t\treturn getUrlObject ( url ).host;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: getPasswordString\n\t\t *\n\t\t *\tRetrieve the password string for a given URL.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - URL string or object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe password string.\n\t\t *\n\t\t **/ \n\n\t\tvar getPasswordString = function ( url )\n\t\t{\n\t\t\treturn getUrlObject ( url ).password;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: getUserString\n\t\t *\n\t\t *\tRetrieve the user string for a given URL.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - URL string or object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe user string.\n\t\t *\n\t\t **/ \n\n\t\tvar getUserString = function ( url )\n\t\t{\n\t\t\treturn getUrlObject ( url ).user;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: getSchemeString\n\t\t *\n\t\t *\tRetrieve the scheme string for a given URL.\n\t\t *\n\t\t *\tParameters: \n\t\t *\n\t\t *\turl - URL string or object.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe scheme string.\n\t\t *\n\t\t **/ \n\n\t\tvar getSchemeString = function ( url )\n\t\t{\n\t\t\treturn getUrlObject ( url ).scheme;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: addSelectorCallback\n\t\t *\n\t\t *\tAdd a function the selector callstack.\n\t\t *\n\t\t **/ \n\n\t\tvar addSelectorCallback = function ( element, callback, parameters )\n\t\t{\n\t\t\tif ( element.data ( \"is-watched\" ) == true )\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( selectorCallStack [ currentSelector ] )\n\t\t\t{\n\t\t\t\tselectorCallStack [ currentSelector ].push ( [ callback, parameters ] );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: returnEachElement\n\t\t *\n\t\t *\tApply the callback for each element in this. Used for methods that return elements.\n\t\t *\n\t\t *\tParameters:\n\t\t *\n\t\t *\tthis Array of elements to iterate through.\n\t\t *\n\t\t *\tcallback Function to call for each element found.\n\t\t *\n\t\t *\tparameters Callback function parameters (array).\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tArray of elements.\n\t\t *\n\t\t **/ \n\n\t\tvar returnEachElement = function ( callback, parameters )\n\t\t{\n\t\t\t/* Is this an object, containing an href member? */ \n\n\t\t\tif ( this.href != null )\n\t\t\t{\n\t\t\t\t/* Issue the callback */ \n\n\t\t\t\tcallback.apply ( this, [ parameters ] );\n\n\t\t\t\t/* Return the object (for chaining purposes) */ \n\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t/* Add this function and parameters to the watch selector callstack (if watched) */ \n\n\t\t\taddSelectorCallback ( this, callback, [ parameters ] );\n\n\t\t\t/* Return all elements, after applying the callback */ \n\n\t\t\treturn this.each\n\t\t\t(\n\t\t\t\tfunction ( )\n\t\t\t\t{\n\t\t\t\t\tcallback.apply ( $( this ), [ parameters ] );\n\t\t\t\t}\n\t\t\t);\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: returnEachObject\n\t\t *\n\t\t *\tApply the callback for each element in this, and buffer return codes. Used for methods that return data.\n\t\t *\n\t\t *\tParameters:\n\t\t *\n\t\t *\tthis Array of elements to iterate through.\n\t\t *\n\t\t *\tcallback Function to call for each element found.\n\t\t *\n\t\t *\tparameters Callback function parameters (array).\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tArray of return codes.\n\t\t *\n\t\t **/ \n\n\t\tvar returnEachObject = function ( callback, parameters )\n\t\t{\n\t\t\tif ( this.href != null )\n\t\t\t{\n\t\t\t\treturn callback.apply ( this, [ parameters ] );\n\t\t\t}\n\n\t\t\tvar result = [ ];\n\n\t\t\t/* Build and return an array of each elements callback results */ \n\n\t\t\tthis.each\n\t\t\t(\n\t\t\t\tfunction ( )\n\t\t\t\t{\n\t\t\t\t\tresult.push ( callback.apply ( $( this ), [ parameters ] ) );\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn result;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: dispatchGetSetHelper\n\t\t *\n\t\t *\tDispatch to get or set helper functions depending on the arguments supplied.\n\t\t *\n\t\t *\tIf no user arguments are supplied, perform the get, ortherwise perform the set with the user arguments.\n\t\t *\n\t\t *\tParameters:\n\t\t *\n\t\t *\tgetHelper - Get URL data callback.\n\t\t *\n\t\t *\tsetHelper - Set URL data callback.\n\t\t *\n\t\t *\thelperArguments - User arguments supplied to the public interface.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tget/setHelper() return code.\n\t\t *\n\t\t **/ \n\n\t\tvar dispatchGetSetHelper = function ( getHelper, setHelper, helperArguments )\n\t\t{\n\t\t\tif ( helperArguments.length == 0 )\n\t\t\t{\n\t\t\t\treturn getHelper.apply ( this )\n\t\t\t}\n\t\t\t\n\t\t\treturn setHelper.apply ( this, helperArguments )\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tFunction: methodDispatcher\n\t\t *\n\t\t *\tMain method dispatcher for the public interface.\n\t\t *\n\t\t *\tParameters: method\n\t\t *\n\t\t *\tmethod - The method to perform.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tArray of method handler results (either elements for set/filter methods, or strings/objects for get methods).\n\t\t *\n\t\t */ \n\n\t\tvar methodDispatcher = function ( method )\n\t\t{\n\t\t\t/* Is the method name valid */ \n\n\t\t\tif ( methods [ method ] != null )\n\t\t\t{\n\t\t\t\t/* Dispatch to the method handler */ \n\n\t\t\t\treturn methods [ method ].apply ( this, Array.prototype.slice.call ( arguments, 1 ) );\n\t\t\t}\n\t\t\telse if ( typeof method == \"object\" || method == null )\n\t\t\t{\n\t\t\t\t/* No method, or an object was supplied, initialise the element(s) */ \n\n\t\t\t\treturn methods.initialise.apply ( this, Array.prototype.slice.call ( arguments, 1 ) );\n\t\t\t}\n\n\t\t\t/* Invalid method/parameters */ \n\n\t\t\treturn this;\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tSection: URI parser interface.\n\t\t *\n\t\t *\tAll URI parsing is handled through this interface.\n\t\t *\n\t\t *\tThis section contains all parser interfaces utilised by the public parser interface.\n\t\t *\n\t\t *\tToDo: Extend this interface with the current URL segment parsing logic, and implement a more comprehensive URI parser set.\n\t\t *\n\t\t *\tSee http://en.wikipedia.org/wiki/URI_scheme for an overview of URIs.\n\t\t *\n\t\t **/ \n\n\t\tvar uri =\n\t\t{\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tAll URI object to string methods.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\ttoString :\n\t\t\t{\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: uri.toString.http\n\t\t\t\t *\n\t\t\t\t *\tConverts a URI object with an \"http\" scheme to a string.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"http\" : function ( )\n\t\t\t\t{\n\t\t\t\t\treturn objectToUrl ( this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: uri.toString.mailto\n\t\t\t\t *\n\t\t\t\t *\tConverts a URI object with a \"mailto:\" scheme to a string.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"mailto\" : function ( )\n\t\t\t\t{\n\t\t\t\t\t/* Blank invalid fields */ \n\n\t\t\t\t\tthis.password = \"\";\n\t\t\t\t\tthis.path = \"\";\n\t\t\t\t\tthis.port = \"\";\n\n\t\t\t\t\treturn objectToUrl ( this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: uri.toString.javascript\n\t\t\t\t *\n\t\t\t\t *\tConverts a URI object with a \"javascript:\" scheme to a string.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"javascript\" : function ( )\n\t\t\t\t{\n\t\t\t\t\treturn \"javascript:\" + this.javascript;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: uri.toString.generic\n\t\t\t\t *\n\t\t\t\t *\tConverts an generic URI object to a string.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"generic\" : function ( )\n\t\t\t\t{\n\t\t\t\t\treturn this.scheme + this.url;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tAll URI string parsers.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\tparsers :\n\t\t\t{\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: uri.parsers.http\n\t\t\t\t *\n\t\t\t\t *\tParse a URI with a \"http://\" scheme into a URI object.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"http\" : function ( url )\n\t\t\t\t{\n\t\t\t\t\treturn $.extend ( urlToObject ( url ), { toString : uri.toString.http } );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: uri.parsers.mailto\n\t\t\t\t *\n\t\t\t\t *\tParse a URI with a \"mailto:\" scheme into a URI object.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"mailto\" : function ( url )\n\t\t\t\t{\n\n\t\t\t\t\treturn $.extend ( urlToObject ( url.substring ( 7 ) ), { scheme : \"mailto:\", toString : uri.toString.mailto } );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: uri.parsers.javascript\n\t\t\t\t *\n\t\t\t\t *\tParse a URI with a \"javascript:\" scheme into a URI object.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"javascript\" : function ( url )\n\t\t\t\t{\n\t\t\t\t\treturn $.extend ( urlToObject ( document.location.href ), { javascript : url.substring ( 11 ), toString : uri.toString.javascript } );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: uri.parsers.generic\n\t\t\t\t *\n\t\t\t\t *\tParses any URI (URIs with a scheme seperator of \"://\" are parsed as \"http://\", everything else is treated as unknown..\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"generic\" : function ( scheme, url )\n\t\t\t\t{\n\t\t\t\t\t/* Was a \"//\" specified in the scheme? */ \n\n\t\t\t\t\tif ( url.substring ( 0, 2 ) == \"//\" )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Parse as HTTP URL */ \n\n\t\t\t\t\t\treturn $.extend ( urlToObject ( url.substring ( 2 ) ), { scheme : scheme + \"://\", toString : uri.toString.http } );\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Unknown, store the schem (for filtering purposes), and simply append the remainder of the URI */ \n\n\t\t\t\t\treturn { scheme : scheme + \":\", url : url, toString : uri.toString.generic };\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: uri.parse\n\t\t\t *\n\t\t\t *\tParse a URI string based on scheme.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\tparse : function ( uri )\n\t\t\t{\n\t\t\t\t/* Only parse strings */ \n\n\t\t\t\tif ( typeof uri != \"string\" )\n\t\t\t\t{\n\t\t\t\t\t/* URI object? */ \n\n\t\t\t\t\treturn uri;\n\t\t\t\t}\n\n\t\t\t\t/* Try to determine the scheme */ \n\n\t\t\t\tvar pos = uri.indexOf ( \":\" );\n\n\t\t\t\t/* Was a scheme seperator found? */ \n\n\t\t\t\tif ( pos != -1 )\n\t\t\t\t{\n\t\t\t\t\t/* Get the scheme name (from the start of the URI, until the first \":\" character)*/ \n\n\t\t\t\t\tvar scheme = uri.substring ( 0, pos ).toLowerCase ( );\n\n\t\t\t\t\t/* Is a handler present for this scheme? */ \n\n\t\t\t\t\tif ( this.parsers [ scheme ] != null )\n\t\t\t\t\t{\n\t\t\t\t\t\t/* Parse the URI with a specific parser */ \n\n\t\t\t\t\t\treturn this.parsers [ scheme ] ( uri );\n\t\t\t\t\t}\n\n\t\t\t\t\t/* Try to parse the URI generically */ \n\n\t\t\t\t\treturn this.parsers.generic ( scheme, uri.substring ( pos + 1 ) );\n\t\t\t\t}\n\n\t\t\t\t/* Parse the URI with the HTTP parser, for now... */ \n\n\t\t\t\treturn this.parsers.http ( uri );\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tSection: Helper interface.\n\t\t *\n\t\t *\tAll private helper methods.\n\t\t *\n\t\t *\tThis section contains all get/set and filter methods utilised by the public interface.\n\t\t *\n\t\t **/ \n\n\t\tvar helpers =\n\t\t{\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: getUrl\n\t\t\t *\n\t\t\t *\tReturn the elements URL (stored under its \"data-href\", and/or \"href\"/\"src\" attribute).\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"getUrl\" : function ( )\n\t\t\t{\n\t\t\t\treturn returnEachObject.apply ( this, [ getHref, null ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: setUrl\n\t\t\t *\n\t\t\t *\tSet the elements URL (stored under it's \"data-href\", and/or \"href\"/\"src\" attribute). Note: This does not change document.location.href for the $(document) element!\n\t\t\t *\n\t\t\t*/ \n\n\t\t\t\"setUrl\" : function ( url )\n\t\t\t{\n\t\t\t\tsetHref.apply ( this, [ url ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: parseUrl\n\t\t\t *\n\t\t\t *\tReturn the URL object for the elements \"data-href\" attribute value.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"parseUrl\" : function ( )\n\t\t\t{\n\t\t\t\treturn returnEachObject.apply ( this, [ function ( ) { return uri.parse ( getHref.apply ( this ) ); }, null ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: getFragment\n\t\t\t *\n\t\t\t *\tGet the fragment object from the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to retrieve the fragment object from.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tThe fragment object. Call .toString() on the object to convert it to a string value.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"getFragment\" : function ( )\n\t\t\t{\n\t\t\t\treturn returnEachObject.apply ( this, [ function ( ) { return getFragmentString ( getHref.apply ( this ) ); }, null ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: setFragment\n\t\t\t *\n\t\t\t *\tSet the fragment string for the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to set the fragment string on.\n\t\t\t *\n\t\t\t *\tfragment - The new fragment string/object.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tArray of elements that were changed.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"setFragment\" : function ( fragment )\n\t\t\t{\n\t\t\t\tif ( fragment [ 0 ] != \"#\" )\n\t\t\t\t{\n\t\t\t\t\tfragment = \"#\" + fragment;\n\t\t\t\t}\n\n\t\t\t\treturn returnEachElement.apply ( this, [ updateHrefShim, [ \"fragment\", fragment ] ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: getQuery\n\t\t\t *\n\t\t\t *\tGet the query object from the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to retrieve the query object from.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tThe query object. Call .toString() on the object to convert it to a string value.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"getQuery\" : function ( )\n\t\t\t{\n\t\t\t\treturn returnEachObject.apply ( this, [ function ( ) { return $.extend ( getQueryObject ( getHref.apply ( this ) ), { toString : queryObjectToString } ); }, null ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: setQuery\n\t\t\t *\n\t\t\t *\tSet the query string for the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to set the query object on.\n\t\t\t *\n\t\t\t *\tquery - The new query string represented as an object.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tArray of elements that were changed.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"setQuery\" : function ( query )\n\t\t\t{\n\t\t\t\treturn returnEachElement.apply ( this, [ updateQuery, query ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: getPath\n\t\t\t *\n\t\t\t *\tGet the path object from the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to retrieve the path object from.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tThe path object. Call .toString() on the object to convert it to a string value.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"getPath\" : function ( )\n\t\t\t{\n\t\t\t\treturn returnEachObject.apply ( this, [ function ( ) { return $.extend ( getPathObject ( getHref.apply ( this ) ), { toString : pathObjectToString } ); }, null ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: setPath\n\t\t\t *\n\t\t\t *\tSet the path string for the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to set the path string on.\n\t\t\t *\n\t\t\t *\tpath - The new path string/object.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tArray of elements that were changed.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"setPath\" : function ( path )\n\t\t\t{\n\t\t\t\treturn returnEachElement.apply ( this, [ updatePath, path ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: getPort\n\t\t\t *\n\t\t\t *\tGet the port string from the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to retrieve the port string from.\n\t\t\t *\n\t\t\t *\tReturns: \n\t\t\t *\n\t\t\t *\tThe port string.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"getPort\" : function ( )\n\t\t\t{\n\t\t\t\treturn returnEachObject.apply ( this, [ function ( ) { return getPortString ( getHref.apply ( this ) ); }, null ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: setPort\n\t\t\t *\n\t\t\t *\tSet the port string for the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to set the port string on.\n\t\t\t *\n\t\t\t *\tport - The new port string.\n\t\t\t *\n\t\t\t *\tReturns: \n\t\t\t *\n\t\t\t *\tArray of elements that were changed.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"setPort\" : function ( port )\n\t\t\t{\n\t\t\t\treturn returnEachElement.apply ( this, [ updateHrefShim, [ \"port\", port ] ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: getHost\n\t\t\t *\n\t\t\t *\tGet the host string from the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to retrieve the host string from.\n\t\t\t *\n\t\t\t *\tReturns: \n\t\t\t *\n\t\t\t *\tThe host string.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"getHost\" : function ( )\n\t\t\t{\n\t\t\t\treturn returnEachObject.apply ( this, [ function ( ) { return getHostString ( getHref.apply ( this ) ); }, null ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: setHost\n\t\t\t *\n\t\t\t *\tSet the host string for the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to set the host string on.\n\t\t\t *\n\t\t\t *\thost - The new host string.\n\t\t\t *\n\t\t\t *\tReturns: \n\t\t\t *\n\t\t\t *\tArray of elements that were changed.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"setHost\" : function ( host )\n\t\t\t{\n\t\t\t\treturn returnEachElement.apply ( this, [ updateHrefShim, [ \"host\", host ] ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: getPassword\n\t\t\t *\n\t\t\t *\tGet the password string from the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to retrieve the password string from.\n\t\t\t *\n\t\t\t *\tReturns: \n\t\t\t *\n\t\t\t *\tThe password string.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"getPassword\" : function ( )\n\t\t\t{\n\t\t\t\treturn returnEachObject.apply ( this, [ function ( ) { return getPasswordString ( getHref.apply ( this ) ); }, null ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: setPassword\n\t\t\t *\n\t\t\t *\tSet the password string for the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to set the password string on.\n\t\t\t *\n\t\t\t *\tpassword - The new password string.\n\t\t\t *\n\t\t\t *\tReturns: \n\t\t\t *\n\t\t\t *\tArray of elements that were changed.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"setPassword\" : function ( password )\n\t\t\t{\n\t\t\t\treturn returnEachElement.apply ( this, [ updateHrefShim, [ \"password\", password ] ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: getUser\n\t\t\t *\n\t\t\t *\tGet the user string from the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to retrieve the user string from.\n\t\t\t *\n\t\t\t *\tReturns: \n\t\t\t *\n\t\t\t *\tThe user string.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"getUser\" : function ( )\n\t\t\t{\n\t\t\t\treturn returnEachObject.apply ( this, [ function ( ) { return getUserString ( getHref.apply ( this ) ); }, null ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: setUser\n\t\t\t *\n\t\t\t *\tSet the user string for the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to set the user string on.\n\t\t\t *\n\t\t\t *\tuser - The new user string.\n\t\t\t *\n\t\t\t *\tReturns: \n\t\t\t *\n\t\t\t *\tArray of elements that were changed.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"setUser\" : function ( user )\n\t\t\t{\n\t\t\t\treturn returnEachElement.apply ( this, [ updateHrefShim, [ \"user\", user ] ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: getScheme\n\t\t\t *\n\t\t\t *\tGet the scheme string from the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to retrieve the scheme string from.\n\t\t\t *\n\t\t\t *\tReturns: \n\t\t\t *\n\t\t\t *\tThe scheme string.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"getScheme\" : function ( )\n\t\t\t{\n\t\t\t\treturn returnEachObject.apply ( this, [ function ( ) { return getSchemeString ( getHref.apply ( this ) ); }, null ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: setScheme\n\t\t\t *\n\t\t\t *\tSet the scheme string for the elements URL.\n\t\t\t *\n\t\t\t *\tParameters: \n\t\t\t *\n\t\t\t *\tthis - The element to set the scheme string on.\n\t\t\t *\n\t\t\t *\tscheme - The new scheme string.\n\t\t\t *\n\t\t\t *\tReturns: \n\t\t\t *\n\t\t\t *\tArray of elements that were changed.\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"setScheme\" : function ( scheme )\n\t\t\t{\n\t\t\t\treturn returnEachElement.apply ( this, [ updateHrefShim, [ \"scheme\", scheme ] ] );\n\t\t\t},\n\n\t\t\t\"filters\" :\n\t\t\t{\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: = (equals)\n\t\t\t\t *\n\t\t\t\t *\tTest if the actual value is equal to the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tParameters:\n\t\t\t\t *\n\t\t\t\t *\tactualValue - Actual value.\n\t\t\t\t *\n\t\t\t\t *\tuserValue - User supplied value.\n\t\t\t\t *\n\t\t\t\t *\tReturns:\n\t\t\t\t *\n\t\t\t\t *\ttrue - The actual and user values are equal.\n\t\t\t\t *\n\t\t\t\t *\tfalse - The actual and user values are not equal.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"=\" : function ( actualValue, userValue )\n\t\t\t\t{\n\t\t\t\t\tif ( actualValue == userValue )\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: != (not equals)\n\t\t\t\t *\n\t\t\t\t *\tTest if the actual value is equal to the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tParameters:\n\t\t\t\t *\n\t\t\t\t *\tactualValue - Actual value.\n\t\t\t\t *\n\t\t\t\t *\tuserValue - User supplied value.\n\t\t\t\t *\n\t\t\t\t *\tReturns:\n\t\t\t\t *\n\t\t\t\t *\ttrue - The actual and user values are not equal.\n\t\t\t\t *\n\t\t\t\t *\tfalse - The actual and user values are equal.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"!=\" : function ( actualValue, userValue )\n\t\t\t\t{\n\t\t\t\t\tif ( actualValue != userValue )\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: < (less than)\n\t\t\t\t *\n\t\t\t\t *\tTest if the actual value is less than the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tParameters:\n\t\t\t\t *\n\t\t\t\t *\tactualValue - Actual value.\n\t\t\t\t *\n\t\t\t\t *\tuserValue - User supplied value.\n\t\t\t\t *\n\t\t\t\t *\tReturns:\n\t\t\t\t *\n\t\t\t\t *\ttrue - The actual value is less than the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tfalse - The actual value is greater than or equal to the user supplied value.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"<\" : function ( actualValue, userValue )\n\t\t\t\t{\n\t\t\t\t\tif ( actualValue < userValue )\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: > (greater than)\n\t\t\t\t *\n\t\t\t\t *\tTest if the actualValue is greater than the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tParameters:\n\t\t\t\t *\n\t\t\t\t *\tactualValue - Actual value.\n\t\t\t\t *\n\t\t\t\t *\tuserValue - User supplied value.\n\t\t\t\t *\n\t\t\t\t *\tReturns:\n\t\t\t\t *\n\t\t\t\t *\ttrue - The actual value is greater than the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tfalse - The actual value is less than or equal to the user supplied value.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\">\" : function ( actualValue, userValue )\n\t\t\t\t{\n\t\t\t\t\tif ( actualValue > userValue )\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: <= (less than or equal to)\n\t\t\t\t *\n\t\t\t\t *\tTest if the actual value is less than or equal to the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tParameters:\n\t\t\t\t *\n\t\t\t\t *\tactualValue - Actual value.\n\t\t\t\t *\n\t\t\t\t *\tuserValue - User supplied value.\n\t\t\t\t *\n\t\t\t\t *\tReturns:\n\t\t\t\t *\n\t\t\t\t *\ttrue - The actual value is less than or equal to the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tfalse - The actual value is greater than the user supplied value.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"<=\" : function ( actualValue, userValue )\n\t\t\t\t{\n\t\t\t\t\tif ( actualValue <= userValue )\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: >= (greater than or equal to)\n\t\t\t\t *\n\t\t\t\t *\tTest if the actual value is greater than or equal to the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tParameters:\n\t\t\t\t *\n\t\t\t\t *\tactualValue - Actual value.\n\t\t\t\t *\n\t\t\t\t *\tuserValue - User supplied value.\n\t\t\t\t *\n\t\t\t\t *\tReturns:\n\t\t\t\t *\n\t\t\t\t *\ttrue - The actual value is greater than or equal to the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tfalse - The actual value is less than the user supplied value.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\">=\" : function ( actualValue, userValue )\n\t\t\t\t{\n\t\t\t\t\tif ( actualValue >= userValue )\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: *= (contains)\n\t\t\t\t *\n\t\t\t\t *\tTest if the actual value contains the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tParameters:\n\t\t\t\t *\n\t\t\t\t *\tactualValue - Actual value.\n\t\t\t\t *\n\t\t\t\t *\tuserValue - User supplied value.\n\t\t\t\t *\n\t\t\t\t *\tReturns:\n\t\t\t\t *\n\t\t\t\t *\ttrue - The actual value contains the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tfalse - The actual value does not contain the user supplied value.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"*=\" : function ( actualValue, userValue )\n\t\t\t\t{\n\t\t\t\t\tif ( actualValue.indexOf ( userValue ) != -1 )\n\t\t\t\t\t{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: ^= (starts with)\n\t\t\t\t *\n\t\t\t\t *\tTest if the start of the actual value matches the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tParameters:\n\t\t\t\t *\n\t\t\t\t *\tactualValue - Actual value.\n\t\t\t\t *\n\t\t\t\t *\tuserValue - User supplied value.\n\t\t\t\t *\n\t\t\t\t *\tReturns:\n\t\t\t\t *\n\t\t\t\t *\ttrue - The start of the actual value matches the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tfalse - The start of the actual value does not match the user supplied value.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"^=\" : function ( actualValue, userValue )\n\t\t\t\t{\n\t\t\t\t\tif ( actualValue.length >= userValue.length )\n\t\t\t\t\t{\n\t\t\t\t\t\tif ( actualValue.substring ( 0, userValue.length ) == userValue )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: $= (ends with)\n\t\t\t\t *\n\t\t\t\t *\tTest if the end of the actual value is the same as the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tParameters:\n\t\t\t\t *\n\t\t\t\t *\tactualValue - Actual value.\n\t\t\t\t *\n\t\t\t\t *\tuserValue - User supplied value.\n\t\t\t\t *\n\t\t\t\t *\tReturns:\n\t\t\t\t *\n\t\t\t\t *\ttrue - The end of the actual value matches the user supplied value.\n\t\t\t\t *\n\t\t\t\t *\tfalse - The end of the actual value does not match the user supplied value.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"$=\" : function ( actualValue, userValue )\n\t\t\t\t{\n\t\t\t\t\tif ( actualValue.length >= userValue.length )\n\t\t\t\t\t{\n\t\t\t\t\t\tif ( actualValue.substring ( actualValue.length - userValue.length ) == userValue )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t *\n\t\t\t\t *\tFunction: regex (regular expression)\n\t\t\t\t *\n\t\t\t\t *\tTest if the actual value matches the user supplied regular expression.\n\t\t\t\t *\n\t\t\t\t *\tParameters:\n\t\t\t\t *\n\t\t\t\t *\tactualValue - Actual value.\n\t\t\t\t *\n\t\t\t\t *\tuserValue - Regular expression to apply.\n\t\t\t\t *\n\t\t\t\t *\tReturns:\n\t\t\t\t *\n\t\t\t\t *\ttrue - The regular expression matches.\n\t\t\t\t *\n\t\t\t\t *\tfalse - The regular expression does not match.\n\t\t\t\t *\n\t\t\t\t **/ \n\n\t\t\t\t\"regex\" : function ( actualValue, userValue )\n\t\t\t\t{\n\t\t\t\t\treturn actualValue.match ( userValue );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tSection: Public interface.\n\t\t *\n\t\t *\tAll public methods exposed via the JQuery URL parser plugin interface.\n\t\t *\n\t\t **/ \n\n\t\tvar methods = \n\t\t{\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: url\n\t\t\t *\n\t\t\t *\tGet/Set the href string for the given element(s).\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - See <this parameter>.\n\t\t\t *\n\t\t\t *\turl - If present, specifies the new URL object/string to set. Otherwise the function will get the URL.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tIf a URL was specified, then this function returns the array of modified elements for chaining purposes, otherwise it returns an array of element URLs.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Parse the document.location.href URL\n\t\t\t *\t$(document).jurlp(\"url\");\n\t\t\t *\n\t\t\t *\t// Parse all URLs in anchor tags\n\t\t\t *\t$(\"a\").jurlp(\"url\");\n\t\t\t *\n\t\t\t *\t// Update the working URL for the document\n\t\t\t *\t$(document).jurlp(\"url\", \"http://www.google.com\");\n\t\t\t *\n\t\t\t *\t// Replace all anchor tags with the google URL!\n\t\t\t *\t$(\"a\").jurlp(\"url\", \"http://www.google.com\");\n\t\t\t *\n\t\t\t *\t// Output the documents URL object\n\t\t\t *\tconsole.log($(document).jurlp(\"url\"));\n\t\t\t *\n\t\t\t *\t// Output the documents URL string\n\t\t\t *\tconsole.log($(document).jurlp(\"url\").toString());\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/\n\n\t\t\t\"url\" : function ( url )\n\t\t\t{\n\t\t\t\treturn dispatchGetSetHelper.apply ( this, [ helpers.parseUrl, helpers.setUrl, arguments ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: fragment\n\t\t\t *\n\t\t\t *\tGet/Set the fragment segment of the URL for the given element(s).\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - See <this parameter>.\n\t\t\t *\n\t\t\t *\tfragment - If present, specifies the new fragment string to set. Otherwise the function will get the fragment string from each elements URL.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tIf a fragment string was specified, then this function returns the array of modified elements for chaining purposes, otherwise it returns an array of URL fragments from each element.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Parse the document.location.href URL for the fragment string\n\t\t\t *\t$(document).jurlp(\"fragment\");\n\t\t\t *\n\t\t\t *\t// Parse all URLs in anchor tags and retrieve their fragment strings\n\t\t\t *\t$(\"a\").jurlp(\"fragment\");\n\t\t\t *\n\t\t\t *\t// Set a new fragment for the document\n\t\t\t *\t$(document).jurlp(\"fragment\", \"elementid\");\n\t\t\t *\n\t\t\t *\t// Replace the fragment string in all anchor tags with the new element ID\n\t\t\t *\t$(\"a\").jurlp(\"fragment\", \"elementid\");\n\t\t\t *\n\t\t\t *\t// Output the documents URL fragment\n\t\t\t *\tconsole.log($(document).jurlp(\"fragment\"));\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/\n\n\t\t\t\"fragment\" : function ( fragment )\n\t\t\t{\n\t\t\t\treturn dispatchGetSetHelper.apply ( this, [ helpers.getFragment, helpers.setFragment, arguments ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: query\n\t\t\t *\n\t\t\t *\tGet/Set the query segment of the URL for the given element(s).\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - See <this parameter>.\n\t\t\t *\n\t\t\t *\tquery - If present, specifies the new query object to set. Otherwise the function will get the query object from each elements URL.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tIf a query object was specified, then this function returns the array of modified elements for chaining purposes, otherwise it returns an array of URL query objects from each element. Each returned query object can be converted to a string by calling its toString() method.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Parse the document.location.href URL for the query object\n\t\t\t *\t$(document).jurlp(\"query\");\n\t\t\t *\n\t\t\t *\t// Parse all URLs in anchor tags and retrieve their query object\n\t\t\t *\t$(\"a\").jurlp(\"query\");\n\t\t\t *\n\t\t\t *\t// Set/update the \"new\" parameter in the query string for the document\n\t\t\t *\t$(document).jurlp(\"query\", {\"new\":\"parameter\"});\n\t\t\t *\n\t\t\t *\t// Remove the query string for the document\n\t\t\t *\t$(document).jurlp(\"query\", {});\n\t\t\t *\n\t\t\t *\t// Update the query string in all anchor tags with the new query object.\n\t\t\t *\t$(\"a\").jurlp(\"query\", {\"new\":\"parameter\"});\n\t\t\t *\n\t\t\t *\t// Remove the query string in all anchor tags.\n\t\t\t *\t$(\"a\").jurlp(\"query\", {});\n\t\t\t *\n\t\t\t *\t// Output the documents URL query object\n\t\t\t *\tconsole.log($(document).jurlp(\"query\"));\n\t\t\t *\n\t\t\t *\t// Output the documents URL query string\n\t\t\t *\tconsole.log($(document).jurlp(\"query\").toString());\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/\n\n\t\t\t\"query\" : function ( query )\n\t\t\t{\n\t\t\t\treturn dispatchGetSetHelper.apply ( this, [ helpers.getQuery, helpers.setQuery, arguments ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: path\n\t\t\t *\n\t\t\t *\tGet/Set the path segment of the URL for the given element(s).\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - See <this parameter>.\n\t\t\t *\n\t\t\t *\tpath - If present, specifies the new path to set. Otherwise the function will get the path object from each elements URL.\n\t\t\t *\n\t\t\t *\tA quick guide to paths:\n\t\t\t *\n\t\t\t *\t- Leading slashes (i.e. \"/index.html\") set the full path.\n\t\t\t *\n\t\t\t *\t- No leading slash (or a \"./\") will append to the existing path.\n\t\t\t *\n\t\t\t *\t- You can use \"../\" to remove elements from the existing path, or the path string you supply (which makes concatinating an existing file path and new path easy, as specifying a leading \"../\" in the new path will remove the file name segment of the existing path).\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tIf a path was specified, then this function returns the array of modified elements for chaining purposes, otherwise it returns an array of URL path objects from each element. Each returned path object can be converted to a string by calling its toString() method.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Parse the document.location.href URL for the path object\n\t\t\t *\t$(document).jurlp(\"path\");\n\t\t\t *\n\t\t\t *\t// Parse all URLs in anchor tags and retrieve their path object\n\t\t\t *\t$(\"a\").jurlp(\"path\");\n\t\t\t *\n\t\t\t *\t// Set a new path for the document\n\t\t\t *\t$(document).jurlp(\"path\", \"/index.html\");\n\t\t\t *\n\t\t\t *\t// Append a path to the document URLs path\n\t\t\t *\t$(document).jurlp(\"path\", \"./file.name\");\n\t\t\t *\n\t\t\t *\t// Append a path to the document URLs path, which removes 2 existing path\n\t\t\t *\t// elements before appending the new path \n\t\t\t *\t$(document).jurlp(\"path\", \"../../folder/file.name\");\n\t\t\t *\n\t\t\t *\t// Update the file name segment of the path in all anchor tags \n\t\t\t *\t// with the new file name.\n\t\t\t *\t$(\"a\").jurlp(\"path\", \"../file.name\");\n\t\t\t *\n\t\t\t *\t// Remove the path in all anchor tags.\n\t\t\t *\t$(\"a\").jurlp(\"path\", \"/\");\n\t\t\t *\n\t\t\t *\t// Output the documents URL path object\n\t\t\t *\tconsole.log($(document).jurlp(\"path\"));\n\t\t\t *\n\t\t\t *\t// Output the documents URL path string\n\t\t\t *\tconsole.log($(document).jurlp(\"path\").toString());\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/\n\n\t\t\t\"path\" : function ( path )\n\t\t\t{\n\t\t\t\treturn dispatchGetSetHelper.apply ( this, [ helpers.getPath, helpers.setPath, arguments ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: port\n\t\t\t *\n\t\t\t *\tGet/Set the port segment of the URL for the given element(s).\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - See <this parameter>.\n\t\t\t *\n\t\t\t *\tport - If present, specifies the new port to set. Otherwise the function will get the port string from each elements URL.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tIf a port was specified, then this function returns the array of modified elements for chaining purposes, otherwise it returns an array of port strings from each elements URL.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Parse the document.location.href URL for the port\n\t\t\t *\t$(document).jurlp(\"port\");\n\t\t\t *\n\t\t\t *\t// Parse all URLs in anchor tags and retrieve their port\n\t\t\t *\t$(\"a\").jurlp(\"port\");\n\t\t\t *\n\t\t\t *\t// Set a new port for the document\n\t\t\t *\t$(document).jurlp(\"port\", \"8080\");\n\t\t\t *\n\t\t\t *\t// Replace the port in all anchor tags with the new port number\n\t\t\t *\t$(\"a\").jurlp(\"port\", \"8080\");\n\t\t\t *\n\t\t\t *\t// Output the documents URL port\n\t\t\t *\tconsole.log($(document).jurlp(\"port\"));\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/\n\n\t\t\t\"port\" : function ( port )\n\t\t\t{\n\t\t\t\treturn dispatchGetSetHelper.apply ( this, [ helpers.getPort, helpers.setPort, arguments ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: host\n\t\t\t *\n\t\t\t *\tGet/Set the host segment of the URL for the given element(s).\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - See <this parameter>.\n\t\t\t *\n\t\t\t *\thost - If present, specifies the new host name to set. Otherwise the function will get the host name string from each elements URL.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tIf a host name was specified, then this function returns the array of modified elements for chaining purposes, otherwise it returns an array of host name strings from each elements URL.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Parse the document.location.href URL for the host name\n\t\t\t *\t$(document).jurlp(\"host\");\n\t\t\t *\n\t\t\t *\t// Parse all URLs in anchor tags and retrieve their host name\n\t\t\t *\t$(\"a\").jurlp(\"host\");\n\t\t\t *\n\t\t\t *\t// Set a new host name for the document\n\t\t\t *\t$(document).jurlp(\"host\", \"www.example.com\");\n\t\t\t *\n\t\t\t *\t// Replace the host name in all anchor tags with the new host name\n\t\t\t *\t$(\"a\").jurlp(\"host\", \"www.example.com\");\n\t\t\t *\n\t\t\t *\t// Output the documents URL host name\n\t\t\t *\tconsole.log($(document).jurlp(\"host\"));\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/\n\n\t\t\t\"host\" : function ( host )\n\t\t\t{\n\t\t\t\treturn dispatchGetSetHelper.apply ( this, [ helpers.getHost, helpers.setHost, arguments ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: password\n\t\t\t *\n\t\t\t *\tGet/Set the password segment of the URL for the given element(s).\n\t\t\t *\n\t\t\t *\tNote! A password cannot be set on a URL unless a user name has been set first (see <user>).\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - See <this parameter>.\n\t\t\t *\n\t\t\t *\tpassword - If present, specifies the new password to set. Otherwise the function will get the password string from each elements URL.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tIf a password was specified, then this function returns the array of modified elements for chaining purposes, otherwise it returns an array of password strings from each elements URL.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Parse all URLs in anchor tags and retrieve their password\n\t\t\t *\t$(\"a\").jurlp(\"password\");\n\t\t\t *\n\t\t\t *\t// Replace the password in all anchor tags with the new password string\n\t\t\t *\t$(\"a\").jurlp(\"password\", \"newpassword\");\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/\n\n\t\t\t\"password\" : function ( password )\n\t\t\t{\n\t\t\t\treturn dispatchGetSetHelper.apply ( this, [ helpers.getPassword, helpers.setPassword, arguments ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: user\n\t\t\t *\n\t\t\t *\tGet/Set the user segment of the URL for the given element(s).\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - See <this parameter>.\n\t\t\t *\n\t\t\t *\tuser - If present, specifies the new username to set. Otherwise the function will get the username string from each elements URL.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tIf a username was specified, then this function returns the array of modified elements for chaining purposes, otherwise it returns an array of username strings from each elements URL.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Parse all URLs in anchor tags and retrieve their username\n\t\t\t *\t$(\"a\").jurlp(\"user\");\n\t\t\t *\n\t\t\t *\t// Replace the username in all anchor tags with the new username string\n\t\t\t *\t$(\"a\").jurlp(\"username\", \"newusername\");\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/\n\n\t\t\t\"user\" : function ( user )\n\t\t\t{\n\t\t\t\treturn dispatchGetSetHelper.apply ( this, [ helpers.getUser, helpers.setUser, arguments ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: scheme\n\t\t\t *\n\t\t\t *\tGet/Set the scheme segment of the URL for the given element(s).\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - See <this parameter>.\n\t\t\t *\n\t\t\t *\tscheme - If present, specifies the new scheme. Otherwise the function will get the scheme string from each elements URL.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tIf a scheme string was specified, then this function returns the array of modified elements for chaining purposes, otherwise it returns an array of scheme strings from each elements URL.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Parse the document.location.href URL for the scheme\n\t\t\t *\t$(document).jurlp(\"scheme\");\n\t\t\t *\n\t\t\t *\t// Parse all URLs in anchor tags and retrieve their scheme\n\t\t\t *\t$(\"a\").jurlp(\"scheme\");\n\t\t\t *\n\t\t\t *\t// Set a new scheme name for the document\n\t\t\t *\t$(document).jurlp(\"scheme\", \"https://\");\n\t\t\t *\n\t\t\t *\t// Replace the scheme in all anchor tags href attributes\n\t\t\t *\t$(\"a\").jurlp(\"scheme\", \"https://\");\n\t\t\t *\n\t\t\t *\t// Output the documents URL host name\n\t\t\t *\tconsole.log($(document).jurlp(\"scheme\"));\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/\n\n\t\t\t\"scheme\" : function ( scheme )\n\t\t\t{\n\t\t\t\treturn dispatchGetSetHelper.apply ( this, [ helpers.getScheme, helpers.setScheme, arguments ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: initialise\n\t\t\t *\n\t\t\t *\tInitialise the parser for the given element(s). HTML anchor elements or the HTML document element need not be explicitly initialised.\n\t\t\t *\t\n\t\t\t *\tElements are initialised as follows;\n\t\t\t *\n\t\t\t *\t$(document) - Initialise the \"data-href\" attribute for the document with the value of \"document.location.href\". The \"data-href\" attribute will be modified instead of \"document.location.href\" when modifying this element. See <Parsing document.location.href>.\n\t\t\t *\n\t\t\t *\tElements with \"href\"/\"src\" attributes - An attribute named \"data-original-href\" or \"data-original-src\" is created to store a copy of the elements original \"href\"/\"src\" attribute at the time of initialisation. See <Parsing elements with an href or src attribute>.\n\t\t\t *\n\t\t\t *\tAll other elements - Parses the element HTML for URLs, wraps any URLs found in an anchor tag, and returns all anchor elements.\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - See <this parameter>.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\t\n\t\t\t *\tArray of initialised elements (minus the parent container element).\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Not necessary\n\t\t\t *\t$(document).jurlp();\n\t\t\t *\n\t\t\t *\t// Not necessary\n\t\t\t *\t$(\"a\").jurlp();\n\t\t\t *\n\t\t\t *\t// Parse the HTML for URLs, and convert all URLs found in the\n\t\t\t *\t// text to anchors tags, and return the anchor elements.\n\t\t\t *\t$(\"<div>www.example.com</div>\").jurlp();\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"initialise\" : function ( )\n\t\t\t{\n\t\t\t\tvar me = this;\n\n\t\t\t\t/* Attempt to initialise the element as a text field. */ \n\n\t\t\t\tvar elements = [ ];\n\n\t\t\t\telements = initialiseElementText.apply ( $( this ) );\n\n\t\t\t\tif ( elements != null )\n\t\t\t\t{\n\t\t\t\t\t/* Initialise and return all created anchor elements, and remove the parent element from the array */ \n\n\t\t\t\t\treturn returnEachElement.apply ( this.filter ( function ( ) { return $( this ).get ( 0 ) != $( me ).get ( 0 ); } ).add ( elements ), [ initialiseElement ] );\n\t\t\t\t}\n\n\t\t\t\t/* Initialise the element directly */ \n\n\t\t\t\treturn returnEachElement.apply ( me, [ initialiseElement ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: restore\n\t\t\t *\n\t\t\t *\tRemoves any parser data associated with the element(s), and sets the href attribute to its original value.\n\t\t\t *\n\t\t\t *\t$(document) - Removes the \"data-href\" attribute.\n\t\t\t *\n\t\t\t *\tElements with \"href\"/\"src\" - Restores the \"href\"/\"src\" attribute to the \"data-original-href/src\" attribute value, and removes any other added attributes.\n\t\t\t *\n\t\t\t *\tAll other elements - Currently there is no way to restore an elements HTML which has been converted by the parser, so consider saving it first if needed!\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - See <this parameter>.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tArray of elements which were restored for chaining purposes.\n\t\t\t *\n\t\t\t * \tExamples:\n\t\t\t * \n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Restore the working URL for the document.\n\t\t\t *\t$(document).jurlp(\"restore\");\n\t\t\t *\n\t\t\t *\t// Restore the URL for all anchor elements.\n\t\t\t *\t$(\"a\").jurlp(\"restore\");\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"restore\" : function ( )\n\t\t\t{\n\t\t\t\treturn returnEachElement.apply ( this, [ restoreElement ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: goto\n\t\t\t *\n\t\t\t *\tSet document.location.href to the supplied elements \"href\", \"src\" or \"data-href\" attribute value.\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - See <this parameter>.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Goto the documents URL.\n\t\t\t *\t$(document).jurlp(\"goto\");\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"goto\" : function ( )\n\t\t\t{\n\t\t\t\tdocument.location.href = getHref.apply ( this );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: proxy\n\t\t\t *\n\t\t\t *\tProxy the URL. The elements URL will be replaced with the proxy URL, and the original URL will be encapsulated under the query string using the parameter name specified.\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - See <this parameter>.\n\t\t\t *\n\t\t\t *\turl - The proxy URL.\n\t\t\t *\n\t\t\t *\tparameter - The name of the query string parameter to encapsulate the original URL in.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tArray of modified elements for chaining purposes.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Proxy all URLs in anchor tags to www.example.com\n\t\t\t *\t// URL becomes \"http://www.example.com/?url=<original URL>\"\n\t\t\t *\t$(\"a\").jurlp(\"proxy\", \"http://www.example.com\", \"url\");\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/\n\n\t\t\t\"proxy\" : function ( url, parameter )\n\t\t\t{\n\t\t\t\tvar elementUrl = getHref.apply ( this );\n\t\t\t\tvar query = { };\n\n\t\t\t\tsetHref.apply ( this, [ objectToUrl ( getUrlObject ( url ) ) ] );\n\n\t\t\t\tquery [ parameter ] = elementUrl;\n\n\t\t\t\thelpers.setQuery.apply ( this, [ query ] );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tfunction: watch\n\t\t\t *\n\t\t\t *\tAutomatically apply all modifications to new elements added to the DOM that match the selector for the supplied elements. This allows URL filters/modifications that have been applied to existing elements to be propogated to new elements if the page content is being modified (i.e. inserting new anchor tags via AJAX).\n\t\t\t *\n\t\t\t *\tOverview:\n\t\t\t *\n\t\t\t *\tWatch will monitor the selector of the supplied elements via a DOM node listener to detect when new elements are inserted. For each new element that is inserted, any prior filters or modifications made to URLs with the same selector will be applied, and the watcher will be alerted via a callback.\n\t\t\t *\n\t\t\t *\tNote! It is not possible to call watch more than once for the same selector. To do this, try naming the selector differently, i.e. instead of \"a\", use \"a:not(uniqueid)\", where \"uniqueid\" is a nice lengthy descriptive name!\n\t\t\t *\n\t\t\t *\tTo stop watching for updates on a selecter, use <unwatch>.\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - Array of elements to obtain the selector from. See <this parameter>.\n\t\t\t *\n\t\t\t *\tcallback - Function to call when elements are found, which is supplied two arguments, the new element that was inserted into the DOM, and the selector that triggered the watch.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tArray of unmodified elements for chaining purposes.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Add a watch on the first anchor element, and if the host name is \n\t\t\t *\t// \"www.example.com\", set the URL query string to \"found=example\".\n\t\t\t *\t// The \"filter\" and \"query\" calls will also be applied to all new elements that \n\t\t\t *\t// watch discovers!..\n\t\t\t *\t$(\"a:eq(0)\").jurlp(\"watch\", function(element, selector){\n\t\t\t *\t\t// If we get here, the first anchor element has changed to a URL containing \n\t\t\t *\t\t// \"www.example.com\" and now contains \"found=example\" in the query string.\n\t\t\t *\t\t// Dump the URL object to prove it!\n\t\t\t *\t\tconsole.log($(element).jurlp(\"url\"));\n\t\t\t *\t}).jurlp(\"filter\", \"host\", \"=\", \"www.example.com\")\n\t\t\t *\t  .jurlp(\"query\",{\"found\":\"example\"});\n\t\t\t *\n\t\t\t *\t//\tPrepend a new anchor tag to the page. This will trigger the watch on the \n\t\t\t *\t//\t\"a:eq(0)\" selector, which will apply all prior calls to this selector, \n\t\t\t *\t//\tso in this instance:\n\t\t\t *\t//\t- First perform the filter host, to ensure the host name is \"www.example.com\".\n\t\t\t *\t//\t- If the host name matches, update the URL query string with \"found=example\").\n\t\t\t *\t// If the host name does not match, then the query string will not be set.\n\t\t\t *\n\t\t\t *\t$(\"body\").prepend ( \"<a href='http://www.example.com/'></a>\" );\n\t\t\t *\n\t\t\t *\t// Stop watching for updates on the \"a:eq(0)\" selector. \n\t\t\t *\t// The \"a:eq(0)\" selector can now be watched on again.\n\t\t\t *\t$(\"a:eq(0)\").jurlp(\"unwatch\");\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t *\t- Watching the \"same selector\":\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// As an arbitrary example, we want to modify the query string on all existing \n\t\t\t *\t// facebook/twitter URLs, and then watch the \"a\" selector for all new \n\t\t\t *\t// facebook/twitter URLs that appear, and apply the new query string to those too:\n\t\t\t *\n\t\t\t *\t// THIS WILL NOT WORK!: \n\t\t\t *\t$(\"a\").jurlp(\"watch\").\n\t\t\t *\t      .jurlp(\"filter\", \"host\", \"=\", \"www.facebook.com\").\n\t\t\t *\t      .jurlp(\"query\",{\"found\":\"facebook\"});\n\t\t\t *\n\t\t\t *\t// This call will fail, as the \"a\" selector is now watched.\n\t\t\t *\t$(\"a\").jurlp(\"watch\").\n\t\t\t *\t      .jurlp(\"filter\", \"host\", \"=\", \"www.twitter.com\")\n\t\t\t *\t      .jurlp(\"query\",{\"found\":\"twitter\"});\n\t\t\t *\n\t\t\t *\t// THIS WILL WORK!: \n\t\t\t *\t$(\"a:not(facebook)\").jurlp(\"watch\").\n\t\t\t *\t                    .jurlp(\"filter\", \"host\", \"=\", \"www.facebook.com\")\n\t\t\t *\t                    .jurlp(\"query\",{\"found\":\"facebook\"});\n\t\t\t *\n\t\t\t *\t$(\"a:not(twitter)\").jurlp(\"watch\")\n\t\t\t *\t                   .jurlp(\"filter\", \"host\", \"=\", \"www.twitter.com\")\n\t\t\t *\t                   .jurlp(\"query\",{\"found\":\"twitter\"});\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/\n\n\t\t\t\"watch\" : function ( callback )\n\t\t\t{\n\t\t\t\t/* Get the current selector */ \n\n\t\t\t\tvar selector = this.selector;\n\n\t\t\t\t/* Has this selector been initialised? */ \n\n\t\t\t\tif ( selectorCallStack [ currentSelector ] == null )\n\t\t\t\t{\n\t\t\t\t\t/* Initialise the selector callstack */ \n\n\t\t\t\t\tselectorCallStack [ currentSelector ] = [ ];\n\n\t\t\t\t\t/* Monitor the DOM for new nodes being inserted */ \n\n\t\t\t\t\t$( document ).bind\n\t\t\t\t\t(\n\t\t\t\t\t\t\"DOMNodeInserted\",\n\t\t\t\t\t\tfunction DOMListener ( event )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/* Has the selector been unwatched? */ \n\n\t\t\t\t\t\t\tif ( selectorCallStack [ selector ] == null )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t/* Remove the DOM listener for the specific selector */ \n\n\t\t\t\t\t\t\t\t$( document ).unbind ( \"DOMNodeInserted\", DOMListener );\n\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* Does this element belong to the current selector? */ \n\n\t\t\t\t\t\t\tvar target = $( event.target ).filter ( selector );\n\n\t\t\t\t\t\t\tif ( target.get ( 0 ) == null )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t/* Or is it a child */ \n\n\t\t\t\t\t\t\t\ttarget = $( event.target ).find ( selector );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* Ensure we have a target to modify, and that we are allowed to watch it (the \".jurlp-no-watch\" class is present on elements created in initialiseElementText()). */ \n\n\t\t\t\t\t\t\tif ( target.length > 0 && target.is ( \".jurlp-no-watch\" ) == false )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvar filtered = false;\n\n\t\t\t\t\t\t\t\t/* Mark the element as being watched */ \n\n\t\t\t\t\t\t\t\ttarget.data ( \"is-watched\", true );\n\n\t\t\t\t\t\t\t\t/* Apply the selector callstack for this element */ \n\n\t\t\t\t\t\t\t\tfor ( var i = 0, l = selectorCallStack [ selector ].length; i < l; i++ )\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t/* Run the selector callback to update the element */ \n\n\t\t\t\t\t\t\t\t\tvar output = selectorCallStack [ selector ] [ i ] [ 0 ].apply ( target, selectorCallStack [ selector ] [ i ] [ 1 ] );\n\n\t\t\t\t\t\t\t\t\t/* Has the element been filtered out? */ \n\n\t\t\t\t\t\t\t\t\tif ( output != null && output.length == 0 )\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* This element has been filtered, perform no further modifications */\n\n\t\t\t\t\t\t\t\t\t\tfiltered = true;\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/* Was the element not filtered out, and a user callback specified? */ \n\n\t\t\t\t\t\t\t\tif ( filtered == false && typeof callback == \"function\" )\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t/* Call the user callback for each element found in the watch */ \n\n\t\t\t\t\t\t\t\t\ttarget.each ( function ( ){ callback ( $(this), selector ) } );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: unwatch\n\t\t\t *\n\t\t\t *\tRemoves a watch previously created with <watch>, and prevents modifications being made to new elemenets of the same selector. This will also clear the list of modifications for the selector, and the selector is free to use in a sebsequent call to <watch>.\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - Array of elements to obtain the selector from.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tArray of unmodified elements for chaining purposes.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Create a watch on the \"a\" selector\n\t\t\t *\t$(\"a\").jurlp(\"watch\");\n\t\t\t *\n\t\t\t *\t// Remove the watch on the \"a\" selector\n\t\t\t *\t$(\"a\").jurlp(\"unwatch\");\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/\n\n\t\t\t\"unwatch\" : function ( )\n\t\t\t{\n\t\t\t\tselectorCallStack [ this.selector ] = null;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: filter\n\t\t\t *\n\t\t\t *\tFilters elements by URL or URL segment.\n\t\t\t *\n\t\t\t *\tParameters:\n\t\t\t *\n\t\t\t *\tthis - Array of elements to filter. See <this parameter>.\n\t\t\t *\n\t\t\t *\tsegment - The URL segment to filter on (either \"scheme\", \"host\", \"port\", \"path\", \"query\" or \"fragment\"), or \"url\" to filter on the full URL. See <URL overview> for more information.\n\t\t\t *\n\t\t\t *\toperator - The type of filtering to apply (either \"!=\", \"$=\", \"*=\", \"<\", \"<=\", \"=\", \">\", \">=\" or \"^=\"). See <Operators> for more information.\n\t\t\t *\n\t\t\t *\tvalue - The value of the item to filter on.\n\t\t\t *\n\t\t\t *\tReturns:\n\t\t\t *\n\t\t\t *\tFiltered element array for chaining purposes.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Get the URL object for all anchors that match\n\t\t\t *\t// the document URLs host name.\n\t\t\t *\t$(\"a\").jurlp(\"filter\", \"host\", \"=\", $(document).jurlp(\"host\"))\n\t\t\t *\t      .jurlp(\"url\");\n\t\t\t *\n\t\t\t *\t// Get the URL object for all anchors that match \n\t\t\t *\t// the document URLs host, and has a path ending in \".php\".\n\t\t\t *\t$(\"a\").jurlp(\"filter\", \"host\", \"=\", $(document).jurlp(\"host\"))\n\t\t\t *\t      .jurlp(\"filter\", \"path\", \"$=\", \".php\")\n\t\t\t *\t      .jurlp(\"url\");\n\t\t\t *\n\t\t\t *\t// Get the URL object for all anchors whose query \n\t\t\t *\t// string matches the regular expression\n\t\t\t *\t$(\"a\").jurlp(\"filter\", \"query\", \"regex\", /(\\?)/).jurlp(\"url\");\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"filter\" : function ( segment, operator, value )\n\t\t\t{\n\t\t\t\t/* Get an arbitrary URL object */ \n\n\t\t\t\tvar url = uri.parse ( getHref.apply ( this ) );\n\n\t\t\t\t/* Ensure operator is valid */\n\n\t\t\t\tif ( operator == \"==\" )\n\t\t\t\t{\n\t\t\t\t\toperator = \"=\";\n\t\t\t\t}\n\n\t\t\t\t/* Ensure that the segment is valid, and that a filter method exists */ \n\n\t\t\t\tif ( ( segment == \"url\" || url [ segment ] != null ) && helpers.filters [ operator ] != null )\n\t\t\t\t{\n\t\t\t\t\t/* Add the filter to the selectors callstack if watched */ \n\n\t\t\t\t\taddSelectorCallback ( this, methods.filter, [ segment, operator, value ] );\n\n\t\t\t\t\t/* Filter each element */ \n\n\t\t\t\t\treturn this.filter\n\t\t\t\t\t(\n\t\t\t\t\t\tfunction ( )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/* Get the current elements href */\n\n\t\t\t\t\t\t\tvar url = getHref.apply ( $( this ) );\n\n\t\t\t\t\t\t\tvar actualValue = \"\";\n\n\t\t\t\t\t\t\t/* Get the segment value */ \n\n\t\t\t\t\t\t\tif ( segment != \"url\" )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t/* Use a segment of the URL */ \n\n\t\t\t\t\t\t\t\tactualValue = uri.parse ( url ) [ segment ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t/* Use the full URL */ \n\n\t\t\t\t\t\t\t\tactualValue = url;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/* If we are testing port numbers, then convert the actual and user port string to an integer */ \n\n\t\t\t\t\t\t\tif ( segment == \"port\" )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tactualValue = parseInt ( actualValue, 10 );\n\n\t\t\t\t\t\t\t\tvalue = parseInt ( value, 10 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* Perform the filter check */ \n\n\t\t\t\t\t\t\treturn helpers.filters [ operator ].apply ( $( this ), [ actualValue, value ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t *\n\t\t\t *\tFunction: interface\n\t\t\t *\n\t\t\t *\tGet the available methods for the parser interface.\n\t\t\t *\n\t\t\t *\tReturns: \n\t\t\t *\n\t\t\t *\tArray of interface methods.\n\t\t\t *\n\t\t\t *\tExamples:\n\t\t\t *\n\t\t\t *\t(start code)\n\t\t\t *\n\t\t\t *\t// Return all methods exposed by the URL parser interface.\n\t\t\t *\t$.fn.jurlp ( \"interface\" );\n\t\t\t *\n\t\t\t *\t(end code)\n\t\t\t *\n\t\t\t **/ \n\n\t\t\t\"interface\" : function ( )\n\t\t\t{\n\t\t\t\treturn methods;\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\tSection: JQuery plugin interface.\n\t\t *\n\t\t *\tFunction: $.fn.jurlp\n\t\t *\n\t\t *\tPublic interface/method dispatcher for the JQuery URL parser.\n\t\t *\n\t\t *\tSee <Public interface> for more information on the available methods.\n\t\t *\n\t\t *\tSee <initialise> for more specific information on how elements are initialised by the parser.\n\t\t *\n\t\t *\tParameters:\n\t\t *\n\t\t *\tthis - Element(s) to process. See <this parameter>.\n\t\t *\n\t\t *\tmethod - See <Public interface> for an overview of available methods and arguments.\n\t\t *\n\t\t *\targuments - Method arguments.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tEither an array of elements for chaining purposes, or array of specific values, depending on the method called.\n\t\t *\n\t\t **/ \n\n\t\t$.fn.jurlp = function ( method )\n\t\t{\n\t\t\t/* If the current selector isn't part of a filter... */ \n\n\t\t\tif ( this.selector.indexOf ( \".filter\" ) == -1 )\n\t\t\t{\n\t\t\t\t/* Set the global current selector */ \n\n\t\t\t\tcurrentSelector = this.selector;\n\t\t\t}\n\n\t\t\t/* Ensure all elements are initialised with a \"data-href\". */ \n\n\t\t\treturnEachElement.apply ( this, [ initialiseElement ] );\n\n\t\t\t/* Dispatch to the relevant method */ \n\n\t\t\treturn methodDispatcher.apply ( this, arguments );\n\t\t};\n\n\t\t/**\n\t\t *\n\t\t *\n\t\t *\tFunction: $.jurlp\n\t\t *\n\t\t *\tReturns an interface for directly parsing, manipulating and monitoring the supplied URL.\n\t\t *\n\t\t *\tParameters:\n\t\t *\n\t\t *\turl - The URL string to provide a URL parser interface for. Defaults to document.location.href if no URL is supplied.\n\t\t *\n\t\t *\tReturns:\n\t\t *\n\t\t *\tThe URL parser interface for the given URL.\n\t\t *\n\t\t *\tMembers:\n\t\t *\n\t\t *\thref - The URL string.\n\t\t *\n\t\t *\tMethods:\n\t\t *\n\t\t *\turl - See <url>.\n\t\t *\n\t\t *\tscheme - See <scheme>.\n\t\t *\n\t\t *\tuser - See <user>.\n\t\t *\n\t\t *\tpassword - See <password>.\n\t\t *\n\t\t *\thost - See <host>.\n\t\t *\n\t\t *\tport - See <port>.\n\t\t *\n\t\t *\tpath - See <path>.\n\t\t *\n\t\t *\tquery - See <query>.\n\t\t *\n\t\t *\tfragment - See <fragment>.\n\t\t *\n\t\t *\tproxy - See <proxy>.\n\t\t *\n\t\t *\tgoto - See <goto>.\n\t\t *\n\t\t *\twatch - Sets a watch for all \"href\" and \"src\" attributes containing the URLs hostname (selector is \"[href*=\"host\"],[src*=\"host\"]\" where host is this.host()), and returns all elements of the same selector for chaining purposes. See <watch> for more information.\n\t\t *\n\t\t *\tunwatch - Removes a watch created for the current URLs hostname. See <unwatch>.\n\t\t *\n\t\t *\tExamples:\n\t\t *\n\t\t *\tSee <Parsing URL strings directly>.\n\t\t *\n\t\t **/\n\n\t\t$.jurlp = function ( url )\n\t\t{\n\t\t\t/* Create an object for manipulating the url, or document.location.href if null. */ \n\n\t\t\treturn {\n\t\t\t\thref : url || document.location.href,\n\t\t\t\turl : methods.url,\n\t\t\t\tscheme : methods.scheme,\n\t\t\t\tuser : methods.user,\n\t\t\t\tpassword : methods.password,\n\t\t\t\thost : methods.host,\n\t\t\t\tport : methods.port,\n\t\t\t\tpath : methods.path,\n\t\t\t\tquery : methods.query,\n\t\t\t\tfragment : methods.fragment,\n\t\t\t\tproxy : methods.proxy,\n\t\t\t\t\"goto\" : methods [ \"goto\" ],\n\t\t\t\twatch : function ( callback )\n\t\t\t\t{\n\t\t\t\t\t/* Get the current host name */ \n\n\t\t\t\t\tvar host = this.host ( );\n\n\t\t\t\t\t/* Set a watch on the href or src selectors */ \n\n\t\t\t\t\treturn $( \"[href*=\\\"\" + host + \"\\\"],[src*=\\\"\" + host + \"\\\"]\" ).jurlp ( \"watch\", callback );\n\t\t\t\t},\n\t\t\t\tunwatch : function ( )\n\t\t\t\t{\n\t\t\t\t\t/* Get the current host name */ \n\n\t\t\t\t\tvar host = this.host ( );\n\n\t\t\t\t\t/* Set a watch on the href or src selectors */ \n\n\t\t\t\t\treturn $( \"[href*=\\\"\" + host + \"\\\"],[src*=\\\"\" + host + \"\\\"]\" ).jurlp ( \"unwatch\" );\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t}\n) ( jQuery );\n","/*\n *\tjQuery elevateZoom 3.0.8\n *\tDemo's and documentation:\n *\twww.elevateweb.co.uk/image-zoom\n *\n *\tCopyright (c) 2012 Andrew Eades\n *\twww.elevateweb.co.uk\n *\n *\tDual licensed under the GPL and MIT licenses.\n *\thttp://en.wikipedia.org/wiki/MIT_License\n *\thttp://en.wikipedia.org/wiki/GNU_General_Public_License\n *\n\n/*\n *\tjQuery elevateZoom 3.0.3\n *\tDemo's and documentation:\n *\twww.elevateweb.co.uk/image-zoom\n *\n *\tCopyright (c) 2012 Andrew Eades\n *\twww.elevateweb.co.uk\n *\n *\tDual licensed under the GPL and MIT licenses.\n *\thttp://en.wikipedia.org/wiki/MIT_License\n *\thttp://en.wikipedia.org/wiki/GNU_General_Public_License\n */\n\n\nif (typeof Object.create !== 'function') {\n    Object.create = function (obj) {\n        function F() { };\n        F.prototype = obj;\n        return new F();\n    };\n}\n\n(function ($, window, document, undefined) {\n    var ElevateZoom = {\n        init: function (options, elem) {\n            var self = this;\n\n            self.elem = elem;\n            self.$elem = $(elem);\n\n            self.options = $.extend({}, $.fn.elevateZoom.options, options);\n\n            if (self.options.imageSrc) {\n                self.imageSrc = self.options.imageSrc;\n            } else if (self.$elem.data(\"zoom-image\")) {\n                self.imageSrc = self.$elem.data(\"zoom-image\");\n            } else {\n                self.imageSrc = self.$elem.attr(\"src\");\n            }\n\n            //TINT OVERRIDE SETTINGS\n            if (self.options.tint) {\n                self.options.lensColour = \"none\", //colour of the lens background\n                    self.options.lensOpacity = \"1\" //opacity of the lens\n            }\n            //INNER OVERRIDE SETTINGS\n            if (self.options.zoomType == \"inner\") { self.options.showLens = false; }\n\n\n            //Remove alt on hover\n\n            self.$elem.parent().removeAttr('title').removeAttr('alt');\n\n            self.zoomImage = self.imageSrc;\n\n            self.refresh(1);\n\n\n\n            //Create the image swap from the gallery \n            $('#' + self.options.gallery + ' a').click(function (e) {\n\n                //Set a class on the currently active gallery image\n                if (self.options.galleryActiveClass) {\n                    $('#' + self.options.gallery + ' a').removeClass(self.options.galleryActiveClass);\n                    $(this).addClass(self.options.galleryActiveClass);\n                }\n                //stop any link on the a tag from working\n                e.preventDefault();\n\n                //call the swap image function            \n                if ($(this).data(\"zoom-image\")) { self.zoomImagePre = $(this).data(\"zoom-image\") }\n                else { self.zoomImagePre = $(this).data(\"image\"); }\n                self.swaptheimage($(this).data(\"image\"), self.zoomImagePre);\n                return false;\n            });\n\n        },\n\n        refresh: function (length) {\n            var self = this;\n\n            setTimeout(function () {\n                self.fetch(self.imageSrc);\n\n            }, length || self.options.refresh);\n        },\n\n        fetch: function (imgsrc) {\n            //get the image\n            var self = this;\n            var newImg = new Image();\n            newImg.onload = function () {\n                //set the large image dimensions - used to calculte ratio's\n                self.largeWidth = newImg.width;\n                self.largeHeight = newImg.height;\n                //once image is loaded start the calls\n                self.startZoom();\n                self.currentImage = self.imageSrc;\n                //let caller know image has been loaded\n                self.options.onZoomedImageLoaded(self.$elem);\n            }\n            newImg.src = imgsrc; // this must be done AFTER setting onload\n\n            return;\n\n        },\n\n        startZoom: function () {\n            var self = this;\n            //get dimensions of the non zoomed image\n            self.nzWidth = self.$elem.width();\n            self.nzHeight = self.$elem.height();\n\n            //activated elements\n            self.isWindowActive = false;\n            self.isLensActive = false;\n            self.isTintActive = false;\n            self.overWindow = false;\n\n            //CrossFade Wrappe\n            if (self.options.imageCrossfade) {\n                self.zoomWrap = self.$elem.wrap('<div style=\"height:' + self.nzHeight + 'px;width:' + self.nzWidth + 'px;\" class=\"zoomWrapper\" />');\n                self.$elem.css('position', 'absolute');\n            }\n\n            self.zoomLock = 1;\n            self.scrollingLock = false;\n            self.changeBgSize = false;\n            self.currentZoomLevel = self.options.zoomLevel;\n\n\n            //get offset of the non zoomed image\n            self.nzOffset = self.$elem.offset();\n            //calculate the width ratio of the large/small image\n            self.widthRatio = (self.largeWidth / self.currentZoomLevel) / self.nzWidth;\n            self.heightRatio = (self.largeHeight / self.currentZoomLevel) / self.nzHeight;\n\n\n            //if window zoom        \n            if (self.options.zoomType == \"window\") {\n                self.zoomWindowStyle = \"overflow: hidden;\"\n                    + \"background-position: 0px 0px;text-align:center;\"\n                    + \"background-color: \" + String(self.options.zoomWindowBgColour)\n                    + \";width: \" + String(self.options.zoomWindowWidth) + \"px;\"\n                    + \"height: \" + String(self.options.zoomWindowHeight)\n                    + \"px;float: left;\"\n                    + \"background-size: \" + self.largeWidth / self.currentZoomLevel + \"px \" + self.largeHeight / self.currentZoomLevel + \"px;\"\n                    + \"display: none;z-index:100;\"\n                    + \"border: \" + String(self.options.borderSize)\n                    + \"px solid \" + self.options.borderColour\n                    + \";background-repeat: no-repeat;\"\n                    + \"position: absolute;\";\n            }\n\n\n            //if inner  zoom    \n            if (self.options.zoomType == \"inner\") {\n                //has a border been put on the image? Lets cater for this\n\n                var borderWidth = self.$elem.css(\"border-left-width\");\n\n                self.zoomWindowStyle = \"overflow: hidden;\"\n                    + \"margin-left: \" + String(borderWidth) + \";\"\n                    + \"margin-top: \" + String(borderWidth) + \";\"\n                    + \"background-position: 0px 0px;\"\n                    + \"width: \" + String(self.nzWidth) + \"px;\"\n                    + \"height: \" + String(self.nzHeight) + \"px;\"\n                    + \"px;float: left;\"\n                    + \"display: none;\"\n                    + \"cursor:\" + (self.options.cursor) + \";\"\n                    + \"px solid \" + self.options.borderColour\n                    + \";background-repeat: no-repeat;\"\n                    + \"position: absolute;\";\n            }\n\n\n\n            //lens style for window zoom\n            if (self.options.zoomType == \"window\") {\n\n\n                // adjust images less than the window height\n\n                if (self.nzHeight < self.options.zoomWindowWidth / self.widthRatio) {\n                    lensHeight = self.nzHeight;\n                }\n                else {\n                    lensHeight = String((self.options.zoomWindowHeight / self.heightRatio))\n                }\n                if (self.largeWidth < self.options.zoomWindowWidth) {\n                    lensWidth = self.nzWidth;\n                }\n                else {\n                    lensWidth = (self.options.zoomWindowWidth / self.widthRatio);\n                }\n\n\n                self.lensStyle = \"background-position: 0px 0px;width: \" + String((self.options.zoomWindowWidth) / self.widthRatio) + \"px;height: \" + String((self.options.zoomWindowHeight) / self.heightRatio)\n                    + \"px;float: right;display: none;\"\n                    + \"overflow: hidden;\"\n                    + \"z-index: 999;\"\n                    + \"-webkit-transform: translateZ(0);\"\n                    + \"opacity:\" + (self.options.lensOpacity) + \";filter: alpha(opacity = \" + (self.options.lensOpacity * 100) + \"); zoom:1;\"\n                    + \"width:\" + lensWidth + \"px;\"\n                    + \"height:\" + lensHeight + \"px;\"\n                    + \"background-color:\" + (self.options.lensColour) + \";\"\n                    + \"cursor:\" + (self.options.cursor) + \";\"\n                    + \"border: \" + (self.options.lensBorderSize) + \"px\" +\n                    \" solid \" + (self.options.lensBorderColour) + \";background-repeat: no-repeat;position: absolute;\";\n            }\n\n\n            //tint style\n            self.tintStyle = \"display: block;\"\n                + \"position: absolute;\"\n                + \"background-color: \" + self.options.tintColour + \";\"\n                + \"filter:alpha(opacity=0);\"\n                + \"opacity: 0;\"\n                + \"width: \" + self.nzWidth + \"px;\"\n                + \"height: \" + self.nzHeight + \"px;\"\n\n                ;\n\n            //lens style for lens zoom with optional round for modern browsers\n            self.lensRound = '';\n\n            if (self.options.zoomType == \"lens\") {\n\n                self.lensStyle = \"background-position: 0px 0px;\"\n                    + \"float: left;display: none;\"\n                    + \"border: \" + String(self.options.borderSize) + \"px solid \" + self.options.borderColour + \";\"\n                    + \"width:\" + String(self.options.lensSize) + \"px;\"\n                    + \"height:\" + String(self.options.lensSize) + \"px;\"\n                    + \"background-repeat: no-repeat;position: absolute;\";\n\n\n            }\n\n\n            //does not round in all browsers\n            if (self.options.lensShape == \"round\") {\n                self.lensRound = \"border-top-left-radius: \" + String(self.options.lensSize / 2 + self.options.borderSize) + \"px;\"\n                    + \"border-top-right-radius: \" + String(self.options.lensSize / 2 + self.options.borderSize) + \"px;\"\n                    + \"border-bottom-left-radius: \" + String(self.options.lensSize / 2 + self.options.borderSize) + \"px;\"\n                    + \"border-bottom-right-radius: \" + String(self.options.lensSize / 2 + self.options.borderSize) + \"px;\";\n\n            }\n\n            //create the div's                                                + \"\"\n            //self.zoomContainer = $('<div/>').addClass('zoomContainer').css({\"position\":\"relative\", \"height\":self.nzHeight, \"width\":self.nzWidth});\n\n            self.zoomContainer = $('<div class=\"zoomContainer\" style=\"-webkit-transform: translateZ(0);position:fixed;left:' + self.nzOffset.left + 'px;top:' + self.nzOffset.top + 'px;height:' + self.nzHeight + 'px;width:' + self.nzWidth + 'px;\"></div>');\n            //$('body').append(self.zoomContainer);\n            self.$elem.after(self.zoomContainer);\n\n\n            //this will add overflow hidden and contrain the lens on lens mode       \n            if (self.options.containLensZoom && self.options.zoomType == \"lens\") {\n                self.zoomContainer.css(\"overflow\", \"hidden\");\n            }\n            if (self.options.zoomType != \"inner\") {\n                self.zoomLens = $(\"<div class='zoomLens' style='\" + self.lensStyle + self.lensRound + \"'>&nbsp;</div>\")\n                    .appendTo(self.zoomContainer)\n                    .click(function () {\n                        self.$elem.trigger('click');\n                    });\n\n\n                if (self.options.tint) {\n                    self.tintContainer = $('<div/>').addClass('tintContainer');\n                    self.zoomTint = $(\"<div class='zoomTint' style='\" + self.tintStyle + \"'></div>\");\n\n\n                    self.zoomLens.wrap(self.tintContainer);\n\n\n                    self.zoomTintcss = self.zoomLens.after(self.zoomTint);\n\n                    //if tint enabled - set an image to show over the tint\n\n                    self.zoomTintImage = $('<img style=\"position: absolute; left: 0px; top: 0px; max-width: none; width: ' + self.nzWidth + 'px; height: ' + self.nzHeight + 'px;\" src=\"' + self.imageSrc + '\">')\n                        .appendTo(self.zoomLens)\n                        .click(function () {\n\n                            self.$elem.trigger('click');\n                        });\n\n                }\n\n            }\n\n\n\n\n\n\n\n            //create zoom window \n            if (isNaN(self.options.zoomWindowPosition)) {\n                self.zoomWindow = $(\"<div style='z-index:999;left:\" + (self.windowOffsetLeft) + \"px;top:\" + (self.windowOffsetTop) + \"px;\" + self.zoomWindowStyle + \"' class='zoomWindow'>&nbsp;</div>\")\n                    .appendTo('body')\n                    .click(function () {\n                        self.$elem.trigger('click');\n                    });\n            } else {\n                self.zoomWindow = $(\"<div style='z-index:999;left:\" + (self.windowOffsetLeft) + \"px;top:\" + (self.windowOffsetTop) + \"px;\" + self.zoomWindowStyle + \"' class='zoomWindow'>&nbsp;</div>\")\n                    .appendTo(self.zoomContainer)\n                    .click(function () {\n                        self.$elem.trigger('click');\n                    });\n            }\n            self.zoomWindowContainer = $('<div/>').addClass('zoomWindowContainer').css(\"width\", self.options.zoomWindowWidth);\n            self.zoomWindow.wrap(self.zoomWindowContainer);\n\n\n            //  self.captionStyle = \"text-align: left;background-color: black;color: white;font-weight: bold;padding: 10px;font-family: sans-serif;font-size: 11px\";                                                                                                                                                                                                                                          \n            // self.zoomCaption = $('<div class=\"elevatezoom-caption\" style=\"'+self.captionStyle+'display: block; width: 280px;\">INSERT ALT TAG</div>').appendTo(self.zoomWindow.parent());\n\n            if (self.options.zoomType == \"lens\") {\n                self.zoomLens.css({ backgroundImage: \"url('\" + self.imageSrc + \"')\" });\n            }\n            if (self.options.zoomType == \"window\") {\n                self.zoomWindow.css({ backgroundImage: \"url('\" + self.imageSrc + \"')\" });\n            }\n            if (self.options.zoomType == \"inner\") {\n                self.zoomWindow.css({ backgroundImage: \"url('\" + self.imageSrc + \"')\" });\n            }\n            /*-------------------END THE ZOOM WINDOW AND LENS----------------------------------*/\n            //touch events\n            self.$elem.bind('touchmove', function (e) {\n                e.preventDefault();\n                var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\n                self.setPosition(touch);\n\n            });\n            self.zoomContainer.bind('touchmove', function (e) {\n                if (self.options.zoomType == \"inner\") {\n                    self.showHideWindow(\"show\");\n\n                }\n                e.preventDefault();\n                var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\n                self.setPosition(touch);\n\n            });\n            self.zoomContainer.bind('touchend', function (e) {\n                self.showHideWindow(\"hide\");\n                if (self.options.showLens) { self.showHideLens(\"hide\"); }\n                if (self.options.tint && self.options.zoomType != \"inner\") { self.showHideTint(\"hide\"); }\n            });\n\n            self.$elem.bind('touchend', function (e) {\n                self.showHideWindow(\"hide\");\n                if (self.options.showLens) { self.showHideLens(\"hide\"); }\n                if (self.options.tint && self.options.zoomType != \"inner\") { self.showHideTint(\"hide\"); }\n            });\n            if (self.options.showLens) {\n                self.zoomLens.bind('touchmove', function (e) {\n\n                    e.preventDefault();\n                    var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\n                    self.setPosition(touch);\n                });\n\n\n                self.zoomLens.bind('touchend', function (e) {\n                    self.showHideWindow(\"hide\");\n                    if (self.options.showLens) { self.showHideLens(\"hide\"); }\n                    if (self.options.tint && self.options.zoomType != \"inner\") { self.showHideTint(\"hide\"); }\n                });\n            }\n            //Needed to work in IE\n            self.$elem.bind('mousemove', function (e) {\n                if (self.overWindow == false) { self.setElements(\"show\"); }\n                //make sure on orientation change the setposition is not fired\n                if (self.lastX !== e.clientX || self.lastY !== e.clientY) {\n                    self.setPosition(e);\n                    self.currentLoc = e;\n                }\n                self.lastX = e.clientX;\n                self.lastY = e.clientY;\n\n            });\n\n            self.zoomContainer.bind('mousemove', function (e) {\n\n                if (self.overWindow == false) { self.setElements(\"show\"); }\n\n                //make sure on orientation change the setposition is not fired \n                if (self.lastX !== e.clientX || self.lastY !== e.clientY) {\n                    self.setPosition(e);\n                    self.currentLoc = e;\n                }\n                self.lastX = e.clientX;\n                self.lastY = e.clientY;\n            });\n            if (self.options.zoomType != \"inner\") {\n                self.zoomLens.bind('mousemove', function (e) {\n                    //make sure on orientation change the setposition is not fired\n                    if (self.lastX !== e.clientX || self.lastY !== e.clientY) {\n                        self.setPosition(e);\n                        self.currentLoc = e;\n                    }\n                    self.lastX = e.clientX;\n                    self.lastY = e.clientY;\n                });\n            }\n            if (self.options.tint && self.options.zoomType != \"inner\") {\n                self.zoomTint.bind('mousemove', function (e) {\n                    //make sure on orientation change the setposition is not fired\n                    if (self.lastX !== e.clientX || self.lastY !== e.clientY) {\n                        self.setPosition(e);\n                        self.currentLoc = e;\n                    }\n                    self.lastX = e.clientX;\n                    self.lastY = e.clientY;\n                });\n\n            }\n            if (self.options.zoomType == \"inner\") {\n                self.zoomWindow.bind('mousemove', function (e) {\n                    //self.overWindow = true;\n                    //make sure on orientation change the setposition is not fired\n                    if (self.lastX !== e.clientX || self.lastY !== e.clientY) {\n                        self.setPosition(e);\n                        self.currentLoc = e;\n                    }\n                    self.lastX = e.clientX;\n                    self.lastY = e.clientY;\n                });\n\n            }\n\n\n            //  lensFadeOut: 500,  zoomTintFadeIn\n            self.zoomContainer.add(self.$elem).mouseenter(function () {\n\n                if (self.overWindow == false) { self.setElements(\"show\"); }\n\n\n            }).mouseleave(function () {\n                if (!self.scrollLock) {\n                    self.setElements(\"hide\");\n                    self.options.onDestroy(self.$elem);\n                }\n            });\n            //end ove image\n\n\n\n\n\n            if (self.options.zoomType != \"inner\") {\n                self.zoomWindow.mouseenter(function () {\n                    self.overWindow = true;\n                    self.setElements(\"hide\");\n                }).mouseleave(function () {\n\n                    self.overWindow = false;\n                });\n            }\n            //end ove image\n\n\n\n            //\t\t\t\tvar delta = parseInt(e.originalEvent.wheelDelta || -e.originalEvent.detail);\n\n            //      $(this).empty();    \n            //    return false;\n\n            //fix for initial zoom setting\n            if (self.options.zoomLevel != 1) {\n                //\tself.changeZoomLevel(self.currentZoomLevel);\n            }\n            //set the min zoomlevel\n            if (self.options.minZoomLevel) {\n                self.minZoomLevel = self.options.minZoomLevel;\n            }\n            else {\n                self.minZoomLevel = self.options.scrollZoomIncrement * 2;\n            }\n\n\n            if (self.options.scrollZoom) {\n\n\n                self.zoomContainer.add(self.$elem).bind('mousewheel DOMMouseScroll MozMousePixelScroll', function (e) {\n\n\n                    //\t\t\t\t\t\tin IE there is issue with firing of mouseleave - So check whether still scrolling\n                    //\t\t\t\t\t\tand on mouseleave check if scrolllock          \n                    self.scrollLock = true;\n                    clearTimeout($.data(this, 'timer'));\n                    $.data(this, 'timer', setTimeout(function () {\n                        self.scrollLock = false;\n                        //do something\n                    }, 250));\n\n                    var theEvent = e.originalEvent.wheelDelta || e.originalEvent.detail * -1\n\n\n                    //this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;\n                    //   e.preventDefault();\n\n\n                    e.stopImmediatePropagation();\n                    e.stopPropagation();\n                    e.preventDefault();\n\n\n                    if (theEvent / 120 > 0) {\n                        //scrolling up\n                        if (self.currentZoomLevel >= self.minZoomLevel) {\n                            self.changeZoomLevel(self.currentZoomLevel - self.options.scrollZoomIncrement);\n                        }\n\n                    }\n                    else {\n                        //scrolling down\n\n\n                        if (self.options.maxZoomLevel) {\n                            if (self.currentZoomLevel <= self.options.maxZoomLevel) {\n                                self.changeZoomLevel(parseFloat(self.currentZoomLevel) + self.options.scrollZoomIncrement);\n                            }\n                        }\n                        else {\n                            //andy \n\n                            self.changeZoomLevel(parseFloat(self.currentZoomLevel) + self.options.scrollZoomIncrement);\n                        }\n\n                    }\n                    return false;\n                });\n            }\n\n\n        },\n        setElements: function (type) {\n            var self = this;\n            if (!self.options.zoomEnabled) { return false; }\n            if (type == \"show\") {\n                if (self.isWindowSet) {\n                    if (self.options.zoomType == \"inner\") { self.showHideWindow(\"show\"); }\n                    if (self.options.zoomType == \"window\") { self.showHideWindow(\"show\"); }\n                    if (self.options.showLens) { self.showHideLens(\"show\"); }\n                    if (self.options.tint && self.options.zoomType != \"inner\") {\n                        self.showHideTint(\"show\");\n                    }\n                }\n            }\n\n            if (type == \"hide\") {\n                if (self.options.zoomType == \"window\") { self.showHideWindow(\"hide\"); }\n                if (!self.options.tint) { self.showHideWindow(\"hide\"); }\n                if (self.options.showLens) { self.showHideLens(\"hide\"); }\n                if (self.options.tint) { self.showHideTint(\"hide\"); }\n            }\n        },\n        setPosition: function (e) {\n\n            var self = this;\n\n            if (!self.options.zoomEnabled) { return false; }\n\n            //recaclc offset each time in case the image moves\n            //this can be caused by other on page elements\n            self.nzHeight = self.$elem.height();\n            self.nzWidth = self.$elem.width();\n            self.nzOffset = self.$elem.offset();\n\n            if (self.options.tint && self.options.zoomType != \"inner\") {\n                self.zoomTint.css({ top: 0 });\n                self.zoomTint.css({ left: 0 });\n            }\n            //set responsive       \n            //will checking if the image needs changing before running this code work faster?\n            if (self.options.responsive && !self.options.scrollZoom) {\n                if (self.options.showLens) {\n                    if (self.nzHeight < self.options.zoomWindowWidth / self.widthRatio) {\n                        lensHeight = self.nzHeight;\n                    }\n                    else {\n                        lensHeight = String((self.options.zoomWindowHeight / self.heightRatio))\n                    }\n                    if (self.largeWidth < self.options.zoomWindowWidth) {\n                        lensWidth = self.nzWidth;\n                    }\n                    else {\n                        lensWidth = (self.options.zoomWindowWidth / self.widthRatio);\n                    }\n                    self.widthRatio = self.largeWidth / self.nzWidth;\n                    self.heightRatio = self.largeHeight / self.nzHeight;\n                    if (self.options.zoomType != \"lens\") {\n\n\n                        //possibly dont need to keep recalcalculating\n                        //if the lens is heigher than the image, then set lens size to image size\n                        if (self.nzHeight < self.options.zoomWindowWidth / self.widthRatio) {\n                            lensHeight = self.nzHeight;\n\n                        }\n                        else {\n                            lensHeight = String((self.options.zoomWindowHeight / self.heightRatio))\n                        }\n\n                        if (self.nzWidth < self.options.zoomWindowHeight / self.heightRatio) {\n                            lensWidth = self.nzWidth;\n                        }\n                        else {\n                            lensWidth = String((self.options.zoomWindowWidth / self.widthRatio));\n                        }\n\n                        self.zoomLens.css('width', lensWidth);\n                        self.zoomLens.css('height', lensHeight);\n\n                        if (self.options.tint) {\n                            self.zoomTintImage.css('width', self.nzWidth);\n                            self.zoomTintImage.css('height', self.nzHeight);\n                        }\n\n                    }\n                    if (self.options.zoomType == \"lens\") {\n\n                        self.zoomLens.css({ width: String(self.options.lensSize) + 'px', height: String(self.options.lensSize) + 'px' })\n\n\n                    }\n                    //end responsive image change\n                }\n            }\n\n            //container fix\n            self.zoomContainer.css({ top: self.nzOffset.top });\n            self.zoomContainer.css({ left: self.nzOffset.left });\n            self.mouseLeft = parseInt(e.pageX - self.nzOffset.left);\n            self.mouseTop = parseInt(e.pageY - self.nzOffset.top);\n            //calculate the Location of the Lens\n\n            //calculate the bound regions - but only if zoom window\n            if (self.options.zoomType == \"window\") {\n                self.Etoppos = (self.mouseTop < (self.zoomLens.height() / 2));\n                self.Eboppos = (self.mouseTop > self.nzHeight - (self.zoomLens.height() / 2) - (self.options.lensBorderSize * 2));\n                self.Eloppos = (self.mouseLeft < 0 + ((self.zoomLens.width() / 2)));\n                self.Eroppos = (self.mouseLeft > (self.nzWidth - (self.zoomLens.width() / 2) - (self.options.lensBorderSize * 2)));\n            }\n            //calculate the bound regions - but only for inner zoom\n            if (self.options.zoomType == \"inner\") {\n                self.Etoppos = (self.mouseTop < ((self.nzHeight / 2) / self.heightRatio));\n                self.Eboppos = (self.mouseTop > (self.nzHeight - ((self.nzHeight / 2) / self.heightRatio)));\n                self.Eloppos = (self.mouseLeft < 0 + (((self.nzWidth / 2) / self.widthRatio)));\n                self.Eroppos = (self.mouseLeft > (self.nzWidth - (self.nzWidth / 2) / self.widthRatio - (self.options.lensBorderSize * 2)));\n            }\n\n            // if the mouse position of the slider is one of the outerbounds, then hide  window and lens\n            if (self.mouseLeft < 0 || self.mouseTop < 0 || self.mouseLeft > self.nzWidth || self.mouseTop > self.nzHeight) {\n                self.setElements(\"hide\");\n                return;\n            }\n            //else continue with operations\n            else {\n\n\n                //lens options\n                if (self.options.showLens) {\n                    //\t\tself.showHideLens(\"show\");\n                    //set background position of lens\n                    self.lensLeftPos = String(Math.floor(self.mouseLeft - self.zoomLens.width() / 2));\n                    self.lensTopPos = String(Math.floor(self.mouseTop - self.zoomLens.height() / 2));\n\n\n                }\n                //adjust the background position if the mouse is in one of the outer regions \n\n                //Top region\n                if (self.Etoppos) {\n                    self.lensTopPos = 0;\n                }\n                //Left Region\n                if (self.Eloppos) {\n                    self.windowLeftPos = 0;\n                    self.lensLeftPos = 0;\n                    self.tintpos = 0;\n                }\n                //Set bottom and right region for window mode\n                if (self.options.zoomType == \"window\") {\n                    if (self.Eboppos) {\n                        self.lensTopPos = Math.max((self.nzHeight) - self.zoomLens.height() - (self.options.lensBorderSize * 2), 0);\n                    }\n                    if (self.Eroppos) {\n                        self.lensLeftPos = (self.nzWidth - (self.zoomLens.width()) - (self.options.lensBorderSize * 2));\n                    }\n                }\n                //Set bottom and right region for inner mode\n                if (self.options.zoomType == \"inner\") {\n                    if (self.Eboppos) {\n                        self.lensTopPos = Math.max(((self.nzHeight) - (self.options.lensBorderSize * 2)), 0);\n                    }\n                    if (self.Eroppos) {\n                        self.lensLeftPos = (self.nzWidth - (self.nzWidth) - (self.options.lensBorderSize * 2));\n                    }\n\n                }\n                //if lens zoom\n                if (self.options.zoomType == \"lens\") {\n                    self.windowLeftPos = String(((e.pageX - self.nzOffset.left) * self.widthRatio - self.zoomLens.width() / 2) * (-1));\n                    self.windowTopPos = String(((e.pageY - self.nzOffset.top) * self.heightRatio - self.zoomLens.height() / 2) * (-1));\n\n                    self.zoomLens.css({ backgroundPosition: self.windowLeftPos + 'px ' + self.windowTopPos + 'px' });\n\n                    if (self.changeBgSize) {\n\n                        if (self.nzHeight > self.nzWidth) {\n                            if (self.options.zoomType == \"lens\") {\n                                self.zoomLens.css({ \"background-size\": self.largeWidth / self.newvalueheight + 'px ' + self.largeHeight / self.newvalueheight + 'px' });\n                            }\n\n                            self.zoomWindow.css({ \"background-size\": self.largeWidth / self.newvalueheight + 'px ' + self.largeHeight / self.newvalueheight + 'px' });\n                        }\n                        else {\n                            if (self.options.zoomType == \"lens\") {\n                                self.zoomLens.css({ \"background-size\": self.largeWidth / self.newvaluewidth + 'px ' + self.largeHeight / self.newvaluewidth + 'px' });\n                            }\n                            self.zoomWindow.css({ \"background-size\": self.largeWidth / self.newvaluewidth + 'px ' + self.largeHeight / self.newvaluewidth + 'px' });\n                        }\n                        self.changeBgSize = false;\n                    }\n\n                    self.setWindowPostition(e);\n                }\n                //if tint zoom   \n                if (self.options.tint && self.options.zoomType != \"inner\") {\n                    self.setTintPosition(e);\n\n                }\n                //set the css background position \n                if (self.options.zoomType == \"window\") {\n                    self.setWindowPostition(e);\n                }\n                if (self.options.zoomType == \"inner\") {\n                    self.setWindowPostition(e);\n                }\n                if (self.options.showLens) {\n\n                    if (self.fullwidth && self.options.zoomType != \"lens\") {\n                        self.lensLeftPos = 0;\n\n                    }\n                    self.zoomLens.css({ left: self.lensLeftPos + 'px', top: self.lensTopPos + 'px' })\n                }\n\n            } //end else\n\n\n\n        },\n        showHideWindow: function (change) {\n            var self = this;\n            if (change == \"show\") {\n                if (!self.isWindowActive) {\n                    if (self.options.zoomWindowFadeIn) {\n                        self.zoomWindow.stop(true, true, false).fadeIn(self.options.zoomWindowFadeIn);\n                    }\n                    else { self.zoomWindow.show(); }\n                    self.isWindowActive = true;\n                }\n            }\n            if (change == \"hide\") {\n                if (self.isWindowActive) {\n                    if (self.options.zoomWindowFadeOut) {\n                        self.zoomWindow.stop(true, true).fadeOut(self.options.zoomWindowFadeOut, function () {\n                            if (self.loop) {\n                                //stop moving the zoom window when zoom window is faded out\n                                clearInterval(self.loop);\n                                self.loop = false;\n                            }\n                        });\n                    }\n                    else { self.zoomWindow.hide(); }\n                    self.isWindowActive = false;\n                }\n            }\n        },\n        showHideLens: function (change) {\n            var self = this;\n            if (change == \"show\") {\n                if (!self.isLensActive) {\n                    if (self.options.lensFadeIn) {\n                        self.zoomLens.stop(true, true, false).fadeIn(self.options.lensFadeIn);\n                    }\n                    else { self.zoomLens.show(); }\n                    self.isLensActive = true;\n                }\n            }\n            if (change == \"hide\") {\n                if (self.isLensActive) {\n                    if (self.options.lensFadeOut) {\n                        self.zoomLens.stop(true, true).fadeOut(self.options.lensFadeOut);\n                    }\n                    else { self.zoomLens.hide(); }\n                    self.isLensActive = false;\n                }\n            }\n        },\n        showHideTint: function (change) {\n            var self = this;\n            if (change == \"show\") {\n                if (!self.isTintActive) {\n\n                    if (self.options.zoomTintFadeIn) {\n                        self.zoomTint.css({ opacity: self.options.tintOpacity }).animate().stop(true, true).fadeIn(\"slow\");\n                    }\n                    else {\n                        self.zoomTint.css({ opacity: self.options.tintOpacity }).animate();\n                        self.zoomTint.show();\n\n\n                    }\n                    self.isTintActive = true;\n                }\n            }\n            if (change == \"hide\") {\n                if (self.isTintActive) {\n\n                    if (self.options.zoomTintFadeOut) {\n                        self.zoomTint.stop(true, true).fadeOut(self.options.zoomTintFadeOut);\n                    }\n                    else { self.zoomTint.hide(); }\n                    self.isTintActive = false;\n                }\n            }\n        },\n        setLensPostition: function (e) {\n\n\n        },\n        setWindowPostition: function (e) {\n            //return obj.slice( 0, count );\n            var self = this;\n\n            if (!isNaN(self.options.zoomWindowPosition)) {\n\n                switch (self.options.zoomWindowPosition) {\n                    case 1: //done         \n                        self.windowOffsetTop = (self.options.zoomWindowOffety);//DONE - 1\n                        self.windowOffsetLeft = (+self.nzWidth); //DONE 1, 2, 3, 4, 16\n                        break;\n                    case 2:\n                        if (self.options.zoomWindowHeight > self.nzHeight) { //positive margin\n\n                            self.windowOffsetTop = ((self.options.zoomWindowHeight / 2) - (self.nzHeight / 2)) * (-1);\n                            self.windowOffsetLeft = (self.nzWidth); //DONE 1, 2, 3, 4, 16\n                        }\n                        else { //negative margin\n\n                        }\n                        break;\n                    case 3: //done        \n                        self.windowOffsetTop = (self.nzHeight - self.zoomWindow.height() - (self.options.borderSize * 2)); //DONE 3,9\n                        self.windowOffsetLeft = (self.nzWidth); //DONE 1, 2, 3, 4, 16\n                        break;\n                    case 4: //done  \n                        self.windowOffsetTop = (self.nzHeight); //DONE - 4,5,6,7,8\n                        self.windowOffsetLeft = (self.nzWidth); //DONE 1, 2, 3, 4, 16\n                        break;\n                    case 5: //done  \n                        self.windowOffsetTop = (self.nzHeight); //DONE - 4,5,6,7,8\n                        self.windowOffsetLeft = (self.nzWidth - self.zoomWindow.width() - (self.options.borderSize * 2)); //DONE - 5,15\n                        break;\n                    case 6:\n                        if (self.options.zoomWindowHeight > self.nzHeight) { //positive margin\n                            self.windowOffsetTop = (self.nzHeight);  //DONE - 4,5,6,7,8\n\n                            self.windowOffsetLeft = ((self.options.zoomWindowWidth / 2) - (self.nzWidth / 2) + (self.options.borderSize * 2)) * (-1);\n                        }\n                        else { //negative margin\n\n                        }\n\n\n                        break;\n                    case 7: //done  \n                        self.windowOffsetTop = (self.nzHeight);  //DONE - 4,5,6,7,8\n                        self.windowOffsetLeft = 0; //DONE 7, 13\n                        break;\n                    case 8: //done  \n                        self.windowOffsetTop = (self.nzHeight); //DONE - 4,5,6,7,8\n                        self.windowOffsetLeft = (self.zoomWindow.width() + (self.options.borderSize * 2)) * (-1);  //DONE 8,9,10,11,12\n                        break;\n                    case 9:  //done  \n                        self.windowOffsetTop = (self.nzHeight - self.zoomWindow.height() - (self.options.borderSize * 2)); //DONE 3,9\n                        self.windowOffsetLeft = (self.zoomWindow.width() + (self.options.borderSize * 2)) * (-1);  //DONE 8,9,10,11,12\n                        break;\n                    case 10:\n                        if (self.options.zoomWindowHeight > self.nzHeight) { //positive margin\n\n                            self.windowOffsetTop = ((self.options.zoomWindowHeight / 2) - (self.nzHeight / 2)) * (-1);\n                            self.windowOffsetLeft = (self.zoomWindow.width() + (self.options.borderSize * 2)) * (-1);  //DONE 8,9,10,11,12\n                        }\n                        else { //negative margin\n\n                        }\n                        break;\n                    case 11:\n                        self.windowOffsetTop = (self.options.zoomWindowOffety);\n                        self.windowOffsetLeft = (self.zoomWindow.width() + (self.options.borderSize * 2)) * (-1);  //DONE 8,9,10,11,12\n                        break;\n                    case 12: //done  \n                        self.windowOffsetTop = (self.zoomWindow.height() + (self.options.borderSize * 2)) * (-1); //DONE 12,13,14,15,16\n                        self.windowOffsetLeft = (self.zoomWindow.width() + (self.options.borderSize * 2)) * (-1);  //DONE 8,9,10,11,12\n                        break;\n                    case 13: //done  \n                        self.windowOffsetTop = (self.zoomWindow.height() + (self.options.borderSize * 2)) * (-1); //DONE 12,13,14,15,16\n                        self.windowOffsetLeft = (0); //DONE 7, 13\n                        break;\n                    case 14:\n                        if (self.options.zoomWindowHeight > self.nzHeight) { //positive margin\n                            self.windowOffsetTop = (self.zoomWindow.height() + (self.options.borderSize * 2)) * (-1); //DONE 12,13,14,15,16\n\n                            self.windowOffsetLeft = ((self.options.zoomWindowWidth / 2) - (self.nzWidth / 2) + (self.options.borderSize * 2)) * (-1);\n                        }\n                        else { //negative margin\n\n                        }\n\n                        break;\n                    case 15://done   \n                        self.windowOffsetTop = (self.zoomWindow.height() + (self.options.borderSize * 2)) * (-1); //DONE 12,13,14,15,16\n                        self.windowOffsetLeft = (self.nzWidth - self.zoomWindow.width() - (self.options.borderSize * 2)); //DONE - 5,15\n                        break;\n                    case 16:  //done  \n                        self.windowOffsetTop = (self.zoomWindow.height() + (self.options.borderSize * 2)) * (-1); //DONE 12,13,14,15,16\n                        self.windowOffsetLeft = (self.nzWidth); //DONE 1, 2, 3, 4, 16\n                        break;\n                    default: //done  \n                        self.windowOffsetTop = (self.options.zoomWindowOffety);//DONE - 1\n                        self.windowOffsetLeft = (self.nzWidth); //DONE 1, 2, 3, 4, 16\n                }\n            } //end isNAN\n            else {\n                //WE CAN POSITION IN A CLASS - ASSUME THAT ANY STRING PASSED IS\n                self.externalContainer = $('#' + self.options.zoomWindowPosition);\n                self.externalContainerWidth = self.externalContainer.width();\n                self.externalContainerHeight = self.externalContainer.height();\n                self.externalContainerOffset = self.externalContainer.offset();\n\n                self.windowOffsetTop = self.externalContainerOffset.top;//DONE - 1\n                self.windowOffsetLeft = self.externalContainerOffset.left; //DONE 1, 2, 3, 4, 16\n\n            }\n            self.isWindowSet = true;\n            self.windowOffsetTop = self.windowOffsetTop + self.options.zoomWindowOffety;\n            self.windowOffsetLeft = self.windowOffsetLeft + self.options.zoomWindowOffetx;\n\n            self.zoomWindow.css({ top: self.windowOffsetTop });\n            self.zoomWindow.css({ left: self.windowOffsetLeft });\n\n            if (self.options.zoomType == \"inner\") {\n                self.zoomWindow.css({ top: 0 });\n                self.zoomWindow.css({ left: 0 });\n\n            }\n\n\n            self.windowLeftPos = String(((e.pageX - self.nzOffset.left) * self.widthRatio - self.zoomWindow.width() / 2) * (-1));\n            self.windowTopPos = String(((e.pageY - self.nzOffset.top) * self.heightRatio - self.zoomWindow.height() / 2) * (-1));\n            if (self.Etoppos) { self.windowTopPos = 0; }\n            if (self.Eloppos) { self.windowLeftPos = 0; }\n            if (self.Eboppos) { self.windowTopPos = (self.largeHeight / self.currentZoomLevel - self.zoomWindow.height()) * (-1); }\n            if (self.Eroppos) { self.windowLeftPos = ((self.largeWidth / self.currentZoomLevel - self.zoomWindow.width()) * (-1)); }\n\n            //stops micro movements\n            if (self.fullheight) {\n                self.windowTopPos = 0;\n\n            }\n            if (self.fullwidth) {\n                self.windowLeftPos = 0;\n\n            }\n            //set the css background position \n\n\n            if (self.options.zoomType == \"window\" || self.options.zoomType == \"inner\") {\n\n                if (self.zoomLock == 1) {\n                    //overrides for images not zoomable\n                    if (self.widthRatio <= 1) {\n\n                        self.windowLeftPos = 0;\n                    }\n                    if (self.heightRatio <= 1) {\n                        self.windowTopPos = 0;\n                    }\n                }\n                // adjust images less than the window height\n\n                if (self.options.zoomType == \"window\") {\n                    if (self.largeHeight < self.options.zoomWindowHeight) {\n\n                        self.windowTopPos = 0;\n                    }\n                    if (self.largeWidth < self.options.zoomWindowWidth) {\n                        self.windowLeftPos = 0;\n                    }\n                }\n\n                //set the zoomwindow background position\n                if (self.options.easing) {\n\n                    //     if(self.changeZoom){\n                    //           clearInterval(self.loop);\n                    //           self.changeZoom = false;\n                    //           self.loop = false;\n\n                    //            }\n                    //set the pos to 0 if not set\n                    if (!self.xp) { self.xp = 0; }\n                    if (!self.yp) { self.yp = 0; }\n                    //if loop not already started, then run it \n                    if (!self.loop) {\n                        self.loop = setInterval(function () {\n                            //using zeno's paradox    \n\n                            self.xp += (self.windowLeftPos - self.xp) / self.options.easingAmount;\n                            self.yp += (self.windowTopPos - self.yp) / self.options.easingAmount;\n                            if (self.scrollingLock) {\n\n\n                                clearInterval(self.loop);\n                                self.xp = self.windowLeftPos;\n                                self.yp = self.windowTopPos\n\n                                self.xp = ((e.pageX - self.nzOffset.left) * self.widthRatio - self.zoomWindow.width() / 2) * (-1);\n                                self.yp = (((e.pageY - self.nzOffset.top) * self.heightRatio - self.zoomWindow.height() / 2) * (-1));\n\n                                if (self.changeBgSize) {\n                                    if (self.nzHeight > self.nzWidth) {\n                                        if (self.options.zoomType == \"lens\") {\n                                            self.zoomLens.css({ \"background-size\": self.largeWidth / self.newvalueheight + 'px ' + self.largeHeight / self.newvalueheight + 'px' });\n                                        }\n                                        self.zoomWindow.css({ \"background-size\": self.largeWidth / self.newvalueheight + 'px ' + self.largeHeight / self.newvalueheight + 'px' });\n                                    }\n                                    else {\n                                        if (self.options.zoomType != \"lens\") {\n                                            self.zoomLens.css({ \"background-size\": self.largeWidth / self.newvaluewidth + 'px ' + self.largeHeight / self.newvalueheight + 'px' });\n                                        }\n                                        self.zoomWindow.css({ \"background-size\": self.largeWidth / self.newvaluewidth + 'px ' + self.largeHeight / self.newvaluewidth + 'px' });\n\n                                    }\n\n                                    /*\n         if(!self.bgxp){self.bgxp = self.largeWidth/self.newvalue;}\n                    if(!self.bgyp){self.bgyp = self.largeHeight/self.newvalue ;}  \n             if (!self.bgloop){   \n                  self.bgloop = setInterval(function(){   \n\n             self.bgxp += (self.largeWidth/self.newvalue  - self.bgxp) / self.options.easingAmount; \n                            self.bgyp += (self.largeHeight/self.newvalue  - self.bgyp) / self.options.easingAmount;\n\n       self.zoomWindow.css({ \"background-size\": self.bgxp + 'px ' + self.bgyp + 'px' });\n\n\n              }, 16);\n\n             }\n                                     */\n                                    self.changeBgSize = false;\n                                }\n\n                                self.zoomWindow.css({ backgroundPosition: self.windowLeftPos + 'px ' + self.windowTopPos + 'px' });\n                                self.scrollingLock = false;\n                                self.loop = false;\n\n                            }\n                            else if (Math.round(Math.abs(self.xp - self.windowLeftPos) + Math.abs(self.yp - self.windowTopPos)) < 1) {\n                                //stops micro movements\n                                clearInterval(self.loop);\n                                self.zoomWindow.css({ backgroundPosition: self.windowLeftPos + 'px ' + self.windowTopPos + 'px' });\n                                self.loop = false;\n                            }\n                            else {\n                                if (self.changeBgSize) {\n                                    if (self.nzHeight > self.nzWidth) {\n                                        if (self.options.zoomType == \"lens\") {\n                                            self.zoomLens.css({ \"background-size\": self.largeWidth / self.newvalueheight + 'px ' + self.largeHeight / self.newvalueheight + 'px' });\n                                        }\n                                        self.zoomWindow.css({ \"background-size\": self.largeWidth / self.newvalueheight + 'px ' + self.largeHeight / self.newvalueheight + 'px' });\n                                    }\n                                    else {\n                                        if (self.options.zoomType != \"lens\") {\n                                            self.zoomLens.css({ \"background-size\": self.largeWidth / self.newvaluewidth + 'px ' + self.largeHeight / self.newvaluewidth + 'px' });\n                                        }\n                                        self.zoomWindow.css({ \"background-size\": self.largeWidth / self.newvaluewidth + 'px ' + self.largeHeight / self.newvaluewidth + 'px' });\n                                    }\n                                    self.changeBgSize = false;\n                                }\n\n                                self.zoomWindow.css({ backgroundPosition: self.xp + 'px ' + self.yp + 'px' });\n                            }\n                        }, 16);\n                    }\n                }\n                else {\n                    if (self.changeBgSize) {\n                        if (self.nzHeight > self.nzWidth) {\n                            if (self.options.zoomType == \"lens\") {\n                                self.zoomLens.css({ \"background-size\": self.largeWidth / self.newvalueheight + 'px ' + self.largeHeight / self.newvalueheight + 'px' });\n                            }\n\n                            self.zoomWindow.css({ \"background-size\": self.largeWidth / self.newvalueheight + 'px ' + self.largeHeight / self.newvalueheight + 'px' });\n                        }\n                        else {\n                            if (self.options.zoomType == \"lens\") {\n                                self.zoomLens.css({ \"background-size\": self.largeWidth / self.newvaluewidth + 'px ' + self.largeHeight / self.newvaluewidth + 'px' });\n                            }\n                            if ((self.largeHeight / self.newvaluewidth) < self.options.zoomWindowHeight) {\n\n                                self.zoomWindow.css({ \"background-size\": self.largeWidth / self.newvaluewidth + 'px ' + self.largeHeight / self.newvaluewidth + 'px' });\n                            }\n                            else {\n\n                                self.zoomWindow.css({ \"background-size\": self.largeWidth / self.newvalueheight + 'px ' + self.largeHeight / self.newvalueheight + 'px' });\n                            }\n\n                        }\n                        self.changeBgSize = false;\n                    }\n\n                    self.zoomWindow.css({ backgroundPosition: self.windowLeftPos + 'px ' + self.windowTopPos + 'px' });\n                }\n            }\n        },\n        setTintPosition: function (e) {\n            var self = this;\n            self.nzOffset = self.$elem.offset();\n            self.tintpos = String(((e.pageX - self.nzOffset.left) - (self.zoomLens.width() / 2)) * (-1));\n            self.tintposy = String(((e.pageY - self.nzOffset.top) - self.zoomLens.height() / 2) * (-1));\n            if (self.Etoppos) {\n                self.tintposy = 0;\n            }\n            if (self.Eloppos) {\n                self.tintpos = 0;\n            }\n            if (self.Eboppos) {\n                self.tintposy = (self.nzHeight - self.zoomLens.height() - (self.options.lensBorderSize * 2)) * (-1);\n            }\n            if (self.Eroppos) {\n                self.tintpos = ((self.nzWidth - self.zoomLens.width() - (self.options.lensBorderSize * 2)) * (-1));\n            }\n            if (self.options.tint) {\n                //stops micro movements\n                if (self.fullheight) {\n                    self.tintposy = 0;\n\n                }\n                if (self.fullwidth) {\n                    self.tintpos = 0;\n\n                }\n                self.zoomTintImage.css({ 'left': self.tintpos + 'px' });\n                self.zoomTintImage.css({ 'top': self.tintposy + 'px' });\n            }\n        },\n\n        swaptheimage: function (smallimage, largeimage) {\n            var self = this;\n            var newImg = new Image();\n\n            if (self.options.loadingIcon) {\n                self.spinner = $('<div style=\"background: url(\\'' + self.options.loadingIcon + '\\') no-repeat center;height:' + self.nzHeight + 'px;width:' + self.nzWidth + 'px;z-index: 2000;position: absolute; background-position: center center;\"></div>');\n                self.$elem.after(self.spinner);\n            }\n\n            self.options.onImageSwap(self.$elem);\n\n            newImg.onload = function () {\n                self.largeWidth = newImg.width;\n                self.largeHeight = newImg.height;\n                self.zoomImage = largeimage;\n                self.zoomWindow.css({ \"background-size\": self.largeWidth + 'px ' + self.largeHeight + 'px' });\n                self.swapAction(smallimage, largeimage);\n                return;\n            }\n            newImg.src = largeimage; // this must be done AFTER setting onload\n\n        },\n        swapAction: function (smallimage, largeimage) {\n\n\n            var self = this;\n\n            var newImg2 = new Image();\n            newImg2.onload = function () {\n                //re-calculate values\n                self.nzHeight = newImg2.height;\n                self.nzWidth = newImg2.width;\n                self.options.onImageSwapComplete(self.$elem);\n\n                self.doneCallback();\n                return;\n            }\n            newImg2.src = smallimage;\n\n            //reset the zoomlevel to that initially set in options\n            self.currentZoomLevel = self.options.zoomLevel;\n            self.options.maxZoomLevel = false;\n\n            //swaps the main image\n            //self.$elem.attr(\"src\",smallimage);\n            //swaps the zoom image     \n            if (self.options.zoomType == \"lens\") {\n                self.zoomLens.css({ backgroundImage: \"url('\" + largeimage + \"')\" });\n            }\n            if (self.options.zoomType == \"window\") {\n                self.zoomWindow.css({ backgroundImage: \"url('\" + largeimage + \"')\" });\n            }\n            if (self.options.zoomType == \"inner\") {\n                self.zoomWindow.css({ backgroundImage: \"url('\" + largeimage + \"')\" });\n            }\n\n\n\n            self.currentImage = largeimage;\n\n            if (self.options.imageCrossfade) {\n                var oldImg = self.$elem;\n                var newImg = oldImg.clone();\n                self.$elem.attr(\"src\", smallimage)\n                self.$elem.after(newImg);\n                newImg.stop(true).fadeOut(self.options.imageCrossfade, function () {\n                    $(this).remove();\n                });\n\n                //       \t\t\t\tif(self.options.zoomType == \"inner\"){\n                //remove any attributes on the cloned image so we can resize later\n                self.$elem.width(\"auto\").removeAttr(\"width\");\n                self.$elem.height(\"auto\").removeAttr(\"height\");\n                //   }\n\n                oldImg.fadeIn(self.options.imageCrossfade);\n\n                if (self.options.tint && self.options.zoomType != \"inner\") {\n\n                    var oldImgTint = self.zoomTintImage;\n                    var newImgTint = oldImgTint.clone();\n                    self.zoomTintImage.attr(\"src\", largeimage)\n                    self.zoomTintImage.after(newImgTint);\n                    newImgTint.stop(true).fadeOut(self.options.imageCrossfade, function () {\n                        $(this).remove();\n                    });\n\n\n\n                    oldImgTint.fadeIn(self.options.imageCrossfade);\n\n\n                    //self.zoomTintImage.attr(\"width\",elem.data(\"image\"));\n\n                    //resize the tint window\n                    self.zoomTint.css({ height: self.$elem.height() });\n                    self.zoomTint.css({ width: self.$elem.width() });\n                }\n\n                self.zoomContainer.css(\"height\", self.$elem.height());\n                self.zoomContainer.css(\"width\", self.$elem.width());\n\n                if (self.options.zoomType == \"inner\") {\n                    if (!self.options.constrainType) {\n                        self.zoomWrap.parent().css(\"height\", self.$elem.height());\n                        self.zoomWrap.parent().css(\"width\", self.$elem.width());\n\n                        self.zoomWindow.css(\"height\", self.$elem.height());\n                        self.zoomWindow.css(\"width\", self.$elem.width());\n                    }\n                }\n\n                if (self.options.imageCrossfade) {\n                    self.zoomWrap.css(\"height\", self.$elem.height());\n                    self.zoomWrap.css(\"width\", self.$elem.width());\n                }\n            }\n            else {\n                self.$elem.attr(\"src\", smallimage);\n                if (self.options.tint) {\n                    self.zoomTintImage.attr(\"src\", largeimage);\n                    //self.zoomTintImage.attr(\"width\",elem.data(\"image\"));\n                    self.zoomTintImage.attr(\"height\", self.$elem.height());\n                    //self.zoomTintImage.attr('src') = elem.data(\"image\");\n                    self.zoomTintImage.css({ height: self.$elem.height() });\n                    self.zoomTint.css({ height: self.$elem.height() });\n\n                }\n                self.zoomContainer.css(\"height\", self.$elem.height());\n                self.zoomContainer.css(\"width\", self.$elem.width());\n\n                if (self.options.imageCrossfade) {\n                    self.zoomWrap.css(\"height\", self.$elem.height());\n                    self.zoomWrap.css(\"width\", self.$elem.width());\n                }\n            }\n            if (self.options.constrainType) {\n\n                //This will contrain the image proportions\n                if (self.options.constrainType == \"height\") {\n\n                    self.zoomContainer.css(\"height\", self.options.constrainSize);\n                    self.zoomContainer.css(\"width\", \"auto\");\n\n                    if (self.options.imageCrossfade) {\n                        self.zoomWrap.css(\"height\", self.options.constrainSize);\n                        self.zoomWrap.css(\"width\", \"auto\");\n                        self.constwidth = self.zoomWrap.width();\n\n\n                    }\n                    else {\n                        self.$elem.css(\"height\", self.options.constrainSize);\n                        self.$elem.css(\"width\", \"auto\");\n                        self.constwidth = self.$elem.width();\n                    }\n\n                    if (self.options.zoomType == \"inner\") {\n\n                        self.zoomWrap.parent().css(\"height\", self.options.constrainSize);\n                        self.zoomWrap.parent().css(\"width\", self.constwidth);\n                        self.zoomWindow.css(\"height\", self.options.constrainSize);\n                        self.zoomWindow.css(\"width\", self.constwidth);\n                    }\n                    if (self.options.tint) {\n                        self.tintContainer.css(\"height\", self.options.constrainSize);\n                        self.tintContainer.css(\"width\", self.constwidth);\n                        self.zoomTint.css(\"height\", self.options.constrainSize);\n                        self.zoomTint.css(\"width\", self.constwidth);\n                        self.zoomTintImage.css(\"height\", self.options.constrainSize);\n                        self.zoomTintImage.css(\"width\", self.constwidth);\n                    }\n\n                }\n                if (self.options.constrainType == \"width\") {\n                    self.zoomContainer.css(\"height\", \"auto\");\n                    self.zoomContainer.css(\"width\", self.options.constrainSize);\n\n                    if (self.options.imageCrossfade) {\n                        self.zoomWrap.css(\"height\", \"auto\");\n                        self.zoomWrap.css(\"width\", self.options.constrainSize);\n                        self.constheight = self.zoomWrap.height();\n                    }\n                    else {\n                        self.$elem.css(\"height\", \"auto\");\n                        self.$elem.css(\"width\", self.options.constrainSize);\n                        self.constheight = self.$elem.height();\n                    }\n                    if (self.options.zoomType == \"inner\") {\n                        self.zoomWrap.parent().css(\"height\", self.constheight);\n                        self.zoomWrap.parent().css(\"width\", self.options.constrainSize);\n                        self.zoomWindow.css(\"height\", self.constheight);\n                        self.zoomWindow.css(\"width\", self.options.constrainSize);\n                    }\n                    if (self.options.tint) {\n                        self.tintContainer.css(\"height\", self.constheight);\n                        self.tintContainer.css(\"width\", self.options.constrainSize);\n                        self.zoomTint.css(\"height\", self.constheight);\n                        self.zoomTint.css(\"width\", self.options.constrainSize);\n                        self.zoomTintImage.css(\"height\", self.constheight);\n                        self.zoomTintImage.css(\"width\", self.options.constrainSize);\n                    }\n\n                }\n\n\n            }\n\n        },\n        doneCallback: function () {\n\n            var self = this;\n            if (self.options.loadingIcon) {\n                self.spinner.hide();\n            }\n\n            self.nzOffset = self.$elem.offset();\n            self.nzWidth = self.$elem.width();\n            self.nzHeight = self.$elem.height();\n\n            // reset the zoomlevel back to default\n            self.currentZoomLevel = self.options.zoomLevel;\n\n            //ratio of the large to small image\n            self.widthRatio = self.largeWidth / self.nzWidth;\n            self.heightRatio = self.largeHeight / self.nzHeight;\n\n            //NEED TO ADD THE LENS SIZE FOR ROUND\n            // adjust images less than the window height\n            if (self.options.zoomType == \"window\") {\n\n                if (self.nzHeight < self.options.zoomWindowWidth / self.widthRatio) {\n                    lensHeight = self.nzHeight;\n\n                }\n                else {\n                    lensHeight = String((self.options.zoomWindowHeight / self.heightRatio))\n                }\n\n                if (self.options.zoomWindowWidth < self.options.zoomWindowWidth) {\n                    lensWidth = self.nzWidth;\n                }\n                else {\n                    lensWidth = (self.options.zoomWindowWidth / self.widthRatio);\n                }\n\n\n                if (self.zoomLens) {\n\n                    self.zoomLens.css('width', lensWidth);\n                    self.zoomLens.css('height', lensHeight);\n\n\n                }\n            }\n        },\n        getCurrentImage: function () {\n            var self = this;\n            return self.zoomImage;\n        },\n        getGalleryList: function () {\n            var self = this;\n            //loop through the gallery options and set them in list for fancybox\n            self.gallerylist = [];\n            if (self.options.gallery) {\n\n\n                $('#' + self.options.gallery + ' a').each(function () {\n\n                    var img_src = '';\n                    if ($(this).data(\"zoom-image\")) {\n                        img_src = $(this).data(\"zoom-image\");\n                    }\n                    else if ($(this).data(\"image\")) {\n                        img_src = $(this).data(\"image\");\n                    }\n                    //put the current image at the start\n                    if (img_src == self.zoomImage) {\n                        self.gallerylist.unshift({\n                            href: '' + img_src + '',\n                            title: $(this).find('img').attr(\"title\")\n                        });\n                    }\n                    else {\n                        self.gallerylist.push({\n                            href: '' + img_src + '',\n                            title: $(this).find('img').attr(\"title\")\n                        });\n                    }\n\n\n                });\n            }\n            //if no gallery - return current image\n            else {\n                self.gallerylist.push({\n                    href: '' + self.zoomImage + '',\n                    title: $(this).find('img').attr(\"title\")\n                });\n            }\n            return self.gallerylist;\n\n        },\n        changeZoomLevel: function (value) {\n            var self = this;\n\n            //flag a zoom, so can adjust the easing during setPosition     \n            self.scrollingLock = true;\n\n            //round to two decimal places\n            self.newvalue = parseFloat(value).toFixed(2);\n            newvalue = parseFloat(value).toFixed(2);\n\n\n\n\n            //maxwidth & Maxheight of the image\n            maxheightnewvalue = self.largeHeight / ((self.options.zoomWindowHeight / self.nzHeight) * self.nzHeight);\n            maxwidthtnewvalue = self.largeWidth / ((self.options.zoomWindowWidth / self.nzWidth) * self.nzWidth);\n\n\n\n\n            //calculate new heightratio\n            if (self.options.zoomType != \"inner\") {\n                if (maxheightnewvalue <= newvalue) {\n                    self.heightRatio = (self.largeHeight / maxheightnewvalue) / self.nzHeight;\n                    self.newvalueheight = maxheightnewvalue;\n                    self.fullheight = true;\n\n                }\n                else {\n                    self.heightRatio = (self.largeHeight / newvalue) / self.nzHeight;\n                    self.newvalueheight = newvalue;\n                    self.fullheight = false;\n\n                }\n\n\n                //\t\t\t\t\tcalculate new width ratio\n\n                if (maxwidthtnewvalue <= newvalue) {\n                    self.widthRatio = (self.largeWidth / maxwidthtnewvalue) / self.nzWidth;\n                    self.newvaluewidth = maxwidthtnewvalue;\n                    self.fullwidth = true;\n\n                }\n                else {\n                    self.widthRatio = (self.largeWidth / newvalue) / self.nzWidth;\n                    self.newvaluewidth = newvalue;\n                    self.fullwidth = false;\n\n                }\n                if (self.options.zoomType == \"lens\") {\n                    if (maxheightnewvalue <= newvalue) {\n                        self.fullwidth = true;\n                        self.newvaluewidth = maxheightnewvalue;\n\n                    } else {\n                        self.widthRatio = (self.largeWidth / newvalue) / self.nzWidth;\n                        self.newvaluewidth = newvalue;\n\n                        self.fullwidth = false;\n                    }\n                }\n            }\n\n\n\n            if (self.options.zoomType == \"inner\") {\n                maxheightnewvalue = parseFloat(self.largeHeight / self.nzHeight).toFixed(2);\n                maxwidthtnewvalue = parseFloat(self.largeWidth / self.nzWidth).toFixed(2);\n                if (newvalue > maxheightnewvalue) {\n                    newvalue = maxheightnewvalue;\n                }\n                if (newvalue > maxwidthtnewvalue) {\n                    newvalue = maxwidthtnewvalue;\n                }\n\n\n                if (maxheightnewvalue <= newvalue) {\n\n\n                    self.heightRatio = (self.largeHeight / newvalue) / self.nzHeight;\n                    if (newvalue > maxheightnewvalue) {\n                        self.newvalueheight = maxheightnewvalue;\n                    } else {\n                        self.newvalueheight = newvalue;\n                    }\n                    self.fullheight = true;\n\n\n                }\n                else {\n\n\n\n                    self.heightRatio = (self.largeHeight / newvalue) / self.nzHeight;\n\n                    if (newvalue > maxheightnewvalue) {\n\n                        self.newvalueheight = maxheightnewvalue;\n                    } else {\n                        self.newvalueheight = newvalue;\n                    }\n                    self.fullheight = false;\n                }\n\n\n\n\n                if (maxwidthtnewvalue <= newvalue) {\n\n                    self.widthRatio = (self.largeWidth / newvalue) / self.nzWidth;\n                    if (newvalue > maxwidthtnewvalue) {\n\n                        self.newvaluewidth = maxwidthtnewvalue;\n                    } else {\n                        self.newvaluewidth = newvalue;\n                    }\n\n                    self.fullwidth = true;\n\n\n                }\n                else {\n\n                    self.widthRatio = (self.largeWidth / newvalue) / self.nzWidth;\n                    self.newvaluewidth = newvalue;\n                    self.fullwidth = false;\n                }\n\n\n            } //end inner\n            scrcontinue = false;\n\n            if (self.options.zoomType == \"inner\") {\n\n                if (self.nzWidth >= self.nzHeight) {\n                    if (self.newvaluewidth <= maxwidthtnewvalue) {\n                        scrcontinue = true;\n                    }\n                    else {\n\n                        scrcontinue = false;\n                        self.fullheight = true;\n                        self.fullwidth = true;\n                    }\n                }\n                if (self.nzHeight > self.nzWidth) {\n                    if (self.newvaluewidth <= maxwidthtnewvalue) {\n                        scrcontinue = true;\n                    }\n                    else {\n                        scrcontinue = false;\n\n                        self.fullheight = true;\n                        self.fullwidth = true;\n                    }\n                }\n            }\n\n            if (self.options.zoomType != \"inner\") {\n                scrcontinue = true;\n            }\n\n            if (scrcontinue) {\n\n\n\n                self.zoomLock = 0;\n                self.changeZoom = true;\n\n                //if lens height is less than image height\n\n\n                if (((self.options.zoomWindowHeight) / self.heightRatio) <= self.nzHeight) {\n\n\n                    self.currentZoomLevel = self.newvalueheight;\n                    if (self.options.zoomType != \"lens\" && self.options.zoomType != \"inner\") {\n                        self.changeBgSize = true;\n\n                        self.zoomLens.css({ height: String((self.options.zoomWindowHeight) / self.heightRatio) + 'px' })\n                    }\n                    if (self.options.zoomType == \"lens\" || self.options.zoomType == \"inner\") {\n                        self.changeBgSize = true;\n                    }\n\n\n                }\n\n\n\n\n                if ((self.options.zoomWindowWidth / self.widthRatio) <= self.nzWidth) {\n\n\n\n                    if (self.options.zoomType != \"inner\") {\n                        if (self.newvaluewidth > self.newvalueheight) {\n                            self.currentZoomLevel = self.newvaluewidth;\n\n                        }\n                    }\n\n                    if (self.options.zoomType != \"lens\" && self.options.zoomType != \"inner\") {\n                        self.changeBgSize = true;\n\n                        self.zoomLens.css({ width: String((self.options.zoomWindowWidth) / self.widthRatio) + 'px' })\n                    }\n                    if (self.options.zoomType == \"lens\" || self.options.zoomType == \"inner\") {\n                        self.changeBgSize = true;\n                    }\n\n                }\n                if (self.options.zoomType == \"inner\") {\n                    self.changeBgSize = true;\n\n                    if (self.nzWidth > self.nzHeight) {\n                        self.currentZoomLevel = self.newvaluewidth;\n                    }\n                    if (self.nzHeight > self.nzWidth) {\n                        self.currentZoomLevel = self.newvaluewidth;\n                    }\n                }\n\n            }      //under\n\n            //sets the boundry change, called in setWindowPos\n            self.setPosition(self.currentLoc);\n            //\n        },\n        closeAll: function () {\n            if (self.zoomWindow) { self.zoomWindow.hide(); }\n            if (self.zoomLens) { self.zoomLens.hide(); }\n            if (self.zoomTint) { self.zoomTint.hide(); }\n        },\n        changeState: function (value) {\n            var self = this;\n            if (value == 'enable') { self.options.zoomEnabled = true; }\n            if (value == 'disable') { self.options.zoomEnabled = false; }\n\n        }\n\n    };\n\n    $.fn.elevateZoom = function (options) {\n        return this.each(function () {\n            var elevate = Object.create(ElevateZoom);\n\n            elevate.init(options, this);\n\n            $.data(this, 'elevateZoom', elevate);\n\n        });\n    };\n\n    $.fn.elevateZoom.options = {\n        imageSrc: null,\n        zoomActivation: \"hover\", // Can also be click (PLACEHOLDER FOR NEXT VERSION)\n        zoomEnabled: true, //false disables zoomwindow from showing\n        preloading: 1, //by default, load all the images, if 0, then only load images after activated (PLACEHOLDER FOR NEXT VERSION)\n        zoomLevel: 1, //default zoom level of image\n        scrollZoom: false, //allow zoom on mousewheel, true to activate\n        scrollZoomIncrement: 0.1,  //steps of the scrollzoom\n        minZoomLevel: false,\n        maxZoomLevel: false,\n        easing: false,\n        easingAmount: 12,\n        lensSize: 200,\n        zoomWindowWidth: 400,\n        zoomWindowHeight: 400,\n        zoomWindowOffetx: 0,\n        zoomWindowOffety: 0,\n        zoomWindowPosition: 1,\n        zoomWindowBgColour: \"#fff\",\n        lensFadeIn: false,\n        lensFadeOut: false,\n        debug: false,\n        zoomWindowFadeIn: false,\n        zoomWindowFadeOut: false,\n        zoomWindowAlwaysShow: false,\n        zoomTintFadeIn: false,\n        zoomTintFadeOut: false,\n        borderSize: 4,\n        showLens: true,\n        borderColour: \"#888\",\n        lensBorderSize: 1,\n        lensBorderColour: \"#000\",\n        lensShape: \"square\", //can be \"round\"\n        zoomType: \"window\", //window is default,  also \"lens\" available -\n        containLensZoom: false,\n        lensColour: \"white\", //colour of the lens background\n        lensOpacity: 0.4, //opacity of the lens\n        lenszoom: false,\n        tint: false, //enable the tinting\n        tintColour: \"#333\", //default tint color, can be anything, red, #ccc, rgb(0,0,0)\n        tintOpacity: 0.4, //opacity of the tint\n        gallery: false,\n        galleryActiveClass: \"zoomGalleryActive\",\n        imageCrossfade: false,\n        constrainType: false,  //width or height\n        constrainSize: false,  //in pixels the dimensions you want to constrain on\n        loadingIcon: false, //http://www.example.com/spinner.gif\n        cursor: \"default\", // user should set to what they want the cursor as, if they have set a click function\n        responsive: true,\n        onComplete: $.noop,\n        onDestroy: function () { },\n        onZoomedImageLoaded: function () { },\n        onImageSwap: $.noop,\n        onImageSwapComplete: $.noop\n    };\n\n})(jQuery, window, document);","// jquery.daterangepicker.js\n// author : Chunlong Liu\n// license : MIT\n// www.jszen.com\n\n(function(factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery', 'moment'], factory);\n    } else if (typeof exports === 'object' && typeof module !== 'undefined') {\n        // CommonJS. Register as a module\n        module.exports = factory(require('jquery'), require('moment'));\n    } else {\n        // Browser globals\n        factory(jQuery, moment);\n    }\n}(function($, moment) {\n    'use strict';\n    $.dateRangePickerLanguages = {\n        \"default\": //default language: English\n        {\n            \"selected\": \"Selected:\",\n            \"day\": \"Day\",\n            \"days\": \"Days\",\n            \"apply\": \"Close\",\n            \"week-1\": \"mo\",\n            \"week-2\": \"tu\",\n            \"week-3\": \"we\",\n            \"week-4\": \"th\",\n            \"week-5\": \"fr\",\n            \"week-6\": \"sa\",\n            \"week-7\": \"su\",\n            \"week-number\": \"W\",\n            \"month-name\": [\"january\", \"february\", \"march\", \"april\", \"may\", \"june\", \"july\", \"august\", \"september\", \"october\", \"november\", \"december\"],\n            \"shortcuts\": \"Shortcuts\",\n            \"custom-values\": \"Custom Values\",\n            \"past\": \"Past\",\n            \"following\": \"Following\",\n            \"previous\": \"Previous\",\n            \"prev-week\": \"Week\",\n            \"prev-month\": \"Month\",\n            \"prev-year\": \"Year\",\n            \"next\": \"Next\",\n            \"next-week\": \"Week\",\n            \"next-month\": \"Month\",\n            \"next-year\": \"Year\",\n            \"less-than\": \"Date range should not be more than %d days\",\n            \"more-than\": \"Date range should not be less than %d days\",\n            \"default-more\": \"Please select a date range longer than %d days\",\n            \"default-single\": \"Please select a date\",\n            \"default-less\": \"Please select a date range less than %d days\",\n            \"default-range\": \"Please select a date range between %d and %d days\",\n            \"default-default\": \"Please select a date range\",\n            \"time\": \"Time\",\n            \"hour\": \"Hour\",\n            \"minute\": \"Minute\"\n        },\n        \"de\": {\n            \"selected\": \"Auswahl:\",\n            \"day\": \"Tag\",\n            \"days\": \"Tage\",\n            \"apply\": \"Schlieen\",\n            \"week-1\": \"mo\",\n            \"week-2\": \"di\",\n            \"week-3\": \"mi\",\n            \"week-4\": \"do\",\n            \"week-5\": \"fr\",\n            \"week-6\": \"sa\",\n            \"week-7\": \"so\",\n            \"month-name\": [\"januar\", \"februar\", \"mrz\", \"april\", \"mai\", \"juni\", \"juli\", \"august\", \"september\", \"oktober\", \"november\", \"dezember\"],\n            \"shortcuts\": \"Schnellwahl\",\n            \"past\": \"Vorherige\",\n            \"following\": \"Folgende\",\n            \"previous\": \"Vorherige\",\n            \"prev-week\": \"Woche\",\n            \"prev-month\": \"Monat\",\n            \"prev-year\": \"Jahr\",\n            \"next\": \"Nchste\",\n            \"next-week\": \"Woche\",\n            \"next-month\": \"Monat\",\n            \"next-year\": \"Jahr\",\n            \"less-than\": \"Datumsbereich darf nicht grer sein als %d Tage\",\n            \"more-than\": \"Datumsbereich darf nicht kleiner sein als %d Tage\",\n            \"default-more\": \"Bitte mindestens %d Tage auswhlen\",\n            \"default-single\": \"Bitte ein Datum auswhlen\",\n            \"default-less\": \"Bitte weniger als %d Tage auswhlen\",\n            \"default-range\": \"Bitte einen Datumsbereich zwischen %d und %d Tagen auswhlen\",\n            \"default-default\": \"Bitte ein Start- und Enddatum auswhlen\",\n            \"Time\": \"Zeit\",\n            \"hour\": \"Stunde\",\n            \"minute\": \"Minute\"\n        },\n        \"es\": {\n            \"selected\": \"Seleccionado:\",\n            \"day\": \"Da\",\n            \"days\": \"Das\",\n            \"apply\": \"Cerrar\",\n            \"week-1\": \"lu\",\n            \"week-2\": \"ma\",\n            \"week-3\": \"mi\",\n            \"week-4\": \"ju\",\n            \"week-5\": \"vi\",\n            \"week-6\": \"sa\",\n            \"week-7\": \"do\",\n            \"month-name\": [\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\"],\n            \"shortcuts\": \"Accesos directos\",\n            \"past\": \"Pasado\",\n            \"following\": \"Siguiente\",\n            \"previous\": \"Anterior\",\n            \"prev-week\": \"Semana\",\n            \"prev-month\": \"Mes\",\n            \"prev-year\": \"Ao\",\n            \"next\": \"Siguiente\",\n            \"next-week\": \"Semana\",\n            \"next-month\": \"Mes\",\n            \"next-year\": \"Ao\",\n            \"less-than\": \"El rango no debera ser mayor de %d das\",\n            \"more-than\": \"El rango no debera ser menor de %d das\",\n            \"default-more\": \"Por favor selecciona un rango mayor a %d das\",\n            \"default-single\": \"Por favor selecciona un da\",\n            \"default-less\": \"Por favor selecciona un rango menor a %d das\",\n            \"default-range\": \"Por favor selecciona un rango entre %d y %d das\",\n            \"default-default\": \"Por favor selecciona un rango de fechas.\"\n        },\n        \"fr\": {\n            \"selected\": \"Slection:\",\n            \"day\": \"Jour\",\n            \"days\": \"Jours\",\n            \"apply\": \"Fermer\",\n            \"week-1\": \"lu\",\n            \"week-2\": \"ma\",\n            \"week-3\": \"me\",\n            \"week-4\": \"je\",\n            \"week-5\": \"ve\",\n            \"week-6\": \"sa\",\n            \"week-7\": \"di\",\n            \"month-name\": [\"janvier\", \"fvrier\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"aot\", \"septembre\", \"octobre\", \"novembre\", \"dcembre\"],\n            \"shortcuts\": \"Raccourcis\",\n            \"past\": \"Pass\",\n            \"following\": \"Suivant\",\n            \"previous\": \"Prcdent\",\n            \"prev-week\": \"Semaine\",\n            \"prev-month\": \"Mois\",\n            \"prev-year\": \"Anne\",\n            \"next\": \"Suivant\",\n            \"next-week\": \"Semaine\",\n            \"next-month\": \"Mois\",\n            \"next-year\": \"Anne\",\n            \"less-than\": \"L'intervalle ne doit pas tre suprieure  %d jours\",\n            \"more-than\": \"L'intervalle ne doit pas tre infrieure  %d jours\",\n            \"default-more\": \"Merci de choisir une intervalle suprieure  %d jours\",\n            \"default-single\": \"Merci de choisir une date\",\n            \"default-less\": \"Merci de choisir une intervalle infrieure %d jours\",\n            \"default-range\": \"Merci de choisir une intervalle comprise entre %d et %d jours\",\n            \"default-default\": \"Merci de choisir une date\"\n        },\n        \"pt\": //Portuguese (European)\n        {\n            \"selected\": \"Selecionado:\",\n            \"day\": \"Dia\",\n            \"days\": \"Dias\",\n            \"apply\": \"Fechar\",\n            \"week-1\": \"seg\",\n            \"week-2\": \"ter\",\n            \"week-3\": \"qua\",\n            \"week-4\": \"qui\",\n            \"week-5\": \"sex\",\n            \"week-6\": \"sab\",\n            \"week-7\": \"dom\",\n            \"week-number\": \"N\",\n            \"month-name\": [\"janeiro\", \"fevereiro\", \"maro\", \"abril\", \"maio\", \"junho\", \"julho\", \"agosto\", \"setembro\", \"outubro\", \"novembro\", \"dezembro\"],\n            \"shortcuts\": \"Atalhos\",\n            \"custom-values\": \"Valores Personalizados\",\n            \"past\": \"Passado\",\n            \"following\": \"Seguinte\",\n            \"previous\": \"Anterior\",\n            \"prev-week\": \"Semana\",\n            \"prev-month\": \"Ms\",\n            \"prev-year\": \"Ano\",\n            \"next\": \"Prximo\",\n            \"next-week\": \"Prxima Semana\",\n            \"next-month\": \"Prximo Ms\",\n            \"next-year\": \"Prximo Ano\",\n            \"less-than\": \"O perodo selecionado no deve ser maior que %d dias\",\n            \"more-than\": \"O perodo selecionado no deve ser menor que %d dias\",\n            \"default-more\": \"Selecione um perodo superior a %d dias\",\n            \"default-single\": \"Selecione uma data\",\n            \"default-less\": \"Selecione um perodo inferior a %d dias\",\n            \"default-range\": \"Selecione um perodo de %d a %d dias\",\n            \"default-default\": \"Selecione um perodo\",\n            \"time\": \"Tempo\",\n            \"hour\": \"Hora\",\n            \"minute\": \"Minuto\"\n        }\n    };\n\n    $.fn.dateRangePicker = function (opt) {\n        if (!opt) opt = {};\n        opt = $.extend(true, {\n            autoClose: false,\n            format: 'YYYY-MM-DD',\n            separator: ' - ',\n            language: 'auto',\n            startOfWeek: 'sunday', // or monday\n            getValue: function() {\n                return $(this).val();\n            },\n            setValue: function(s) {\n                if (!$(this).attr('readonly') && !$(this).is(':disabled') && s != $(this).val()) {\n                    $(this).val(s);\n                }\n            },\n            startDate: false,\n            endDate: false,\n            time: {\n                enabled: false\n            },\n            minDays: 0,\n            maxDays: 0,\n            customShortcuts: [],\n            inline: false,\n            container: 'body',\n            alwaysOpen: false,\n            singleDate: false,\n            lookBehind: false,\n            batchMode: false,\n            highlightToday: false,\n            duration: 200,\n            stickyMonths: false,\n            dayDivAttrs: [],\n            dayTdAttrs: [],\n            selectForward: false,\n            selectBackward: false,\n            applyBtnClass: '',\n            singleMonth: 'auto',\n            hoveringTooltip: function(days, startTime, hoveringTime) {\n                return days > 1 ? days + ' ' + translate('days') : '';\n            },\n            showTopbar: true,\n            swapTime: false,\n            showWeekNumbers: false,\n            getWeekNumber: function(date) //date will be the first day of a week\n            {\n                return moment(date).format('w');\n            },\n            customOpenAnimation: null,\n            customCloseAnimation: null,\n            customArrowPrevSymbol: null,\n            customArrowNextSymbol: null\n        }, opt);\n\n        opt.start = false;\n        opt.end = false;\n\n        opt.startWeek = false;\n\n        //detect a touch device\n        opt.isTouchDevice = 'ontouchstart' in window || navigator.msMaxTouchPoints;\n\n        //if it is a touch device, hide hovering tooltip\n        if (opt.isTouchDevice) opt.hoveringTooltip = false;\n\n        //show one month on mobile devices\n        if (opt.singleMonth == 'auto') opt.singleMonth = $(window).width() < 480;\n        if (opt.singleMonth) opt.stickyMonths = false;\n\n        if (!opt.showTopbar) opt.autoClose = true;\n\n        if (opt.startDate && typeof opt.startDate == 'string') opt.startDate = moment(opt.startDate, opt.format).toDate();\n        if (opt.endDate && typeof opt.endDate == 'string') opt.endDate = moment(opt.endDate, opt.format).toDate();\n\n        var languages = getLanguages();\n        var box;\n        var initiated = false;\n        var self = this;\n        var selfDom = $(self).get(0);\n        var domChangeTimer;\n\n        $(this).unbind('.datepicker').bind('click.datepicker', function(evt) {\n            var isOpen = box.is(':visible');\n            if (!isOpen) open(opt.duration);\n        }).bind('change.datepicker', function(evt) {\n            checkAndSetDefaultValue();\n        }).bind('keyup.datepicker', function() {\n            try {\n                clearTimeout(domChangeTimer);\n            } catch (e) {}\n            domChangeTimer = setTimeout(function() {\n                checkAndSetDefaultValue();\n            }, 2000);\n        });\n\n        init_datepicker.call(this);\n\n        if (opt.alwaysOpen) {\n            open(0);\n        }\n\n        // expose some api\n        $(this).data('dateRangePicker', {\n            setStart: function (d1, silent) {\n                if (typeof d1 == 'string') {\n                    d1 = moment(d1, opt.format).toDate();\n                }\n\n                opt.end = false;\n                setSingleDate(d1, silent);\n\n                return this;\n            },\n            setEnd: function(d2, silent) {\n                var start = new Date();\n                start.setTime(opt.start);\n                if (typeof d2 == 'string') {\n                    d2 = moment(d2, opt.format).toDate();\n                }\n                setDateRange(start, d2, silent);\n                return this;\n            },\n            setDateRange: function(d1, d2, silent) {\n                if (typeof d1 == 'string' && typeof d2 == 'string') {\n                    d1 = moment(d1, opt.format).toDate();\n                    d2 = moment(d2, opt.format).toDate();\n                }\n                setDateRange(d1, d2, silent);\n            },\n            clear: clearSelection,\n            close: closeDatePicker,\n            open: open,\n            redraw: redrawDatePicker,\n            getDatePicker: getDatePicker,\n            resetMonthsView: resetMonthsView,\n            destroy: function() {\n                $(self).unbind('.datepicker');\n                $(self).data('dateRangePicker', '');\n                $(self).data('date-picker-opened', null);\n                box.remove();\n                $(window).unbind('resize.datepicker', calcPosition);\n                $(document).unbind('click.datepicker', closeDatePicker);\n            }\n        });\n\n        $(window).bind('resize.datepicker', calcPosition);\n\n        return this;\n\n        function IsOwnDatePickerClicked(evt, selfObj) {\n            return (selfObj.contains(evt.target) || evt.target == selfObj || (selfObj.childNodes != undefined && $.inArray(evt.target, selfObj.childNodes) >= 0));\n        }\n\n        function init_datepicker() {\n            var self = this;\n\n            if ($(this).data('date-picker-opened')) {\n                closeDatePicker();\n                return;\n            }\n            $(this).data('date-picker-opened', true);\n\n\n            box = createDom().hide();\n            box.append('<div class=\"date-range-length-tip\"></div>');\n\n            $(opt.container).append(box);\n\n            if (!opt.inline) {\n                calcPosition();\n            } else {\n                box.addClass('inline-wrapper');\n            }\n\n            if (opt.alwaysOpen) {\n                box.find('.apply-btn').hide();\n            }\n\n            var defaultTime = getDefaultTime();\n            resetMonthsView(defaultTime);\n\n            if (opt.time.enabled) {\n                if ((opt.startDate && opt.endDate) || (opt.start && opt.end)) {\n                    showTime(moment(opt.start || opt.startDate).toDate(), 'time1');\n                    showTime(moment(opt.end || opt.endDate).toDate(), 'time2');\n                } else {\n                    var defaultEndTime = opt.defaultEndTime ? opt.defaultEndTime : defaultTime;\n                    showTime(defaultTime, 'time1');\n                    showTime(defaultEndTime, 'time2');\n                }\n            }\n\n            //showSelectedInfo();\n\n\n            var defaultTopText = '';\n            if (opt.singleDate)\n                defaultTopText = translate('default-single');\n            else if (opt.minDays && opt.maxDays)\n                defaultTopText = translate('default-range');\n            else if (opt.minDays)\n                defaultTopText = translate('default-more');\n            else if (opt.maxDays)\n                defaultTopText = translate('default-less');\n            else\n                defaultTopText = translate('default-default');\n\n            box.find('.default-top').html(defaultTopText.replace(/\\%d/, opt.minDays).replace(/\\%d/, opt.maxDays));\n            if (opt.singleMonth) {\n                box.addClass('single-month');\n            } else {\n                box.addClass('two-months');\n            }\n\n            setTimeout(function() {\n                updateCalendarWidth();\n                initiated = true;\n            }, 0);\n\n            box.click(function(evt) {\n                evt.stopPropagation();\n            });\n\n            //if user click other place of the webpage, close date range picker window\n            $(document).bind('click.datepicker', function(evt) {\n                if (!IsOwnDatePickerClicked(evt, self[0])) {\n                    if (box.is(':visible')) closeDatePicker();\n                }\n            });\n\n            box.find('.next').click(function () {\n                $(self).trigger('datepicker-next-month-clicked');\n                if (!opt.stickyMonths)\n                    gotoNextMonth(this);\n                else\n                    gotoNextMonth_stickily(this);\n                $(self).trigger('datepicker-next-month-finish-clicked');\n            });\n\n            function gotoNextMonth(self) {\n                var isMonth2 = $(self).parents('table').hasClass('month2');\n                var month = isMonth2 ? opt.month2 : opt.month1;\n                month = nextMonth(month);\n                if (!opt.singleMonth && !opt.singleDate && !isMonth2 && compare_month(month, opt.month2) >= 0 || isMonthOutOfBounds(month)) return;\n                showMonth(month, isMonth2 ? 'month2' : 'month1');\n                showGap();\n            }\n\n            function gotoNextMonth_stickily(self) {\n                var nextMonth1 = nextMonth(opt.month1);\n                var nextMonth2 = nextMonth(opt.month2);\n                if (isMonthOutOfBounds(nextMonth2)) return;\n                if (!opt.singleDate && compare_month(nextMonth1, nextMonth2) >= 0) return;\n                showMonth(nextMonth1, 'month1');\n                showMonth(nextMonth2, 'month2');\n                showSelectedDays();\n            }\n\n\n            box.find('.prev').click(function () {\n                $(self).trigger('datepicker-prev-month-clicked');\n                if (!opt.stickyMonths)\n                    gotoPrevMonth(this);\n                else\n                    gotoPrevMonth_stickily(this);\n                $(self).trigger('datepicker-prev-month-finish-clicked');\n            });\n\n            function gotoPrevMonth(self) {\n                var isMonth2 = $(self).parents('table').hasClass('month2');\n                var month = isMonth2 ? opt.month2 : opt.month1;\n                month = prevMonth(month);\n                if (isMonth2 && compare_month(month, opt.month1) <= 0 || isMonthOutOfBounds(month)) return;\n                showMonth(month, isMonth2 ? 'month2' : 'month1');\n                showGap();\n            }\n\n            function gotoPrevMonth_stickily(self) {\n                var prevMonth1 = prevMonth(opt.month1);\n                var prevMonth2 = prevMonth(opt.month2);\n                if (isMonthOutOfBounds(prevMonth1)) return;\n                if (!opt.singleDate && compare_month(prevMonth2, prevMonth1) <= 0) return;\n                showMonth(prevMonth2, 'month2');\n                showMonth(prevMonth1, 'month1');\n                showSelectedDays();\n            }\n\n            box.attr('unselectable', 'on')\n                .css('user-select', 'none')\n                .bind('selectstart', function(e) {\n                    e.preventDefault();\n                    return false;\n                });\n\n            box.find('.apply-btn').click(function() {\n                closeDatePicker();\n                var dateRange = getDateString(new Date(opt.start)) + opt.separator + getDateString(new Date(opt.end));\n                $(self).trigger('datepicker-apply', {\n                    'value': dateRange,\n                    'date1': new Date(opt.start),\n                    'date2': new Date(opt.end)\n                });\n            });\n\n            box.find('[custom]').click(function() {\n                var valueName = $(this).attr('custom');\n                opt.start = false;\n                opt.end = false;\n                box.find('.day.checked').removeClass('checked');\n                opt.setValue.call(selfDom, valueName);\n                checkSelectionValid();\n                showSelectedInfo(true);\n                showSelectedDays();\n                if (opt.autoClose) closeDatePicker();\n            });\n\n            box.find('[shortcut]').click(function() {\n                var shortcut = $(this).attr('shortcut');\n                var end = new Date(),\n                    start = false;\n                var dir;\n                if (shortcut.indexOf('day') != -1) {\n                    var day = parseInt(shortcut.split(',', 2)[1], 10);\n                    start = new Date(new Date().getTime() + 86400000 * day);\n                    end = new Date(end.getTime() + 86400000 * (day > 0 ? 1 : -1));\n                } else if (shortcut.indexOf('week') != -1) {\n                    dir = shortcut.indexOf('prev,') != -1 ? -1 : 1;\n                    var stopDay;\n                    if (dir == 1)\n                        stopDay = opt.startOfWeek == 'monday' ? 1 : 0;\n                    else\n                        stopDay = opt.startOfWeek == 'monday' ? 0 : 6;\n\n                    end = new Date(end.getTime() - 86400000);\n                    while (end.getDay() != stopDay) end = new Date(end.getTime() + dir * 86400000);\n                    start = new Date(end.getTime() + dir * 86400000 * 6);\n                } else if (shortcut.indexOf('month') != -1) {\n                    dir = shortcut.indexOf('prev,') != -1 ? -1 : 1;\n                    if (dir == 1)\n                        start = nextMonth(end);\n                    else\n                        start = prevMonth(end);\n                    start.setDate(1);\n                    end = nextMonth(start);\n                    end.setDate(1);\n                    end = new Date(end.getTime() - 86400000);\n                } else if (shortcut.indexOf('year') != -1) {\n                    dir = shortcut.indexOf('prev,') != -1 ? -1 : 1;\n                    start = new Date();\n                    start.setFullYear(end.getFullYear() + dir);\n                    start.setMonth(0);\n                    start.setDate(1);\n                    end.setFullYear(end.getFullYear() + dir);\n                    end.setMonth(11);\n                    end.setDate(31);\n                } else if (shortcut == 'custom') {\n                    var name = $(this).html();\n                    if (opt.customShortcuts && opt.customShortcuts.length > 0) {\n                        for (var i = 0; i < opt.customShortcuts.length; i++) {\n                            var sh = opt.customShortcuts[i];\n                            if (sh.name == name) {\n                                var data = [];\n                                // try\n                                // {\n                                data = sh['dates'].call();\n                                //}catch(e){}\n                                if (data && data.length == 2) {\n                                    start = data[0];\n                                    end = data[1];\n                                }\n\n                                // if only one date is specified then just move calendars there\n                                // move calendars to show this date's month and next months\n                                if (data && data.length == 1) {\n                                    var movetodate = data[0];\n                                    showMonth(movetodate, 'month1');\n                                    showMonth(nextMonth(movetodate), 'month2');\n                                    showGap();\n                                }\n\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (start && end) {\n                    setDateRange(start, end);\n                    checkSelectionValid();\n                }\n            });\n\n            box.find('.time1 input[type=range]').bind('change touchmove', function(e) {\n                var target = e.target,\n                    hour = target.name == 'hour' ? $(target).val().replace(/^(\\d{1})$/, '0$1') : undefined,\n                    min = target.name == 'minute' ? $(target).val().replace(/^(\\d{1})$/, '0$1') : undefined;\n                setTime('time1', hour, min);\n            });\n\n            box.find('.time2 input[type=range]').bind('change touchmove', function(e) {\n                var target = e.target,\n                    hour = target.name == 'hour' ? $(target).val().replace(/^(\\d{1})$/, '0$1') : undefined,\n                    min = target.name == 'minute' ? $(target).val().replace(/^(\\d{1})$/, '0$1') : undefined;\n                setTime('time2', hour, min);\n            });\n\n        }\n\n\n        function calcPosition() {\n            if (!opt.inline) {\n                var offset = $(self).offset();\n                if ($(opt.container).css('position') == 'relative') {\n                    var containerOffset = $(opt.container).offset();\n                    box.css({\n                        top: offset.top - containerOffset.top + $(self).outerHeight() + 4,\n                        left: offset.left - containerOffset.left\n                    });\n                } else {\n                    if (offset.left < 460) //left to right\n                    {\n                        box.css({\n                            top: offset.top + $(self).outerHeight() + parseInt($('body').css('border-top') || 0, 10),\n                            left: offset.left\n                        });\n                    } else {\n                        box.css({\n                            top: offset.top + $(self).outerHeight() + parseInt($('body').css('border-top') || 0, 10),\n                            left: offset.left + $(self).width() - box.width() - 16\n                        });\n                    }\n                }\n            }\n        }\n\n        // Return the date picker wrapper element\n        function getDatePicker() {\n            return box;\n        }\n\n        function open(animationTime) {\n            calcPosition();\n            redrawDatePicker();\n            checkAndSetDefaultValue();\n            if (opt.customOpenAnimation) {\n                opt.customOpenAnimation.call(box.get(0), function() {\n                    $(self).trigger('datepicker-opened', {\n                        relatedTarget: box\n                    });\n                });\n            } else {\n                box.slideDown(animationTime, function() {\n                    $(self).trigger('datepicker-opened', {\n                        relatedTarget: box\n                    });\n                });\n            }\n            $(self).trigger('datepicker-open', {\n                relatedTarget: box\n            });\n            showGap();\n            updateCalendarWidth();\n        }\n\n        function checkAndSetDefaultValue() {\n            var __default_string = opt.getValue.call(selfDom);\n            var defaults = __default_string ? __default_string.split(opt.separator) : '';\n\n            if (defaults && ((defaults.length == 1 && opt.singleDate) || defaults.length >= 2)) {\n                var ___format = opt.format;\n                if (___format.match(/Do/)) {\n\n                    ___format = ___format.replace(/Do/, 'D');\n                    defaults[0] = defaults[0].replace(/(\\d+)(th|nd|st)/, '$1');\n                    if (defaults.length >= 2) {\n                        defaults[1] = defaults[1].replace(/(\\d+)(th|nd|st)/, '$1');\n                    }\n                }\n                // set initiated  to avoid triggerring datepicker-change event\n                initiated = false;\n                if (defaults.length >= 2) {\n                    setDateRange(getValidValue(defaults[0], ___format, moment.locale(opt.language)), getValidValue(defaults[1], ___format, moment.locale(opt.language)));\n                } else if (defaults.length == 1 && opt.singleDate) {\n                    setSingleDate(getValidValue(defaults[0], ___format, moment.locale(opt.language)));\n                }\n\n                initiated = true;\n            }\n        }\n\n        function getValidValue(date, format, locale) {\n            if (moment(date, format, locale).isValid()) {\n                return moment(date, format, locale).toDate();\n            } else {\n                return moment().toDate();\n            }\n        }\n\n        function updateCalendarWidth() {\n            var gapMargin = box.find('.gap').css('margin-left');\n            if (gapMargin) gapMargin = parseInt(gapMargin);\n            var w1 = box.find('.month1').width();\n            var w2 = box.find('.gap').width() + (gapMargin ? gapMargin * 2 : 0);\n            var w3 = box.find('.month2').width();\n            box.find('.month-wrapper').width(w1 + w2 + w3 + (opt.singleMonth ? 0 : 77));\n        }\n\n        function renderTime(name, date) {\n            box.find('.' + name + ' input[type=range].hour-range').val(moment(date).hours());\n            box.find('.' + name + ' input[type=range].minute-range').val(moment(date).minutes());\n            setTime(name, moment(date).format('HH'), moment(date).format('mm'));\n        }\n\n        function changeTime(name, date) {\n            opt[name] = parseInt(\n                moment(parseInt(date))\n                .startOf('day')\n                .add(moment(opt[name + 'Time']).format('HH'), 'h')\n                .add(moment(opt[name + 'Time']).format('mm'), 'm').valueOf()\n            );\n        }\n\n        function swapTime() {\n            renderTime('time1', opt.start);\n            renderTime('time2', opt.end);\n        }\n\n        function setTime(name, hour, minute) {\n            hour && (box.find('.' + name + ' .hour-val').text(hour));\n            minute && (box.find('.' + name + ' .minute-val').text(minute));\n            switch (name) {\n                case 'time1':\n                    if (opt.start) {\n                        setRange('start', moment(opt.start));\n                    }\n                    setRange('startTime', moment(opt.startTime || moment().valueOf()));\n                    break;\n                case 'time2':\n                    if (opt.end) {\n                        setRange('end', moment(opt.end));\n                    }\n                    setRange('endTime', moment(opt.endTime || moment().valueOf()));\n                    break;\n            }\n\n            function setRange(name, timePoint) {\n                var h = timePoint.format('HH'),\n                    m = timePoint.format('mm');\n                opt[name] = timePoint\n                    .startOf('day')\n                    .add(hour || h, 'h')\n                    .add(minute || m, 'm')\n                    .valueOf();\n            }\n            checkSelectionValid();\n            showSelectedInfo();\n            showSelectedDays();\n        }\n\n        function clearSelection() {\n            opt.start = false;\n            opt.end = false;\n            box.find('.day.checked').removeClass('checked');\n            box.find('.day.last-date-selected').removeClass('last-date-selected');\n            box.find('.day.first-date-selected').removeClass('first-date-selected');\n            opt.setValue.call(selfDom, '');\n            checkSelectionValid();\n            showSelectedInfo();\n            showSelectedDays();\n        }\n\n        function handleStart(time) {\n            var r = time;\n            if (opt.batchMode === 'week-range') {\n                if (opt.startOfWeek === 'monday') {\n                    r = moment(parseInt(time)).startOf('isoweek').valueOf();\n                } else {\n                    r = moment(parseInt(time)).startOf('week').valueOf();\n                }\n            } else if (opt.batchMode === 'month-range') {\n                r = moment(parseInt(time)).startOf('month').valueOf();\n            }\n            return r;\n        }\n\n        function handleEnd(time) {\n            var r = time;\n            if (opt.batchMode === 'week-range') {\n                if (opt.startOfWeek === 'monday') {\n                    r = moment(parseInt(time)).endOf('isoweek').valueOf();\n                } else {\n                    r = moment(parseInt(time)).endOf('week').valueOf();\n                }\n            } else if (opt.batchMode === 'month-range') {\n                r = moment(parseInt(time)).endOf('month').valueOf();\n            }\n            return r;\n        }\n\n\n        function dayClicked(day) {\n            if (day.hasClass('invalid')) return;\n            var time = day.attr('time');\n            day.addClass('checked');\n            if (opt.singleDate) {\n                opt.start = time;\n                opt.end = false;\n            } else if (opt.batchMode === 'week') {\n                if (opt.startOfWeek === 'monday') {\n                    opt.start = moment(parseInt(time)).startOf('isoweek').valueOf();\n                    opt.end = moment(parseInt(time)).endOf('isoweek').valueOf();\n                } else {\n                    opt.end = moment(parseInt(time)).endOf('week').valueOf();\n                    opt.start = moment(parseInt(time)).startOf('week').valueOf();\n                }\n            } else if (opt.batchMode === 'workweek') {\n                opt.start = moment(parseInt(time)).day(1).valueOf();\n                opt.end = moment(parseInt(time)).day(5).valueOf();\n            } else if (opt.batchMode === 'weekend') {\n                opt.start = moment(parseInt(time)).day(6).valueOf();\n                opt.end = moment(parseInt(time)).day(7).valueOf();\n            } else if (opt.batchMode === 'month') {\n                opt.start = moment(parseInt(time)).startOf('month').valueOf();\n                opt.end = moment(parseInt(time)).endOf('month').valueOf();\n            } else if ((opt.start && opt.end) || (!opt.start && !opt.end)) {\n                opt.start = handleStart(time);\n                opt.end = false;\n            } else if (opt.start) {\n                opt.end = handleEnd(time);\n                if (opt.time.enabled) {\n                    changeTime('end', opt.end);\n                }\n            }\n\n            //Update time in case it is enabled and timestamps are available\n            if (opt.time.enabled) {\n                if (opt.start) {\n                    changeTime('start', opt.start);\n                }\n                if (opt.end) {\n                    changeTime('end', opt.end);\n                }\n            }\n\n            //In case the start is after the end, swap the timestamps\n            if (!opt.singleDate && opt.start && opt.end && opt.start > opt.end) {\n                var tmp = opt.end;\n                opt.end = handleEnd(opt.start);\n                opt.start = handleStart(tmp);\n                if (opt.time.enabled && opt.swapTime) {\n                    swapTime();\n                }\n            }\n\n            opt.start = parseInt(opt.start);\n            opt.end = parseInt(opt.end);\n\n            clearHovering();\n            if (opt.start && !opt.end) {\n                $(self).trigger('datepicker-first-date-selected', {\n                    'date1': new Date(opt.start)\n                });\n                dayHovering(day);\n            }\n            updateSelectableRange(time);\n\n            checkSelectionValid();\n            showSelectedInfo();\n            showSelectedDays();\n            autoclose();\n        }\n\n\n        function weekNumberClicked(weekNumberDom) {\n            var thisTime = parseInt(weekNumberDom.attr('data-start-time'), 10);\n            var date1, date2;\n            if (!opt.startWeek) {\n                opt.startWeek = thisTime;\n                weekNumberDom.addClass('week-number-selected');\n                date1 = new Date(thisTime);\n                opt.start = moment(date1).day(opt.startOfWeek == 'monday' ? 1 : 0).valueOf();\n                opt.end = moment(date1).day(opt.startOfWeek == 'monday' ? 7 : 6).valueOf();\n            } else {\n                box.find('.week-number-selected').removeClass('week-number-selected');\n                date1 = new Date(thisTime < opt.startWeek ? thisTime : opt.startWeek);\n                date2 = new Date(thisTime < opt.startWeek ? opt.startWeek : thisTime);\n                opt.startWeek = false;\n                opt.start = moment(date1).day(opt.startOfWeek == 'monday' ? 1 : 0).valueOf();\n                opt.end = moment(date2).day(opt.startOfWeek == 'monday' ? 7 : 6).valueOf();\n            }\n            updateSelectableRange();\n            checkSelectionValid();\n            showSelectedInfo();\n            showSelectedDays();\n            autoclose();\n        }\n\n        function isValidTime(time) {\n            time = parseInt(time, 10);\n            if (opt.startDate && compare_day(time, opt.startDate) < 0) return false;\n            if (opt.endDate && compare_day(time, opt.endDate) > 0) return false;\n\n            if (opt.start && !opt.end && !opt.singleDate) {\n                //check maxDays and minDays setting\n                if (opt.maxDays > 0 && countDays(time, opt.start) > opt.maxDays) return false;\n                if (opt.minDays > 0 && countDays(time, opt.start) < opt.minDays) return false;\n\n                //check selectForward and selectBackward\n                if (opt.selectForward && time < opt.start) return false;\n                if (opt.selectBackward && time > opt.start) return false;\n\n                //check disabled days\n                if (opt.beforeShowDay && typeof opt.beforeShowDay == 'function') {\n                    var valid = true;\n                    var timeTmp = time;\n                    while (countDays(timeTmp, opt.start) > 1) {\n                        var arr = opt.beforeShowDay(new Date(timeTmp));\n                        if (!arr[0]) {\n                            valid = false;\n                            break;\n                        }\n                        if (Math.abs(timeTmp - opt.start) < 86400000) break;\n                        if (timeTmp > opt.start) timeTmp -= 86400000;\n                        if (timeTmp < opt.start) timeTmp += 86400000;\n                    }\n                    if (!valid) return false;\n                }\n            }\n            return true;\n        }\n\n\n        function updateSelectableRange() {\n            box.find('.day.invalid.tmp').removeClass('tmp invalid').addClass('valid');\n            if (opt.start && !opt.end) {\n                box.find('.day.toMonth.valid').each(function() {\n                    var time = parseInt($(this).attr('time'), 10);\n                    if (!isValidTime(time))\n                        $(this).addClass('invalid tmp').removeClass('valid');\n                    else\n                        $(this).addClass('valid tmp').removeClass('invalid');\n                });\n            }\n\n            return true;\n        }\n\n\n        function dayHovering(day) {\n            var hoverTime = parseInt(day.attr('time'));\n            var tooltip = '';\n\n            if (day.hasClass('has-tooltip') && day.attr('data-tooltip')) {\n                tooltip = '<span style=\"white-space:nowrap\">' + day.attr('data-tooltip') + '</span>';\n            } else if (!day.hasClass('invalid')) {\n                if (opt.singleDate) {\n                    box.find('.day.hovering').removeClass('hovering');\n                    day.addClass('hovering');\n                } else {\n                    box.find('.day').each(function() {\n                        var time = parseInt($(this).attr('time')),\n                            start = opt.start,\n                            end = opt.end;\n\n                        if (time == hoverTime) {\n                            $(this).addClass('hovering');\n                        } else {\n                            $(this).removeClass('hovering');\n                        }\n\n                        if (\n                            (opt.start && !opt.end) &&\n                            (\n                                (opt.start < time && hoverTime >= time) ||\n                                (opt.start > time && hoverTime <= time)\n                            )\n                        ) {\n                            $(this).addClass('hovering');\n                        } else {\n                            $(this).removeClass('hovering');\n                        }\n                    });\n\n                    if (opt.start && !opt.end) {\n                        var days = countDays(hoverTime, opt.start);\n                        if (opt.hoveringTooltip) {\n                            if (typeof opt.hoveringTooltip == 'function') {\n                                tooltip = opt.hoveringTooltip(days, opt.start, hoverTime);\n                            } else if (opt.hoveringTooltip === true && days > 1) {\n                                tooltip = days + ' ' + translate('days');\n                            }\n                        }\n                    }\n                }\n            }\n\n            if (tooltip) {\n                var posDay = day.offset();\n                var posBox = box.offset();\n\n                var _left = posDay.left - posBox.left;\n                var _top = posDay.top - posBox.top;\n                _left += day.width() / 2;\n\n\n                var $tip = box.find('.date-range-length-tip');\n                var w = $tip.css({\n                    'visibility': 'hidden',\n                    'display': 'none'\n                }).html(tooltip).width();\n                var h = $tip.height();\n                _left -= w / 2;\n                _top -= h;\n                setTimeout(function() {\n                    $tip.css({\n                        left: _left,\n                        top: _top,\n                        display: 'block',\n                        'visibility': 'visible'\n                    });\n                }, 10);\n            } else {\n                box.find('.date-range-length-tip').hide();\n            }\n        }\n\n        function clearHovering() {\n            box.find('.day.hovering').removeClass('hovering');\n            box.find('.date-range-length-tip').hide();\n        }\n\n        function autoclose() {\n            if (opt.singleDate === true) {\n                if (initiated && opt.start) {\n                    if (opt.autoClose) closeDatePicker();\n                }\n            } else {\n                if (initiated && opt.start && opt.end) {\n                    if (opt.autoClose) closeDatePicker();\n                }\n            }\n        }\n\n        function checkSelectionValid() {\n            var days = Math.ceil((opt.end - opt.start) / 86400000) + 1;\n            if (opt.singleDate) { // Validate if only start is there\n                if (opt.start && !opt.end)\n                    box.find('.drp_top-bar').removeClass('error').addClass('normal');\n                else\n                    box.find('.drp_top-bar').removeClass('error').removeClass('normal');\n            } else if (opt.maxDays && days > opt.maxDays) {\n                opt.start = false;\n                opt.end = false;\n                box.find('.day').removeClass('checked');\n                box.find('.drp_top-bar').removeClass('normal').addClass('error').find('.error-top').html(translate('less-than').replace('%d', opt.maxDays));\n            } else if (opt.minDays && days < opt.minDays) {\n                opt.start = false;\n                opt.end = false;\n                box.find('.day').removeClass('checked');\n                box.find('.drp_top-bar').removeClass('normal').addClass('error').find('.error-top').html(translate('more-than').replace('%d', opt.minDays));\n            } else {\n                if (opt.start || opt.end)\n                    box.find('.drp_top-bar').removeClass('error').addClass('normal');\n                else\n                    box.find('.drp_top-bar').removeClass('error').removeClass('normal');\n            }\n\n            if ((opt.singleDate && opt.start && !opt.end) || (!opt.singleDate && opt.start && opt.end)) {\n                box.find('.apply-btn').removeClass('disabled');\n            } else {\n                box.find('.apply-btn').addClass('disabled');\n            }\n\n            if (opt.batchMode) {\n                if (\n                    (opt.start && opt.startDate && compare_day(opt.start, opt.startDate) < 0) ||\n                    (opt.end && opt.endDate && compare_day(opt.end, opt.endDate) > 0)\n                ) {\n                    opt.start = false;\n                    opt.end = false;\n                    box.find('.day').removeClass('checked');\n                }\n            }\n        }\n\n        function showSelectedInfo(forceValid, silent) {\n            box.find('.start-day').html('...');\n            box.find('.end-day').html('...');\n            box.find('.selected-days').hide();\n            if (opt.start) {\n                box.find('.start-day').html(getDateString(new Date(parseInt(opt.start))));\n            }\n            if (opt.end) {\n                box.find('.end-day').html(getDateString(new Date(parseInt(opt.end))));\n            }\n            var dateRange;\n            if (opt.start && opt.singleDate) {\n                box.find('.apply-btn').removeClass('disabled');\n                dateRange = getDateString(new Date(opt.start));\n                opt.setValue.call(selfDom, dateRange, getDateString(new Date(opt.start)), getDateString(new Date(opt.end)));\n\n                if (initiated && !silent) {\n                    $(self).trigger('datepicker-change', {\n                        'value': dateRange,\n                        'date1': new Date(opt.start)\n                    });\n                }\n            } else if (opt.start && opt.end) {\n                box.find('.selected-days').show().find('.selected-days-num').html(countDays(opt.end, opt.start));\n                box.find('.apply-btn').removeClass('disabled');\n                dateRange = getDateString(new Date(opt.start)) + opt.separator + getDateString(new Date(opt.end));\n                opt.setValue.call(selfDom, dateRange, getDateString(new Date(opt.start)), getDateString(new Date(opt.end)));\n                if (initiated && !silent) {\n                    $(self).trigger('datepicker-change', {\n                        'value': dateRange,\n                        'date1': new Date(opt.start),\n                        'date2': new Date(opt.end)\n                    });\n                }\n            } else if (forceValid) {\n                box.find('.apply-btn').removeClass('disabled');\n            } else {\n                box.find('.apply-btn').addClass('disabled');\n            }\n        }\n\n        function countDays(start, end) {\n            return Math.abs(daysFrom1970(start) - daysFrom1970(end)) + 1;\n        }\n\n        function setDateRange(date1, date2, silent) {\n            if (date1.getTime() > date2.getTime()) {\n                var tmp = date2;\n                date2 = date1;\n                date1 = tmp;\n                tmp = null;\n            }\n            var valid = true;\n            if (opt.startDate && compare_day(date1, opt.startDate) < 0) valid = false;\n            if (opt.endDate && compare_day(date2, opt.endDate) > 0) valid = false;\n            if (!valid) {\n                showMonth(opt.startDate, 'month1');\n                showMonth(nextMonth(opt.startDate), 'month2');\n                showGap();\n                return;\n            }\n\n            opt.start = date1.getTime();\n            opt.end = date2.getTime();\n\n            if (opt.time.enabled) {\n                renderTime('time1', date1);\n                renderTime('time2', date2);\n            }\n\n            if (opt.stickyMonths || (compare_day(date1, date2) > 0 && compare_month(date1, date2) === 0)) {\n                if (opt.lookBehind) {\n                    date1 = prevMonth(date2);\n                } else {\n                    date2 = nextMonth(date1);\n                }\n            }\n\n            if (opt.stickyMonths && opt.endDate !== false && compare_month(date2, opt.endDate) > 0) {\n                date1 = prevMonth(date1);\n                date2 = prevMonth(date2);\n            }\n\n            if (!opt.stickyMonths) {\n                if (compare_month(date1, date2) === 0) {\n                    if (opt.lookBehind) {\n                        date1 = prevMonth(date2);\n                    } else {\n                        date2 = nextMonth(date1);\n                    }\n                }\n            }\n\n            showMonth(date1, 'month1');\n            showMonth(date2, 'month2');\n            showGap();\n            checkSelectionValid();\n            showSelectedInfo(false, silent);\n            autoclose();\n        }\n\n        function setSingleDate(date1, silent) {\n\n            var valid = true;\n            if (opt.startDate && compare_day(date1, opt.startDate) < 0) valid = false;\n            if (opt.endDate && compare_day(date1, opt.endDate) > 0) valid = false;\n            if (!valid) {\n                showMonth(opt.startDate, 'month1');\n                return;\n            }\n\n            opt.start = date1.getTime();\n\n\n            if (opt.time.enabled) {\n                renderTime('time1', date1);\n\n            }\n            showMonth(date1, 'month1');\n            if (opt.singleMonth !== true) {\n                var date2 = nextMonth(date1);\n                showMonth(date2, 'month2');\n            }\n            showGap();\n            showSelectedInfo(false, silent);\n            autoclose();\n        }\n\n        function showSelectedDays() {\n            if (!opt.start && !opt.end) return;\n            box.find('.day').each(function() {\n                var time = parseInt($(this).attr('time')),\n                    start = opt.start,\n                    end = opt.end;\n                if (opt.time.enabled) {\n                    time = moment(time).startOf('day').valueOf();\n                    start = moment(start || moment().valueOf()).startOf('day').valueOf();\n                    end = moment(end || moment().valueOf()).startOf('day').valueOf();\n                }\n                if (\n                    (opt.start && opt.end && end >= time && start <= time) ||\n                    (opt.start && !opt.end && moment(start).format('YYYY-MM-DD') == moment(time).format('YYYY-MM-DD'))\n                ) {\n                    $(this).addClass('checked');\n                } else {\n                    $(this).removeClass('checked');\n                }\n\n                //add first-date-selected class name to the first date selected\n                if (opt.start && moment(start).format('YYYY-MM-DD') == moment(time).format('YYYY-MM-DD')) {\n                    $(this).addClass('first-date-selected');\n                } else {\n                    $(this).removeClass('first-date-selected');\n                }\n                //add last-date-selected\n                if (opt.end && moment(end).format('YYYY-MM-DD') == moment(time).format('YYYY-MM-DD')) {\n                    $(this).addClass('last-date-selected');\n                } else {\n                    $(this).removeClass('last-date-selected');\n                }\n            });\n\n            box.find('.week-number').each(function() {\n                if ($(this).attr('data-start-time') == opt.startWeek) {\n                    $(this).addClass('week-number-selected');\n                }\n            });\n        }\n\n        function showMonth(date, month) {\n            date = moment(date).toDate();\n            var monthName = nameMonth(date.getMonth());\n            box.find('.' + month + ' .month-name').html(monthName + ' ' + date.getFullYear());\n            box.find('.' + month + ' tbody').html(createMonthHTML(date));\n            opt[month] = date;\n            updateSelectableRange();\n            bindDayEvents();\n        }\n\n        function bindDayEvents() {\n            box.find('.day').unbind(\"click\").click(function(evt) {\n                dayClicked($(this));\n            });\n\n            box.find('.day').unbind(\"mouseenter\").mouseenter(function(evt) {\n                dayHovering($(this));\n            });\n\n            box.find('.day').unbind(\"mouseleave\").mouseleave(function(evt) {\n                box.find('.date-range-length-tip').hide();\n                if (opt.singleDate) {\n                    clearHovering();\n                }\n            });\n\n            box.find('.week-number').unbind(\"click\").click(function(evt) {\n                weekNumberClicked($(this));\n            });\n        }\n\n        function showTime(date, name) {\n            box.find('.' + name).append(getTimeHTML());\n            renderTime(name, date);\n        }\n\n        function nameMonth(m) {\n            return translate('month-name')[m];\n        }\n\n        function getDateString(d) {\n            return moment(d).format(opt.format);\n        }\n\n        function showGap() {\n            showSelectedDays();\n            var m1 = parseInt(moment(opt.month1).format('YYYYMM'));\n            var m2 = parseInt(moment(opt.month2).format('YYYYMM'));\n            var p = Math.abs(m1 - m2);\n            var shouldShow = (p > 1 && p != 89);\n            if (shouldShow) {\n                box.addClass('has-gap').removeClass('no-gap').find('.gap').css('visibility', 'visible');\n            } else {\n                box.removeClass('has-gap').addClass('no-gap').find('.gap').css('visibility', 'hidden');\n            }\n            var h1 = box.find('table.month1').height();\n            var h2 = box.find('table.month2').height();\n\n            if (Math.max(h1, h2) === 0) {\n                box.find('.gap').height(100);\n            } else {\n                box.find('.gap').height(Math.max(h1, h2) + 10);\n            }\n        }\n\n        function closeDatePicker() {\n            if (opt.alwaysOpen) return;\n\n            var afterAnim = function() {\n                $(self).data('date-picker-opened', false);\n                $(self).trigger('datepicker-closed', {\n                    relatedTarget: box\n                });\n            };\n            if (opt.customCloseAnimation) {\n                opt.customCloseAnimation.call(box.get(0), afterAnim);\n            } else {\n                $(box).slideUp(opt.duration, afterAnim);\n            }\n            $(self).trigger('datepicker-close', {\n                relatedTarget: box\n            });\n        }\n\n        function redrawDatePicker() {\n            showMonth(opt.month1, 'month1');\n            showMonth(opt.month2, 'month2');\n        }\n\n        function compare_month(m1, m2) {\n            var p = parseInt(moment(m1).format('YYYYMM')) - parseInt(moment(m2).format('YYYYMM'));\n            if (p > 0) return 1;\n            if (p === 0) return 0;\n            return -1;\n        }\n\n        function compare_day(m1, m2) {\n            var p = parseInt(moment(m1).format('YYYYMMDD')) - parseInt(moment(m2).format('YYYYMMDD'));\n            if (p > 0) return 1;\n            if (p === 0) return 0;\n            return -1;\n        }\n\n        function nextMonth(month) {\n            return moment(month).add(1, 'months').toDate();\n        }\n\n        function prevMonth(month) {\n            return moment(month).add(-1, 'months').toDate();\n        }\n\n        function getTimeHTML() {\n            return '<div>' +\n                '<span>' + translate('Time') + ': <span class=\"hour-val\">00</span>:<span class=\"minute-val\">00</span></span>' +\n                '</div>' +\n                '<div class=\"hour\">' +\n                '<label>' + translate('Hour') + ': <input type=\"range\" class=\"hour-range\" name=\"hour\" min=\"0\" max=\"23\"></label>' +\n                '</div>' +\n                '<div class=\"minute\">' +\n                '<label>' + translate('Minute') + ': <input type=\"range\" class=\"minute-range\" name=\"minute\" min=\"0\" max=\"59\"></label>' +\n                '</div>';\n        }\n\n        function createDom() {\n            var html = '<div class=\"date-picker-wrapper';\n            if (opt.extraClass) html += ' ' + opt.extraClass + ' ';\n            if (opt.singleDate) html += ' single-date ';\n            html += '\">';\n\n            var _colspan = opt.showWeekNumbers ? 6 : 5;\n\n            var arrowPrev = '<i class=\"icon-left-open-mini\"></i>';\n            if (opt.customArrowPrevSymbol) arrowPrev = opt.customArrowPrevSymbol;\n\n            var arrowNext = '<i class=\"icon-right-open-mini\"></i>';\n            if (opt.customArrowNextSymbol) arrowNext = opt.customArrowNextSymbol;\n\n            html += '<div class=\"month-wrapper\">' +\n                '   <table class=\"month1\" cellspacing=\"0\" border=\"0\" cellpadding=\"0\">' +\n                '       <thead>' +\n                '           <tr class=\"caption\">' +\n                '               <th style=\"width:27px;\">' +\n                '                   <div class=\"prev\">' +\n                arrowPrev +\n                '                   </div>' +\n                '               </th>' +\n                '               <th colspan=\"' + _colspan + '\" class=\"month-name\">' +\n                '               </th>' +\n                '               <th style=\"width:27px;\">' +\n                (opt.singleDate || !opt.stickyMonths ? '<div class=\"next\">' + arrowNext + '</div>' : '') +\n                '               </th>' +\n                '           </tr>' +\n                '           <tr class=\"week-name\">' + getWeekHead() +\n                '       </thead>' +\n                '       <tbody></tbody>' +\n                '   </table>';\n\n            if (hasMonth2()) {\n                html += '<div class=\"gap\"></div>' +\n                    '<table class=\"month2\" cellspacing=\"0\" border=\"0\" cellpadding=\"0\">' +\n                    '   <thead>' +\n                    '   <tr class=\"caption\">' +\n                    '       <th style=\"width:27px;\">' +\n                    (!opt.stickyMonths ? '<div class=\"prev\">' + arrowPrev + '</div>' : '') +\n                    '       </th>' +\n                    '       <th colspan=\"' + _colspan + '\" class=\"month-name\">' +\n                    '       </th>' +\n                    '       <th style=\"width:27px;\">' +\n                    '           <div class=\"next\">' + arrowNext + '</div>' +\n                    '       </th>' +\n                    '   </tr>' +\n                    '   <tr class=\"week-name\">' + getWeekHead() +\n                    '   </thead>' +\n                    '   <tbody></tbody>' +\n                    '</table>';\n\n            }\n\n            html += '<div style=\"clear:both;height:0;font-size:0;\"></div>' +\n                '<div class=\"time\">' +\n                '<div class=\"time1\"></div>';\n            if (!opt.singleDate) {\n                html += '<div class=\"time2\"></div>';\n            }\n            html += '</div>' +\n                '<div style=\"clear:both;height:0;font-size:0;\"></div>' +\n                '</div></div>';\n\n            return $(html);\n        }\n\n        function getApplyBtnClass() {\n            var klass = '';\n            if (opt.autoClose === true) {\n                klass += ' hide';\n            }\n            if (opt.applyBtnClass !== '') {\n                klass += ' ' + opt.applyBtnClass;\n            }\n            return klass;\n        }\n\n        function getWeekHead() {\n            var prepend = opt.showWeekNumbers ? '<th>' + translate('week-number') + '</th>' : '';\n            if (opt.startOfWeek == 'monday') {\n                return prepend + '<th>' + translate('week-1') + '</th>' +\n                    '<th>' + translate('week-2') + '</th>' +\n                    '<th>' + translate('week-3') + '</th>' +\n                    '<th>' + translate('week-4') + '</th>' +\n                    '<th>' + translate('week-5') + '</th>' +\n                    '<th>' + translate('week-6') + '</th>' +\n                    '<th>' + translate('week-7') + '</th>';\n            } else {\n                return prepend + '<th>' + translate('week-7') + '</th>' +\n                    '<th>' + translate('week-1') + '</th>' +\n                    '<th>' + translate('week-2') + '</th>' +\n                    '<th>' + translate('week-3') + '</th>' +\n                    '<th>' + translate('week-4') + '</th>' +\n                    '<th>' + translate('week-5') + '</th>' +\n                    '<th>' + translate('week-6') + '</th>';\n            }\n        }\n\n        function isMonthOutOfBounds(month) {\n            month = moment(month);\n            if (opt.startDate && month.endOf('month').isBefore(opt.startDate)) {\n                return true;\n            }\n            if (opt.endDate && month.startOf('month').isAfter(opt.endDate)) {\n                return true;\n            }\n            return false;\n        }\n\n        function hasMonth2() {\n            return (!opt.singleMonth);\n        }\n\n        function attributesCallbacks(initialObject, callbacksArray, today) {\n            var resultObject = $.extend(true, {}, initialObject);\n\n            $.each(callbacksArray, function(cbAttrIndex, cbAttr) {\n                var addAttributes = cbAttr(today);\n                for (var attr in addAttributes) {\n                    if (resultObject.hasOwnProperty(attr)) {\n                        resultObject[attr] += addAttributes[attr];\n                    } else {\n                        resultObject[attr] = addAttributes[attr];\n                    }\n                }\n            });\n\n            var attrString = '';\n\n            for (var attr in resultObject) {\n                if (resultObject.hasOwnProperty(attr)) {\n                    attrString += attr + '=\"' + resultObject[attr] + '\" ';\n                }\n            }\n\n            return attrString;\n        }\n\n        function daysFrom1970(t) {\n            return Math.floor(toLocalTimestamp(t) / 86400000);\n        }\n\n        function toLocalTimestamp(t) {\n            if (moment.isMoment(t)) t = t.toDate().getTime();\n            if (typeof t == 'object' && t.getTime) t = t.getTime();\n            if (typeof t == 'string' && !t.match(/\\d{13}/)) t = moment(t, opt.format).toDate().getTime();\n            t = parseInt(t, 10) - new Date().getTimezoneOffset() * 60 * 1000;\n            return t;\n        }\n\n        function createMonthHTML(d) {\n            var days = [];\n            d.setDate(1);\n            var lastMonth = new Date(d.getTime() - 86400000);\n            var now = new Date();\n\n            var dayOfWeek = d.getDay();\n            if ((dayOfWeek === 0) && (opt.startOfWeek === 'monday')) {\n                // add one week\n                dayOfWeek = 7;\n            }\n            var today, valid;\n\n            if (dayOfWeek > 0) {\n                for (var i = dayOfWeek; i > 0; i--) {\n                    var day = new Date(d.getTime() - 86400000 * i);\n                    valid = isValidTime(day.getTime());\n                    if (opt.startDate && compare_day(day, opt.startDate) < 0) valid = false;\n                    if (opt.endDate && compare_day(day, opt.endDate) > 0) valid = false;\n                    days.push({\n                        date: day,\n                        type: 'lastMonth',\n                        day: day.getDate(),\n                        time: day.getTime(),\n                        valid: valid\n                    });\n                }\n            }\n            var toMonth = d.getMonth();\n            for (var i = 0; i < 40; i++) {\n                today = moment(d).add(i, 'days').toDate();\n                valid = isValidTime(today.getTime());\n                if (opt.startDate && compare_day(today, opt.startDate) < 0) valid = false;\n                if (opt.endDate && compare_day(today, opt.endDate) > 0) valid = false;\n                days.push({\n                    date: today,\n                    type: today.getMonth() == toMonth ? 'toMonth' : 'nextMonth',\n                    day: today.getDate(),\n                    time: today.getTime(),\n                    valid: valid\n                });\n            }\n            var html = [];\n            for (var week = 0; week < 6; week++) {\n                if (days[week * 7].type == 'nextMonth') break;\n                html.push('<tr>');\n\n                for (var day = 0; day < 7; day++) {\n                    var _day = (opt.startOfWeek == 'monday') ? day + 1 : day;\n                    today = days[week * 7 + _day];\n                    var highlightToday = moment(today.time).format('L') == moment(now).format('L');\n                    today.extraClass = '';\n                    today.tooltip = '';\n                    if (today.valid && opt.beforeShowDay && typeof opt.beforeShowDay == 'function') {\n                        var _r = opt.beforeShowDay(moment(today.time).toDate());\n                        today.valid = _r[0];\n                        today.extraClass = _r[1] || '';\n                        today.tooltip = _r[2] || '';\n                        if (today.tooltip !== '') today.extraClass += ' has-tooltip ';\n                    }\n\n                    var todayDivAttr = {\n                        time: today.time,\n                        'data-tooltip': today.tooltip,\n                        'class': 'day ' + today.type + ' ' + today.extraClass + ' ' + (today.valid ? 'valid' : 'invalid') + ' ' + (highlightToday && opt.highlightToday ? 'real-today' : '')\n                    };\n\n                    if (day === 0 && opt.showWeekNumbers) {\n                        html.push('<td><div class=\"week-number\" data-start-time=\"' + today.time + '\">' + opt.getWeekNumber(today.date) + '</div></td>');\n                    }\n\n                    html.push('<td ' + attributesCallbacks({}, opt.dayTdAttrs, today) + '><div ' + attributesCallbacks(todayDivAttr, opt.dayDivAttrs, today) + '>' + showDayHTML(today.time, today.day) + '</div></td>');\n                }\n                html.push('</tr>');\n            }\n            return html.join('');\n        }\n\n        function showDayHTML(time, date) {\n            if (opt.showDateFilter && typeof opt.showDateFilter == 'function') return opt.showDateFilter(time, date);\n            return date;\n        }\n\n        function getLanguages() {\n            if (opt.language == 'auto') {\n                var language = navigator.language ? navigator.language : navigator.browserLanguage;\n                if (!language) {\n                    return $.dateRangePickerLanguages['default'];\n                }\n                language = language.toLowerCase();\n                if(language in $.dateRangePickerLanguages){\n                    return $.dateRangePickerLanguages[language];\n                }\n\n                return $.dateRangePickerLanguages['default'];\n            } else if (opt.language && opt.language in $.dateRangePickerLanguages) {\n                return $.dateRangePickerLanguages[opt.language];\n            } else {\n                return $.dateRangePickerLanguages['default'];\n            }\n        }\n\n        /**\n         * Translate language string, try both the provided translation key, as the lower case version\n         */\n        function translate(translationKey) {\n            var translationKeyLowerCase = translationKey.toLowerCase();\n            var result = (translationKey in languages) ? languages[translationKey] : (translationKeyLowerCase in languages) ? languages[translationKeyLowerCase] : null;\n            var defaultLanguage = $.dateRangePickerLanguages['default'];\n            if (result == null) result = (translationKey in defaultLanguage) ? defaultLanguage[translationKey] : (translationKeyLowerCase in defaultLanguage) ? defaultLanguage[translationKeyLowerCase] : '';\n\n            return result;\n        }\n\n        function getDefaultTime() {\n            var defaultTime = opt.defaultTime ? opt.defaultTime : new Date();\n\n            if (opt.lookBehind) {\n                if (opt.startDate && compare_month(defaultTime, opt.startDate) < 0) defaultTime = nextMonth(moment(opt.startDate).toDate());\n                if (opt.endDate && compare_month(defaultTime, opt.endDate) > 0) defaultTime = moment(opt.endDate).toDate();\n            } else {\n                if (opt.startDate && compare_month(defaultTime, opt.startDate) < 0) defaultTime = moment(opt.startDate).toDate();\n                if (opt.endDate && compare_month(nextMonth(defaultTime), opt.endDate) > 0) defaultTime = prevMonth(moment(opt.endDate).toDate());\n            }\n\n            if (opt.singleDate) {\n                if (opt.startDate && compare_month(defaultTime, opt.startDate) < 0) defaultTime = moment(opt.startDate).toDate();\n                if (opt.endDate && compare_month(defaultTime, opt.endDate) > 0) defaultTime = moment(opt.endDate).toDate();\n            }\n\n            return defaultTime;\n        }\n\n        function resetMonthsView(time) {\n            if (!time) {\n                time = getDefaultTime();\n            }\n\n            if (opt.lookBehind) {\n                showMonth(prevMonth(time), 'month1');\n                showMonth(time, 'month2');\n            } else {\n                showMonth(time, 'month1');\n                showMonth(nextMonth(time), 'month2');\n            }\n\n            if (opt.singleDate) {\n                showMonth(time, 'month1');\n            }\n\n            showSelectedDays();\n            showGap();\n        }\n\n    };\n}));","angular.module('SER.utils', []);\n\n// Key codes\nvar KEYS = { up: 38, down: 40, left: 37, right: 39, escape: 27, enter: 13, backspace: 8, delete: 46, shift: 16, leftCmd: 91, rightCmd: 93, ctrl: 17, alt: 18, tab: 9 };\n\nfunction getStyles(element) {\n    return !(element instanceof HTMLElement) ? {} :\n        element.ownerDocument && element.ownerDocument.defaultView.opener\n            ? element.ownerDocument.defaultView.getComputedStyle(element)\n            : window.getComputedStyle(element);\n}\n\nfunction arrayGroupBy(array, field) {\n\n    var array_group_by = {};\n\n    for (var index = 0; index < array.length; ++index) {\n\n        if (array_group_by[array[index][field]] === undefined)\n            array_group_by[array[index][field]] = [];\n\n        array_group_by[array[index][field]].push(array[index]);\n    }\n\n    return array_group_by;\n}\n\nfunction hasValue(value) {\n    if (angular.isArray(value)) {\n        return 0 < value.length;\n    } else if (angular.isDate(value)) {\n        return true;\n    } else if (angular.isObject(value)) {\n        return !angular.element.isEmptyObject(value);\n    } else {\n        return ['', null, undefined, NaN].indexOf(value) === -1;\n    }\n}\n\nfunction notValue(value) {\n    if (angular.isArray(value)) {\n        return 0 === value.length;\n    } else if (angular.isDate(value)) {\n        return false;\n    } else if (angular.isObject(value)) {\n        return angular.element.isEmptyObject(value);\n    } else {\n        return ['', null, undefined, NaN].indexOf(value) > -1;\n    }\n}\n\nfunction hasProperty(obj, key) {\n    if (obj){\n        return obj.hasOwnProperty(key);\n    } else {\n        return false;\n    }\n}\n\nfunction inArray(value, array) {\n    return array ? array.indexOf(value) !== -1 : false;\n}\n\nfunction notInArray(value, array) {\n    return array ? array.indexOf(value) === -1 : false;\n}\n\nfunction getObjectByValue(array, attr, value) {\n\n    for (var i = 0; i < array.length; i++) {\n\n        if (array[i].hasOwnProperty(attr)) {\n\n            if (array[i][attr] === value) {\n\n                return array[i];\n\n            } else {\n\n                for (var prop in array[i][attr]) {\n\n                    if (array[i][attr][prop] === value) {\n\n                        return array[i];\n\n                    }\n\n                }\n\n            }\n\n        }\n\n    }\n}\n\nfunction getObjIndexByValue(array, attr, value) {\n\n    for (var i = 0; i < array.length; i++) {\n\n        if (array[i].hasOwnProperty(attr)) {\n\n            if (array[i][attr] === value) {\n\n                return array[i];\n\n            } else {\n\n                for (var prop in array[i][attr]) {\n\n                    if (array[i][attr][prop] === value) {\n\n                        return i;\n\n                    }\n\n                }\n\n            }\n\n        }\n\n    }\n}\n\nfunction browserWidth() {\n    return 0 < window.innerWidth ? window.innerWidth : screen.width;\n}\n\nfunction hasPdfViewer() {\n    for (var index = 0; index < window.navigator.plugins.length; index++) {\n        if (window.navigator.plugins[index].name.toLowerCase().indexOf(\"pdf\") > -1) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction getRandomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction hasFiles(Files) {\n    \n    var result = false;\n\n    var isFile = function (file) {\n        return file != null && (file instanceof window.Blob || (file.flashId && file.name && file.size));\n    };\n\n    for (var key in Files) {\n        if (isFile(Files[key])) {\n            result = true;\n            break;\n        }\n    }\n\n    return result;\n\n}\n\nfunction guid() {\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n        s4() + '-' + s4() + s4() + s4();\n}\n\nfunction s4() {\n    return Math.floor((1 + Math.random()) * 0x10000)\n        .toString(16)\n        .substring(1);\n}\n\nwindow.onbeforeprint = function () {\n    console.log('Functionality to run before printing: ', window.location.href);\n};\nwindow.onafterprint = function () {\n    console.log('Functionality to run after printing: ', window.location.href);\n};\n\nif (window.matchMedia) {\n    var mediaQueryList = window.matchMedia('print');\n    mediaQueryList.addListener(function (mql) {\n        if (mql.matches) {\n            window.onbeforeprint();\n        } else {\n            window.onafterprint();\n        }\n    });\n}\n\nfunction getLogo(name, version) {\n\n    if (typeof name === 'string') {\n\n        switch (name.toLowerCase().replace(/[0-9\\. ]*/g, '')) {\n\n            // Browser\n            case 'chrome':\n            case 'chromium':\n                return AWS_S3_URL + 'images/logos/chrome.svg';\n            case 'edge':\n                return AWS_S3_URL + 'images/logos/edge.svg';\n            case 'firefox':\n                return AWS_S3_URL + 'images/logos/firefox.svg';\n            case 'ie':\n            case 'iemobile':\n                return AWS_S3_URL + 'images/logos/ie.svg';\n            case 'opera':\n                return AWS_S3_URL + 'images/logos/opera.svg';\n            case 'safari':\n            case 'mobilesafari':\n                return AWS_S3_URL + 'images/logos/safari.svg';\n            case 'webkit':\n                return AWS_S3_URL + 'images/logos/webkit.svg';\n\n            // OS\n            case 'android':\n                return AWS_S3_URL + 'images/logos/android.svg';\n            case 'ios':\n            case 'macos':\n                return AWS_S3_URL + 'images/logos/apple.svg';\n            case 'debian':\n                return AWS_S3_URL + 'images/logos/debian.svg';\n            case 'linux':\n                return AWS_S3_URL + 'images/logos/linux.svg';\n            case 'ubuntu':\n                return AWS_S3_URL + 'images/logos/ubuntu.svg';\n            case 'windows':\n                switch (version.toLowerCase()) {\n                    case 'xp':\n                    case '7':\n                        return AWS_S3_URL + 'images/logos/windows-xp.svg';\n                    case '8':\n                    case '8.1':\n                    case '10':\n                        return AWS_S3_URL + 'images/logos/windows.svg';\n                }\n                break;\n            case 'windowsphone':\n                return AWS_S3_URL + 'images/logos/windows-phone.svg';\n        }\n    }\n}\n\nif (bowser) {\n    $('body').addClass('bos-' + bowser.osname.replace(/ /g,\"\") + ' bosv-' + bowser.osversion.replace(/ /g, \"\") + ' bn-' + bowser.name.replace(/ /g,\"\") + ' bv-' + bowser.version.replace(/ /g,\"\"));\n}",";(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\nfunction deleteAllCookies() {\n    var cookies = document.cookie.split(\";\");\n\n    for (var i = 0; i < cookies.length; i++) {\n        var cookie = cookies[i];\n        var eqPos = cookie.indexOf(\"=\");\n        var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\n        document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\n    }\n}","angular.module('SER.auth', []);\n\nangular.module('SER.auth').value('userPermissions', []);\nangular.module('SER.auth').value('isSuperuser', false);\nangular.module('SER.auth').value('url403', '');\n\nangular.module('SER.auth').service('permissionService', [\n    'userPermissions',\n    'isSuperuser',\n    function (userPermissions, isSuperuser) {\n        \n        return {\n            hasPermission: function (requiredPermission) {\n\n                if (isSuperuser) {\n                    return true;\n                }\n\n                if (notValue(requiredPermission)) {\n                    return false;\n                }\n\n                return userPermissions.indexOf(requiredPermission) !== -1;\n            },\n            atLeastPermissions: function (requiredPermissions) {\n\n                if (isSuperuser) {\n                    return true;\n                }\n\n                if (hasValue(requiredPermissions)) {\n\n                    for (var index = 0; index < requiredPermissions.length; index++) {\n\n                        if (inArray(requiredPermissions[index], userPermissions)) {\n                            return true;\n                        }\n                    }\n\n                    return false;\n                }\n\n                return true;\n            },\n            hasPermissions: function (requiredPermissions) {\n\n                if (isSuperuser) {\n                    return true;\n                }\n\n                for (var index = 0; index < requiredPermissions.length; index++) {\n\n                    if (notInArray(requiredPermissions[index], userPermissions)) {\n                        return false;\n                    }\n                }\n\n                return true;\n            }\n        }\n\n    }\n]);","angular.module('SER.chip', []);\n\nangular.module('SER.chip').directive('serChips', ['$document', function ($document) {\n    return {\n        restrict: 'E',\n        scope: {\n            model: '=',\n            pattern: '=?'\n        },\n        link: function (scope, element, attrs, controller) {\n\n            var regex = scope.pattern ? new RegExp(scope.pattern) : new RegExp(/^[\\w\\d].*$/);\n            var input = element.find('input.chip-input');\n            var formCtrl = element.find('select').controller('ngModel');\n\n            if (notValue(scope.model)) {\n                scope.model = [];\n                scope.selectedValue = [];\n            } else {\n                formCtrl.$setViewValue(scope.model);\n                formCtrl.$setDirty(true);\n            }\n\n            scope.addChip = function () {\n\n                if (notValue(scope.model)) {\n                    scope.model = [];\n                }\n\n                if (scope.chipInput) {\n                    if (notInArray(scope.chipInput, scope.model) && regex.test(scope.chipInput)) {\n                        scope.model.push(scope.chipInput);\n                        formCtrl.$setViewValue(scope.model);\n                        formCtrl.$validate();\n                        formCtrl.$setDirty(true);\n                    }\n\n                    scope.chipInput = null;\n                }\n\n            };\n\n            scope.removeChip = function (index) {\n                scope.model.splice(index, 1);\n                formCtrl.$setViewValue(scope.model);\n                formCtrl.$validate();\n            };\n\n            scope.setFocus = function () {\n                element.addClass('ng-focused');\n                element.removeClass('ng-blur');\n            };\n\n            scope.setBlur = function () {\n                element.addClass('ng-blur');\n                element.removeClass('ng-focused');\n                scope.addChip();\n            };\n\n            scope.checkKeypress = function (ev) {\n                switch (ev.keyCode) {\n\n                    case KEYS.backspace:\n                        if (notValue(scope.chipInput) && hasValue(scope.model)) {\n                            scope.removeChip(scope.model.length - 1);\n                        }\n\n                        break;\n\n                    case KEYS.enter:\n                        scope.addChip();\n                        break;\n\n                    default:\n\n                }\n            };\n\n            //$scope.$watch('$destroy', function () {\n            //    $document.unbind('click', $scope.checkFocus);\n            //});\n\n        },\n        template: function (element, attrs) {\n\n            var name = '';\n\n            if (attrs.name) {\n                name = 'name=\"' + attrs.name + '\"';\n            }\n\n            return '<div class=\"chip\" ng-repeat=\"chip in model track by $index\">{{chip}}<md-icon class=\"remove\" ng-click=\"removeChip($index)\">close</md-icon></div> \\\n                <input class=\"chip-input not-styled s-flex\" ng-model=\"chipInput\" ng-keydown=\"checkKeypress($event)\" ng-focus=\"setFocus()\" ng-blur=\"setBlur()\" /> \\\n                <select ' + name + ' style=\"display: none;\" multiple ng-model=\"selectedValue\" ' + (('required' in attrs) ? 'required': '') + ' ></select>';\n        }\n    };\n}]);","angular.module('SER.search', []);\n\nangular.module('SER.search').directive('serAutocomplete', ['$http', '$timeout', function ($http, $timeout) {\n    \n    return {\n        restrict: 'E',\n        scope: {\n            ngModel: '=',\n            remoteUrl: '=',\n            keywordField: '@',\n            ngRequired: '=?',\n            ngDisabled: '=?',\n            selectItem: '&?',\n            dropdownClass: '@?',\n        },\n        link: function (scope, element, attrs, controller, transclude) {\n\n            var inputChangedPromise, input;\n            var dropdown = angular.element(element[0].querySelector('.ser-autocomplete-results'));\n            var originParents = element.parents();\n            var namespace = 'autocomplete-results-' + Math.round(Math.random() * 1000000);\n            dropdown.attr('id', namespace);\n            dropdown.detach();\n\n            scope.results = [];\n            scope.isFetching = false;\n\n            scope.selectInternalItem = function (item) {\n                if (angular.isFunction(scope.selectItem)) {\n                    scope.selectItem({ newValue: item });\n                }\n\n                if (hasValue(scope.keywordField)) {\n                    scope.ngModel = item[scope.keywordField];\n                }\n\n                scope.close();\n            };\n\n            var dropdownPosition = function () {\n                var label = element[0];\n\n                var style = {\n                    top: '',\n                    bottom: '',\n                    left: label.getBoundingClientRect().left + 'px',\n                    width: label.offsetWidth + 'px'\n                };\n\n                if (angular.element(document.body).height() - (label.offsetHeight + label.getBoundingClientRect().top) >= 220) {\n                    style.top = label.offsetHeight + label.getBoundingClientRect().top;\n                    dropdown.removeClass('ontop');\n                } else {\n\n                    style.bottom = angular.element(document.body).height() - label.getBoundingClientRect().top;\n                    dropdown.addClass('ontop');\n                }\n\n                dropdown.css(style);\n            };\n\n            // Dropdown utilities\n            scope.showDropdown = function () {\n                dropdownPosition();\n                angular.element(document.body).append(dropdown);\n\n                $timeout(function () {\n                    angular.element(window).triggerHandler('resize');\n                }, 50);\n            };\n\n            scope.open = function () {\n                scope.isOpen = true;\n                scope.showDropdown();\n            };\n\n            scope.close = function () {\n                scope.isOpen = false;\n                dropdown.detach();\n            };\n\n            originParents.each(function (i, parent) {\n                angular.element(parent).on('scroll.' + namespace, function (e) {\n                    dropdownPosition();\n                });\n            });\n\n            var keyup = function (evt) {\n                if (inputChangedPromise) {\n                    clearTimeout(inputChangedPromise);\n                }\n\n                inputChangedPromise = setTimeout(function () {\n                    scope.$apply(function () {\n                        scope.isFetching = true;\n                        scope.results = [];\n                        scope.close();\n\n                        if (scope.ngModel) {\n                            $http.get(scope.remoteUrl + scope.ngModel).then(function (response) {\n\n                                scope.results = response.data;\n                                scope.isFetching = false;\n                                if (hasValue(scope.results)) {\n                                    scope.open();\n                                }\n\n                            });\n                        } else {\n                            scope.isFetching = false;\n                            scope.close();\n                        }\n                    });\n                }, 500);\n            };\n\n            input = angular.element(element[0].querySelector('.ser-autocomplete-wrapper input'))\n                .on('focus', function () {\n                    if (hasValue(scope.results)) {\n                        $timeout(function () {\n                            scope.open();\n                        });\n                    }\n                })\n                .on('blur', function () {\n                    scope.close();\n                })\n                .on('keyup', function (e) {\n                    keyup(e);\n                });\n\n            dropdown\n                .on('mousedown', function (e) {\n                    e.preventDefault();\n                });\n\n        },\n        template: function (element, attrs) {\n\n            function getSpanAddon() {\n                var addon = element.find('addon').detach();\n                return addon.length ? '<span class=\"addon\">' + addon.html() + '</span>': '';\n            }\n\n            function getTemplateTag() {\n                var templateTag = element.find('ser-item-template').detach();\n                return templateTag.length ? templateTag.html() : element.html();\n            }\n\n            function getEmptyTag() {\n                var emptyTag = element.find('ser-empty-template').detach();\n                return emptyTag.length ? emptyTag.html() : '<div class=\"align-center\">' + __('no_results') + '</div>';\n            }\n\n            //TODO usar virtual-repeat\n            return '' +\n                '<div class=\"ser-autocomplete-wrapper\" ng-class=\"{open: isOpen}\">' +\n\n                    '<div class=\"input-group\">' +\n                        getSpanAddon() +\n                        '<input placeholder=\"{{placeholder}}\" ' + (attrs.name ? 'name=\"' + attrs.name + '\"' : '') + ' ng-model=\"ngModel\" ' + (attrs.disabled ? 'disabled' : 'ng-disabled=\"ngDisabled\"') + ' ng-focus=\"ngFocus\" ng-blur=\"searchBlur()\" ' + (attrs.required ? 'required' : 'ng-required=\"ngRequired\"') + ' />' +\n                    '</div>' +\n\n                    '<div class=\"fetching line-loader\" ng-show=\"isFetching\"></div>' +\n                \n                    '<ul md-virtual-repeat-container md-auto-shrink md-top-index=\"highlighted\" class=\"ser-autocomplete-results ' + attrs.dropdownClass + '\">' +\n                        '<li class=\"item\" md-virtual-repeat=\"item in results\" ' + (attrs.mdItemSize ? 'md-item-size=\"' + attrs.mdItemSize + '\"' : '') + ' ng-click=\"selectInternalItem(item)\">' + getTemplateTag() + '</li>' +\n                    '</ul>' +\n                '</div>';\n        }\n    };\n    \n}]);","angular.module('SER.datepicker', []);\n\nangular.module('SER.datepicker').directive('weekDay', function () {\n    return {\n        restrict: 'E',\n        require: ['ngModel'],\n        scope: {\n            ngModel: '='\n        },\n        link: function (scope, element, attrs, controller) {\n\n            scope.toggleDay = function (day) {\n\n                if ('multiple' in attrs) {\n\n                    if (notValue(scope.ngModel)) {\n                        scope.ngModel = [];\n                    }\n\n                    if (notInArray(day, scope.ngModel)) {\n                        scope.ngModel.push(day);\n                    } else {\n                        scope.ngModel.splice(scope.ngModel.indexOf(day), 1);\n                    }\n\n                } else {\n                    scope.ngModel = day !== scope.ngModel ? day: null;\n                }\n                \n            }\n\n            scope.isSet = function (day) {\n                if ('multiple' in attrs) {\n                    return inArray(day, scope.ngModel);\n                } else {\n                    return day === scope.ngModel;\n                }\n            }\n\n        },\n        template: function () {\n            return '' +\n                '<div class=\"wrapper\">' +\n                '<div class=\"day\" ng-click=\"toggleDay(1)\" ng-class=\"{active: isSet(1)}\">' + __('LUN') + '</div>' +\n                '<div class=\"day\" ng-click=\"toggleDay(2)\" ng-class=\"{active: isSet(2)}\">' + __('MAR') + '</div>' +\n                '<div class=\"day\" ng-click=\"toggleDay(3)\" ng-class=\"{active: isSet(3)}\">' + __('MIE') + '</div>' +\n                '<div class=\"day\" ng-click=\"toggleDay(4)\" ng-class=\"{active: isSet(4)}\">' + __('JUE') + '</div>' +\n                '<div class=\"day\" ng-click=\"toggleDay(5)\" ng-class=\"{active: isSet(5)}\">' + __('VIE') + '</div>' +\n                '<div class=\"day\" ng-click=\"toggleDay(6)\" ng-class=\"{active: isSet(6)}\">' + __('SAB') + '</div>' +\n                '<div class=\"day\" ng-click=\"toggleDay(7)\" ng-class=\"{active: isSet(7)}\">' + __('DOM') + '</div>' +\n                '</div>'\n        }\n    };\n});\n\nangular.module('SER.datepicker').directive('serDate', ['$filter', function ($filter) {\n\n    return {\n        restrict: 'E',\n        require: ['ngModel'],\n        scope: {\n            ngModel: '=',\n            config: '='\n        },\n        controller: ['$scope', function ($scope) {\n\n            $scope.placeholder = __('select_date');\n            \n            $scope.clear = function () {\n                $scope.ngModel = null;\n            };\n\n        }],\n        link: function (scope, element) {\n\n            var tooltip_instance = element.find('.value-wrapper').tooltipster({\n                content: element.find('.picker-wrapper'),\n                delay: 0,\n                positionTracker: true,\n                trigger: 'click',\n                theme: 'tooltipster-borderless',\n                position: 'bottom',\n                interactive: true\n            });\n\n            var picker_instance = element.find('.date-wrapper').dateRangePicker({\n                inline: true,\n                container: element.find('.date-wrapper'),\n                alwaysOpen: true,\n                language: 'es',\n                singleDate: true,\n                singleMonth: true\n            }).bind('datepicker-change', function (event, obj) {\n\n                scope.$apply(function () {\n                    scope.ngModel = obj.date1;\n                });\n\n                element.find('.value-wrapper').tooltipster('close');\n\n            }).bind('datepicker-next-month-finish-clicked', function (event) {\n                element.find('.value-wrapper').tooltipster('reposition');\n            }).bind('datepicker-prev-month-finish-clicked', function (event) {\n                element.find('.value-wrapper').tooltipster('reposition');\n            });\n\n            if (scope.ngModel) {\n                picker_instance.data('dateRangePicker').setStart(scope.ngModel, true);\n            }\n\n            scope.$watch('ngModel', function (newValue, oldValue) {\n                if (newValue && newValue != oldValue) {\n                    picker_instance.data('dateRangePicker').setStart(newValue, true);\n                }\n            }, true);\n\n        },\n        template: function (element, attr) {\n\n            return '' +\n                '<div class=\"ser-date-wrapper\" ng-class=\"{open: open, \\'has-value\\': blur}\">' +\n\n                    '<div ng-class=\"{\\'bttn-group\\': ngModel}\" class=\"row center-center\">' +\n                        '<button type=\"button\" class=\"bttn value-wrapper\">{{ (ngModel | date: \\'longDate\\') || placeholder }}</button>' +\n                        '<button type=\"button\" ng-show=\"ngModel\" class=\"bttn clear\" ng-click=\"clear()\"></button>' +\n                    '</div>' +\n\n                    '<div class=\"tooltip-templates\">' +\n                        '<div class=\"picker-wrapper\">' +\n                            '<div class=\"date-wrapper\"></div>' +\n                        '</div>' +\n                    '</div>' +\n                '</div>';\n        }\n    };\n\n\n}]);\n\nangular.module('SER.datepicker').directive('serDateRange', ['$filter', function ($filter) {\n\n    return {\n        restrict: 'E',\n        require: ['ngModel'],\n        scope: {\n            ngModel: '=',\n            config: '='\n        },\n        controller: ['$scope', function ($scope) {\n\n            $scope.placeholder = __('select_date_range');\n\n            $scope.clear = function () {\n                $scope.ngModel = null;\n                $scope.placeholder = __('select_date_range');\n            };\n\n        }],\n        link: function (scope, element) {\n\n            var tooltip_instance = element.find('.value-wrapper').tooltipster({\n                content: element.find('.picker-wrapper'),\n                delay: 0,\n                positionTracker: true,\n                trigger: 'click',\n                theme: 'tooltipster-borderless',\n                position: 'bottom',\n                interactive: true\n            });\n\n            var picker_instance = element.find('.date-wrapper').dateRangePicker({\n                inline: true,\n                container: element.find('.date-wrapper'),\n                alwaysOpen: true,\n                language: 'es'\n            }).bind('datepicker-change', function (event, obj) {\n\n                scope.$apply(function () {\n\n                    obj.date1.setHours(0, 0, 0, 0);\n                    obj.date2.setHours(23, 59, 59, 0);\n                    scope.ngModel = {\n                        FromDate: obj.date1,\n                        ToDate: obj.date2\n                    };\n\n                    scope.placeholder = $filter('date')(obj.date1, 'longDate') + ' - ' + $filter('date')(obj.date2, 'longDate');\n                });\n\n                element.find('.value-wrapper').tooltipster('close');\n\n            }).bind('datepicker-next-month-finish-clicked', function (event) {\n                element.find('.value-wrapper').tooltipster('reposition');\n            }).bind('datepicker-prev-month-finish-clicked', function (event) {\n                element.find('.value-wrapper').tooltipster('reposition');\n            });\n\n            if (scope.ngModel && scope.ngModel.FromDate && scope.ngModel.ToDate) {\n                picker_instance.data('dateRangePicker').setStart(scope.ngModel.FromDate, true);\n                picker_instance.data('dateRangePicker').setEnd(scope.ngModel.ToDate, true);\n                scope.placeholder = $filter('date')(scope.ngModel.FromDate, 'longDate') + ' - ' + $filter('date')(scope.ngModel.ToDate, 'longDate');\n            }\n\n            scope.$watch('ngModel', function (newValue, oldValue) {\n                if (hasValue(newValue) && hasValue(newValue.FromDate) && hasValue(newValue.ToDate)) {\n                    scope.placeholder = $filter('date')(newValue.FromDate, 'longDate') + ' - ' + $filter('date')(newValue.ToDate, 'longDate');\n                    picker_instance.data('dateRangePicker').setStart(scope.ngModel.FromDate, true);\n                    picker_instance.data('dateRangePicker').setEnd(scope.ngModel.ToDate, true);\n                }\n            }, true);\n\n        },\n        template: function (element, attr) {\n\n            return '' +\n                '<div class=\"ser-date-wrapper\" ng-class=\"{open: open, \\'has-value\\': blur}\">' +\n\n                    '<div ng-class=\"{\\'bttn-group\\': ngModel}\" class=\"row center-center\">' +\n                        '<button type=\"button\" class=\"bttn value-wrapper\">{{ placeholder }}</button>' +\n                        '<button type=\"button\" ng-show=\"ngModel\" class=\"bttn clear\" ng-click=\"clear()\"></button>' +\n                    '</div>' +\n\n                    '<div class=\"tooltip-templates\">' +\n                        '<div class=\"picker-wrapper\">' +\n                            '<div class=\"date-wrapper\"></div>' +\n                        '</div>' +\n                    '</div>' +\n                '</div>';\n        }\n    };\n\n\n}]);","angular.module('SER.filters', []);\n\nangular.module('SER.filters').filter('PascalCase', [function () {\n    return function (input) {\n\n        return input\n            // Look for long acronyms and filter out the last letter\n            .replace(/([A-Z]+)([A-Z])/g, ' $1 $2')\n            // Look for lower-case letters followed by upper-case letters\n            .replace(/([a-z\\d])([A-Z])/g, '$1 $2')\n            // Look for lower-case letters followed by numbers\n            .replace(/([a-zA-Z])(\\d)/g, '$1 $2')\n            .replace(/^./, function (str) { return str.toUpperCase(); })\n            // Remove any white space left around the word\n            .trim();\n    };\n}]);\n\nangular.module('SER.filters').filter('getItem', ['$filter', function ($filter) {\n    return function (input, array, field) {\n        var fields = {};\n        fields[field] = input;\n        var resultArray = [];\n        resultArray = $filter('filter')(array, fields, true);\n        if (hasValue(resultArray) && 0 < resultArray.length) return resultArray[0];\n        return null;\n    };\n}]);\n\nangular.module('SER.filters').filter('minutesTime', [function () {\n    /**\n     * input should be a number of minutes to be parsed\n     * @param {input} number of minutes\n     * @param {type} true = 00:00:00 | false = 00:00 am or pm\n     */\n    return function (input, type) {\n        var\n            hours = parseInt(input / 60, 10),\n            minutes = (input - (hours * 60)) < 10 ? '0' + (input - (hours * 60)) : input - (hours * 60),\n            meridian = type ? ':00' : (hours >= 12 && hours !== 24 ? ' pm' : ' am');\n\n        return (!type && hours > 12 ? (hours === 24 ? '00' : (hours - 12 < 10 ? '0' : '') + (hours - 12)) : (hours < 10 ? '0' : '') + hours) + ':' + minutes + meridian;\n    };\n}]);\n\nangular.module('SER.filters').filter('timeMinutes', [function () {\n\n    return function (input) {\n        return (parseInt(input.split(':')[0]) * 60) + parseInt(input.split(':')[1]);\n    };\n\n}]);\n\nangular.module('SER.filters').filter('leadingChar', function () {\n    return function (input, width, char) {\n        char = char || '0';\n        if (hasValue(input)) {\n            input = input + '';\n            return input.length >= width ? input : new Array(width - input.length + 1).join(char) + input;\n        } else {\n            return '';\n        }\n    };\n});","angular.module('SER.fullscreen', []);\n\nangular.module('SER.fullscreen').factory('Fullscreen', ['$document', '$rootScope', function ($document,$rootScope) {\n    var document = $document[0];\n\n    // ensure ALLOW_KEYBOARD_INPUT is available and enabled\n    var isKeyboardAvailbleOnFullScreen = (typeof Element !== 'undefined' && 'ALLOW_KEYBOARD_INPUT' in Element) && Element.ALLOW_KEYBOARD_INPUT;\n\n    var emitter = $rootScope.$new();\n\n    // listen event on document instead of element to avoid firefox limitation\n    // see https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Using_full_screen_mode\n    $document.on('fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange', function(){\n    emitter.$emit('SERFullscreen.change', serviceInstance.isEnabled());\n    });\n\n    var serviceInstance = {\n    $on: angular.bind(emitter, emitter.$on),\n    all: function() {\n        serviceInstance.enable( document.documentElement );\n    },\n    enable: function(element) {\n        if(element.requestFullScreen) {\n            element.requestFullScreen();\n        } else if(element.mozRequestFullScreen) {\n            element.mozRequestFullScreen();\n        } else if(element.webkitRequestFullscreen) {\n            // Safari temporary fix\n            if (/Version\\/[\\d]{1,2}(\\.[\\d]{1,2}){1}(\\.(\\d){1,2}){0,1} Safari/.test(navigator.userAgent)) {\n                element.webkitRequestFullscreen();\n            } else {\n                element.webkitRequestFullscreen(isKeyboardAvailbleOnFullScreen);\n            }\n        } else if (element.msRequestFullscreen) {\n            element.msRequestFullscreen();\n        }\n    },\n    cancel: function() {\n        if(document.cancelFullScreen) {\n            document.cancelFullScreen();\n        } else if(document.mozCancelFullScreen) {\n            document.mozCancelFullScreen();\n        } else if(document.webkitExitFullscreen) {\n            document.webkitExitFullscreen();\n        } else if (document.msExitFullscreen) {\n            document.msExitFullscreen();\n        }\n    },\n    isEnabled: function(){\n        var fullscreenElement = document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement;\n        return fullscreenElement ? true : false;\n    },\n    toggleAll: function(){\n        serviceInstance.isEnabled() ? serviceInstance.cancel() : serviceInstance.all();\n    },\n    isSupported: function(){\n        var docElm = document.documentElement;\n        var requestFullscreen = docElm.requestFullScreen || docElm.mozRequestFullScreen || docElm.webkitRequestFullscreen || docElm.msRequestFullscreen;\n        return requestFullscreen ? true : false;\n    }\n    };\n\n    return serviceInstance;\n}]);\n\nangular.module('SER.fullscreen').directive('fullscreen', ['Fullscreen', function(Fullscreen) {\n    return {\n    link : function ($scope, $element, $attrs) {\n        // Watch for changes on scope if model is provided\n        if ($attrs.fullscreen) {\n            $scope.$watch($attrs.fullscreen, function(value) {\n                var isEnabled = Fullscreen.isEnabled();\n                if (value && !isEnabled) {\n                Fullscreen.enable($element[0]);\n                $element.addClass('isInFullScreen');\n                } else if (!value && isEnabled) {\n                Fullscreen.cancel();\n                $element.removeClass('isInFullScreen');\n                }\n            });\n\n            // Listen on the `SERFullscreen.change`\n            // the event will fire when anything changes the fullscreen mode\n            var removeFullscreenHandler = Fullscreen.$on('SERFullscreen.change', function(evt, isFullscreenEnabled){\n                if(!isFullscreenEnabled){\n                $scope.$evalAsync(function(){\n                    $scope.$eval($attrs.fullscreen + '= false');\n                    $element.removeClass('isInFullScreen');\n                });\n                }\n            });\n\n            $scope.$on('$destroy', function() {\n                removeFullscreenHandler();\n            });\n\n        } else {\n            if ($attrs.onlyWatchedProperty !== undefined) {\n                return;\n            }\n\n            $element.on('click', function (ev) {\n                Fullscreen.enable(  $element[0] );\n            });\n        }\n    }\n    };\n}]);\n","angular.module('SER.Clipboard', []);\n\nangular.module('SER.Clipboard').service('CopyToClipboard', ['$window', function ($window) {\n    var body = angular.element($window.document.body);\n    var textarea = angular.element('<textarea/>');\n    textarea.css({\n        position: 'fixed',\n        opacity: '0'\n    });\n\n    return function (toCopy, ShowAlert) {\n        textarea.val(toCopy);\n        body.append(textarea);\n        textarea[0].select();\n\n        try {\n            var successful = document.execCommand('copy');\n            if (!successful) throw successful;\n            if (ShowAlert) alert(__('copy_success_clipboard'));\n        } catch (err) {\n            window.prompt(\"Copy to clipboard: Ctrl+C, Enter\", toCopy);\n        }\n\n        textarea.remove();\n    }\n}]);\n\nangular.module('SER.Clipboard').directive('serClickCopy', ['CopyToClipboard', function (CopyToClipboard) {\n    return {\n        restrict: 'A',\n        link: function (scope, element, attrs) {\n            element.bind('click', function (e) {\n                CopyToClipboard(attrs.serClickCopy, true);\n            });\n        }\n    }\n}]);","var i18n = {\n    __DICT: undefined,\n    loadJSON: function (locale_json) {\n        this.__DICT = locale_json;\n    },\n    __: function (key) {\n        if (typeof this.__DICT !== 'undefined') {\n\n            if (key in this.__DICT) {\n                return this.__DICT[key];\n            } else {\n                console.warn('Locale not found for: ' + key);\n                return key;\n            }\n        } else {\n            console.error('Locale JSON file not loaded | Locale not found for: ' + key);\n        }\n\n    }\n};\n\nvar __ = function (key) {\n    return i18n.__(key);\n};\n\nangular.module('SER.i18n', []);\n\nangular.module('SER.i18n').filter('translate', function () {\n    return function (input) {\n        return i18n.__(input);\n    };\n});","angular.module('SER.image', []);\n\nangular.module('SER.image').directive('exifData', ['Upload', '$filter', 'afterPromises', function (Upload, $filter, afterPromises) {\n    return {\n        restrict: 'A',\n        link: function (scope, element, attrs) {\n\n            var template = '<div class=\"exif\">';\n\n            var initialPromises = new afterPromises(2, function () {\n                template += '</div>';\n                element.after(template);\n            });\n\n            element.on('load', function (ev) {\n                template += '<div><strong>' + __('dimensions') + ': </strong>' + ev.target.naturalWidth + 'x' + ev.target.naturalHeight + '</div>';\n                initialPromises.notify();\n            });\n\n            Upload.urlToBlob(attrs.src).then(function (blob) {\n                template += '<div><strong>' + __('size') + ': </strong>' + $filter('byteFmt')(blob.size, 0) + '</div><div><strong>' + __('type') + ': </strong>' + blob.type + '</div>';\n                initialPromises.notify();\n            }, function () {\n                initialPromises.notify();\n            });\n\n        }\n    };\n}]);\n\nangular.module('SER.image').directive('callbackImage', function () {\n    return {\n        restrict: 'A',\n        link: function (scope, element, attrs) {\n\n            element.on('dragstart', function (event) { event.preventDefault(); });\n\n            element.bind('error', function () {\n                element[0].src = attrs.callbackImage;\n            });\n\n        }\n    };\n});\n\nangular.module('SER.image').directive('retryGetImage', function () {\n    return {\n        restrict: 'A',\n        scope: {\n            retryGetImage: '@',\n            fallbackRetry: '='\n        },\n        link: function (scope, element, attrs) {\n\n            var timeout;\n\n            function retry() {\n                timeout = setTimeout(function () {\n                    element[0].src = scope.retryGetImage;\n                }, 5000);\n            }\n\n            scope.$watch('retryGetImage', function (new_value) {\n\n                clearTimeout(timeout);\n                element.unbind('load');\n                element.unbind('error');\n                element[0].src = new_value;\n                element.addClass('hidden');\n\n                element.bind('load', function () {\n                    element.removeClass('hidden');\n                    scope.fallbackRetry = false;\n                    clearTimeout(timeout);\n                    scope.$apply();\n                });\n\n                element.bind('error', function () {\n                    scope.fallbackRetry = true;\n                    retry();\n                });\n            });\n\n        }\n    };\n});\n\nangular.module('SER.image').directive('imgZoom', ['$timeout', function ($timeout) {\n    return {\n        restrict: 'E',\n        scope: {\n            image: '=',\n            options: '='\n        },\n        link: function (scope, element, attrs) {\n\n            element.find('.target').on('load', function () {\n                element.find('.loader').addClass('ng-hide');\n            });\n\n            element.find('.target').on('error', function () {\n                element.find('.loader').addClass('ng-hide');\n                scope.zoomReset();\n            });\n\n            scope.size = 'auto';\n\n            var defaults = {\n                'max-height': 'none'\n            };\n\n            angular.merge(defaults, scope.options);\n            //var clicked = false, clickY;\n            //$(element).on({\n            //    'mousemove': function (e) {\n            //        clicked && updateScrollPos(e);\n            //    },\n            //    'mousedown': function (e) {\n            //        clicked = true;\n            //        clickY = e.pageY;\n            //    },\n            //    'mouseup': function () {\n            //        clicked = false;\n            //    }\n            //});\n\n            //var updateScrollPos = function (e) {\n            //    $(element).css('cursor', 'row-resize');\n            //    $(element).scrollTop($(element).scrollTop() + (clickY - e.pageY));\n            //}\n\n            scope.zoomIn = function () {\n                scope.size = element.find('.target').width() * 1.1;\n                element.find('.target').css({\n                    'max-height': 'none',\n                    height: 'auto'\n                });\n            };\n\n            scope.zoomOut = function () {\n                scope.size = element.find('.target').width() / 1.1;\n                element.find('.target').css({\n                    'max-height': 'none',\n                    height: 'auto'\n                });\n            };\n\n            scope.zoomReset = function () {\n                scope.size = 'auto';\n                element.find('.target').css({\n                    'max-height': defaults['max-height'],\n                    height: 'auto'\n                });\n            };\n\n            scope.zoomExpand = function () {\n                scope.size = 'auto';\n                element.find('.target').css({\n                    'max-height': defaults['max-height'],\n                    height: element.height() - 2\n                });\n            };\n\n            $timeout(function () {\n                scope.zoomExpand();\n            }, 500);\n        },\n        template: function () {\n            return '' +\n                '<div class=\"controls\">' +\n                    '<button class=\"bttn icon\" ng-click=\"zoomOut()\"><i class=\"icon-zoom-out\"></i></button>' +\n                    '<button class=\"bttn icon\" ng-click=\"zoomReset()\"><i class=\"icon-zoom-actual\"></i></button>' +\n                    '<button class=\"bttn icon\" ng-click=\"zoomExpand()\"><i class=\"icon-zoom-expand\"></i></button>' +\n                    '<button class=\"bttn icon\" ng-click=\"zoomIn()\"><i class=\"icon-zoom-in\"></i></button>' +\n                '</div>' +\n                '<div class=\"loader dots\">' + __('loading') + '</div>' +\n                '<img class=\"target\" ng-src=\"{{ image }}\" ng-style=\"{width: size}\" callback-image=\"/images/' + __(\"no_image_available.svg\") + '\" />';\n        }\n    };\n}]);\n\nangular.module('SER.image').directive('zoomImage', function () {\n    return {\n        restrict: 'A',\n        link: function (scope, element, attrs) {\n\n            var defaultValues = {\n                responsive: true,\n                loadingIcon: true,\n                tint: true,\n                scrollZoom: true,\n                zoomWindowWidth: 150,\n                zoomWindowHeight: 150,\n                imageSrc: attrs.ngSrc\n            };\n\n            angular.merge(defaultValues, scope.$eval(attrs.zoomImage));\n\n            element.elevateZoom(defaultValues);\n\n        }\n    };\n});","angular.module('SER.image').factory('cropAreaCircle', ['cropArea', function(CropArea) {\n  var CropAreaCircle = function() {\n    CropArea.apply(this, arguments);\n\n    this._boxResizeBaseSize = 20;\n    this._boxResizeNormalRatio = 0.9;\n    this._boxResizeHoverRatio = 1.2;\n    this._iconMoveNormalRatio = 0.9;\n    this._iconMoveHoverRatio = 1.2;\n\n    this._boxResizeNormalSize = this._boxResizeBaseSize*this._boxResizeNormalRatio;\n    this._boxResizeHoverSize = this._boxResizeBaseSize*this._boxResizeHoverRatio;\n\n    this._posDragStartX=0;\n    this._posDragStartY=0;\n    this._posResizeStartX=0;\n    this._posResizeStartY=0;\n    this._posResizeStartSize=0;\n\n    this._boxResizeIsHover = false;\n    this._areaIsHover = false;\n    this._boxResizeIsDragging = false;\n    this._areaIsDragging = false;\n  };\n\n  CropAreaCircle.prototype = new CropArea();\n\n  CropAreaCircle.prototype._calcCirclePerimeterCoords=function(angleDegrees) {\n    var hSize=this._size/2;\n    var angleRadians=angleDegrees * (Math.PI / 180),\n        circlePerimeterX=this._x + hSize * Math.cos(angleRadians),\n        circlePerimeterY=this._y + hSize * Math.sin(angleRadians);\n    return [circlePerimeterX, circlePerimeterY];\n  };\n\n  CropAreaCircle.prototype._calcResizeIconCenterCoords=function() {\n    return this._calcCirclePerimeterCoords(-45);\n  };\n\n  CropAreaCircle.prototype._isCoordWithinArea=function(coord) {\n    return Math.sqrt((coord[0]-this._x)*(coord[0]-this._x) + (coord[1]-this._y)*(coord[1]-this._y)) < this._size/2;\n  };\n  CropAreaCircle.prototype._isCoordWithinBoxResize=function(coord) {\n    var resizeIconCenterCoords=this._calcResizeIconCenterCoords();\n    var hSize=this._boxResizeHoverSize/2;\n    return(coord[0] > resizeIconCenterCoords[0] - hSize && coord[0] < resizeIconCenterCoords[0] + hSize &&\n            coord[1] > resizeIconCenterCoords[1] - hSize && coord[1] < resizeIconCenterCoords[1] + hSize);\n  };\n\n  CropAreaCircle.prototype._drawArea=function(ctx,centerCoords,size){\n    ctx.arc(centerCoords[0],centerCoords[1],size/2,0,2*Math.PI);\n  };\n\n  CropAreaCircle.prototype.draw=function() {\n    CropArea.prototype.draw.apply(this, arguments);\n\n    // draw move icon\n    this._cropCanvas.drawIconMove([this._x,this._y], this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio);\n\n    // draw resize cubes\n    this._cropCanvas.drawIconResizeBoxNESW(this._calcResizeIconCenterCoords(), this._boxResizeBaseSize, this._boxResizeIsHover?this._boxResizeHoverRatio:this._boxResizeNormalRatio);\n  };\n\n  CropAreaCircle.prototype.processMouseMove=function(mouseCurX, mouseCurY) {\n    var cursor='default';\n    var res=false;\n\n    this._boxResizeIsHover = false;\n    this._areaIsHover = false;\n\n    if (this._areaIsDragging) {\n      this._x = mouseCurX - this._posDragStartX;\n      this._y = mouseCurY - this._posDragStartY;\n      this._areaIsHover = true;\n      cursor='move';\n      res=true;\n      this._events.trigger('area-move');\n    } else if (this._boxResizeIsDragging) {\n        cursor = 'nesw-resize';\n        var iFR, iFX, iFY;\n        iFX = mouseCurX - this._posResizeStartX;\n        iFY = this._posResizeStartY - mouseCurY;\n        if(iFX>iFY) {\n          iFR = this._posResizeStartSize + iFY*2;\n        } else {\n          iFR = this._posResizeStartSize + iFX*2;\n        }\n\n        this._size = Math.max(this._minSize, iFR);\n        this._boxResizeIsHover = true;\n        res=true;\n        this._events.trigger('area-resize');\n    } else if (this._isCoordWithinBoxResize([mouseCurX,mouseCurY])) {\n        cursor = 'nesw-resize';\n        this._areaIsHover = false;\n        this._boxResizeIsHover = true;\n        res=true;\n    } else if(this._isCoordWithinArea([mouseCurX,mouseCurY])) {\n        cursor = 'move';\n        this._areaIsHover = true;\n        res=true;\n    }\n\n    this._dontDragOutside();\n    angular.element(this._ctx.canvas).css({'cursor': cursor});\n\n    return res;\n  };\n\n  CropAreaCircle.prototype.processMouseDown=function(mouseDownX, mouseDownY) {\n    if (this._isCoordWithinBoxResize([mouseDownX,mouseDownY])) {\n      this._areaIsDragging = false;\n      this._areaIsHover = false;\n      this._boxResizeIsDragging = true;\n      this._boxResizeIsHover = true;\n      this._posResizeStartX=mouseDownX;\n      this._posResizeStartY=mouseDownY;\n      this._posResizeStartSize = this._size;\n      this._events.trigger('area-resize-start');\n    } else if (this._isCoordWithinArea([mouseDownX,mouseDownY])) {\n      this._areaIsDragging = true;\n      this._areaIsHover = true;\n      this._boxResizeIsDragging = false;\n      this._boxResizeIsHover = false;\n      this._posDragStartX = mouseDownX - this._x;\n      this._posDragStartY = mouseDownY - this._y;\n      this._events.trigger('area-move-start');\n    }\n  };\n\n  CropAreaCircle.prototype.processMouseUp=function(/*mouseUpX, mouseUpY*/) {\n    if(this._areaIsDragging) {\n      this._areaIsDragging = false;\n      this._events.trigger('area-move-end');\n    }\n    if(this._boxResizeIsDragging) {\n      this._boxResizeIsDragging = false;\n      this._events.trigger('area-resize-end');\n    }\n    this._areaIsHover = false;\n    this._boxResizeIsHover = false;\n\n    this._posDragStartX = 0;\n    this._posDragStartY = 0;\n  };\n\n  return CropAreaCircle;\n}]);\n\n\n\nangular.module('SER.image').factory('cropAreaSquare', ['cropArea', function(CropArea) {\n  var CropAreaSquare = function() {\n    CropArea.apply(this, arguments);\n\n    this._resizeCtrlBaseRadius = 10;\n    this._resizeCtrlNormalRatio = 0.75;\n    this._resizeCtrlHoverRatio = 1;\n    this._iconMoveNormalRatio = 0.9;\n    this._iconMoveHoverRatio = 1.2;\n\n    this._resizeCtrlNormalRadius = this._resizeCtrlBaseRadius*this._resizeCtrlNormalRatio;\n    this._resizeCtrlHoverRadius = this._resizeCtrlBaseRadius*this._resizeCtrlHoverRatio;\n\n    this._posDragStartX=0;\n    this._posDragStartY=0;\n    this._posResizeStartX=0;\n    this._posResizeStartY=0;\n    this._posResizeStartSize=0;\n\n    this._resizeCtrlIsHover = -1;\n    this._areaIsHover = false;\n    this._resizeCtrlIsDragging = -1;\n    this._areaIsDragging = false;\n  };\n\n  CropAreaSquare.prototype = new CropArea();\n\n  CropAreaSquare.prototype._calcSquareCorners=function() {\n    var hSize=this._size/2;\n    return [\n      [this._x-hSize, this._y-hSize],\n      [this._x+hSize, this._y-hSize],\n      [this._x-hSize, this._y+hSize],\n      [this._x+hSize, this._y+hSize]\n    ];\n  };\n\n  CropAreaSquare.prototype._calcSquareDimensions=function() {\n    var hSize=this._size/2;\n    return {\n      left: this._x-hSize,\n      top: this._y-hSize,\n      right: this._x+hSize,\n      bottom: this._y+hSize\n    };\n  };\n\n  CropAreaSquare.prototype._isCoordWithinArea=function(coord) {\n    var squareDimensions=this._calcSquareDimensions();\n    return (coord[0]>=squareDimensions.left&&coord[0]<=squareDimensions.right&&coord[1]>=squareDimensions.top&&coord[1]<=squareDimensions.bottom);\n  };\n\n  CropAreaSquare.prototype._isCoordWithinResizeCtrl=function(coord) {\n    var resizeIconsCenterCoords=this._calcSquareCorners();\n    var res=-1;\n    for(var i=0,len=resizeIconsCenterCoords.length;i<len;i++) {\n      var resizeIconCenterCoords=resizeIconsCenterCoords[i];\n      if(coord[0] > resizeIconCenterCoords[0] - this._resizeCtrlHoverRadius && coord[0] < resizeIconCenterCoords[0] + this._resizeCtrlHoverRadius &&\n          coord[1] > resizeIconCenterCoords[1] - this._resizeCtrlHoverRadius && coord[1] < resizeIconCenterCoords[1] + this._resizeCtrlHoverRadius) {\n        res=i;\n        break;\n      }\n    }\n    return res;\n  };\n\n  CropAreaSquare.prototype._drawArea=function(ctx,centerCoords,size){\n    var hSize=size/2;\n    ctx.rect(centerCoords[0]-hSize,centerCoords[1]-hSize,size,size);\n  };\n\n  CropAreaSquare.prototype.draw=function() {\n    CropArea.prototype.draw.apply(this, arguments);\n\n    // draw move icon\n    this._cropCanvas.drawIconMove([this._x,this._y], this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio);\n\n    // draw resize cubes\n    var resizeIconsCenterCoords=this._calcSquareCorners();\n    for(var i=0,len=resizeIconsCenterCoords.length;i<len;i++) {\n      var resizeIconCenterCoords=resizeIconsCenterCoords[i];\n      this._cropCanvas.drawIconResizeCircle(resizeIconCenterCoords, this._resizeCtrlBaseRadius, this._resizeCtrlIsHover===i?this._resizeCtrlHoverRatio:this._resizeCtrlNormalRatio);\n    }\n  };\n\n  CropAreaSquare.prototype.processMouseMove=function(mouseCurX, mouseCurY) {\n    var cursor='default';\n    var res=false;\n\n    this._resizeCtrlIsHover = -1;\n    this._areaIsHover = false;\n\n    if (this._areaIsDragging) {\n      this._x = mouseCurX - this._posDragStartX;\n      this._y = mouseCurY - this._posDragStartY;\n      this._areaIsHover = true;\n      cursor='move';\n      res=true;\n      this._events.trigger('area-move');\n    } else if (this._resizeCtrlIsDragging>-1) {\n      var xMulti, yMulti;\n      switch(this._resizeCtrlIsDragging) {\n        case 0: // Top Left\n          xMulti=-1;\n          yMulti=-1;\n          cursor = 'nwse-resize';\n          break;\n        case 1: // Top Right\n          xMulti=1;\n          yMulti=-1;\n          cursor = 'nesw-resize';\n          break;\n        case 2: // Bottom Left\n          xMulti=-1;\n          yMulti=1;\n          cursor = 'nesw-resize';\n          break;\n        case 3: // Bottom Right\n          xMulti=1;\n          yMulti=1;\n          cursor = 'nwse-resize';\n          break;\n      }\n      var iFX = (mouseCurX - this._posResizeStartX)*xMulti;\n      var iFY = (mouseCurY - this._posResizeStartY)*yMulti;\n      var iFR;\n      if(iFX>iFY) {\n        iFR = this._posResizeStartSize + iFY;\n      } else {\n        iFR = this._posResizeStartSize + iFX;\n      }\n      var wasSize=this._size;\n      this._size = Math.max(this._minSize, iFR);\n      var posModifier=(this._size-wasSize)/2;\n      this._x+=posModifier*xMulti;\n      this._y+=posModifier*yMulti;\n      this._resizeCtrlIsHover = this._resizeCtrlIsDragging;\n      res=true;\n      this._events.trigger('area-resize');\n    } else {\n      var hoveredResizeBox=this._isCoordWithinResizeCtrl([mouseCurX,mouseCurY]);\n      if (hoveredResizeBox>-1) {\n        switch(hoveredResizeBox) {\n          case 0:\n            cursor = 'nwse-resize';\n            break;\n          case 1:\n            cursor = 'nesw-resize';\n            break;\n          case 2:\n            cursor = 'nesw-resize';\n            break;\n          case 3:\n            cursor = 'nwse-resize';\n            break;\n        }\n        this._areaIsHover = false;\n        this._resizeCtrlIsHover = hoveredResizeBox;\n        res=true;\n      } else if(this._isCoordWithinArea([mouseCurX,mouseCurY])) {\n        cursor = 'move';\n        this._areaIsHover = true;\n        res=true;\n      }\n    }\n\n    this._dontDragOutside();\n    angular.element(this._ctx.canvas).css({'cursor': cursor});\n\n    return res;\n  };\n\n  CropAreaSquare.prototype.processMouseDown=function(mouseDownX, mouseDownY) {\n    var isWithinResizeCtrl=this._isCoordWithinResizeCtrl([mouseDownX,mouseDownY]);\n    if (isWithinResizeCtrl>-1) {\n      this._areaIsDragging = false;\n      this._areaIsHover = false;\n      this._resizeCtrlIsDragging = isWithinResizeCtrl;\n      this._resizeCtrlIsHover = isWithinResizeCtrl;\n      this._posResizeStartX=mouseDownX;\n      this._posResizeStartY=mouseDownY;\n      this._posResizeStartSize = this._size;\n      this._events.trigger('area-resize-start');\n    } else if (this._isCoordWithinArea([mouseDownX,mouseDownY])) {\n      this._areaIsDragging = true;\n      this._areaIsHover = true;\n      this._resizeCtrlIsDragging = -1;\n      this._resizeCtrlIsHover = -1;\n      this._posDragStartX = mouseDownX - this._x;\n      this._posDragStartY = mouseDownY - this._y;\n      this._events.trigger('area-move-start');\n    }\n  };\n\n  CropAreaSquare.prototype.processMouseUp=function(/*mouseUpX, mouseUpY*/) {\n    if(this._areaIsDragging) {\n      this._areaIsDragging = false;\n      this._events.trigger('area-move-end');\n    }\n    if(this._resizeCtrlIsDragging>-1) {\n      this._resizeCtrlIsDragging = -1;\n      this._events.trigger('area-resize-end');\n    }\n    this._areaIsHover = false;\n    this._resizeCtrlIsHover = -1;\n\n    this._posDragStartX = 0;\n    this._posDragStartY = 0;\n  };\n\n  return CropAreaSquare;\n}]);\n\nangular.module('SER.image').factory('cropArea', ['cropCanvas', function(CropCanvas) {\n  var CropArea = function(ctx, events) {\n    this._ctx=ctx;\n    this._events=events;\n\n    this._minSize=80;\n\n    this._cropCanvas=new CropCanvas(ctx);\n\n    this._image=new Image();\n    this._x = 0;\n    this._y = 0;\n    this._size = 200;\n  };\n\n  /* GETTERS/SETTERS */\n\n  CropArea.prototype.getImage = function () {\n    return this._image;\n  };\n  CropArea.prototype.setImage = function (image) {\n    this._image = image;\n  };\n\n  CropArea.prototype.getX = function () {\n    return this._x;\n  };\n  CropArea.prototype.setX = function (x) {\n    this._x = x;\n    this._dontDragOutside();\n  };\n\n  CropArea.prototype.getY = function () {\n    return this._y;\n  };\n  CropArea.prototype.setY = function (y) {\n    this._y = y;\n    this._dontDragOutside();\n  };\n\n  CropArea.prototype.getSize = function () {\n    return this._size;\n  };\n  CropArea.prototype.setSize = function (size) {\n    this._size = Math.max(this._minSize, size);\n    this._dontDragOutside();\n  };\n\n  CropArea.prototype.getMinSize = function () {\n    return this._minSize;\n  };\n  CropArea.prototype.setMinSize = function (size) {\n    this._minSize = size;\n    this._size = Math.max(this._minSize, this._size);\n    this._dontDragOutside();\n  };\n\n  /* FUNCTIONS */\n  CropArea.prototype._dontDragOutside=function() {\n    var h=this._ctx.canvas.height,\n        w=this._ctx.canvas.width;\n    if(this._size>w) { this._size=w; }\n    if(this._size>h) { this._size=h; }\n    if(this._x<this._size/2) { this._x=this._size/2; }\n    if(this._x>w-this._size/2) { this._x=w-this._size/2; }\n    if(this._y<this._size/2) { this._y=this._size/2; }\n    if(this._y>h-this._size/2) { this._y=h-this._size/2; }\n  };\n\n  CropArea.prototype._drawArea=function() {};\n\n  CropArea.prototype.draw=function() {\n    // draw crop area\n    this._cropCanvas.drawCropArea(this._image,[this._x,this._y],this._size,this._drawArea);\n  };\n\n  CropArea.prototype.processMouseMove=function() {};\n\n  CropArea.prototype.processMouseDown=function() {};\n\n  CropArea.prototype.processMouseUp=function() {};\n\n  return CropArea;\n}]);\n\nangular.module('SER.image').factory('cropCanvas', [function() {\n  // Shape = Array of [x,y]; [0, 0] - center\n  var shapeArrowNW=[[-0.5,-2],[-3,-4.5],[-0.5,-7],[-7,-7],[-7,-0.5],[-4.5,-3],[-2,-0.5]];\n  var shapeArrowNE=[[0.5,-2],[3,-4.5],[0.5,-7],[7,-7],[7,-0.5],[4.5,-3],[2,-0.5]];\n  var shapeArrowSW=[[-0.5,2],[-3,4.5],[-0.5,7],[-7,7],[-7,0.5],[-4.5,3],[-2,0.5]];\n  var shapeArrowSE=[[0.5,2],[3,4.5],[0.5,7],[7,7],[7,0.5],[4.5,3],[2,0.5]];\n  var shapeArrowN=[[-1.5,-2.5],[-1.5,-6],[-5,-6],[0,-11],[5,-6],[1.5,-6],[1.5,-2.5]];\n  var shapeArrowW=[[-2.5,-1.5],[-6,-1.5],[-6,-5],[-11,0],[-6,5],[-6,1.5],[-2.5,1.5]];\n  var shapeArrowS=[[-1.5,2.5],[-1.5,6],[-5,6],[0,11],[5,6],[1.5,6],[1.5,2.5]];\n  var shapeArrowE=[[2.5,-1.5],[6,-1.5],[6,-5],[11,0],[6,5],[6,1.5],[2.5,1.5]];\n\n  // Colors\n  var colors={\n    areaOutline: '#fff',\n    resizeBoxStroke: '#fff',\n    resizeBoxFill: '#444',\n    resizeBoxArrowFill: '#fff',\n    resizeCircleStroke: '#fff',\n    resizeCircleFill: '#444',\n    moveIconFill: '#fff'\n  };\n\n  return function(ctx){\n\n    /* Base functions */\n\n    // Calculate Point\n    var calcPoint=function(point,offset,scale) {\n        return [scale*point[0]+offset[0], scale*point[1]+offset[1]];\n    };\n\n    // Draw Filled Polygon\n    var drawFilledPolygon=function(shape,fillStyle,centerCoords,scale) {\n        ctx.save();\n        ctx.fillStyle = fillStyle;\n        ctx.beginPath();\n        var pc, pc0=calcPoint(shape[0],centerCoords,scale);\n        ctx.moveTo(pc0[0],pc0[1]);\n\n        for(var p in shape) {\n            if (p > 0) {\n                pc=calcPoint(shape[p],centerCoords,scale);\n                ctx.lineTo(pc[0],pc[1]);\n            }\n        }\n\n        ctx.lineTo(pc0[0],pc0[1]);\n        ctx.fill();\n        ctx.closePath();\n        ctx.restore();\n    };\n\n    /* Icons */\n\n    this.drawIconMove=function(centerCoords, scale) {\n      drawFilledPolygon(shapeArrowN, colors.moveIconFill, centerCoords, scale);\n      drawFilledPolygon(shapeArrowW, colors.moveIconFill, centerCoords, scale);\n      drawFilledPolygon(shapeArrowS, colors.moveIconFill, centerCoords, scale);\n      drawFilledPolygon(shapeArrowE, colors.moveIconFill, centerCoords, scale);\n    };\n\n    this.drawIconResizeCircle=function(centerCoords, circleRadius, scale) {\n      var scaledCircleRadius=circleRadius*scale;\n      ctx.save();\n      ctx.strokeStyle = colors.resizeCircleStroke;\n      ctx.lineWidth = 2;\n      ctx.fillStyle = colors.resizeCircleFill;\n      ctx.beginPath();\n      ctx.arc(centerCoords[0],centerCoords[1],scaledCircleRadius,0,2*Math.PI);\n      ctx.fill();\n      ctx.stroke();\n      ctx.closePath();\n      ctx.restore();\n    };\n\n    this.drawIconResizeBoxBase=function(centerCoords, boxSize, scale) {\n      var scaledBoxSize=boxSize*scale;\n      ctx.save();\n      ctx.strokeStyle = colors.resizeBoxStroke;\n      ctx.lineWidth = 2;\n      ctx.fillStyle = colors.resizeBoxFill;\n      ctx.fillRect(centerCoords[0] - scaledBoxSize/2, centerCoords[1] - scaledBoxSize/2, scaledBoxSize, scaledBoxSize);\n      ctx.strokeRect(centerCoords[0] - scaledBoxSize/2, centerCoords[1] - scaledBoxSize/2, scaledBoxSize, scaledBoxSize);\n      ctx.restore();\n    };\n    this.drawIconResizeBoxNESW=function(centerCoords, boxSize, scale) {\n      this.drawIconResizeBoxBase(centerCoords, boxSize, scale);\n      drawFilledPolygon(shapeArrowNE, colors.resizeBoxArrowFill, centerCoords, scale);\n      drawFilledPolygon(shapeArrowSW, colors.resizeBoxArrowFill, centerCoords, scale);\n    };\n    this.drawIconResizeBoxNWSE=function(centerCoords, boxSize, scale) {\n      this.drawIconResizeBoxBase(centerCoords, boxSize, scale);\n      drawFilledPolygon(shapeArrowNW, colors.resizeBoxArrowFill, centerCoords, scale);\n      drawFilledPolygon(shapeArrowSE, colors.resizeBoxArrowFill, centerCoords, scale);\n    };\n\n    /* Crop Area */\n\n    this.drawCropArea=function(image, centerCoords, size, fnDrawClipPath) {\n      var xRatio=image.width/ctx.canvas.width,\n          yRatio=image.height/ctx.canvas.height,\n          xLeft=centerCoords[0]-size/2,\n          yTop=centerCoords[1]-size/2;\n\n      ctx.save();\n      ctx.strokeStyle = colors.areaOutline;\n      ctx.lineWidth = 2;\n      ctx.beginPath();\n      fnDrawClipPath(ctx, centerCoords, size);\n      ctx.stroke();\n      ctx.clip();\n\n      // draw part of original image\n      if (size > 0) {\n          ctx.drawImage(image, xLeft*xRatio, yTop*yRatio, size*xRatio, size*yRatio, xLeft, yTop, size, size);\n      }\n\n      ctx.beginPath();\n      fnDrawClipPath(ctx, centerCoords, size);\n      ctx.stroke();\n      ctx.clip();\n\n      ctx.restore();\n    };\n\n  };\n}]);\n\n/**\n * EXIF service is based on the exif-js library (https://github.com/jseidelin/exif-js)\n */\n\nangular.module('SER.image').service('cropEXIF', [function() {\n  var debug = false;\n\n  var ExifTags = this.Tags = {\n\n      // version tags\n      0x9000 : \"ExifVersion\",             // EXIF version\n      0xA000 : \"FlashpixVersion\",         // Flashpix format version\n\n      // colorspace tags\n      0xA001 : \"ColorSpace\",              // Color space information tag\n\n      // image configuration\n      0xA002 : \"PixelXDimension\",         // Valid width of meaningful image\n      0xA003 : \"PixelYDimension\",         // Valid height of meaningful image\n      0x9101 : \"ComponentsConfiguration\", // Information about channels\n      0x9102 : \"CompressedBitsPerPixel\",  // Compressed bits per pixel\n\n      // user information\n      0x927C : \"MakerNote\",               // Any desired information written by the manufacturer\n      0x9286 : \"UserComment\",             // Comments by user\n\n      // related file\n      0xA004 : \"RelatedSoundFile\",        // Name of related sound file\n\n      // date and time\n      0x9003 : \"DateTimeOriginal\",        // Date and time when the original image was generated\n      0x9004 : \"DateTimeDigitized\",       // Date and time when the image was stored digitally\n      0x9290 : \"SubsecTime\",              // Fractions of seconds for DateTime\n      0x9291 : \"SubsecTimeOriginal\",      // Fractions of seconds for DateTimeOriginal\n      0x9292 : \"SubsecTimeDigitized\",     // Fractions of seconds for DateTimeDigitized\n\n      // picture-taking conditions\n      0x829A : \"ExposureTime\",            // Exposure time (in seconds)\n      0x829D : \"FNumber\",                 // F number\n      0x8822 : \"ExposureProgram\",         // Exposure program\n      0x8824 : \"SpectralSensitivity\",     // Spectral sensitivity\n      0x8827 : \"ISOSpeedRatings\",         // ISO speed rating\n      0x8828 : \"OECF\",                    // Optoelectric conversion factor\n      0x9201 : \"ShutterSpeedValue\",       // Shutter speed\n      0x9202 : \"ApertureValue\",           // Lens aperture\n      0x9203 : \"BrightnessValue\",         // Value of brightness\n      0x9204 : \"ExposureBias\",            // Exposure bias\n      0x9205 : \"MaxApertureValue\",        // Smallest F number of lens\n      0x9206 : \"SubjectDistance\",         // Distance to subject in meters\n      0x9207 : \"MeteringMode\",            // Metering mode\n      0x9208 : \"LightSource\",             // Kind of light source\n      0x9209 : \"Flash\",                   // Flash status\n      0x9214 : \"SubjectArea\",             // Location and area of main subject\n      0x920A : \"FocalLength\",             // Focal length of the lens in mm\n      0xA20B : \"FlashEnergy\",             // Strobe energy in BCPS\n      0xA20C : \"SpatialFrequencyResponse\",    //\n      0xA20E : \"FocalPlaneXResolution\",   // Number of pixels in width direction per FocalPlaneResolutionUnit\n      0xA20F : \"FocalPlaneYResolution\",   // Number of pixels in height direction per FocalPlaneResolutionUnit\n      0xA210 : \"FocalPlaneResolutionUnit\",    // Unit for measuring FocalPlaneXResolution and FocalPlaneYResolution\n      0xA214 : \"SubjectLocation\",         // Location of subject in image\n      0xA215 : \"ExposureIndex\",           // Exposure index selected on camera\n      0xA217 : \"SensingMethod\",           // Image sensor type\n      0xA300 : \"FileSource\",              // Image source (3 == DSC)\n      0xA301 : \"SceneType\",               // Scene type (1 == directly photographed)\n      0xA302 : \"CFAPattern\",              // Color filter array geometric pattern\n      0xA401 : \"CustomRendered\",          // Special processing\n      0xA402 : \"ExposureMode\",            // Exposure mode\n      0xA403 : \"WhiteBalance\",            // 1 = auto white balance, 2 = manual\n      0xA404 : \"DigitalZoomRation\",       // Digital zoom ratio\n      0xA405 : \"FocalLengthIn35mmFilm\",   // Equivalent foacl length assuming 35mm film camera (in mm)\n      0xA406 : \"SceneCaptureType\",        // Type of scene\n      0xA407 : \"GainControl\",             // Degree of overall image gain adjustment\n      0xA408 : \"Contrast\",                // Direction of contrast processing applied by camera\n      0xA409 : \"Saturation\",              // Direction of saturation processing applied by camera\n      0xA40A : \"Sharpness\",               // Direction of sharpness processing applied by camera\n      0xA40B : \"DeviceSettingDescription\",    //\n      0xA40C : \"SubjectDistanceRange\",    // Distance to subject\n\n      // other tags\n      0xA005 : \"InteroperabilityIFDPointer\",\n      0xA420 : \"ImageUniqueID\"            // Identifier assigned uniquely to each image\n  };\n\n  var TiffTags = this.TiffTags = {\n      0x0100 : \"ImageWidth\",\n      0x0101 : \"ImageHeight\",\n      0x8769 : \"ExifIFDPointer\",\n      0x8825 : \"GPSInfoIFDPointer\",\n      0xA005 : \"InteroperabilityIFDPointer\",\n      0x0102 : \"BitsPerSample\",\n      0x0103 : \"Compression\",\n      0x0106 : \"PhotometricInterpretation\",\n      0x0112 : \"Orientation\",\n      0x0115 : \"SamplesPerPixel\",\n      0x011C : \"PlanarConfiguration\",\n      0x0212 : \"YCbCrSubSampling\",\n      0x0213 : \"YCbCrPositioning\",\n      0x011A : \"XResolution\",\n      0x011B : \"YResolution\",\n      0x0128 : \"ResolutionUnit\",\n      0x0111 : \"StripOffsets\",\n      0x0116 : \"RowsPerStrip\",\n      0x0117 : \"StripByteCounts\",\n      0x0201 : \"JPEGInterchangeFormat\",\n      0x0202 : \"JPEGInterchangeFormatLength\",\n      0x012D : \"TransferFunction\",\n      0x013E : \"WhitePoint\",\n      0x013F : \"PrimaryChromaticities\",\n      0x0211 : \"YCbCrCoefficients\",\n      0x0214 : \"ReferenceBlackWhite\",\n      0x0132 : \"DateTime\",\n      0x010E : \"ImageDescription\",\n      0x010F : \"Make\",\n      0x0110 : \"Model\",\n      0x0131 : \"Software\",\n      0x013B : \"Artist\",\n      0x8298 : \"Copyright\"\n  };\n\n  var GPSTags = this.GPSTags = {\n      0x0000 : \"GPSVersionID\",\n      0x0001 : \"GPSLatitudeRef\",\n      0x0002 : \"GPSLatitude\",\n      0x0003 : \"GPSLongitudeRef\",\n      0x0004 : \"GPSLongitude\",\n      0x0005 : \"GPSAltitudeRef\",\n      0x0006 : \"GPSAltitude\",\n      0x0007 : \"GPSTimeStamp\",\n      0x0008 : \"GPSSatellites\",\n      0x0009 : \"GPSStatus\",\n      0x000A : \"GPSMeasureMode\",\n      0x000B : \"GPSDOP\",\n      0x000C : \"GPSSpeedRef\",\n      0x000D : \"GPSSpeed\",\n      0x000E : \"GPSTrackRef\",\n      0x000F : \"GPSTrack\",\n      0x0010 : \"GPSImgDirectionRef\",\n      0x0011 : \"GPSImgDirection\",\n      0x0012 : \"GPSMapDatum\",\n      0x0013 : \"GPSDestLatitudeRef\",\n      0x0014 : \"GPSDestLatitude\",\n      0x0015 : \"GPSDestLongitudeRef\",\n      0x0016 : \"GPSDestLongitude\",\n      0x0017 : \"GPSDestBearingRef\",\n      0x0018 : \"GPSDestBearing\",\n      0x0019 : \"GPSDestDistanceRef\",\n      0x001A : \"GPSDestDistance\",\n      0x001B : \"GPSProcessingMethod\",\n      0x001C : \"GPSAreaInformation\",\n      0x001D : \"GPSDateStamp\",\n      0x001E : \"GPSDifferential\"\n  };\n\n  var StringValues = this.StringValues = {\n      ExposureProgram : {\n          0 : \"Not defined\",\n          1 : \"Manual\",\n          2 : \"Normal program\",\n          3 : \"Aperture priority\",\n          4 : \"Shutter priority\",\n          5 : \"Creative program\",\n          6 : \"Action program\",\n          7 : \"Portrait mode\",\n          8 : \"Landscape mode\"\n      },\n      MeteringMode : {\n          0 : \"Unknown\",\n          1 : \"Average\",\n          2 : \"CenterWeightedAverage\",\n          3 : \"Spot\",\n          4 : \"MultiSpot\",\n          5 : \"Pattern\",\n          6 : \"Partial\",\n          255 : \"Other\"\n      },\n      LightSource : {\n          0 : \"Unknown\",\n          1 : \"Daylight\",\n          2 : \"Fluorescent\",\n          3 : \"Tungsten (incandescent light)\",\n          4 : \"Flash\",\n          9 : \"Fine weather\",\n          10 : \"Cloudy weather\",\n          11 : \"Shade\",\n          12 : \"Daylight fluorescent (D 5700 - 7100K)\",\n          13 : \"Day white fluorescent (N 4600 - 5400K)\",\n          14 : \"Cool white fluorescent (W 3900 - 4500K)\",\n          15 : \"White fluorescent (WW 3200 - 3700K)\",\n          17 : \"Standard light A\",\n          18 : \"Standard light B\",\n          19 : \"Standard light C\",\n          20 : \"D55\",\n          21 : \"D65\",\n          22 : \"D75\",\n          23 : \"D50\",\n          24 : \"ISO studio tungsten\",\n          255 : \"Other\"\n      },\n      Flash : {\n          0x0000 : \"Flash did not fire\",\n          0x0001 : \"Flash fired\",\n          0x0005 : \"Strobe return light not detected\",\n          0x0007 : \"Strobe return light detected\",\n          0x0009 : \"Flash fired, compulsory flash mode\",\n          0x000D : \"Flash fired, compulsory flash mode, return light not detected\",\n          0x000F : \"Flash fired, compulsory flash mode, return light detected\",\n          0x0010 : \"Flash did not fire, compulsory flash mode\",\n          0x0018 : \"Flash did not fire, auto mode\",\n          0x0019 : \"Flash fired, auto mode\",\n          0x001D : \"Flash fired, auto mode, return light not detected\",\n          0x001F : \"Flash fired, auto mode, return light detected\",\n          0x0020 : \"No flash function\",\n          0x0041 : \"Flash fired, red-eye reduction mode\",\n          0x0045 : \"Flash fired, red-eye reduction mode, return light not detected\",\n          0x0047 : \"Flash fired, red-eye reduction mode, return light detected\",\n          0x0049 : \"Flash fired, compulsory flash mode, red-eye reduction mode\",\n          0x004D : \"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected\",\n          0x004F : \"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected\",\n          0x0059 : \"Flash fired, auto mode, red-eye reduction mode\",\n          0x005D : \"Flash fired, auto mode, return light not detected, red-eye reduction mode\",\n          0x005F : \"Flash fired, auto mode, return light detected, red-eye reduction mode\"\n      },\n      SensingMethod : {\n          1 : \"Not defined\",\n          2 : \"One-chip color area sensor\",\n          3 : \"Two-chip color area sensor\",\n          4 : \"Three-chip color area sensor\",\n          5 : \"Color sequential area sensor\",\n          7 : \"Trilinear sensor\",\n          8 : \"Color sequential linear sensor\"\n      },\n      SceneCaptureType : {\n          0 : \"Standard\",\n          1 : \"Landscape\",\n          2 : \"Portrait\",\n          3 : \"Night scene\"\n      },\n      SceneType : {\n          1 : \"Directly photographed\"\n      },\n      CustomRendered : {\n          0 : \"Normal process\",\n          1 : \"Custom process\"\n      },\n      WhiteBalance : {\n          0 : \"Auto white balance\",\n          1 : \"Manual white balance\"\n      },\n      GainControl : {\n          0 : \"None\",\n          1 : \"Low gain up\",\n          2 : \"High gain up\",\n          3 : \"Low gain down\",\n          4 : \"High gain down\"\n      },\n      Contrast : {\n          0 : \"Normal\",\n          1 : \"Soft\",\n          2 : \"Hard\"\n      },\n      Saturation : {\n          0 : \"Normal\",\n          1 : \"Low saturation\",\n          2 : \"High saturation\"\n      },\n      Sharpness : {\n          0 : \"Normal\",\n          1 : \"Soft\",\n          2 : \"Hard\"\n      },\n      SubjectDistanceRange : {\n          0 : \"Unknown\",\n          1 : \"Macro\",\n          2 : \"Close view\",\n          3 : \"Distant view\"\n      },\n      FileSource : {\n          3 : \"DSC\"\n      },\n\n      Components : {\n          0 : \"\",\n          1 : \"Y\",\n          2 : \"Cb\",\n          3 : \"Cr\",\n          4 : \"R\",\n          5 : \"G\",\n          6 : \"B\"\n      }\n  };\n\n  function addEvent(element, event, handler) {\n      if (element.addEventListener) {\n          element.addEventListener(event, handler, false);\n      } else if (element.attachEvent) {\n          element.attachEvent(\"on\" + event, handler);\n      }\n  }\n\n  function imageHasData(img) {\n      return !!(img.exifdata);\n  }\n\n  function base64ToArrayBuffer(base64, contentType) {\n      contentType = contentType || base64.match(/^data\\:([^\\;]+)\\;base64,/mi)[1] || ''; // e.g. 'data:image/jpeg;base64,...' => 'image/jpeg'\n      base64 = base64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n      var binary = atob(base64);\n      var len = binary.length;\n      var buffer = new ArrayBuffer(len);\n      var view = new Uint8Array(buffer);\n      for (var i = 0; i < len; i++) {\n          view[i] = binary.charCodeAt(i);\n      }\n      return buffer;\n  }\n\n  function objectURLToBlob(url, callback) {\n      var http = new XMLHttpRequest();\n      http.open(\"GET\", url, true);\n      http.responseType = \"blob\";\n      http.onload = function(e) {\n          if (this.status == 200 || this.status === 0) {\n              callback(this.response);\n          }\n      };\n      http.send();\n  }\n\n  function getImageData(img, callback) {\n      function handleBinaryFile(binFile) {\n          var data = findEXIFinJPEG(binFile);\n          var iptcdata = findIPTCinJPEG(binFile);\n          img.exifdata = data || {};\n          img.iptcdata = iptcdata || {};\n          if (callback) {\n              callback.call(img);\n          }\n      }\n\n      if (img.src) {\n          if (/^data\\:/i.test(img.src)) { // Data URI\n              var arrayBuffer = base64ToArrayBuffer(img.src);\n              handleBinaryFile(arrayBuffer);\n\n          } else if (/^blob\\:/i.test(img.src)) { // Object URL\n              var fileReader = new FileReader();\n              fileReader.onload = function(e) {\n                  handleBinaryFile(e.target.result);\n              };\n              objectURLToBlob(img.src, function (blob) {\n                  fileReader.readAsArrayBuffer(blob);\n              });\n          } else {\n              var http = new XMLHttpRequest();\n              http.onload = function() {\n                  if (this.status == 200 || this.status === 0) {\n                      handleBinaryFile(http.response);\n                  } else {\n                      throw \"Could not load image\";\n                  }\n                  http = null;\n              };\n              http.open(\"GET\", img.src, true);\n              http.responseType = \"arraybuffer\";\n              http.send(null);\n          }\n      } else if (window.FileReader && (img instanceof window.Blob || img instanceof window.File)) {\n          var fileReader = new FileReader();\n          fileReader.onload = function(e) {\n              if (debug) console.log(\"Got file of length \" + e.target.result.byteLength);\n              handleBinaryFile(e.target.result);\n          };\n\n          fileReader.readAsArrayBuffer(img);\n      }\n  }\n\n  function findEXIFinJPEG(file) {\n      var dataView = new DataView(file);\n\n      if (debug) console.log(\"Got file of length \" + file.byteLength);\n      if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n          if (debug) console.log(\"Not a valid JPEG\");\n          return false; // not a valid jpeg\n      }\n\n      var offset = 2,\n          length = file.byteLength,\n          marker;\n\n      while (offset < length) {\n          if (dataView.getUint8(offset) != 0xFF) {\n              if (debug) console.log(\"Not a valid marker at offset \" + offset + \", found: \" + dataView.getUint8(offset));\n              return false; // not a valid marker, something is wrong\n          }\n\n          marker = dataView.getUint8(offset + 1);\n          if (debug) console.log(marker);\n\n          // we could implement handling for other markers here,\n          // but we're only looking for 0xFFE1 for EXIF data\n\n          if (marker == 225) {\n              if (debug) console.log(\"Found 0xFFE1 marker\");\n\n              return readEXIFData(dataView, offset + 4, dataView.getUint16(offset + 2) - 2);\n\n              // offset += 2 + file.getShortAt(offset+2, true);\n\n          } else {\n              offset += 2 + dataView.getUint16(offset+2);\n          }\n\n      }\n\n  }\n\n  function findIPTCinJPEG(file) {\n      var dataView = new DataView(file);\n\n      if (debug) console.log(\"Got file of length \" + file.byteLength);\n      if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n          if (debug) console.log(\"Not a valid JPEG\");\n          return false; // not a valid jpeg\n      }\n\n      var offset = 2,\n          length = file.byteLength;\n\n      var isFieldSegmentStart = function(dataView, offset){\n          return (\n              dataView.getUint8(offset) === 0x38 &&\n              dataView.getUint8(offset+1) === 0x42 &&\n              dataView.getUint8(offset+2) === 0x49 &&\n              dataView.getUint8(offset+3) === 0x4D &&\n              dataView.getUint8(offset+4) === 0x04 &&\n              dataView.getUint8(offset+5) === 0x04\n          );\n      };\n\n      while (offset < length) {\n\n          if ( isFieldSegmentStart(dataView, offset )){\n\n              // Get the length of the name header (which is padded to an even number of bytes)\n              var nameHeaderLength = dataView.getUint8(offset+7);\n              if(nameHeaderLength % 2 !== 0) nameHeaderLength += 1;\n              // Check for pre photoshop 6 format\n              if(nameHeaderLength === 0) {\n                  // Always 4\n                  nameHeaderLength = 4;\n              }\n\n              var startOffset = offset + 8 + nameHeaderLength;\n              var sectionLength = dataView.getUint16(offset + 6 + nameHeaderLength);\n\n              return readIPTCData(file, startOffset, sectionLength);\n\n              break;\n\n          }\n\n          // Not the marker, continue searching\n          offset++;\n\n      }\n\n  }\n  var IptcFieldMap = {\n      0x78 : 'caption',\n      0x6E : 'credit',\n      0x19 : 'keywords',\n      0x37 : 'dateCreated',\n      0x50 : 'byline',\n      0x55 : 'bylineTitle',\n      0x7A : 'captionWriter',\n      0x69 : 'headline',\n      0x74 : 'copyright',\n      0x0F : 'category'\n  };\n  function readIPTCData(file, startOffset, sectionLength){\n      var dataView = new DataView(file);\n      var data = {};\n      var fieldValue, fieldName, dataSize, segmentType, segmentSize;\n      var segmentStartPos = startOffset;\n      while(segmentStartPos < startOffset+sectionLength) {\n          if(dataView.getUint8(segmentStartPos) === 0x1C && dataView.getUint8(segmentStartPos+1) === 0x02){\n              segmentType = dataView.getUint8(segmentStartPos+2);\n              if(segmentType in IptcFieldMap) {\n                  dataSize = dataView.getInt16(segmentStartPos+3);\n                  segmentSize = dataSize + 5;\n                  fieldName = IptcFieldMap[segmentType];\n                  fieldValue = getStringFromDB(dataView, segmentStartPos+5, dataSize);\n                  // Check if we already stored a value with this name\n                  if(data.hasOwnProperty(fieldName)) {\n                      // Value already stored with this name, create multivalue field\n                      if(data[fieldName] instanceof Array) {\n                          data[fieldName].push(fieldValue);\n                      }\n                      else {\n                          data[fieldName] = [data[fieldName], fieldValue];\n                      }\n                  }\n                  else {\n                      data[fieldName] = fieldValue;\n                  }\n              }\n\n          }\n          segmentStartPos++;\n      }\n      return data;\n  }\n\n  function readTags(file, tiffStart, dirStart, strings, bigEnd) {\n      var entries = file.getUint16(dirStart, !bigEnd),\n          tags = {},\n          entryOffset, tag,\n          i;\n\n      for (i=0;i<entries;i++) {\n          entryOffset = dirStart + i*12 + 2;\n          tag = strings[file.getUint16(entryOffset, !bigEnd)];\n          if (!tag && debug) console.log(\"Unknown tag: \" + file.getUint16(entryOffset, !bigEnd));\n          tags[tag] = readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd);\n      }\n      return tags;\n  }\n\n  function readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd) {\n      var type = file.getUint16(entryOffset+2, !bigEnd),\n          numValues = file.getUint32(entryOffset+4, !bigEnd),\n          valueOffset = file.getUint32(entryOffset+8, !bigEnd) + tiffStart,\n          offset,\n          vals, val, n,\n          numerator, denominator;\n\n      switch (type) {\n          case 1: // byte, 8-bit unsigned int\n          case 7: // undefined, 8-bit byte, value depending on field\n              if (numValues == 1) {\n                  return file.getUint8(entryOffset + 8, !bigEnd);\n              } else {\n                  offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n                  vals = [];\n                  for (n=0;n<numValues;n++) {\n                      vals[n] = file.getUint8(offset + n);\n                  }\n                  return vals;\n              }\n\n          case 2: // ascii, 8-bit byte\n              offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n              return getStringFromDB(file, offset, numValues-1);\n\n          case 3: // short, 16 bit int\n              if (numValues == 1) {\n                  return file.getUint16(entryOffset + 8, !bigEnd);\n              } else {\n                  offset = numValues > 2 ? valueOffset : (entryOffset + 8);\n                  vals = [];\n                  for (n=0;n<numValues;n++) {\n                      vals[n] = file.getUint16(offset + 2*n, !bigEnd);\n                  }\n                  return vals;\n              }\n\n          case 4: // long, 32 bit int\n              if (numValues == 1) {\n                  return file.getUint32(entryOffset + 8, !bigEnd);\n              } else {\n                  vals = [];\n                  for (n=0;n<numValues;n++) {\n                      vals[n] = file.getUint32(valueOffset + 4*n, !bigEnd);\n                  }\n                  return vals;\n              }\n\n          case 5:    // rational = two long values, first is numerator, second is denominator\n              if (numValues == 1) {\n                  numerator = file.getUint32(valueOffset, !bigEnd);\n                  denominator = file.getUint32(valueOffset+4, !bigEnd);\n                  val = new Number(numerator / denominator);\n                  val.numerator = numerator;\n                  val.denominator = denominator;\n                  return val;\n              } else {\n                  vals = [];\n                  for (n=0;n<numValues;n++) {\n                      numerator = file.getUint32(valueOffset + 8*n, !bigEnd);\n                      denominator = file.getUint32(valueOffset+4 + 8*n, !bigEnd);\n                      vals[n] = new Number(numerator / denominator);\n                      vals[n].numerator = numerator;\n                      vals[n].denominator = denominator;\n                  }\n                  return vals;\n              }\n\n          case 9: // slong, 32 bit signed int\n              if (numValues == 1) {\n                  return file.getInt32(entryOffset + 8, !bigEnd);\n              } else {\n                  vals = [];\n                  for (n=0;n<numValues;n++) {\n                      vals[n] = file.getInt32(valueOffset + 4*n, !bigEnd);\n                  }\n                  return vals;\n              }\n\n          case 10: // signed rational, two slongs, first is numerator, second is denominator\n              if (numValues == 1) {\n                  return file.getInt32(valueOffset, !bigEnd) / file.getInt32(valueOffset+4, !bigEnd);\n              } else {\n                  vals = [];\n                  for (n=0;n<numValues;n++) {\n                      vals[n] = file.getInt32(valueOffset + 8*n, !bigEnd) / file.getInt32(valueOffset+4 + 8*n, !bigEnd);\n                  }\n                  return vals;\n              }\n      }\n  }\n\n  function getStringFromDB(buffer, start, length) {\n      var outstr = \"\";\n      for (var n = start; n < start+length; n++) {\n          outstr += String.fromCharCode(buffer.getUint8(n));\n      }\n      return outstr;\n  }\n\n  function readEXIFData(file, start) {\n      if (getStringFromDB(file, start, 4) != \"Exif\") {\n          if (debug) console.log(\"Not valid EXIF data! \" + getStringFromDB(file, start, 4));\n          return false;\n      }\n\n      var bigEnd,\n          tags, tag,\n          exifData, gpsData,\n          tiffOffset = start + 6;\n\n      // test for TIFF validity and endianness\n      if (file.getUint16(tiffOffset) == 0x4949) {\n          bigEnd = false;\n      } else if (file.getUint16(tiffOffset) == 0x4D4D) {\n          bigEnd = true;\n      } else {\n          if (debug) console.log(\"Not valid TIFF data! (no 0x4949 or 0x4D4D)\");\n          return false;\n      }\n\n      if (file.getUint16(tiffOffset+2, !bigEnd) != 0x002A) {\n          if (debug) console.log(\"Not valid TIFF data! (no 0x002A)\");\n          return false;\n      }\n\n      var firstIFDOffset = file.getUint32(tiffOffset+4, !bigEnd);\n\n      if (firstIFDOffset < 0x00000008) {\n          if (debug) console.log(\"Not valid TIFF data! (First offset less than 8)\", file.getUint32(tiffOffset+4, !bigEnd));\n          return false;\n      }\n\n      tags = readTags(file, tiffOffset, tiffOffset + firstIFDOffset, TiffTags, bigEnd);\n\n      if (tags.ExifIFDPointer) {\n          exifData = readTags(file, tiffOffset, tiffOffset + tags.ExifIFDPointer, ExifTags, bigEnd);\n          for (tag in exifData) {\n              switch (tag) {\n                  case \"LightSource\" :\n                  case \"Flash\" :\n                  case \"MeteringMode\" :\n                  case \"ExposureProgram\" :\n                  case \"SensingMethod\" :\n                  case \"SceneCaptureType\" :\n                  case \"SceneType\" :\n                  case \"CustomRendered\" :\n                  case \"WhiteBalance\" :\n                  case \"GainControl\" :\n                  case \"Contrast\" :\n                  case \"Saturation\" :\n                  case \"Sharpness\" :\n                  case \"SubjectDistanceRange\" :\n                  case \"FileSource\" :\n                      exifData[tag] = StringValues[tag][exifData[tag]];\n                      break;\n\n                  case \"ExifVersion\" :\n                  case \"FlashpixVersion\" :\n                      exifData[tag] = String.fromCharCode(exifData[tag][0], exifData[tag][1], exifData[tag][2], exifData[tag][3]);\n                      break;\n\n                  case \"ComponentsConfiguration\" :\n                      exifData[tag] =\n                          StringValues.Components[exifData[tag][0]] +\n                          StringValues.Components[exifData[tag][1]] +\n                          StringValues.Components[exifData[tag][2]] +\n                          StringValues.Components[exifData[tag][3]];\n                      break;\n              }\n              tags[tag] = exifData[tag];\n          }\n      }\n\n      if (tags.GPSInfoIFDPointer) {\n          gpsData = readTags(file, tiffOffset, tiffOffset + tags.GPSInfoIFDPointer, GPSTags, bigEnd);\n          for (tag in gpsData) {\n              switch (tag) {\n                  case \"GPSVersionID\" :\n                      gpsData[tag] = gpsData[tag][0] +\n                          \".\" + gpsData[tag][1] +\n                          \".\" + gpsData[tag][2] +\n                          \".\" + gpsData[tag][3];\n                      break;\n              }\n              tags[tag] = gpsData[tag];\n          }\n      }\n\n      return tags;\n  }\n\n  this.getData = function(img, callback) {\n      if ((img instanceof Image || img instanceof HTMLImageElement) && !img.complete) return false;\n\n      if (!imageHasData(img)) {\n          getImageData(img, callback);\n      } else {\n          if (callback) {\n              callback.call(img);\n          }\n      }\n      return true;\n  }\n\n  this.getTag = function(img, tag) {\n      if (!imageHasData(img)) return;\n      return img.exifdata[tag];\n  }\n\n  this.getAllTags = function(img) {\n      if (!imageHasData(img)) return {};\n      var a,\n          data = img.exifdata,\n          tags = {};\n      for (a in data) {\n          if (data.hasOwnProperty(a)) {\n              tags[a] = data[a];\n          }\n      }\n      return tags;\n  }\n\n  this.pretty = function(img) {\n      if (!imageHasData(img)) return \"\";\n      var a,\n          data = img.exifdata,\n          strPretty = \"\";\n      for (a in data) {\n          if (data.hasOwnProperty(a)) {\n              if (typeof data[a] == \"object\") {\n                  if (data[a] instanceof Number) {\n                      strPretty += a + \" : \" + data[a] + \" [\" + data[a].numerator + \"/\" + data[a].denominator + \"]\\r\\n\";\n                  } else {\n                      strPretty += a + \" : [\" + data[a].length + \" values]\\r\\n\";\n                  }\n              } else {\n                  strPretty += a + \" : \" + data[a] + \"\\r\\n\";\n              }\n          }\n      }\n      return strPretty;\n  }\n\n  this.readFromBinaryFile = function(file) {\n      return findEXIFinJPEG(file);\n  }\n}]);\n\nangular.module('SER.image').factory('cropHost', ['$document', 'cropAreaCircle', 'cropAreaSquare', 'cropEXIF', function($document, CropAreaCircle, CropAreaSquare, cropEXIF) {\n  /* STATIC FUNCTIONS */\n\n  // Get Element's Offset\n  var getElementOffset=function(elem) {\n      var box = elem.getBoundingClientRect();\n\n      var body = document.body;\n      var docElem = document.documentElement;\n\n      var scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\n      var scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\n      var clientTop = docElem.clientTop || body.clientTop || 0;\n      var clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\n      var top  = box.top +  scrollTop - clientTop;\n      var left = box.left + scrollLeft - clientLeft;\n\n      return { top: Math.round(top), left: Math.round(left) };\n  };\n\n  return function(elCanvas, opts, events){\n    /* PRIVATE VARIABLES */\n\n    // Object Pointers\n    var ctx=null,\n        image=null,\n        theArea=null;\n\n    // Dimensions\n    var minCanvasDims=[100,100],\n        maxCanvasDims=[300,300];\n\n    // Result Image size\n    var resImgSize=200;\n\n    // Result Image type\n    var resImgFormat='image/png';\n\n    // Result Image quality\n    var resImgQuality=null;\n\n    /* PRIVATE FUNCTIONS */\n\n    // Draw Scene\n    function drawScene() {\n      // clear canvas\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n      if(image!==null) {\n        // draw source image\n        ctx.drawImage(image, 0, 0, ctx.canvas.width, ctx.canvas.height);\n\n        ctx.save();\n\n        // and make it darker\n        ctx.fillStyle = 'rgba(0, 0, 0, 0.65)';\n        ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n        ctx.restore();\n\n        // draw Area\n        theArea.draw();\n      }\n    }\n\n    // Resets CropHost\n    var resetCropHost=function() {\n      if(image!==null) {\n        theArea.setImage(image);\n        var imageDims=[image.width, image.height],\n            imageRatio=image.width/image.height,\n            canvasDims=imageDims;\n\n        if(canvasDims[0]>maxCanvasDims[0]) {\n          canvasDims[0]=maxCanvasDims[0];\n          canvasDims[1]=canvasDims[0]/imageRatio;\n        } else if(canvasDims[0]<minCanvasDims[0]) {\n          canvasDims[0]=minCanvasDims[0];\n          canvasDims[1]=canvasDims[0]/imageRatio;\n        }\n        if(canvasDims[1]>maxCanvasDims[1]) {\n          canvasDims[1]=maxCanvasDims[1];\n          canvasDims[0]=canvasDims[1]*imageRatio;\n        } else if(canvasDims[1]<minCanvasDims[1]) {\n          canvasDims[1]=minCanvasDims[1];\n          canvasDims[0]=canvasDims[1]*imageRatio;\n        }\n        elCanvas.prop('width',canvasDims[0]).prop('height',canvasDims[1]).css({'margin-left': -canvasDims[0]/2+'px', 'margin-top': -canvasDims[1]/2+'px'});\n\n        theArea.setX(ctx.canvas.width/2);\n        theArea.setY(ctx.canvas.height/2);\n        theArea.setSize(Math.min(200, ctx.canvas.width/2, ctx.canvas.height/2));\n      } else {\n        elCanvas.prop('width',0).prop('height',0).css({'margin-top': 0});\n      }\n\n      drawScene();\n    };\n\n    /**\n     * Returns event.changedTouches directly if event is a TouchEvent.\n     * If event is a jQuery event, return changedTouches of event.originalEvent\n     */\n    var getChangedTouches=function(event){\n      if(angular.isDefined(event.changedTouches)){\n        return event.changedTouches;\n      }else{\n        return event.originalEvent.changedTouches;\n      }\n    };\n\n    var onMouseMove=function(e) {\n      if(image!==null) {\n        var offset=getElementOffset(ctx.canvas),\n            pageX, pageY;\n        if(e.type === 'touchmove') {\n          pageX=getChangedTouches(e)[0].pageX;\n          pageY=getChangedTouches(e)[0].pageY;\n        } else {\n          pageX=e.pageX;\n          pageY=e.pageY;\n        }\n        theArea.processMouseMove(pageX-offset.left, pageY-offset.top);\n        drawScene();\n      }\n    };\n\n    var onMouseDown=function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      if(image!==null) {\n        var offset=getElementOffset(ctx.canvas),\n            pageX, pageY;\n        if(e.type === 'touchstart') {\n          pageX=getChangedTouches(e)[0].pageX;\n          pageY=getChangedTouches(e)[0].pageY;\n        } else {\n          pageX=e.pageX;\n          pageY=e.pageY;\n        }\n        theArea.processMouseDown(pageX-offset.left, pageY-offset.top);\n        drawScene();\n      }\n    };\n\n    var onMouseUp=function(e) {\n      if(image!==null) {\n        var offset=getElementOffset(ctx.canvas),\n            pageX, pageY;\n        if(e.type === 'touchend') {\n          pageX=getChangedTouches(e)[0].pageX;\n          pageY=getChangedTouches(e)[0].pageY;\n        } else {\n          pageX=e.pageX;\n          pageY=e.pageY;\n        }\n        theArea.processMouseUp(pageX-offset.left, pageY-offset.top);\n        drawScene();\n      }\n    };\n\n    this.getResultImageDataURI=function() {\n      var temp_ctx, temp_canvas;\n      temp_canvas = angular.element('<canvas></canvas>')[0];\n      temp_ctx = temp_canvas.getContext('2d');\n      temp_canvas.width = resImgSize;\n      temp_canvas.height = resImgSize;\n      if(image!==null){\n        temp_ctx.drawImage(image, (theArea.getX()-theArea.getSize()/2)*(image.width/ctx.canvas.width), (theArea.getY()-theArea.getSize()/2)*(image.height/ctx.canvas.height), theArea.getSize()*(image.width/ctx.canvas.width), theArea.getSize()*(image.height/ctx.canvas.height), 0, 0, resImgSize, resImgSize);\n      }\n      if (resImgQuality!==null ){\n        return temp_canvas.toDataURL(resImgFormat, resImgQuality);\n      }\n      return temp_canvas.toDataURL(resImgFormat);\n    };\n\n    this.setNewImageSource=function(imageSource) {\n      image=null;\n      resetCropHost();\n      events.trigger('image-updated');\n      if(!!imageSource) {\n        var newImage = new Image();\n        if(imageSource.substring(0,4).toLowerCase()==='http') {\n          newImage.crossOrigin = 'anonymous';\n        }\n        newImage.onload = function(){\n          events.trigger('load-done');\n\n          cropEXIF.getData(newImage,function(){\n            var orientation=cropEXIF.getTag(newImage,'Orientation');\n\n            if([3,6,8].indexOf(orientation)>-1) {\n              var canvas = document.createElement(\"canvas\"),\n                  ctx=canvas.getContext(\"2d\"),\n                  cw = newImage.width, ch = newImage.height, cx = 0, cy = 0, deg=0;\n              switch(orientation) {\n                case 3:\n                  cx=-newImage.width;\n                  cy=-newImage.height;\n                  deg=180;\n                  break;\n                case 6:\n                  cw = newImage.height;\n                  ch = newImage.width;\n                  cy=-newImage.height;\n                  deg=90;\n                  break;\n                case 8:\n                  cw = newImage.height;\n                  ch = newImage.width;\n                  cx=-newImage.width;\n                  deg=270;\n                  break;\n              }\n\n              canvas.width = cw;\n              canvas.height = ch;\n              ctx.rotate(deg*Math.PI/180);\n              ctx.drawImage(newImage, cx, cy);\n\n              image=new Image();\n              image.src = canvas.toDataURL(\"image/png\");\n            } else {\n              image=newImage;\n            }\n            resetCropHost();\n            events.trigger('image-updated');\n          });\n        };\n        newImage.onerror=function() {\n          events.trigger('load-error');\n        };\n        events.trigger('load-start');\n        newImage.src=imageSource;\n      }\n    };\n\n    this.setMaxDimensions=function(width, height) {\n      maxCanvasDims=[width,height];\n\n      if(image!==null) {\n        var curWidth=ctx.canvas.width,\n            curHeight=ctx.canvas.height;\n\n        var imageDims=[image.width, image.height],\n            imageRatio=image.width/image.height,\n            canvasDims=imageDims;\n\n        if(canvasDims[0]>maxCanvasDims[0]) {\n          canvasDims[0]=maxCanvasDims[0];\n          canvasDims[1]=canvasDims[0]/imageRatio;\n        } else if(canvasDims[0]<minCanvasDims[0]) {\n          canvasDims[0]=minCanvasDims[0];\n          canvasDims[1]=canvasDims[0]/imageRatio;\n        }\n        if(canvasDims[1]>maxCanvasDims[1]) {\n          canvasDims[1]=maxCanvasDims[1];\n          canvasDims[0]=canvasDims[1]*imageRatio;\n        } else if(canvasDims[1]<minCanvasDims[1]) {\n          canvasDims[1]=minCanvasDims[1];\n          canvasDims[0]=canvasDims[1]*imageRatio;\n        }\n        elCanvas.prop('width',canvasDims[0]).prop('height',canvasDims[1]).css({'margin-left': -canvasDims[0]/2+'px', 'margin-top': -canvasDims[1]/2+'px'});\n\n        var ratioNewCurWidth=ctx.canvas.width/curWidth,\n            ratioNewCurHeight=ctx.canvas.height/curHeight,\n            ratioMin=Math.min(ratioNewCurWidth, ratioNewCurHeight);\n\n        theArea.setX(theArea.getX()*ratioNewCurWidth);\n        theArea.setY(theArea.getY()*ratioNewCurHeight);\n        theArea.setSize(theArea.getSize()*ratioMin);\n      } else {\n        elCanvas.prop('width',0).prop('height',0).css({'margin-top': 0});\n      }\n\n      drawScene();\n\n    };\n\n    this.setAreaMinSize=function(size) {\n      size=parseInt(size,10);\n      if(!isNaN(size)) {\n        theArea.setMinSize(size);\n        drawScene();\n      }\n    };\n\n    this.setResultImageSize=function(size) {\n      size=parseInt(size,10);\n      if(!isNaN(size)) {\n        resImgSize=size;\n      }\n    };\n\n    this.setResultImageFormat=function(format) {\n      resImgFormat = format;\n    };\n\n    this.setResultImageQuality=function(quality){\n      quality = parseFloat(quality);\n      if (!isNaN(quality) && quality>=0 && quality<=1){\n        resImgQuality = quality;\n      }\n    };\n\n    this.setAreaType=function(type) {\n      var curSize=theArea.getSize(),\n          curMinSize=theArea.getMinSize(),\n          curX=theArea.getX(),\n          curY=theArea.getY();\n\n      var AreaClass=CropAreaCircle;\n      if(type==='square') {\n        AreaClass=CropAreaSquare;\n      }\n      theArea = new AreaClass(ctx, events);\n      theArea.setMinSize(curMinSize);\n      theArea.setSize(curSize);\n      theArea.setX(curX);\n      theArea.setY(curY);\n\n      // resetCropHost();\n      if(image!==null) {\n        theArea.setImage(image);\n      }\n\n      drawScene();\n    };\n\n    /* Life Cycle begins */\n\n    // Init Context var\n    ctx = elCanvas[0].getContext('2d');\n\n    // Init CropArea\n    theArea = new CropAreaCircle(ctx, events);\n\n    // Init Mouse Event Listeners\n    $document.on('mousemove',onMouseMove);\n    elCanvas.on('mousedown',onMouseDown);\n    $document.on('mouseup',onMouseUp);\n\n    // Init Touch Event Listeners\n    $document.on('touchmove',onMouseMove);\n    elCanvas.on('touchstart',onMouseDown);\n    $document.on('touchend',onMouseUp);\n\n    // CropHost Destructor\n    this.destroy=function() {\n      $document.off('mousemove',onMouseMove);\n      elCanvas.off('mousedown',onMouseDown);\n      $document.off('mouseup',onMouseMove);\n\n      $document.off('touchmove',onMouseMove);\n      elCanvas.off('touchstart',onMouseDown);\n      $document.off('touchend',onMouseMove);\n\n      elCanvas.remove();\n    };\n  };\n\n}]);\n\n\nangular.module('SER.image').factory('cropPubSub', [function() {\n  return function() {\n    var events = {};\n    // Subscribe\n    this.on = function(names, handler) {\n      names.split(' ').forEach(function(name) {\n        if (!events[name]) {\n          events[name] = [];\n        }\n        events[name].push(handler);\n      });\n      return this;\n    };\n    // Publish\n    this.trigger = function(name, args) {\n      angular.forEach(events[name], function(handler) {\n        handler.call(null, args);\n      });\n      return this;\n    };\n  };\n}]);\n\nangular.module('SER.image').directive('imgCrop', ['$timeout', 'cropHost', 'cropPubSub', function($timeout, CropHost, CropPubSub) {\n  return {\n    restrict: 'E',\n    scope: {\n      image: '=',\n      resultImage: '=',\n\n      changeOnFly: '=',\n      areaType: '@',\n      areaMinSize: '=',\n      resultImageSize: '=',\n      resultImageFormat: '@',\n      resultImageQuality: '=',\n\n      onChange: '&',\n      onLoadBegin: '&',\n      onLoadDone: '&',\n      onLoadError: '&'\n    },\n    template: '<canvas></canvas>',\n    controller: ['$scope', function($scope) {\n      $scope.events = new CropPubSub();\n    }],\n    link: function(scope, element/*, attrs*/) {\n      // Init Events Manager\n      var events = scope.events;\n\n      // Init Crop Host\n      var cropHost=new CropHost(element.find('canvas'), {}, events);\n\n      // Store Result Image to check if it's changed\n      var storedResultImage;\n\n      var updateResultImage=function(scope) {\n        var resultImage=cropHost.getResultImageDataURI();\n        if(storedResultImage!==resultImage) {\n          storedResultImage=resultImage;\n          if(angular.isDefined(scope.resultImage)) {\n            scope.resultImage=resultImage;\n          }\n          scope.onChange({$dataURI: scope.resultImage});\n        }\n      };\n\n      // Wrapper to safely exec functions within $apply on a running $digest cycle\n      var fnSafeApply=function(fn) {\n        return function(){\n          $timeout(function(){\n            scope.$apply(function(scope){\n              fn(scope);\n            });\n          });\n        };\n      };\n\n      // Setup CropHost Event Handlers\n      events\n        .on('load-start', fnSafeApply(function(scope){\n          scope.onLoadBegin({});\n        }))\n        .on('load-done', fnSafeApply(function(scope){\n          scope.onLoadDone({});\n        }))\n        .on('load-error', fnSafeApply(function(scope){\n          scope.onLoadError({});\n        }))\n        .on('area-move area-resize', fnSafeApply(function(scope){\n          if(!!scope.changeOnFly) {\n            updateResultImage(scope);\n          }\n        }))\n        .on('area-move-end area-resize-end image-updated', fnSafeApply(function(scope){\n          updateResultImage(scope);\n        }));\n\n      // Sync CropHost with Directive's options\n      scope.$watch('image',function(){\n        cropHost.setNewImageSource(scope.image);\n      });\n      scope.$watch('areaType',function(){\n        cropHost.setAreaType(scope.areaType);\n        updateResultImage(scope);\n      });\n      scope.$watch('areaMinSize',function(){\n        cropHost.setAreaMinSize(scope.areaMinSize);\n        updateResultImage(scope);\n      });\n      scope.$watch('resultImageSize',function(){\n        cropHost.setResultImageSize(scope.resultImageSize);\n        updateResultImage(scope);\n      });\n      scope.$watch('resultImageFormat',function(){\n        cropHost.setResultImageFormat(scope.resultImageFormat);\n        updateResultImage(scope);\n      });\n      scope.$watch('resultImageQuality',function(){\n        cropHost.setResultImageQuality(scope.resultImageQuality);\n        updateResultImage(scope);\n      });\n\n      // Update CropHost dimensions when the directive element is resized\n      scope.$watch(\n        function () {\n          return [element[0].clientWidth, element[0].clientHeight];\n        },\n        function (value) {\n          cropHost.setMaxDimensions(value[0],value[1]);\n          updateResultImage(scope);\n        },\n        true\n      );\n\n      // Destroy CropHost Instance when the directive is destroying\n      scope.$on('$destroy', function(){\n          cropHost.destroy();\n      });\n    }\n  };\n}]);","angular.module('SER.loader', []).service('afterPromises', [\n    function () {\n\n        var afterPromises = function (topCount, callbackFunction) {\n            this.callback = callbackFunction;\n            this.topCount = topCount;\n            this.counter = 0;\n        };\n\n        afterPromises.prototype.notify = function () {\n            this.counter += 1;\n            if (this.counter == this.topCount) {\n                this.callback();\n            }\n        };\n\n        return afterPromises;\n    }\n]);\n","angular.module('SER.search').directive('remoteSearch', ['$http', function search($http) {\n\n    return {\n        restrict: 'A',\n        require: ['ngModel'],\n        scope: {\n            remoteSearchResults: '=',\n            remoteSearch: '=',\n            model: '=ngModel'\n        },\n        link: function (scope, elem, attrs, ngModel) {\n\n            var inputChangedPromise;\n\n            var fetch = function () {\n\n                scope.$apply(function () {\n                    scope.remoteSearchResults = [];\n                });\n                \n                if (scope.model) {\n                    $http.get(scope.remoteSearch + scope.model).then(function (response) {\n                        if (0 < response.data.length) {\n                            scope.remoteSearchResults = response.data;\n                        }\n                    });\n                }\n            };\n\n            elem.on('keyup', function (evt) {\n                if (inputChangedPromise) {\n                    clearTimeout(inputChangedPromise);\n                }\n                inputChangedPromise = setTimeout(function () {\n                    fetch();\n                }, 500);\n            });\n\n        }\n    };\n\n    \n}]);\n\nangular.module('SER.search').directive('ngEnter', function () {\n    return function (scope, element, attrs) {\n        element.bind('keydown keypress', function (event) {\n            if (event.which === 13) {\n                scope.$apply(function () {\n                    scope.$eval(attrs.ngEnter, { $event: event });\n                });\n                event.preventDefault();\n                element.blur();\n            }\n        });\n    };\n});\n\n//angular.module('SER.search').directive('highlightText', ['$interpolate', '$parse', function search($interpolate, $parse) {\n//    return {\n//        terminal: true,\n//        controller: 'MdHighlightCtrl',\n//        compile: function mdHighlightCompile(tElement, tAttr) {\n//            var termExpr = $parse(tAttr.mdHighlightText);\n//            var unsafeContentExpr = $interpolate(tElement.html());\n\n//            return function mdHighlightLink(scope, element, attr, ctrl) {\n//                ctrl.init(termExpr, unsafeContentExpr);\n//            };\n//        }\n//    };\n//}]);","//TODO actualizar highlighted\nangular.module('SER.selector', []).directive('selector', [\n    '$rootScope',\n    '$filter',\n    '$timeout',\n    '$window',\n    '$http',\n    '$q',\n    '$templateCache',\n    function ($rootScope, $filter, $timeout, $window, $http, $q, $templateCache) {\n\n        return {\n            restrict: 'EC',\n            replace: true,\n            transclude: true,\n            scope: {\n                value: '=model',\n                disabled: '=?disable',\n                disableSearch: '=?',\n                required: '=?require',\n                multiple: '=?multi',\n                placeholder: '@?',\n                valueAttr: '@',\n                labelAttr: '@?',\n                options: '=?',\n                dropdownClass: '@?',\n                limit: '=?',\n                rtl: '=?',\n                api: '=?',\n                change: '&?',\n                removeButton: '=?',\n                softDelete: '=?',\n                closeAfterSelection: '=?'\n            },\n            link: function (scope, element, attrs, controller, transclude) {\n            \n                var dropdown = angular.element(element[0].querySelector('.selector-dropdown'));\n                var selectInput = angular.element(element[0].querySelector('select'));\n                var originParents = element.parents();\n                var namespace = 'selector-' + Math.round(Math.random() * 1000000);\n                dropdown.attr('id', namespace);\n\n                transclude(scope, function (clone, scope) {\n                    var filter = $filter('filter'),\n                        input = angular.element(element[0].querySelector('.selector-input input')),\n                        inputCtrl = input.controller('ngModel'),\n                        selectCtrl = element.find('select').controller('ngModel'),\n                        defaults = {\n                            api: {},\n                            search: '',\n                            disableSearch: false,\n                            selectedValues: [],\n                            highlighted: 0,\n                            valueAttr: null,\n                            labelAttr: 'label',\n                            options: [],\n                            limit: Infinity,\n                            removeButton: true,\n                            closeAfterSelection: true\n                        };\n\n                    dropdown.detach();\n\n                    // Default attributes\n                    if (!angular.isDefined(scope.value) && scope.multiple) scope.value = [];\n\n                    for (var defaultsKey in defaults) {\n                        if (!angular.isDefined(scope[defaultsKey])) scope[defaultsKey] = defaults[defaultsKey];\n                    }\n\n                    // Options' utilities\n                    scope.getObjValue = function (obj, path) {\n                        var key;\n                        if (!angular.isDefined(obj) || !angular.isDefined(path)) return obj;\n                        path = angular.isArray(path) ? path : path.split('.');\n                        key = path.shift();\n\n                        if (key.indexOf('[') > 0) {\n                            var match = key.match(/(\\w+)\\[(\\d+)\\]/);\n                            if (match !== null) {\n                                obj = obj[match[1]];\n                                key = match[2];\n                            }\n                        }\n                        return path.length === 0 ? obj[key] : scope.getObjValue(obj[key], path);\n                    };\n                    scope.setObjValue = function (obj, path, value) {\n                        var key;\n                        if (!angular.isDefined(obj)) obj = {};\n                        path = angular.isArray(path) ? path : path.split('.');\n                        key = path.shift();\n\n                        if (key.indexOf('[') > 0) {\n                            var match = key.match(/(\\w+)\\[(\\d+)\\]/);\n                            if (match !== null) {\n                                obj = obj[match[1]];\n                                key = match[2];\n                            }\n                        }\n                        obj[key] = path.length === 0 ? value : scope.setObjValue(obj[key], path, value);\n                        return obj;\n                    };\n                    scope.optionValue = function (option) {\n                        return scope.valueAttr === null ? option : scope.getObjValue(option, scope.valueAttr);\n                    };\n                    scope.optionEquals = function (option, value) {\n                        return angular.equals(scope.optionValue(option), angular.isDefined(value) ? value : scope.value);\n                    };\n\n                    // Value utilities\n                    scope.setValue = function (value) {\n                        if (!scope.multiple) scope.value = scope.valueAttr === null ? value : scope.getObjValue(value || {}, scope.valueAttr);\n                        else scope.value = scope.valueAttr === null ? value || [] : (value || []).map(function (option) { return scope.getObjValue(option, scope.valueAttr); });\n                    };\n                    scope.hasValue = function () {\n                        return scope.multiple ? (scope.value || []).length > 0 : !!scope.value;\n                    };\n\n                    // Fill with options in the select\n                    scope.optionToObject = function (option) {\n                        var object = {},\n                            element = angular.element(option);\n\n                        angular.forEach(option.dataset, function (value, key) {\n                            if (!key.match(/^\\$/)) object[key] = value;\n                        });\n                        if (option.value)\n                            scope.setObjValue(object, scope.valueAttr || 'value', option.value);\n                        if (element.text())\n                            scope.setObjValue(object, scope.labelAttr, element.text().trim());\n                        scope.options.push(object);\n\n                        if (element.attr('selected') && (scope.multiple || !scope.hasValue()))\n                            if (!scope.multiple) {\n                                if (!scope.value) scope.value = scope.optionValue(object);\n                            } else {\n                                if (!scope.value) scope.value = [];\n                                scope.value.push(scope.optionValue(object));\n                            }\n                    };\n                    scope.fillWithHtml = function () {\n                        scope.options = [];\n                        angular.forEach(clone, function (element) {\n                            var tagName = (element.tagName || '').toLowerCase();\n\n                            if (tagName === 'option') scope.optionToObject(element);\n                        });\n                        scope.updateSelected();\n                    };\n\n                    // Initialization\n                    scope.initialize = function () {\n                        if (!angular.isArray(scope.options) || !scope.options.length)\n                            scope.fillWithHtml();\n                        if (scope.hasValue()) {\n                            if (!scope.multiple) {\n                                if (angular.isArray(scope.value)) scope.value = scope.value[0];\n                            } else {\n                                if (!angular.isArray(scope.value)) scope.value = [scope.value];\n                            }\n                            scope.updateSelected();\n                            scope.filterOptions();\n                            scope.updateValue();\n                        }\n                    };\n                    scope.$watch('multiple', function () {\n                        $timeout(scope.setInputWidth);\n                    });\n\n                    var dropdownPosition = function () {\n                        var label = input.parent()[0];\n\n                        var style = {\n                            top: '',\n                            bottom: '',\n                            left: label.getBoundingClientRect().left + 'px',\n                            width: label.offsetWidth + 'px'\n                        };\n\n                        if (angular.element(document.body).height() - (label.offsetHeight + label.getBoundingClientRect().top) >= 220) {\n                            style.top = label.offsetHeight + label.getBoundingClientRect().top;\n                            dropdown.removeClass('ontop');\n                        } else {\n                        \n                            style.bottom = angular.element(document.body).height() - label.getBoundingClientRect().top;\n                            dropdown.addClass('ontop');\n                        }\n\n                        dropdown.css(style);\n                    };\n\n                    // Dropdown utilities\n                    scope.showDropdown = function () {\n                        dropdownPosition();\n                        angular.element(document.body).append(dropdown);\n\n                        $timeout(function () {\n                            angular.element(window).triggerHandler('resize');\n                        }, 50);\n                    };\n\n                    scope.open = function () {\n                        if (scope.multiple && (scope.selectedValues || []).length >= scope.limit) return;\n                        scope.isOpen = true;\n                        scope.showDropdown();\n                        $timeout(scope.scrollToHighlighted);\n                    };\n\n                    scope.close = function () {\n                        scope.isOpen = false;\n                        dropdown.detach();\n                        scope.resetInput()\n                    };\n\n                    var highlight = function (index) {\n                        if (scope.filteredOptions.length)\n                            scope.highlighted = (scope.filteredOptions.length + index) % scope.filteredOptions.length;\n                    };\n\n                    var decrementHighlighted = function () {\n                        highlight(scope.highlighted - 1);\n                    };\n                    \n                    var incrementHighlighted = function () {\n                        highlight(scope.highlighted + 1);\n                    };\n\n                    scope.set = function (option) {\n                        if (scope.multiple && (scope.selectedValues || []).length >= scope.limit) return;\n\n                        if (!scope.multiple) scope.selectedValues = [option];\n                        else {\n                            if (!scope.selectedValues)\n                                scope.selectedValues = [];\n                            if (scope.selectedValues.indexOf(option) < 0)\n                                scope.selectedValues.push(option);\n                        }\n                        if (!scope.multiple && scope.closeAfterSelection) input.blur();\n                        highlight(scope.options.indexOf(option));\n                        scope.resetInput();\n                        selectCtrl.$setDirty();\n                    };\n\n                    scope.unset = function (index) {\n                        if (!scope.multiple) scope.selectedValues = [];\n                        else scope.selectedValues.splice(angular.isDefined(index) ? index : scope.selectedValues.length - 1, 1);\n                        scope.resetInput();\n                        selectCtrl.$setDirty();\n                    };\n\n                    scope.keydown = function (e) {\n                        switch (e.keyCode) {\n                            case KEYS.up:\n                                if (!scope.isOpen) break;\n                                decrementHighlighted();\n                                e.preventDefault();\n                                break;\n                            case KEYS.down:\n                                if (!scope.isOpen) scope.open();\n                                else incrementHighlighted();\n                                e.preventDefault();\n                                break;\n                            case KEYS.escape:\n                                highlight(0);\n                                scope.close();\n                                break;\n                            case KEYS.enter:\n                                if (scope.isOpen) {\n                                    if (scope.filteredOptions.length)\n                                        scope.set();\n                                    e.preventDefault();\n                                }\n                                break;\n                            case KEYS.backspace:\n                                if (!input.val()) {\n                                    var search = scope.getObjValue(scope.selectedValues.slice(-1)[0] || {}, scope.labelAttr || '');\n                                    scope.unset();\n                                    scope.open();\n                                    if (scope.softDelete && !scope.disableSearch)\n                                        $timeout(function () {\n                                            scope.search = search;\n                                        });\n                                    e.preventDefault();\n                                }\n                                break;\n                            case KEYS.left:\n                            case KEYS.right:\n                            case KEYS.shift:\n                            case KEYS.ctrl:\n                            case KEYS.alt:\n                            case KEYS.tab:\n                            case KEYS.leftCmd:\n                            case KEYS.rightCmd:\n                                break;\n                            default:\n                                if (!scope.multiple && scope.hasValue()) {\n                                    e.preventDefault();\n                                } else {\n                                    scope.open();\n                                    highlight(0);\n                                }\n                                break;\n                        }\n                    };\n\n                    // Filtered options\n                    scope.inOptions = function (options, value) {\n                        return options.indexOf(value) >= 0;\n                    };\n\n                    scope.filterOptions = function () {\n                        scope.filteredOptions = filter(scope.options || [], scope.search);\n                        if (!angular.isArray(scope.selectedValues)) scope.selectedValues = [];\n                        if (scope.multiple)\n                            scope.filteredOptions = scope.filteredOptions.filter(function (option) {\n                                return !scope.inOptions(scope.selectedValues, option);\n                            });\n                        else {\n                            var index = scope.filteredOptions.indexOf(scope.selectedValues[0]);\n                            if (index >= 0) highlight(index);\n                        }\n                    };\n\n                    // Input width utilities\n                    scope.measureWidth = function () {\n                        var width,\n                            styles = getStyles(input[0]),\n                            shadow = angular.element('<span class=\"selector-shadow\"></span>');\n                        shadow.text(input.val() || (!scope.hasValue() ? scope.placeholder : '') || '');\n                        angular.element(document.body).append(shadow);\n                        angular.forEach(['fontFamily', 'fontSize', 'fontWeight', 'fontStyle', 'letterSpacing', 'textTransform', 'wordSpacing', 'textIndent'], function (style) {\n                            shadow.css(style, styles[style]);\n                        });\n                        width = shadow[0].offsetWidth;\n                        shadow.remove();\n                        return width;\n                    };\n\n                    scope.setInputWidth = function () {\n                        var width = scope.measureWidth() + 1;\n                        input.css('width', width + 'px');\n                    };\n\n                    scope.resetInput = function () {\n                        input.val('');\n                        scope.setInputWidth();\n                        $timeout(function () { scope.search = ''; });\n                    };\n\n                    scope.$watch('[search, options, value]', function () {\n                        // hide selected items\n                        scope.filterOptions();\n                        $timeout(function () {\n                            // set input width\n                            scope.setInputWidth();\n                            // repositionate dropdown\n                            if (scope.isOpen) scope.showDropdown();\n                        });\n                    }, true);\n\n                    // Update value\n                    scope.updateValue = function (origin) {\n                        if (!angular.isDefined(origin)) origin = scope.selectedValues || [];\n                        scope.setValue(!scope.multiple ? origin[0] : origin);\n                    };\n\n                    scope.$watch('selectedValues', function (newValue, oldValue) {\n                        if (angular.equals(newValue, oldValue)) return;\n                        scope.updateValue();\n                        if (angular.isFunction(scope.change))\n                            scope.change(scope.multiple\n                                ? { newValue: newValue, oldValue: oldValue }\n                                : { newValue: (newValue || [])[0], oldValue: (oldValue || [])[0] });\n                    }, true);\n\n                    scope.$watchCollection('options', function (newValue, oldValue) {\n                        if (angular.equals(newValue, oldValue)) return;\n                        scope.updateSelected();\n                    });\n\n                    // Update selected values\n                    scope.updateSelected = function () {\n                        if (!scope.multiple) scope.selectedValues = (scope.options || []).filter(function (option) { return scope.optionEquals(option); }).slice(0, 1);\n                        else\n                            scope.selectedValues = (scope.value || []).map(function (value) {\n                                return filter(scope.options, function (option) {\n                                    return scope.optionEquals(option, value);\n                                })[0];\n                            }).filter(function (value) { return angular.isDefined(value); }).slice(0, scope.limit);\n                    };\n\n                    scope.$watch('value', function (newValue, oldValue) {\n                        if (angular.equals(newValue, oldValue)) return;\n                        scope.updateSelected();\n                    }, true);\n\n                    // DOM event listeners\n                    input = angular.element(element[0].querySelector('.selector-input input'))\n                        .on('focus', function () {\n                            $timeout(function () {\n                                scope.$apply(scope.open);\n                            });\n                        })\n                        .on('blur', function () {\n                            scope.close();\n                        })\n                        .on('keydown', function (e) {\n                            scope.$apply(function () {\n                                scope.keydown(e);\n                            });\n                        })\n                        .on('input', function () {\n                            scope.setInputWidth();\n                        });\n\n                    dropdown\n                        .on('mousedown', function (e) {\n                            e.preventDefault();\n                        });\n\n                    // scrolling may require the tooltip to be moved or even\n                    // repositioned in some cases\n\n                    originParents.each(function (i, parent) {\n                        angular.element(parent).on('scroll.' + namespace, function (e) {\n                            dropdownPosition();\n                        });\n                    });\n\n                    // Update select controller\n                    scope.$watch(function () { return inputCtrl.$pristine; }, function ($pristine) {\n                        selectCtrl[$pristine ? '$setPristine' : '$setDirty']();\n                    });\n\n                    scope.$watch(function () { return inputCtrl.$touched; }, function ($touched) {\n                        selectCtrl[$touched ? '$setTouched' : '$setUntouched']();\n                    });\n\n                    // Expose APIs\n                    angular.forEach(['open', 'close'], function (api) {\n                        scope.api[api] = scope[api];\n                    });\n\n                    scope.api.focus = function () {\n                        input[0].focus();\n                    };\n\n                    scope.api.set = function (value) {\n                        return scope.value = value;\n                    };\n                    \n                    scope.api.unset = function (value) {\n                        var values = !value ? scope.selectedValues : (scope.selectedValues || []).filter(function (option) { return scope.optionEquals(option, value); }),\n                            indexes =\n                                scope.selectedValues.map(function (option, index) {\n                                    return scope.inOptions(values, option) ? index : -1;\n                                }).filter(function (index) { return index >= 0; });\n\n                        angular.forEach(indexes, function (index, i) {\n                            scope.unset(index - i);\n                        });\n                    };\n\n                    scope.isDirty = function () {\n                        return selectInput.hasClass('ng-dirty');\n                    };\n\n                    scope.isInvalid = function () {\n                        return selectInput.hasClass('ng-invalid');\n                    };\n\n                    scope.initialize();\n                });\n\n                scope.$on('$destroy', function () {\n                    dropdown.remove();\n                    dropdown.off('mousedown');\n                    angular.element(element[0].querySelector('.selector-input input')).off('focus blur keydown input ');\n                    angular.element(document.body).off('resize.' + namespace);\n                    originParents.each(function (i, el) {\n                        $(el).off('scroll.' + namespace  + ' resize.' + namespace);\n                    });\n                    // clear the array to prevent memory leaks\n                    originParents = null;\n                });\n            },\n            template: function (element, attrs) {\n\n                var viewItemTemplate = $templateCache.get(attrs.viewItemTemplate) ? $templateCache.get(attrs.viewItemTemplate) : '<span ng-bind=\"getObjValue(option, labelAttr) || option\"></span>';\n                var dropdownItemTemplate;\n\n                if (attrs.labelAttr) {\n                    dropdownItemTemplate = '<span ng-bind=\"getObjValue(option, labelAttr) || option\"></span>';\n                } else {\n                    dropdownItemTemplate = $templateCache.get(attrs.viewItemTemplate) ? $templateCache.get(attrs.viewItemTemplate) : '<span ng-bind=\"getObjValue(option, labelAttr) || option\"></span>';\n                }\n\n                if (attrs.dropdownItemTemplate) {\n                    dropdownItemTemplate = $templateCache.get(attrs.dropdownItemTemplate) ? $templateCache.get(attrs.dropdownItemTemplate) : '<span ng-bind=\"getObjValue(option, labelAttr) || option\"></span>';\n                }\n\n                var name = '';\n\n                if (attrs.name) {\n                    name = 'name=\"' + attrs.name + '\"';\n                }\n\n                var template = $templateCache.get('selector/Base') ? $templateCache.get('selector/Base') : '' +\n                    '<div class=\"selector-container\" ng-attr-dir=\"{{rtl ? \\'rtl\\' : \\'ltr\\'}}\" ng-class=\"{open: isOpen, empty: !filteredOptions.length && !search, \\'ng-dirty\\': isDirty(), \\'ng-invalid\\': isInvalid(),multiple: multiple, \\'has-value\\': hasValue(), rtl: rtl, \\'remove-button\\': removeButton, disabled: disabled}\">' +\n                        '<select ' + name + ' ng-required=\"required && !hasValue()\" class=\"not-styled\" ng-model=\"selectedValues\" multiple style=\"display: none;\"></select>' +\n                        '<label class=\"selector-input\">' +\n                            '<ul class=\"selector-values\">' +\n                                '<li ng-repeat=\"(index, option) in selectedValues track by index\">' +\n                                    '<div>' + viewItemTemplate + '</div>' +\n                                    '<div ng-if=\"multiple\" class=\"selector-helper\" ng-click=\"!disabled && unset(index)\">' +\n                                        '<span class=\"selector-icon\"></span>' +\n                                    '</div>' +\n                                '</li>' +\n                            '</ul>' +\n                            '<input ng-model=\"search\" class=\"selector-search-input not-styled\" placeholder=\"{{!hasValue() ? placeholder : \\'\\'}}\"' +\n                                'ng-disabled=\"disabled\" ng-readonly=\"disableSearch\" ng-required=\"required && !hasValue()\" autocomplete=\"off\">' +\n                            '<div ng-if=\"!multiple\" class=\"selector-helper selector-global-helper\" ng-click=\"!disabled && removeButton && unset()\">' +\n                                '<span class=\"selector-icon\"></span>' +\n                            '</div>' +\n                        '</label>' +\n                        '<ul md-virtual-repeat-container md-auto-shrink md-top-index=\"highlighted\" class=\"selector-dropdown ' + attrs.dropdownClass + '\">' +\n                            '<li md-virtual-repeat=\"option in filteredOptions\" ng-class=\"{active: highlighted == $index}\" class=\"selector-option\" ng-click=\"set(option)\">' + dropdownItemTemplate + '</li>' +\n                        '</ul>' +\n                    '</div>';\n\n                return template;\n            }\n        };\n    }\n]);","angular.module('SER.tooltipster', []);\n\nangular.module('SER.tooltipster').directive('tooltipster', function () {\n    return {\n        restrict: 'A',\n        scope: {\n            tooltipsterOptions: '='\n        },\n        link: function (scope, element, attrs) {\n\n            var tooltipster_default = {\n                content: attrs.tooltipster,\n                maxWidth: 300,\n                delay: 0,\n                contentAsHTML: true,\n                positionTracker: true,\n                interactive: true,\n                trigger: 'hover',\n                theme: 'tooltipster-borderless',\n                functionReady: function (instance, helper) {\n                    $(helper.tooltip).on('click', function () {\n                        element.tooltipster('hide');\n                    });\n                }\n            };\n\n            angular.merge(tooltipster_default, scope.tooltipsterOptions);\n            element.tooltipster(tooltipster_default);\n\n        }\n    };\n});\n\nangular.module('SER.tooltipster').directive('tooltipsterMenu', function () {\n    return {\n        restrict: 'A',\n        scope: {\n            tooltipsterMenu: '='\n        },\n        link: function (scope, element, attrs) {\n\n            var tooltipster_default = {\n                content: element.find('.tooltip-content'),\n                delay: 0,\n                trigger: 'click',\n                theme: 'tooltipster-borderless',\n                position: 'bottom',\n                positionTracker: true,\n                interactive: true,\n                functionReady: function (instance, helper) {\n                    $(helper.tooltip).on('click', function () {\n                        element.tooltipster('hide');\n                    });\n                }\n            };\n\n            angular.merge(tooltipster_default, scope.tooltipsterMenu);\n            element.tooltipster(tooltipster_default);\n\n        }\n    };\n});\n\nangular.module('SER.tooltipster').directive('tooltipsterHtml', function () {\n    return {\n        restrict: 'A',\n        scope: {\n            tooltipsterHtml: '='\n        },\n        link: function (scope, element, attrs) {\n\n            var tooltipster_default = {\n                content: element.find('.tooltip-content'),\n                delay: 0,\n                trigger: 'hover',\n                theme: 'tooltipster-borderless',\n                position: 'top',\n                positionTracker: true,\n                functionReady: function (instance, helper) {\n                    $(helper.tooltip).on('click', function () {\n                        element.tooltipster('hide');\n                    });\n                }\n            };\n\n            angular.merge(tooltipster_default, scope.tooltipsterHtml);\n            element.tooltipster(tooltipster_default);\n\n        }\n    };\n});","angular.module('SER.match', []).directive('match', ['$parse', function ($parse) {\n    return {\n        require: '?ngModel',\n        restrict: 'A',\n        link: function(scope, elem, attrs, ctrl) {\n            if(!ctrl || !attrs.match) {\n                return;\n            }\n\n            var matchGetter = $parse(attrs.match);\n            var caselessGetter = $parse(attrs.matchCaseless);\n            var noMatchGetter = $parse(attrs.notMatch);\n            var matchIgnoreEmptyGetter = $parse(attrs.matchIgnoreEmpty);\n\n            scope.$watch(getMatchValue, function(){\n                ctrl.$$parseAndValidate();\n            });\n\n            ctrl.$validators.match = function(modelValue, viewValue){\n              var matcher = modelValue || viewValue;\n              var match = getMatchValue();\n              var notMatch = noMatchGetter(scope);\n              var value;\n\n              if (matchIgnoreEmptyGetter(scope) && !viewValue) {\n                return true;\n              }\n\n              if(caselessGetter(scope)){\n                value = angular.lowercase(matcher) === angular.lowercase(match);\n              }else{\n                value = matcher === match;\n              }\n              /*jslint bitwise: true */\n              value ^= notMatch;\n              /*jslint bitwise: false */\n              return !!value;\n            };\n\n            function getMatchValue(){\n                var match = matchGetter(scope);\n                if(angular.isObject(match) && match.hasOwnProperty('$viewValue')){\n                    match = match.$viewValue;\n                }\n                return match;\n            }\n        }\n    };\n}]);\n","angular.module('SER.barcode', []);\n\nangular.module('SER.barcode').directive('barcode', function () {\n\n    return {\n        restrict: 'EA',\n        scope: {\n            model: '=',\n            options: '='\n        },\n        link: function (scope, element, attrs) {\n            \n            var default_options = {\n                format: \"CODE128\",\n                lineColor: \"#000000\",\n                width: 3,\n                height: 110,\n                displayValue: true\n            };\n\n            angular.merge(default_options, scope.options);\n\n            scope.$watch('model', function (new_value) {\n                JsBarcode(element[0], new_value, default_options);\n            });\n\n        }\n    };\n\n});","angular.module('SER.diff', []);\n\nangular.module('SER.diff').factory('ObjectDiff', [\n    '$sce',\n    function objectDiff($sce) {\n\n        var openChar = '{',\n            closeChar = '}',\n            service = {\n                diff: diff,\n                getPatchChanges: getPatchChanges\n            };\n\n        return service;\n\n\n        /* service methods */\n\n        /**\n         * diff between object a and b\n         * @param {Object} a\n         * @param {Object} b\n         * @param shallow\n         * @param isOwn\n         * @return {Object}\n         */\n        function diff(a, b, shallow, isOwn) {\n\n            if (a === b) {\n                return equalObj(a);\n            }\n\n            var diffValue = {};\n            var equal = true;\n\n            for (var key in a) {\n                if ((!isOwn && key in b) || (isOwn && typeof b != 'undefined' && b.hasOwnProperty(key))) {\n                    if (a[key] === b[key]) {\n                        diffValue[key] = equalObj(a[key]);\n                    } else {\n                        if (!shallow && isValidAttr(a[key], b[key])) {\n                            var valueDiff = diff(a[key], b[key], shallow, isOwn);\n                            if (valueDiff.changed == 'equal') {\n                                diffValue[key] = equalObj(a[key]);\n                            } else {\n                                equal = false;\n                                diffValue[key] = valueDiff;\n                            }\n                        } else {\n                            equal = false;\n                            diffValue[key] = {\n                                changed: 'primitive change',\n                                removed: a[key],\n                                added: b[key]\n                            }\n                        }\n                    }\n                } else {\n                    equal = false;\n                    diffValue[key] = {\n                        changed: 'removed',\n                        value: a[key]\n                    }\n                }\n            }\n\n            for (key in b) {\n                if ((!isOwn && !(key in a)) || (isOwn && typeof a != 'undefined' && !a.hasOwnProperty(key))) {\n                    equal = false;\n                    diffValue[key] = {\n                        changed: 'added',\n                        value: b[key]\n                    }\n                }\n            }\n\n            if (equal) {\n                return equalObj(a);\n            } else {\n                return {\n                    changed: 'object change',\n                    value: diffValue\n                }\n            }\n        }\n\n\n        /**\n         * diff between object a and b own properties only\n         * @param {Object} a\n         * @param {Object} b\n         * @return {Object}\n         * @param deep\n         */\n        function getPatchChanges(init_obj, mod_obj, shallow, isOwn) {\n            var _mod_obj = angular.fromJson(angular.toJson(mod_obj));\n            var _diff = diff(angular.fromJson(angular.toJson(init_obj)), _mod_obj, shallow, isOwn);\n            var result = [];\n\n            if (_diff.changed !== 'equal') {\n                angular.forEach(_diff.value, function (value, key) {\n                    if (value.changed !== 'equal') {\n                        result.push({\n                            \"op\": \"replace\",\n                            \"path\": \"/\" + key,\n                            \"value\": _mod_obj[key]\n                        });\n                    }\n                });\n            }\n\n            return result;\n\n        }\n\n        /**\n         * @param obj\n         * @returns {{changed: string, value: *}}\n         */\n        function equalObj(obj) {\n            return {\n                changed: 'equal',\n                value: obj\n            }\n        }\n\n        /**\n         * @param a\n         * @param b\n         * @returns {*|boolean}\n         */\n        function isValidAttr(a, b) {\n            var typeA = typeof a;\n            var typeB = typeof b;\n            return (a && b && (typeA == 'object' || typeA == 'function') && (typeB == 'object' || typeB == 'function'));\n        }\n\n        /**\n         * @param {string} key\n         * @return {string}\n         */\n        function stringifyObjectKey(key) {\n            return /^[a-z0-9_$]*$/i.test(key) ?\n                key :\n                JSON.stringify(key);\n        }\n\n        /**\n         * @param {string} string\n         * @return {string}\n         */\n        function escapeHTML(string) {\n            return string.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n        }\n\n        /**\n         * @param {Object} obj\n         * @return {string}\n         * @param shallow\n         */\n        function inspect(obj, shallow) {\n\n            return _inspect('', obj, shallow);\n\n            /**\n             * @param {string} accumulator\n             * @param {object} obj\n             * @see http://jsperf.com/continuation-passing-style/3\n             * @return {string}\n             * @param shallow\n             */\n            function _inspect(accumulator, obj, shallow) {\n                switch (typeof obj) {\n                    case 'object':\n                        if (!obj) {\n                            accumulator += 'null';\n                            break;\n                        }\n                        if (shallow) {\n                            accumulator += '[object]';\n                            break;\n                        }\n                        var keys = Object.keys(obj);\n                        var length = keys.length;\n                        if (length === 0) {\n                            accumulator += '<span>' + openChar + closeChar + '</span>';\n                        } else {\n                            accumulator += '<span>' + openChar + '</span>\\n<div class=\"diff-level\">';\n                            for (var i = 0; i < length; i++) {\n                                var key = keys[i];\n                                accumulator = _inspect(accumulator + stringifyObjectKey(escapeHTML(key)) + '<span>: </span>', obj[key]);\n                                if (i < length - 1) {\n                                    accumulator += '<span>,</span>\\n';\n                                }\n                            }\n                            accumulator += '\\n</div><span>' + closeChar + '</span>'\n                        }\n                        break;\n\n                    case 'string':\n                        accumulator += JSON.stringify(escapeHTML(obj));\n                        break;\n\n                    case 'undefined':\n                        accumulator += 'undefined';\n                        break;\n\n                    default:\n                        accumulator += escapeHTML(String(obj));\n                        break;\n                }\n                return accumulator;\n            }\n        }\n    }\n\n]);","angular.module('SER.map', []);\n\nangular.module('SER.map').service('mapFunctions', [\n    function () {\n\n        return {\n            getCurrentPosition: function () {\n\n                var defered = $q.defer();\n                var promise = defered.promise;\n\n                if ($window.navigator && $window.navigator.geolocation) {\n                    $window.navigator.geolocation.getCurrentPosition(function (position) {\n                        defered.resolve({\n                            Latitude: position.coords.latitude,\n                            Longitude: position.coords.longitude,\n                            accuracy: position.coords.accuracy\n                        });\n                    }, function () {\n                        defered.reject();\n                    });\n                } else {\n                    defered.reject();\n                }\n\n                return promise;\n            },\n            checkLatLog: function (Latitude, Longitude) {\n                return (-90 <= Latitude) && (90 >= Latitude) && (-180 <= Longitude) && (180 >= Longitude);\n            },\n            middlePoint: function (options) {\n\n                var optionsSrc = {\n                    From: {\n                        Lat: 0,\n                        longitude: 0\n                    },\n                    To: {\n                        Lat: 0,\n                        longitude: 0\n                    }\n                };\n        \n                angular.merge(optionsSrc, options);\n        \n                if ((optionsSrc.From.longitude != optionsSrc.To.Longitude) || (optionsSrc.From.Latitude != optionsSrc.To.Latitude)) {\n        \n                    var lat1 = optionsSrc.From.Latitude * Math.PI / 180;\n                    var lat2 = optionsSrc.To.Latitude * Math.PI / 180;\n                    var lon1 = optionsSrc.From.Longitude * Math.PI / 180;\n                    var lon2 = optionsSrc.To.Longitude * Math.PI / 180;\n                    var dLon = lon2 - lon1;\n                    var x = Math.cos(lat2) * Math.cos(dLon);\n                    var y = Math.cos(lat2) * Math.sin(dLon);\n                    var lat3 = Math.atan2(Math.sin(lat1) + Math.sin(lat2), Math.sqrt((Math.cos(lat1) + x) * (Math.cos(lat1) + x) + y * y));\n                    var lon3 = lon1 + Math.atan2(y, Math.cos(lat1) + x);\n                    lat3 *= 180 / Math.PI;\n                    lon3 *= 180 / Math.PI;\n                    var deltaY = optionsSrc.To.Longitude - optionsSrc.From.Longitude;\n                    var deltaX = optionsSrc.To.Latitude - optionsSrc.From.Latitude;\n                    var angleInDegrees = Math.atan2(deltaY, deltaX) * 180 / Math.PI;\n                    return {\n                        longitude: lon3,\n                        Latitude: lat3,\n                        angle: angleInDegrees,\n                        distance: this.distancePoints(optionsSrc.From.Longitude, optionsSrc.From.Latitude, optionsSrc.To.Longitude, optionsSrc.To.Latitude)\n                    }\n                } else {\n                    return false;\n                }\n        \n            },\n            distancePoints: function (lon1, lat1, lon2, lat2) {\n                // Distancia en Kilometros\n        \n                var R = 6371;\n                //var dLat = ((lat2-lat1) * Math.PI/180);\n                //var dLon = ((lon2-lon1) * Math.PI/180);\n                var a = Math.sin(((lat2 - lat1) * Math.PI / 180) / 2) * Math.sin(((lat2 - lat1) * Math.PI / 180) / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(((lon2 - lon1) * Math.PI / 180) / 2) * Math.sin(((lon2 - lon1) * Math.PI / 180) / 2);\n                var c = 2 * Math.asin(Math.sqrt(a));\n                var d = R * c;\n                return (d * 1.60934);\n            },\n            cutPrecision: function (obj, e) {\n                if ('number' === typeof obj[0]) {\n                    for (var i = 0; i < obj.length; i++) obj[i] = Math.round(obj[i] * e) / e;\n                } else {\n                    var arr = obj.features || obj.geometries || obj.coordinates || obj;\n                    for (var i = 0; i < arr.length; i++) this.cutPrecision(arr[i], e);\n                }\n            },\n            processPoints: function (geometry, callback, thisArg) {\n                if (geometry instanceof google.maps.LatLng) {\n                    callback.call(thisArg, geometry);\n                } else if (geometry instanceof google.maps.Data.Point) {\n                    callback.call(thisArg, geometry.get());\n                } else {\n                    geometry.getArray().forEach(function(g) {\n                        this.processPoints(g, callback, thisArg);\n                    });\n                }\n            },\n            generateGeoJSONCircle: function (center, radius, numSides) {\n\n                var points = [], degreeStep = 360 / numSides;\n            \n                for(var i = 0; i < numSides; i++){\n                   var gpos = google.maps.geometry.spherical.computeOffset(center, radius, degreeStep * i);\n                   points.push([gpos.lng(), gpos.lat()]);\n                }\n            \n                points.push(points[0]);\n            \n                return {\n                   type: 'Polygon',\n                   coordinates: [ points ]\n                };\n            \n            },\n            getLatLngLiteralArray: function (array) {\n                var latLngArray = [];\n                for(var index = 0; index < array.length; index++){\n                    latLngArray.push({lat: array[index][1], lng: array[index][0]});\n                }\n                return latLngArray;\n             }\n        }\n\n    }\n]);","angular.module('SER.sentry', []);\n\nangular.module('SER.sentry').factory('$exceptionHandler', ['$window', '$log', function ($window, $log) {\n\n    if ($window.Raven && RAVEN_CONFIG_DSN) {\n        console.log('Using the RavenJS exception handler.');\n        Raven.config(RAVEN_CONFIG_DSN).install();\n        return function (exception, cause) {\n            Raven.captureException(exception);\n            if (RAVEN_SHOW_DIALOG) Raven.showReportDialog();\n        };\n    } else {\n        console.log('Using the default logging exception handler.');\n        return function (exception, cause) {\n            $log.error.apply($log, arguments);\n        };\n    }\n\n}]);","angular.module('SER', [\n    'SER.i18n',\n    'SER.auth',\n    'SER.selector',\n    'SER.match',\n    'SER.image',\n    'SER.search',\n    'SER.tooltipster',\n    'SER.datepicker',\n    'SER.chip',\n    'SER.loader',\n    'SER.filters',\n    'SER.barcode',\n    'SER.diff',\n    'SER.fullscreen',\n    'SER.Clipboard',\n    'SER.sentry'\n]);\n\n(function (url) {\n    // Create a new `Image` instance\n    var SerImagePowered = new Image();\n\n    SerImagePowered.onload = function () {\n        // Inside here we already have the dimensions of the loaded image\n        var style = [\n            // Hacky way of forcing image's viewport using `font-size` and `line-height`\n            'font-size: 1px;',\n            'line-height: ' + this.height + 'px;',\n\n            // Hacky way of forcing a middle/center anchor point for the image\n            'padding: ' + this.height * .5 + 'px ' + this.width * .5 + 'px;',\n\n            // Set image dimensions\n            'background-size: ' + this.width + 'px ' + this.height + 'px;',\n\n            // Set image URL\n            'background: url(' + url + ');'\n        ].join(' ');\n        \n        console.log('');\n        console.log('');\n        console.log('%c', style);\n        console.log('https://www.sersoluciones.com');\n        console.log('');\n        console.log('');\n    };\n\n    // Actually loads the image\n    SerImagePowered.src = url;\n\n})('https://s3.amazonaws.com/ser-ui/images/powered.jpg');\n\n\n//Routes & Http\nangular.module('SER').config([\n    '$urlRouterProvider',\n    '$urlMatcherFactoryProvider',\n    '$compileProvider',\n    '$resourceProvider',\n    '$httpProvider',\n    function ($urlRouterProvider, $urlMatcherFactoryProvider, $compileProvider, $resourceProvider, $httpProvider) {\n\n        $httpProvider.defaults.paramSerialize = '$httpParamSerializerJQLike';\n        $resourceProvider.defaults.stripTrailingSlashes = true;\n        $compileProvider.aHrefSanitizationWhitelist(/^\\s*(https?|ftp|mailto|skype|tel|chrome-extension):/);\n\n        $urlRouterProvider.rule(function ($injector, $location) {\n\n            var path = $location.path();\n            var hasTrailingSlash = '/' === path[path.length - 1];\n\n            if (hasTrailingSlash) {\n                //if last charcter is a slash, return the same url without the slash\n                return path.substr(0, path.length - 1);\n            }\n\n        });\n\n        var GUID_REGEXP = /^[a-f\\d]{8}-([a-f\\d]{4}-){3}[a-f\\d]{12}$/i;\n        $urlMatcherFactoryProvider.type('guid', {\n            encode: angular.identity,\n            decode: angular.identity,\n            is: function (item) {\n                return GUID_REGEXP.test(item);\n            }\n        });\n\n    }\n]);\n\nangular.module('SER').run(['$rootScope', '$sce', function ($rootScope, $sce) {\n\n    $rootScope.backHistory = function () {\n        $window.history.back();\n    };\n\n    $rootScope.__ = __;\n\n    $rootScope.bodyHeight = function () {\n        return angular.element('body').height();\n    };\n\n    $rootScope.browserWidth = browserWidth;\n\n    $rootScope.trustAsHtml = function (string) {\n        return $sce.trustAsHtml(string);\n    };\n\n}]);"]}