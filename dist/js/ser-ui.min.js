function getStyles(t){return t instanceof HTMLElement?t.ownerDocument&&t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t):window.getComputedStyle(t):{}}function arrayGroupBy(t,e){for(var n={},i=0;i<t.length;++i)void 0===n[t[i][e]]&&(n[t[i][e]]=[]),n[t[i][e]].push(t[i]);return n}function hasValue(t){return angular.isArray(t)?0<t.length:!!angular.isDate(t)||(angular.isObject(t)?!angular.element.isEmptyObject(t):-1===["",null,void 0,NaN].indexOf(t))}function notValue(t){return angular.isArray(t)?0===t.length:!angular.isDate(t)&&(angular.isObject(t)?angular.element.isEmptyObject(t):["",null,void 0,NaN].indexOf(t)>-1)}function hasProperty(t,e){return!!t&&t.hasOwnProperty(e)}function inArray(t,e){return!!e&&-1!==e.indexOf(t)}function notInArray(t,e){return!!e&&-1===e.indexOf(t)}function getObjectByValue(t,e,n){for(var i=0;i<t.length;i++)if(t[i].hasOwnProperty(e)){if(t[i][e]===n)return t[i];for(var o in t[i][e])if(t[i][e][o]===n)return t[i]}}function browserWidth(){return 0<window.innerWidth?window.innerWidth:screen.width}function hasPdfViewer(){for(var t=0;t<window.navigator.plugins.length;t++)if(window.navigator.plugins[t].name.toLowerCase().indexOf("pdf")>-1)return!0;return!1}function getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}function hasFiles(t){var e=!1,n=function(t){return null!=t&&(t instanceof window.Blob||t.flashId&&t.name&&t.size)};for(var i in t)if(n(t[i])){e=!0;break}return e}function guid(){return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){function e(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function n(e,n){var i=!0;return t.each(e,function(t,o){if(void 0===n[t]||e[t]!==n[t])return i=!1,!1}),i}function i(e){var n=e.attr("id"),i=n?s.window.document.getElementById(n):null;return i?i===e[0]:t.contains(s.window.document.body,e[0])}var o={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},r="undefined"!=typeof window?window:null,s={hasTouchCapability:!(!r||!("ontouchstart"in r||r.DocumentTouch&&r.document instanceof r.DocumentTouch||r.navigator.maxTouchPoints)),hasTransitions:function(){if(!r)return!1;var t=(r.document.body||r.document.documentElement).style,e="transition",n=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var i=0;i<n.length;i++)if("string"==typeof t[n[i]+e])return!0;return!1}(),IE:!1,semVer:"4.2.5",window:r},a=function(){this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__instancesLatestArr=[],this.__plugins={},this._env=s};a.prototype={__bridge:function(e,n,i){if(!n[i]){var r=function(){};r.prototype=e;var s=new r;s.__init&&s.__init(n),t.each(e,function(t,e){0!=t.indexOf("__")&&(n[t]?o.debug&&console.log("The "+t+" method of the "+i+" plugin conflicts with another plugin or native methods"):(n[t]=function(){return s[t].apply(s,Array.prototype.slice.apply(arguments))},n[t].bridged=s))}),n[i]=s}return this},__setWindow:function(t){return s.window=t,this},_getRuler:function(t){return new e(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(e){if("string"==typeof e){var n=e,i=null;return n.indexOf(".")>0?i=this.__plugins[n]:t.each(this.__plugins,function(t,e){if(e.name.substring(e.name.length-n.length-1)=="."+n)return i=e,!1}),i}if(e.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return this.__plugins[e.name]=e,e.core&&this.__bridge(e.core,this,e.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(e){var n=[];return t(e||".tooltipstered").each(function(){var e=t(this),i=e.data("tooltipster-ns");i&&t.each(i,function(t,i){n.push(e.data(i))})}),n},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(e){return t((e?e+" ":"")+".tooltipstered").toArray()},setDefaults:function(e){return t.extend(o,e),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.tooltipster=new a,t.Tooltipster=function(e,n){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(e,n)},t.Tooltipster.prototype={__init:function(e,n){var i=this;if(i._$origin=t(e),i.__options=t.extend(!0,{},o,n),i.__optionsFormat(),!s.IE||s.IE>=i.__options.IEmin){var r=null;if(void 0===i._$origin.data("tooltipster-initialTitle")&&(void 0===(r=i._$origin.attr("title"))&&(r=null),i._$origin.data("tooltipster-initialTitle",r)),null!==i.__options.content)i.__contentSet(i.__options.content);else{var a,l=i._$origin.attr("data-tooltip-content");l&&(a=t(l)),a&&a[0]?i.__contentSet(a.first()):i.__contentSet(r)}i._$origin.removeAttr("title").addClass("tooltipstered"),i.__prepareOrigin(),i.__prepareGC(),t.each(i.__options.plugins,function(t,e){i._plug(e)}),s.hasTouchCapability&&t(s.window.document.body).on("touchmove."+i.__namespace+"-triggerOpen",function(t){i._touchRecordEvent(t)}),i._on("created",function(){i.__prepareTooltip()})._on("repositioned",function(t){i.__lastPosition=t.position})}else i.__options.disabled=!0},__contentInsert:function(){var t=this._$tooltip.find(".tooltipster-content"),e=this.__Content;return this._trigger({type:"format",content:this.__Content,format:function(t){e=t}}),this.__options.functionFormat&&(e=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof e||this.__options.contentAsHTML?t.empty().append(e):t.text(e),this},__contentSet:function(e){return e instanceof t&&this.__options.contentCloning&&(e=e.clone(!0)),this.__Content=e,this._trigger({type:"updated",content:e}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var e=this._$origin,n=this._$origin.is("area");if(n){var i=this._$origin.parent().attr("name");e=t('img[usemap="#'+i+'"]')}var o=e[0].getBoundingClientRect(),r=t(s.window.document),a=t(s.window),l=e,u={available:{document:null,window:null},document:{size:{height:r.height(),width:r.width()}},window:{scroll:{left:s.window.scrollX||s.window.document.documentElement.scrollLeft,top:s.window.scrollY||s.window.document.documentElement.scrollTop},size:{height:a.height(),width:a.width()}},origin:{fixedLineage:!1,offset:{},size:{height:o.bottom-o.top,width:o.right-o.left},usemapImage:n?e[0]:null,windowOffset:{bottom:o.bottom,left:o.left,right:o.right,top:o.top}}};if(n){var h=this._$origin.attr("shape"),c=this._$origin.attr("coords");if(c&&(c=c.split(","),t.map(c,function(t,e){c[e]=parseInt(t)})),"default"!=h)switch(h){case"circle":var d=c[0],p=c[1],f=c[2],g=p-f,m=d-f;u.origin.size.height=2*f,u.origin.size.width=u.origin.size.height,u.origin.windowOffset.left+=m,u.origin.windowOffset.top+=g;break;case"rect":var w=c[0],v=c[1],_=c[2],y=c[3];u.origin.size.height=y-v,u.origin.size.width=_-w,u.origin.windowOffset.left+=w,u.origin.windowOffset.top+=v;break;case"poly":for(var b=0,z=0,k=0,x=0,S="even",$=0;$<c.length;$++){var O=c[$];"even"==S?(O>k&&(k=O,0===$&&(b=k)),O<b&&(b=O),S="odd"):(O>x&&(x=O,1==$&&(z=x)),O<z&&(z=O),S="even")}u.origin.size.height=x-z,u.origin.size.width=k-b,u.origin.windowOffset.left+=b,u.origin.windowOffset.top+=z}}for(this._trigger({type:"geometry",edit:function(t){u.origin.size.height=t.height,u.origin.windowOffset.left=t.left,u.origin.windowOffset.top=t.top,u.origin.size.width=t.width},geometry:{height:u.origin.size.height,left:u.origin.windowOffset.left,top:u.origin.windowOffset.top,width:u.origin.size.width}}),u.origin.windowOffset.right=u.origin.windowOffset.left+u.origin.size.width,u.origin.windowOffset.bottom=u.origin.windowOffset.top+u.origin.size.height,u.origin.offset.left=u.origin.windowOffset.left+u.window.scroll.left,u.origin.offset.top=u.origin.windowOffset.top+u.window.scroll.top,u.origin.offset.bottom=u.origin.offset.top+u.origin.size.height,u.origin.offset.right=u.origin.offset.left+u.origin.size.width,u.available.document={bottom:{height:u.document.size.height-u.origin.offset.bottom,width:u.document.size.width},left:{height:u.document.size.height,width:u.origin.offset.left},right:{height:u.document.size.height,width:u.document.size.width-u.origin.offset.right},top:{height:u.origin.offset.top,width:u.document.size.width}},u.available.window={bottom:{height:Math.max(u.window.size.height-Math.max(u.origin.windowOffset.bottom,0),0),width:u.window.size.width},left:{height:u.window.size.height,width:Math.max(u.origin.windowOffset.left,0)},right:{height:u.window.size.height,width:Math.max(u.window.size.width-Math.max(u.origin.windowOffset.right,0),0)},top:{height:Math.max(u.origin.windowOffset.top,0),width:u.window.size.width}};"html"!=l[0].tagName.toLowerCase();){if("fixed"==l.css("position")){u.origin.fixedLineage=!0;break}l=l.parent()}return u},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=t(s.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=t(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var e=this;return e.__options.selfDestruction?e.__garbageCollector=setInterval(function(){var n=(new Date).getTime();e.__touchEvents=t.grep(e.__touchEvents,function(t,e){return n-t.time>6e4}),i(e._$origin)||e.close(function(){e.destroy()})},2e4):clearInterval(e.__garbageCollector),e},__prepareOrigin:function(){var t=this;if(t._$origin.off("."+t.__namespace+"-triggerOpen"),s.hasTouchCapability&&t._$origin.on("touchstart."+t.__namespace+"-triggerOpen touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen",function(e){t._touchRecordEvent(e)}),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&s.hasTouchCapability){e="";t.__options.triggerOpen.click&&(e+="click."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.tap&&s.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&t._open(e)})}if(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&s.hasTouchCapability){e="";t.__options.triggerOpen.mouseenter&&(e+="mouseenter."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.touchstart&&s.hasTouchCapability&&(e+="touchstart."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){!t._touchIsTouchEvent(e)&&t._touchIsEmulatedEvent(e)||(t.__pointerIsOverOrigin=!0,t._openShortly(e))})}if(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&s.hasTouchCapability){var e="";t.__options.triggerClose.mouseleave&&(e+="mouseleave."+t.__namespace+"-triggerOpen "),t.__options.triggerClose.touchleave&&s.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&(t.__pointerIsOverOrigin=!1)})}return t},__prepareTooltip:function(){var e=this,n=e.__options.interactive?"auto":"";return e._$tooltip.attr("id",e.__namespace).css({"pointer-events":n,zIndex:e.__options.zIndex}),t.each(e.__previousThemes,function(t,n){e._$tooltip.removeClass(n)}),t.each(e.__options.theme,function(t,n){e._$tooltip.addClass(n)}),e.__previousThemes=t.merge([],e.__options.theme),e},__scrollHandler:function(e){if(this.__options.triggerClose.scroll)this._close(e);else if(i(this._$origin)&&i(this._$tooltip)){var n=null;if(e.target===s.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(e);else{n=this.__geometry();var o=!1;if("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(e,i){var r=t(i),s=r.css("overflow-x"),a=r.css("overflow-y");if("visible"!=s||"visible"!=a){var l=i.getBoundingClientRect();if("visible"!=s&&(n.origin.windowOffset.left<l.left||n.origin.windowOffset.right>l.right))return o=!0,!1;if("visible"!=a&&(n.origin.windowOffset.top<l.top||n.origin.windowOffset.bottom>l.bottom))return o=!0,!1}if("fixed"==r.css("position"))return!1}),o)this._$tooltip.css("visibility","hidden");else if(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)this.reposition(e);else{var r=n.origin.offset.left-this.__Geometry.origin.offset.left,a=n.origin.offset.top-this.__Geometry.origin.offset.top;this._$tooltip.css({left:this.__lastPosition.coord.left+r,top:this.__lastPosition.coord.top+a})}}this._trigger({type:"scroll",event:e,geo:n})}return this},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,t.each(this.__timeouts.close,function(t,e){clearTimeout(e)}),this.__timeouts.close=[],this},__trackerStart:function(){var t=this,e=t._$tooltip.find(".tooltipster-content");return t.__options.trackTooltip&&(t.__contentBcr=e[0].getBoundingClientRect()),t.__tracker=setInterval(function(){if(i(t._$origin)&&i(t._$tooltip)){if(t.__options.trackOrigin){var o=t.__geometry(),r=!1;n(o.origin.size,t.__Geometry.origin.size)&&(t.__Geometry.origin.fixedLineage?n(o.origin.windowOffset,t.__Geometry.origin.windowOffset)&&(r=!0):n(o.origin.offset,t.__Geometry.origin.offset)&&(r=!0)),r||(t.__options.triggerClose.mouseleave?t._close():t.reposition())}if(t.__options.trackTooltip){var s=e[0].getBoundingClientRect();s.height===t.__contentBcr.height&&s.width===t.__contentBcr.width||(t.reposition(),t.__contentBcr=s)}}else t._close()},t.__options.trackerInterval),t},_close:function(e,n,i){var o=this,r=!0;if(o._trigger({type:"close",event:e,stop:function(){r=!1}}),r||i){n&&o.__callbacks.close.push(n),o.__callbacks.open=[],o.__timeoutsClear();var a=function(){t.each(o.__callbacks.close,function(t,n){n.call(o,o,{event:e,origin:o._$origin[0]})}),o.__callbacks.close=[]};if("closed"!=o.__state){var l=!0,u=(new Date).getTime()+o.__options.animationDuration[1];if("disappearing"==o.__state&&u>o.__closingTime&&o.__options.animationDuration[1]>0&&(l=!1),l){o.__closingTime=u,"disappearing"!=o.__state&&o.__stateSet("disappearing");var h=function(){clearInterval(o.__tracker),o._trigger({type:"closing",event:e}),o._$tooltip.off("."+o.__namespace+"-triggerClose").removeClass("tooltipster-dying"),t(s.window).off("."+o.__namespace+"-triggerClose"),o.__$originParents.each(function(e,n){t(n).off("scroll."+o.__namespace+"-triggerClose")}),o.__$originParents=null,t(s.window.document.body).off("."+o.__namespace+"-triggerClose"),o._$origin.off("."+o.__namespace+"-triggerClose"),o._off("dismissable"),o.__stateSet("closed"),o._trigger({type:"after",event:e}),o.__options.functionAfter&&o.__options.functionAfter.call(o,o,{event:e,origin:o._$origin[0]}),a()};s.hasTransitions?(o._$tooltip.css({"-moz-animation-duration":o.__options.animationDuration[1]+"ms","-ms-animation-duration":o.__options.animationDuration[1]+"ms","-o-animation-duration":o.__options.animationDuration[1]+"ms","-webkit-animation-duration":o.__options.animationDuration[1]+"ms","animation-duration":o.__options.animationDuration[1]+"ms","transition-duration":o.__options.animationDuration[1]+"ms"}),o._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),o.__options.animationDuration[1]>0&&o._$tooltip.delay(o.__options.animationDuration[1]),o._$tooltip.queue(h)):o._$tooltip.stop().fadeOut(o.__options.animationDuration[1],h)}}else a()}return o},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(e,n){var o=this;if(!o.__destroying&&i(o._$origin)&&o.__enabled){var r=!0;if("closed"==o.__state&&(o._trigger({type:"before",event:e,stop:function(){r=!1}}),r&&o.__options.functionBefore&&(r=o.__options.functionBefore.call(o,o,{event:e,origin:o._$origin[0]}))),!1!==r&&null!==o.__Content){n&&o.__callbacks.open.push(n),o.__callbacks.close=[],o.__timeoutsClear();var a,l=function(){"stable"!=o.__state&&o.__stateSet("stable"),t.each(o.__callbacks.open,function(t,e){e.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}),o.__callbacks.open=[]};if("closed"!==o.__state)a=0,"disappearing"===o.__state?(o.__stateSet("appearing"),s.hasTransitions?(o._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l)):o._$tooltip.stop().fadeIn(l)):"stable"==o.__state&&l();else{if(o.__stateSet("appearing"),a=o.__options.animationDuration[0],o.__contentInsert(),o.reposition(e,!0),s.hasTransitions?(o._$tooltip.addClass("tooltipster-"+o.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":o.__options.animationDuration[0]+"ms","-ms-animation-duration":o.__options.animationDuration[0]+"ms","-o-animation-duration":o.__options.animationDuration[0]+"ms","-webkit-animation-duration":o.__options.animationDuration[0]+"ms","animation-duration":o.__options.animationDuration[0]+"ms","transition-duration":o.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=o.__state&&(o._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l))},0)):o._$tooltip.css("display","none").fadeIn(o.__options.animationDuration[0],l),o.__trackerStart(),t(s.window).on("resize."+o.__namespace+"-triggerClose",function(e){var n=t(document.activeElement);(n.is("input")||n.is("textarea"))&&t.contains(o._$tooltip[0],n[0])||o.reposition(e)}).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)}),o.__$originParents=o._$origin.parents(),o.__$originParents.each(function(e,n){t(n).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)})}),o.__options.triggerClose.mouseleave||o.__options.triggerClose.touchleave&&s.hasTouchCapability){o._on("dismissable",function(t){t.dismissable?t.delay?(d=setTimeout(function(){o._close(t.event)},t.delay),o.__timeouts.close.push(d)):o._close(t):clearTimeout(d)});var u=o._$origin,h="",c="",d=null;o.__options.interactive&&(u=u.add(o._$tooltip)),o.__options.triggerClose.mouseleave&&(h+="mouseenter."+o.__namespace+"-triggerClose ",c+="mouseleave."+o.__namespace+"-triggerClose "),o.__options.triggerClose.touchleave&&s.hasTouchCapability&&(h+="touchstart."+o.__namespace+"-triggerClose",c+="touchend."+o.__namespace+"-triggerClose touchcancel."+o.__namespace+"-triggerClose"),u.on(c,function(t){if(o._touchIsTouchEvent(t)||!o._touchIsEmulatedEvent(t)){var e="mouseleave"==t.type?o.__options.delay:o.__options.delayTouch;o._trigger({delay:e[1],dismissable:!0,event:t,type:"dismissable"})}}).on(h,function(t){!o._touchIsTouchEvent(t)&&o._touchIsEmulatedEvent(t)||o._trigger({dismissable:!1,event:t,type:"dismissable"})})}o.__options.triggerClose.originClick&&o._$origin.on("click."+o.__namespace+"-triggerClose",function(t){o._touchIsTouchEvent(t)||o._touchIsEmulatedEvent(t)||o._close(t)}),(o.__options.triggerClose.click||o.__options.triggerClose.tap&&s.hasTouchCapability)&&setTimeout(function(){if("closed"!=o.__state){var e="",n=t(s.window.document.body);o.__options.triggerClose.click&&(e+="click."+o.__namespace+"-triggerClose "),o.__options.triggerClose.tap&&s.hasTouchCapability&&(e+="touchend."+o.__namespace+"-triggerClose"),n.on(e,function(e){o._touchIsMeaningfulEvent(e)&&(o._touchRecordEvent(e),o.__options.interactive&&t.contains(o._$tooltip[0],e.target)||o._close(e))}),o.__options.triggerClose.tap&&s.hasTouchCapability&&n.on("touchstart."+o.__namespace+"-triggerClose",function(t){o._touchRecordEvent(t)})}},0),o._trigger("ready"),o.__options.functionReady&&o.__options.functionReady.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}if(o.__options.timer>0){d=setTimeout(function(){o._close()},o.__options.timer+a);o.__timeouts.close.push(d)}}}return o},_openShortly:function(t){var e=this,n=!0;if("stable"!=e.__state&&"appearing"!=e.__state&&!e.__timeouts.open&&(e._trigger({type:"start",event:t,stop:function(){n=!1}}),n)){var i=0==t.type.indexOf("touch")?e.__options.delayTouch:e.__options.delay;i[0]?e.__timeouts.open=setTimeout(function(){e.__timeouts.open=null,e.__pointerIsOverOrigin&&e._touchIsMeaningfulEvent(t)?(e._trigger("startend"),e._open(t)):e._trigger("startcancel")},i[0]):(e._trigger("startend"),e._open(t))}return e},_optionsExtract:function(e,n){var i=this,o=t.extend(!0,{},n),r=i.__options[e];return r||(r={},t.each(n,function(t,e){var n=i.__options[t];void 0!==n&&(r[t]=n)})),t.each(o,function(e,n){void 0!==r[e]&&("object"!=typeof n||n instanceof Array||null==n||"object"!=typeof r[e]||r[e]instanceof Array||null==r[e]?o[e]=r[e]:t.extend(o[e],r[e]))}),o},_plug:function(e){var n=t.tooltipster._plugin(e);if(!n)throw new Error('The "'+e+'" plugin is not defined');return n.instance&&t.tooltipster.__bridge(n.instance,this,n.name),this},_touchIsEmulatedEvent:function(t){for(var e=!1,n=(new Date).getTime(),i=this.__touchEvents.length-1;i>=0;i--){var o=this.__touchEvents[i];if(!(n-o.time<500))break;o.target===t.target&&(e=!0)}return e},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var e=!1,n=this.__touchEvents.length-1;n>=0;n--){var i=this.__touchEvents[n];if("touchmove"==i.type){e=!0;break}if("touchstart"==i.type&&t===i.target)break}return e},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),e[0].instance=this,e[0].origin=this._$origin?this._$origin[0]:null,e[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),t.tooltipster._trigger.apply(t.tooltipster,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},_unplug:function(e){var n=this;if(n[e]){var i=t.tooltipster._plugin(e);i.instance&&t.each(i.instance,function(t,i){n[t]&&n[t].bridged===n[e]&&delete n[t]}),n[e].__destroy&&n[e].__destroy(),delete n[e]}return n},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var e=this;if(void 0===t)return e.__Content;if(e.__destroyed)e.__destroyError();else if(e.__contentSet(t),null!==e.__Content){if("closed"!==e.__state&&(e.__contentInsert(),e.reposition(),e.__options.updateAnimation))if(s.hasTransitions){var n=e.__options.updateAnimation;e._$tooltip.addClass("tooltipster-update-"+n),setTimeout(function(){"closed"!=e.__state&&e._$tooltip.removeClass("tooltipster-update-"+n)},1e3)}else e._$tooltip.fadeTo(200,.5,function(){"closed"!=e.__state&&e._$tooltip.fadeTo(200,1)})}else e._close();return e},destroy:function(){var e=this;if(e.__destroyed)e.__destroyError();else{"closed"!=e.__state?e.option("animationDuration",0)._close(null,null,!0):e.__timeoutsClear(),e._trigger("destroy"),e.__destroyed=!0,e._$origin.removeData(e.__namespace).off("."+e.__namespace+"-triggerOpen"),t(s.window.document.body).off("."+e.__namespace+"-triggerOpen");var n=e._$origin.data("tooltipster-ns");if(n)if(1===n.length){var i=null;"previous"==e.__options.restoration?i=e._$origin.data("tooltipster-initialTitle"):"current"==e.__options.restoration&&(i="string"==typeof e.__Content?e.__Content:t("<div></div>").append(e.__Content).html()),i&&e._$origin.attr("title",i),e._$origin.removeClass("tooltipstered"),e._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,function(t,n){return t!==e.__namespace}),e._$origin.data("tooltipster-ns",n);e._trigger("destroyed"),e._off(),e.off(),e.__Content=null,e.__$emitterPrivate=null,e.__$emitterPublic=null,e.__options.parent=null,e._$origin=null,e._$tooltip=null,t.tooltipster.__instancesLatestArr=t.grep(t.tooltipster.__instancesLatestArr,function(t,n){return e!==t}),clearInterval(e.__garbageCollector)}return e},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed?this.__destroyError():this._open(null,t),this},option:function(e,n){return void 0===n?this.__options[e]:(this.__destroyed?this.__destroyError():(this.__options[e]=n,this.__optionsFormat(),t.inArray(e,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===e&&this.__prepareGC()),this)},reposition:function(t,e){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&i(this._$origin)&&(e||i(this._$tooltip))&&(e||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:t,helper:{geo:this.__Geometry}})),this},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.fn.tooltipster=function(){var e=Array.prototype.slice.apply(arguments),n="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof e[0]){var i="#*$~&";return this.each(function(){var o=t(this).data("tooltipster-ns"),r=o?t(this).data(o[0]):null;if(!r)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof r[e[0]])throw new Error('Unknown method "'+e[0]+'"');this.length>1&&"content"==e[0]&&(e[1]instanceof t||"object"==typeof e[1]&&null!=e[1]&&e[1].tagName)&&!r.__options.contentCloning&&r.__options.debug&&console.log(n);var s=r[e[0]](e[1],e[2]);if(s!==r||"instance"===e[0])return i=s,!1}),"#*$~&"!==i?i:this}t.tooltipster.__instancesLatestArr=[];var r=e[0]&&void 0!==e[0].multiple,s=r&&e[0].multiple||!r&&o.multiple,a=e[0]&&void 0!==e[0].content,l=a&&e[0].content||!a&&o.content,u=e[0]&&void 0!==e[0].contentCloning,h=u&&e[0].contentCloning||!u&&o.contentCloning,c=e[0]&&void 0!==e[0].debug,d=c&&e[0].debug||!c&&o.debug;return this.length>1&&(l instanceof t||"object"==typeof l&&null!=l&&l.tagName)&&!h&&d&&console.log(n),this.each(function(){var n=!1,i=t(this),o=i.data("tooltipster-ns"),r=null;o?s?n=!0:d&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):n=!0,n&&(r=new t.Tooltipster(this,e[0]),o||(o=[]),o.push(r.__namespace),i.data("tooltipster-ns",o),i.data(r.__namespace,r),r.__options.functionInit&&r.__options.functionInit.call(r,r,{origin:this}),r._trigger("init")),t.tooltipster.__instancesLatestArr.push(r)}),this},e.prototype={__init:function(e){this.__$tooltip=e,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=t('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(s.window.document.body)},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,e){return this.constraints={width:t,height:e},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),e={size:{height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}};if(this.constraints){var n=this.__$tooltip.find(".tooltipster-content"),i=this.__$tooltip.outerHeight(),o=n[0].getBoundingClientRect(),r={height:i<=this.constraints.height,width:t.width<=this.constraints.width&&o.width>=n[0].scrollWidth-1};e.fits=r.height&&r.width}return s.IE&&s.IE<=11&&e.size.width!==s.window.document.documentElement.clientWidth&&(e.size.width=Math.ceil(e.size.width)+1),e}};var l=navigator.userAgent.toLowerCase();-1!=l.indexOf("msie")?s.IE=parseInt(l.split("msie")[1]):-1!==l.toLowerCase().indexOf("trident")&&-1!==l.indexOf(" rv:11")?s.IE=11:-1!=l.toLowerCase().indexOf("edge/")&&(s.IE=parseInt(l.toLowerCase().split("edge/")[1]));return t.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var e=this;e.__instance=t,e.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),e.__previousState="closed",e.__options,e.__optionsFormat(),e.__instance._on("state."+e.__namespace,function(t){"closed"==t.state?e.__close():"appearing"==t.state&&"closed"==e.__previousState&&e.__create(),e.__previousState=t.state}),e.__instance._on("options."+e.__namespace,function(){e.__optionsFormat()}),e.__instance._on("reposition."+e.__namespace,function(t){e.__reposition(t.event,t.helper)})},__close:function(){this.__instance.content()instanceof t&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var e=t('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||e.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&e.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&e.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=e,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),this.__options.distance.length<4&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]}),"string"==typeof this.__options.side){this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left")}6===t.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(e,n){var i,o=this,r=o.__targetFind(n),s=[];o.__instance._$tooltip.detach();var a=o.__instance._$tooltip.clone(),l=t.tooltipster._getRuler(a),u=!1,h=o.__instance.option("animation");switch(h&&a.removeClass("tooltipster-"+h),t.each(["window","document"],function(i,h){var c=null;if(o.__instance._trigger({container:h,helper:n,satisfied:u,takeTest:function(t){c=t},results:s,type:"positionTest"}),1==c||0!=c&&0==u&&("window"!=h||o.__options.viewportAware))for(i=0;i<o.__options.side.length;i++){var d={horizontal:0,vertical:0},p=o.__options.side[i];"top"==p||"bottom"==p?d.vertical=o.__options.distance[p]:d.horizontal=o.__options.distance[p],o.__sideChange(a,p),t.each(["natural","constrained"],function(t,i){if(c=null,o.__instance._trigger({container:h,event:e,helper:n,mode:i,results:s,satisfied:u,side:p,takeTest:function(t){c=t},type:"positionTest"}),1==c||0!=c&&0==u){var a={container:h,distance:d,fits:null,mode:i,outerSize:null,side:p,size:null,target:r[p],whole:null},f=("natural"==i?l.free():l.constrain(n.geo.available[h][p].width-d.horizontal,n.geo.available[h][p].height-d.vertical)).measure();if(a.size=f.size,a.outerSize={height:f.size.height+d.vertical,width:f.size.width+d.horizontal},"natural"==i?n.geo.available[h][p].width>=a.outerSize.width&&n.geo.available[h][p].height>=a.outerSize.height?a.fits=!0:a.fits=!1:a.fits=f.fits,"window"==h&&(a.fits?a.whole="top"==p||"bottom"==p?n.geo.origin.windowOffset.right>=o.__options.minIntersection&&n.geo.window.size.width-n.geo.origin.windowOffset.left>=o.__options.minIntersection:n.geo.origin.windowOffset.bottom>=o.__options.minIntersection&&n.geo.window.size.height-n.geo.origin.windowOffset.top>=o.__options.minIntersection:a.whole=!1),s.push(a),a.whole)u=!0;else if("natural"==a.mode&&(a.fits||a.size.width<=n.geo.available[h][p].width))return!1}})}}),o.__instance._trigger({edit:function(t){s=t},event:e,helper:n,results:s,type:"positionTested"}),s.sort(function(t,e){if(t.whole&&!e.whole)return-1;if(!t.whole&&e.whole)return 1;if(t.whole&&e.whole){return(n=o.__options.side.indexOf(t.side))<(i=o.__options.side.indexOf(e.side))?-1:n>i?1:"natural"==t.mode?-1:1}if(t.fits&&!e.fits)return-1;if(!t.fits&&e.fits)return 1;if(t.fits&&e.fits){var n=o.__options.side.indexOf(t.side),i=o.__options.side.indexOf(e.side);return n<i?-1:n>i?1:"natural"==t.mode?-1:1}return"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1}),i=s[0],i.coord={},i.side){case"left":case"right":i.coord.top=Math.floor(i.target-i.size.height/2);break;case"bottom":case"top":i.coord.left=Math.floor(i.target-i.size.width/2)}switch(i.side){case"left":i.coord.left=n.geo.origin.windowOffset.left-i.outerSize.width;break;case"right":i.coord.left=n.geo.origin.windowOffset.right+i.distance.horizontal;break;case"top":i.coord.top=n.geo.origin.windowOffset.top-i.outerSize.height;break;case"bottom":i.coord.top=n.geo.origin.windowOffset.bottom+i.distance.vertical}"window"==i.container?"top"==i.side||"bottom"==i.side?i.coord.left<0?n.geo.origin.windowOffset.right-this.__options.minIntersection>=0?i.coord.left=0:i.coord.left=n.geo.origin.windowOffset.right-this.__options.minIntersection-1:i.coord.left>n.geo.window.size.width-i.size.width&&(n.geo.origin.windowOffset.left+this.__options.minIntersection<=n.geo.window.size.width?i.coord.left=n.geo.window.size.width-i.size.width:i.coord.left=n.geo.origin.windowOffset.left+this.__options.minIntersection+1-i.size.width):i.coord.top<0?n.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?i.coord.top=0:i.coord.top=n.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:i.coord.top>n.geo.window.size.height-i.size.height&&(n.geo.origin.windowOffset.top+this.__options.minIntersection<=n.geo.window.size.height?i.coord.top=n.geo.window.size.height-i.size.height:i.coord.top=n.geo.origin.windowOffset.top+this.__options.minIntersection+1-i.size.height):(i.coord.left>n.geo.window.size.width-i.size.width&&(i.coord.left=n.geo.window.size.width-i.size.width),i.coord.left<0&&(i.coord.left=0)),o.__sideChange(a,i.side),n.tooltipClone=a[0],n.tooltipParent=o.__instance.option("parent").parent[0],n.mode=i.mode,n.whole=i.whole,n.origin=o.__instance._$origin[0],n.tooltip=o.__instance._$tooltip[0],delete i.container,delete i.fits,delete i.mode,delete i.outerSize,delete i.whole,i.distance=i.distance.horizontal||i.distance.vertical;var c=t.extend(!0,{},i);if(o.__instance._trigger({edit:function(t){i=t},event:e,helper:n,position:c,type:"position"}),o.__options.functionPosition){var d=o.__options.functionPosition.call(o,o.__instance,n,c);d&&(i=d)}l.destroy();var p,f;"top"==i.side||"bottom"==i.side?(p={prop:"left",val:i.target-i.coord.left},f=i.size.width-this.__options.minIntersection):(p={prop:"top",val:i.target-i.coord.top},f=i.size.height-this.__options.minIntersection),p.val<this.__options.minIntersection?p.val=this.__options.minIntersection:p.val>f&&(p.val=f);var g;g=n.geo.origin.fixedLineage?n.geo.origin.windowOffset:{left:n.geo.origin.windowOffset.left+n.geo.window.scroll.left,top:n.geo.origin.windowOffset.top+n.geo.window.scroll.top},i.coord={left:g.left+(i.coord.left-n.geo.origin.windowOffset.left),top:g.top+(i.coord.top-n.geo.origin.windowOffset.top)},o.__sideChange(o.__instance._$tooltip,i.side),n.geo.origin.fixedLineage?o.__instance._$tooltip.css("position","fixed"):o.__instance._$tooltip.css("position",""),o.__instance._$tooltip.css({left:i.coord.left,top:i.coord.top,height:i.size.height,width:i.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(p.prop,p.val),o.__instance._$tooltip.appendTo(o.__instance.option("parent")),o.__instance._trigger({type:"repositioned",event:e,position:i})},__sideChange:function(t,e){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+e)},__targetFind:function(t){var e={},n=this.__instance._$origin[0].getClientRects();if(n.length>1){1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),n=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1))}if(n.length<2)e.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),e.bottom=e.top,e.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),e.right=e.left;else{var i=n[0];e.top=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil(n.length/2)-1]:n[0],e.right=Math.floor(i.top+(i.bottom-i.top)/2),i=n[n.length-1],e.bottom=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil((n.length+1)/2)-1]:n[n.length-1],e.left=Math.floor(i.top+(i.bottom-i.top)/2)}return e}}}),t}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(t){return function(e,n){if("__setXHR_"===e){var i=n(this);i instanceof Function&&i(this)}else t.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(t,e,n){function i(i){function o(t){u.notify&&u.notify(t),h.progressFunc&&n(function(){h.progressFunc(t)})}function a(t){return null!=i._start&&s?{loaded:t.loaded+i._start,total:i._file&&i._file.size||t.total,type:t.type,config:i,lengthComputable:!0,target:t.target}:t}function l(){t(i).then(function(t){if(s&&i._chunkSize&&!i._finished&&i._file){var e=i._file&&i._file.size||0;o({loaded:Math.min(i._end,e),total:e,config:i,type:"progress"}),r.upload(i,!0)}else i._finished&&delete i._finished,u.resolve(t)},function(t){u.reject(t)},function(t){u.notify(t)})}i.method=i.method||"POST",i.headers=i.headers||{};var u=i._deferred=i._deferred||e.defer(),h=u.promise;return i.disableProgress||(i.headers.__setXHR_=function(){return function(t){t&&t.upload&&t.upload.addEventListener&&(i.__XHR=t,i.xhrFn&&i.xhrFn(t),t.upload.addEventListener("progress",function(t){t.config=i,o(a(t))},!1),t.upload.addEventListener("load",function(t){t.lengthComputable&&(t.config=i,o(a(t)))},!1))}}),s?i._chunkSize&&i._end&&!i._finished?(i._start=i._end,i._end+=i._chunkSize,l()):i.resumeSizeUrl?t.get(i.resumeSizeUrl).then(function(t){i.resumeSizeResponseReader?i._start=i.resumeSizeResponseReader(t.data):i._start=parseInt((null==t.data.size?t.data:t.data.size).toString()),i._chunkSize&&(i._end=i._start+i._chunkSize),l()},function(t){throw t}):i.resumeSize?i.resumeSize().then(function(t){i._start=t,i._chunkSize&&(i._end=i._start+i._chunkSize),l()},function(t){throw t}):(i._chunkSize&&(i._start=0,i._end=i._start+i._chunkSize),l()):l(),h.success=function(t){return h.then(function(e){t(e.data,e.status,e.headers,i)}),h},h.error=function(t){return h.then(null,function(e){t(e.data,e.status,e.headers,i)}),h},h.progress=function(t){return h.progressFunc=t,h.then(null,null,function(e){t(e)}),h},h.abort=h.pause=function(){return i.__XHR&&n(function(){i.__XHR.abort()}),h},h.xhr=function(t){return i.xhrFn=function(e){return function(){e&&e.apply(h,arguments),t.apply(h,arguments)}}(i.xhrFn),h},r.promisesCount++,h.finally&&h.finally instanceof Function&&h.finally(function(){r.promisesCount--}),h}function o(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var r=this;r.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var s=this.isResumeSupported();this.isUploadInProgress=function(){return r.promisesCount>0},this.rename=function(t,e){return t.ngfName=e,t},this.jsonBlob=function(t){null==t||angular.isString(t)||(t=JSON.stringify(t));var e=new window.Blob([t],{type:"application/json"});return e._ngfBlob=!0,e},this.json=function(t){return angular.toJson(t)},this.isFile=function(t){return null!=t&&(t instanceof window.Blob||t.flashId&&t.name&&t.size)},this.upload=function(t,e){function n(e,i,o){if(void 0!==i)if(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i))e.append(o,i);else if(r.isFile(i)){var a=function(e,n){if(e._ngfBlob)return e;if(t._file=t._file||e,null!=t._start&&s){t._end&&t._end>=e.size&&(t._finished=!0,t._end=e.size);var i=e.slice(t._start,t._end||e.size);return i.name=e.name,i.ngfName=e.ngfName,t._chunkSize&&(n.append("_chunkSize",t._chunkSize),n.append("_currentChunkSize",t._end-t._start),n.append("_chunkNumber",Math.floor(t._start/t._chunkSize)),n.append("_totalSize",t._file.size)),i}return e}(i,e),l=o.split(",");l[1]&&(a.ngfName=l[1].replace(/^\s+|\s+$/g,""),o=l[0]),t._fileKey=t._fileKey||o,e.append(o,a,a.ngfName||a.name)}else if(angular.isObject(i)){if(i.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+o;i.$$ngfCircularDetection=!0;try{for(var u in i)if(i.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var h=null==t.objectKey?"[i]":t.objectKey;i.length&&parseInt(u)>-1&&(h=null==t.arrayKey?h:t.arrayKey),n(e,i[u],o+h.replace(/[ik]/g,u))}}finally{delete i.$$ngfCircularDetection}}else e.append(o,i)}return e||(t=o(t)),t._isDigested||(t._isDigested=!0,t._chunkSize=r.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,t.headers=t.headers||{},t.headers["Content-Type"]=void 0,t.transformRequest=t.transformRequest?angular.isArray(t.transformRequest)?t.transformRequest:[t.transformRequest]:[],t.transformRequest.push(function(e){var i,o=new window.FormData;e=e||t.fields||{},t.file&&(e.file=t.file);for(i in e)if(e.hasOwnProperty(i)){var r=e[i];t.formDataAppender?t.formDataAppender(o,i,r):n(o,r,i)}return o})),i(t)},this.http=function(e){return e=o(e),e.transformRequest=e.transformRequest||function(e){return window.ArrayBuffer&&e instanceof window.ArrayBuffer||e instanceof window.Blob?e:t.defaults.transformRequest[0].apply(this,arguments)},e._chunkSize=r.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,i(e)},this.translateScalars=function(t){if(angular.isString(t)){if(t.search(/kb/i)===t.length-2)return parseFloat(1024*t.substring(0,t.length-2));if(t.search(/mb/i)===t.length-2)return parseFloat(1048576*t.substring(0,t.length-2));if(t.search(/gb/i)===t.length-2)return parseFloat(1073741824*t.substring(0,t.length-2));if(t.search(/b/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/s/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/m/i)===t.length-1)return parseFloat(60*t.substring(0,t.length-1));if(t.search(/h/i)===t.length-1)return parseFloat(3600*t.substring(0,t.length-1))}return t},this.urlToBlob=function(n){var i=e.defer();return t({url:n,method:"get",responseType:"arraybuffer"}).then(function(t){var e=new Uint8Array(t.data),o=t.headers("content-type")||"image/WebP",r=new window.Blob([e],{type:o}),s=n.match(/.*\/(.+?)(\?.*)?$/);s.length>1&&(r.name=s[1]),i.resolve(r)},function(t){i.reject(t)}),i.promise},this.setDefaults=function(t){this.defaults=t||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(t,e,n,i,o){function r(t,e,n,o,r){function a(i,a){if(0===i.type.indexOf("image")){if(t.pattern&&!s.validatePattern(i,t.pattern))return;t.resizeIf=function(t,e){return s.attrGetter("ngfResizeIf",n,o,{$width:t,$height:e,$file:i})};var u=s.resize(i,t);l.push(u),u.then(function(t){e.splice(a,1,t)},function(t){i.$error="resize",(i.$errorMessages=i.$errorMessages||{}).resize=!0,i.$errorParam=(t?(t.message?t.message:t)+": ":"")+(i&&i.name),r.$ngfValidations.push({name:"resize",valid:!1}),s.applyModelValidation(r,e)})}}for(var l=[s.emptyPromise()],u=0;u<e.length;u++)a(e[u],u);return i.all(l)}var s=o;return s.getAttrWithDefaults=function(t,e){if(null!=t[e])return t[e];var n=s.defaults[e];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},s.attrGetter=function(e,n,i,o){var r=this.getAttrWithDefaults(n,e);if(!i)return r;try{return o?t(r)(i,o):t(r)(i)}catch(t){if(e.search(/min|max|pattern/i))return r;throw t}},s.shouldUpdateOn=function(t,e,n){var i=s.attrGetter("ngfModelOptions",e,n);return!i||!i.updateOn||i.updateOn.split(" ").indexOf(t)>-1},s.emptyPromise=function(){var t=i.defer(),n=arguments;return e(function(){t.resolve.apply(t,n)}),t.promise},s.rejectPromise=function(){var t=i.defer(),n=arguments;return e(function(){t.reject.apply(t,n)}),t.promise},s.happyPromise=function(t,n){var o=i.defer();return t.then(function(t){o.resolve(t)},function(t){e(function(){throw t}),o.resolve(n)}),o.promise},s.updateModel=function(n,o,a,l,u,h,c){function d(i,r,u,c,d){o.$$ngfPrevValidFiles=i,o.$$ngfPrevInvalidFiles=r;var p=i&&i.length?i[0]:null,f=r&&r.length?r[0]:null;n&&(s.applyModelValidation(n,i),n.$setViewValue(d?p:i)),l&&t(l)(a,{$files:i,$file:p,$newFiles:u,$duplicateFiles:c,$invalidFiles:r,$invalidFile:f,$event:h});var g=s.attrGetter("ngfModelInvalid",o);g&&e(function(){t(g).assign(a,d?f:r)}),e(function(){})}function p(){function t(){e(function(){d(y?g.concat(_):_,y?m.concat(v):v,u,w,b)},k&&k.debounce?k.debounce.change||k.debounce:0)}var l=z?f:_;(function(t,e,n,o){var a=s.attrGetter("ngfResize",e,n);if(!a||!s.isResizeSupported()||!t.length)return s.emptyPromise();if(a instanceof Function){var l=i.defer();return a(t).then(function(i){r(i,t,e,n,o).then(function(t){l.resolve(t)},function(t){l.reject(t)})},function(t){l.reject(t)})}return r(a,t,e,n,o)})(l,o,a,n).then(function(){z?s.validate(f,y?g.length:0,n,o,a).then(function(e){_=e.validsFiles,v=e.invalidsFiles,t()}):t()},function(){for(var e=0;e<l.length;e++){var n=l[e];if("resize"===n.$error){var i=_.indexOf(n);i>-1&&(_.splice(i,1),v.push(n)),t()}}})}var f,g,m,w=[],v=[],_=[];g=o.$$ngfPrevValidFiles||[],m=o.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(g=function(t){return angular.isArray(t)?t:[t]}(n.$modelValue));var y=s.attrGetter("ngfKeep",o,a);f=(u||[]).slice(0),"distinct"!==y&&!0!==s.attrGetter("ngfKeepDistinct",o,a)||function(){function t(t,e){return t.name===e.name&&(t.$ngfOrigSize||t.size)===(e.$ngfOrigSize||e.size)&&t.type===e.type}function e(e){var n;for(n=0;n<g.length;n++)if(t(e,g[n]))return!0;for(n=0;n<m.length;n++)if(t(e,m[n]))return!0;return!1}if(u){f=[],w=[];for(var n=0;n<u.length;n++)e(u[n])?w.push(u[n]):f.push(u[n])}}();var b=!y&&!s.attrGetter("ngfMultiple",o,a)&&!s.attrGetter("multiple",o);if(!y||f.length){s.attrGetter("ngfBeforeModelChange",o,a,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:f,$duplicateFiles:w,$event:h});var z=s.attrGetter("ngfValidateAfterResize",o,a),k=s.attrGetter("ngfModelOptions",o,a);s.validate(f,y?g.length:0,n,o,a).then(function(t){c?d(f,[],u,w,b):(k&&k.allowInvalid||z?_=f:(_=t.validFiles,v=t.invalidFiles),s.attrGetter("ngfFixOrientation",o,a)&&s.isExifSupported()?function(t,e,n){var o=[s.emptyPromise()];return angular.forEach(t,function(i,r){0===i.type.indexOf("image/jpeg")&&s.attrGetter("ngfFixOrientation",e,n,{$file:i})&&o.push(s.happyPromise(s.applyExifRotation(i),i).then(function(e){t.splice(r,1,e)}))}),i.all(o)}(_,o,a).then(function(){p()}):p())})}},s}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(t,e,n,i){function o(t,e,n,o,s,a,l,u){function h(){return"input"===e[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function c(){return w("ngfChange")||w("ngfSelect")}function d(e){if(u.shouldUpdateOn("change",n,t)){var i=e.__files_||e.target&&e.target.files,r=[];if(!i)return;for(var s=0;s<i.length;s++)r.push(i[s]);u.updateModel(o,n,t,c(),r.length?r:null,e)}}function p(){if(h())return e;var t=angular.element('<input type="file">'),i=angular.element("<label>upload</label>");return i.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),function(t,i){function o(e){t.attr("id","ngf-"+e),i.attr("id","ngf-label-"+e)}for(var r=0;r<e[0].attributes.length;r++){var s=e[0].attributes[r];"type"!==s.name&&"class"!==s.name&&"style"!==s.name&&("id"===s.name?(o(s.value),v.push(n.$observe("id",o))):t.attr(s.name,s.value||"required"!==s.name&&"multiple"!==s.name?s.value:s.name))}}(t,i),r.push({el:e,ref:i}),document.body.appendChild(i.append(t)[0]),t}function f(n){if(e.attr("disabled"))return!1;if(!w("ngfSelectDisabled",t)){var o=function(t){var e=t.changedTouches||t.originalEvent&&t.originalEvent.changedTouches;if(e){if("touchstart"===t.type)return y=e[0].clientX,_=e[0].clientY,!0;if("touchend"===t.type){var n=e[0].clientX,i=e[0].clientY;if(Math.abs(n-y)>20||Math.abs(i-_)>20)return t.stopPropagation(),t.preventDefault(),!1}return!0}}(n);if(null!=o)return o;g(n);try{h()||document.body.contains(b[0])||(r.push({el:e,ref:b.parent()}),document.body.appendChild(b.parent()[0]),b.bind("change",d))}catch(t){}return!function(t){var e=t.match(/Android[^\d]*(\d+)\.(\d+)/);if(e&&e.length>2){var n=i.defaults.androidFixMinorVersion||4;return parseInt(e[1])<4||parseInt(e[1])===n&&parseInt(e[2])<n}return-1===t.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(t)}(navigator.userAgent)?b[0].click():setTimeout(function(){b[0].click()},0),!1}}function g(e){u.shouldUpdateOn("click",n,t)&&b.val()&&(b.val(null),u.updateModel(o,n,t,c(),null,e,!0))}function m(t){if(b&&!b.attr("__ngf_ie10_Fix_")){if(!b[0].parentNode)return void(b=null);t.preventDefault(),t.stopPropagation(),b.unbind("click");var e=b.clone();return b.replaceWith(e),(b=e).attr("__ngf_ie10_Fix_","true"),b.bind("change",d),b.bind("click",m),b[0].click(),!1}b.removeAttr("__ngf_ie10_Fix_")}var w=function(t,e){return u.attrGetter(t,n,e)};u.registerModelChangeValidator(o,n,t);var v=[];w("ngfMultiple")&&v.push(t.$watch(w("ngfMultiple"),function(){b.attr("multiple",w("ngfMultiple",t))})),w("ngfCapture")&&v.push(t.$watch(w("ngfCapture"),function(){b.attr("capture",w("ngfCapture",t))})),w("ngfAccept")&&v.push(t.$watch(w("ngfAccept"),function(){b.attr("accept",w("ngfAccept",t))})),v.push(n.$observe("accept",function(){b.attr("accept",w("accept"))}));var _=0,y=0,b=e;h()||(b=p()),b.bind("change",d),h()?e.bind("click",g):e.bind("click touchstart touchend",f),-1!==navigator.appVersion.indexOf("MSIE 10")&&b.bind("click",m),o&&o.$formatters.push(function(t){return null!=t&&0!==t.length||b.val()&&b.val(null),t}),t.$on("$destroy",function(){h()||b.parent().remove(),angular.forEach(v,function(t){t()})}),a(function(){for(var t=0;t<r.length;t++){var e=r[t];document.body.contains(e.el[0])||(r.splice(t,1),e.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(e,b,d)}var r=[];return{restrict:"AEC",require:"?ngModel",link:function(t,n,r,s){o(t,n,r,s,0,e,0,i)}}}]),function(){function t(t,e,n,i,o,r,s,a){function l(r){var s=t.attrGetter("ngfNoObjectUrl",o,n);t.dataUrl(r,s).finally(function(){e(function(){var t=(s?r.$ngfDataUrl:r.$ngfBlobUrl)||r.$ngfDataUrl;a?i.css("background-image","url('"+(t||"")+"')"):i.attr("src",t),t?i.removeClass("ng-hide"):i.addClass("ng-hide")})})}e(function(){var e=n.$watch(o[r],function(e){var u=s;if("ngfThumbnail"===r&&(u||(u={width:i[0].naturalWidth||i[0].clientWidth,height:i[0].naturalHeight||i[0].clientHeight}),0===u.width&&window.getComputedStyle)){var h=getComputedStyle(i[0]);h.width&&h.width.indexOf("px")>-1&&h.height&&h.height.indexOf("px")>-1&&(u={width:parseInt(h.width.slice(0,-2)),height:parseInt(h.height.slice(0,-2))})}if(angular.isString(e))return i.removeClass("ng-hide"),a?i.css("background-image","url('"+e+"')"):i.attr("src",e);!e||!e.type||0!==e.type.search(function(t){return"img"===t.tagName.toLowerCase()?"image":"audio"===t.tagName.toLowerCase()?"audio":"video"===t.tagName.toLowerCase()?"video":/./}(i[0]))||a&&0!==e.type.indexOf("image")?i.addClass("ng-hide"):u&&t.isResizeSupported()?(u.resizeIf=function(i,r){return t.attrGetter("ngfResizeIf",o,n,{$width:i,$height:r,$file:e})},t.resize(e,u).then(function(t){l(t)},function(t){throw t})):l(e)});n.$on("$destroy",function(){e()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(t,e,n){var i=t;return i.base64DataUrl=function(t){if(angular.isArray(t)){var e=n.defer(),o=0;return angular.forEach(t,function(n){i.dataUrl(n,!0).finally(function(){if(++o===t.length){var n=[];angular.forEach(t,function(t){n.push(t.$ngfDataUrl)}),e.resolve(n,t)}})}),e.promise}return i.dataUrl(t,!0)},i.dataUrl=function(t,o){if(!t)return i.emptyPromise(t,t);if(o&&null!=t.$ngfDataUrl||!o&&null!=t.$ngfBlobUrl)return i.emptyPromise(o?t.$ngfDataUrl:t.$ngfBlobUrl,t);var r=o?t.$$ngfDataUrlPromise:t.$$ngfBlobUrlPromise;if(r)return r;var s=n.defer();return e(function(){if(window.FileReader&&t&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||t.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||t.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!o){var r;try{r=n.createObjectURL(t)}catch(n){return void e(function(){t.$ngfBlobUrl="",s.reject()})}e(function(){if(t.$ngfBlobUrl=r,r){s.resolve(r,t),i.blobUrls=i.blobUrls||[],i.blobUrlsTotalSize=i.blobUrlsTotalSize||0,i.blobUrls.push({url:r,size:t.size}),i.blobUrlsTotalSize+=t.size||0;for(var e=i.defaults.blobUrlsMaxMemory||268435456,o=i.defaults.blobUrlsMaxQueueSize||200;(i.blobUrlsTotalSize>e||i.blobUrls.length>o)&&i.blobUrls.length>1;){var a=i.blobUrls.splice(0,1)[0];n.revokeObjectURL(a.url),i.blobUrlsTotalSize-=a.size}}})}else{var a=new FileReader;a.onload=function(n){e(function(){t.$ngfDataUrl=n.target.result,s.resolve(n.target.result,t),e(function(){delete t.$ngfDataUrl},1e3)})},a.onerror=function(){e(function(){t.$ngfDataUrl="",s.reject()})},a.readAsDataURL(t)}}else e(function(){t[o?"$ngfDataUrl":"$ngfBlobUrl"]="",s.reject()})}),(r=o?t.$$ngfDataUrlPromise=s.promise:t.$$ngfBlobUrlPromise=s.promise).finally(function(){delete t[o?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),r},i}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,o,r){t(e,n,i,o,r,"ngfSrc",e.attrGetter("ngfResize",r,i),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,o,r){t(e,n,i,o,r,"ngfBackground",e.attrGetter("ngfResize",r,i),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,o,r){var s=e.attrGetter("ngfSize",r,i);t(e,n,i,o,r,"ngfThumbnail",s,e.attrGetter("ngfAsBackground",r,i))}}}]),ngFileUpload.config(["$compileProvider",function(t){t.imgSrcSanitizationWhitelist&&t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),t.aHrefSanitizationWhitelist&&t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(t,e){return function(n,i,o){if(angular.isString(n))return e.trustAsResourceUrl(n);var r=n&&((i?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!r?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,t.dataUrl(n,i)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&r?o?e.trustAsResourceUrl(r):r:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(t,e,n){function i(t){var e="",n=[];if(t.length>2&&"/"===t[0]&&"/"===t[t.length-1])e=t.substring(1,t.length-1);else{var o=t.split(",");if(o.length>1)for(var r=0;r<o.length;r++){var s=i(o[r]);s.regexp?(e+="("+s.regexp+")",r<o.length-1&&(e+="|")):n=n.concat(s.excludes)}else 0===t.indexOf("!")?n.push("^((?!"+i(t.substring(1)).regexp+").)*$"):(0===t.indexOf(".")&&(t="*"+t),e=(e="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$").replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:e,excludes:n}}var o=t;return o.validatePattern=function(t,e){if(!e)return!0;var n=i(e),o=!0;if(n.regexp&&n.regexp.length){var r=new RegExp(n.regexp,"i");o=null!=t.type&&r.test(t.type)||null!=t.name&&r.test(t.name)}for(var s=n.excludes.length;s--;){var a=new RegExp(n.excludes[s],"i");o=o&&(null==t.type||a.test(t.type))&&(null==t.name||a.test(t.name))}return o},o.ratioToFloat=function(t){var e=t.toString(),n=e.search(/[x:]/i);return e=n>-1?parseFloat(e.substring(0,n))/parseFloat(e.substring(n+1)):parseFloat(e)},o.registerModelChangeValidator=function(t,e,n){t&&t.$formatters.push(function(i){if(t.$dirty){var r=i;i&&!angular.isArray(i)&&(r=[i]),o.validate(r,0,t,e,n).then(function(){o.applyModelValidation(t,r)})}return i})},o.applyModelValidation=function(t,e){!function(t,e){null==e||t.$dirty||(t.$setDirty?t.$setDirty():t.$dirty=!0)}(t,e),angular.forEach(t.$ngfValidations,function(e){t.$setValidity(e.name,e.valid)})},o.getValidationAttr=function(t,e,n,i,r){var s="ngf"+n[0].toUpperCase()+n.substr(1),a=o.attrGetter(s,t,e,{$file:r});if(null==a&&(a=o.attrGetter("ngfValidate",t,e,{$file:r}))){var l=(i||n).split(".");a=a[l[0]],l.length>1&&(a=a&&a[l[1]])}return a},o.validate=function(t,n,i,r,s){function a(e,n,a){if(t){for(var l=t.length,u=null;l--;){var p=t[l];if(p){var f=o.getValidationAttr(r,s,e,n,p);null!=f&&(a(p,f,l)||(-1===h.indexOf(e)?(p.$error=e,(p.$errorMessages=p.$errorMessages||{})[e]=!0,p.$errorParam=f,-1===d.indexOf(p)&&d.push(p),c||t.splice(l,1),u=!1):t.splice(l,1)))}}null!==u&&i.$ngfValidations.push({name:e,valid:u})}}function l(n,a,l,p,f){function g(e,i,o){function r(r){if(r())if(-1===h.indexOf(n)){if(i.$error=n,(i.$errorMessages=i.$errorMessages||{})[n]=!0,i.$errorParam=o,-1===d.indexOf(i)&&d.push(i),!c){var s=t.indexOf(i);s>-1&&t.splice(s,1)}e.resolve(!1)}else{var a=t.indexOf(i);a>-1&&t.splice(a,1),e.resolve(!0)}else e.resolve(!0)}null!=o?p(i,o).then(function(t){r(function(){return!f(t,o)})},function(){r(function(){return u("ngfValidateForce",{$file:i})})}):e.resolve(!0)}var m=[o.emptyPromise(!0)];t&&(t=void 0===t.length?[t]:t,angular.forEach(t,function(t){var i=e.defer();m.push(i.promise),!l||null!=t.type&&0===t.type.search(l)?"dimensions"===n&&null!=o.attrGetter("ngfDimensions",r)?o.imageDimensions(t).then(function(e){g(i,t,u("ngfDimensions",{$file:t,$width:e.width,$height:e.height}))},function(){i.resolve(!1)}):"duration"===n&&null!=o.attrGetter("ngfDuration",r)?o.mediaDuration(t).then(function(e){g(i,t,u("ngfDuration",{$file:t,$duration:e}))},function(){i.resolve(!1)}):g(i,t,o.getValidationAttr(r,s,n,a,t)):i.resolve(!0)}));var w=e.defer();return e.all(m).then(function(t){for(var e=!0,o=0;o<t.length;o++)if(!t[o]){e=!1;break}i.$ngfValidations.push({name:n,valid:e}),w.resolve(e)}),w.promise}(i=i||{}).$ngfValidations=i.$ngfValidations||[],angular.forEach(i.$ngfValidations,function(t){t.valid=!0});var u=function(t,e){return o.attrGetter(t,r,s,e)},h=(o.attrGetter("ngfIgnoreInvalid",r,s)||"").split(" "),c=o.attrGetter("ngfRunAllValidations",r,s);if(null==t||0===t.length)return o.emptyPromise({validFiles:t,invalidFiles:[]});t=void 0===t.length?[t]:t.slice(0);var d=[];a("pattern",null,o.validatePattern),a("minSize","size.min",function(t,e){return t.size+.1>=o.translateScalars(e)}),a("maxSize","size.max",function(t,e){return t.size-.1<=o.translateScalars(e)});var p=0;if(a("maxTotalSize",null,function(e,n){return!((p+=e.size)>o.translateScalars(n)&&(t.splice(0,t.length),1))}),a("validateFn",null,function(t,e){return!0===e||null===e||""===e}),!t.length)return o.emptyPromise({validFiles:[],invalidFiles:d});var f=e.defer(),g=[];return g.push(l("maxHeight","height.max",/image/,this.imageDimensions,function(t,e){return t.height<=e})),g.push(l("minHeight","height.min",/image/,this.imageDimensions,function(t,e){return t.height>=e})),g.push(l("maxWidth","width.max",/image/,this.imageDimensions,function(t,e){return t.width<=e})),g.push(l("minWidth","width.min",/image/,this.imageDimensions,function(t,e){return t.width>=e})),g.push(l("dimensions",null,/image/,function(t,e){return o.emptyPromise(e)},function(t){return t})),g.push(l("ratio",null,/image/,this.imageDimensions,function(t,e){for(var n=e.toString().split(","),i=!1,r=0;r<n.length;r++)Math.abs(t.width/t.height-o.ratioToFloat(n[r]))<.01&&(i=!0);return i})),g.push(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(t,e){return t.width/t.height-o.ratioToFloat(e)<1e-4})),g.push(l("minRatio","ratio.min",/image/,this.imageDimensions,function(t,e){return t.width/t.height-o.ratioToFloat(e)>-1e-4})),g.push(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(t,e){return t<=o.translateScalars(e)})),g.push(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(t,e){return t>=o.translateScalars(e)})),g.push(l("duration",null,/audio|video/,function(t,e){return o.emptyPromise(e)},function(t){return t})),g.push(l("validateAsyncFn",null,null,function(t,e){return e},function(t){return!0===t||null===t||""===t})),e.all(g).then(function(){if(c)for(var e=0;e<t.length;e++){t[e].$error&&t.splice(e--,1)}c=!1,a("maxFiles",null,function(t,e,i){return n+i<e}),f.resolve({validFiles:t,invalidFiles:d})}),f.promise},o.imageDimensions=function(t){if(t.$ngfWidth&&t.$ngfHeight){var i=e.defer();return n(function(){i.resolve({width:t.$ngfWidth,height:t.$ngfHeight})}),i.promise}if(t.$ngfDimensionPromise)return t.$ngfDimensionPromise;var r=e.defer();return n(function(){0===t.type.indexOf("image")?o.dataUrl(t).then(function(e){function i(){var e=a[0].naturalWidth||a[0].clientWidth,n=a[0].naturalHeight||a[0].clientHeight;a.remove(),t.$ngfWidth=e,t.$ngfHeight=n,r.resolve({width:e,height:n})}function o(){a.remove(),r.reject("load error")}function s(){n(function(){a[0].parentNode&&(a[0].clientWidth?i():l++>10?o():s())},1e3)}var a=angular.element("<img>").attr("src",e).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");a.on("load",i),a.on("error",o);var l=0;s(),angular.element(document.getElementsByTagName("body")[0]).append(a)},function(){r.reject("load error")}):r.reject("not image")}),t.$ngfDimensionPromise=r.promise,t.$ngfDimensionPromise.finally(function(){delete t.$ngfDimensionPromise}),t.$ngfDimensionPromise},o.mediaDuration=function(t){if(t.$ngfDuration){var i=e.defer();return n(function(){i.resolve(t.$ngfDuration)}),i.promise}if(t.$ngfDurationPromise)return t.$ngfDurationPromise;var r=e.defer();return n(function(){0===t.type.indexOf("audio")||0===t.type.indexOf("video")?o.dataUrl(t).then(function(e){function i(){var e=a[0].duration;t.$ngfDuration=e,a.remove(),r.resolve(e)}function o(){a.remove(),r.reject("load error")}function s(){n(function(){a[0].parentNode&&(a[0].duration?i():l>10?o():s())},1e3)}var a=angular.element(0===t.type.indexOf("audio")?"<audio>":"<video>").attr("src",e).css("visibility","none").css("position","fixed");a.on("loadedmetadata",i),a.on("error",o);var l=0;s(),angular.element(document.body).append(a)},function(){r.reject("load error")}):r.reject("not media")}),t.$ngfDurationPromise=r.promise,t.$ngfDurationPromise.finally(function(){delete t.$ngfDurationPromise}),t.$ngfDurationPromise},o}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(t,e){var n=t;return n.dataUrltoBlob=function(t,e,n){for(var i=t.split(","),o=i[0].match(/:(.*?);/)[1],r=atob(i[1]),s=r.length,a=new Uint8Array(s);s--;)a[s]=r.charCodeAt(s);var l=new window.Blob([a],{type:o});return l.name=e,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var t=document.createElement("canvas");return window.atob&&t.getContext&&t.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(t){this.$ngfName=t},configurable:!0}),n.resize=function(t,i){if(0!==t.type.indexOf("image"))return n.emptyPromise(t);var o=e.defer();return n.dataUrl(t,!0).then(function(r){(function(t,i,o,r,s,a,l,u){var h=e.defer(),c=document.createElement("canvas"),d=document.createElement("img");return d.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(d),d.onload=function(){var t=d.width,e=d.height;if(d.parentNode.removeChild(d),null==u||!1!==u(t,e))try{if(a){var p=n.ratioToFloat(a);t/e<p?o=(i=t)/p:i=(o=e)*p}i||(i=t),o||(o=e);var f=function(t,e,n,i,o){var r=o?Math.max(n/t,i/e):Math.min(n/t,i/e);return{width:t*r,height:e*r,marginX:t*r-n,marginY:e*r-i}}(t,e,i,o,l);c.width=Math.min(f.width,i),c.height=Math.min(f.height,o),c.getContext("2d").drawImage(d,Math.min(0,-f.marginX/2),Math.min(0,-f.marginY/2),f.width,f.height),h.resolve(c.toDataURL(s||"image/WebP",r||.934))}catch(t){h.reject(t)}else h.reject("resizeIf")},d.onerror=function(){d.parentNode.removeChild(d),h.reject()},d.src=t,h.promise})(r,i.width,i.height,i.quality,i.type||t.type,i.ratio,i.centerCrop,i.resizeIf).then(function(e){if("image/jpeg"===t.type&&!1!==i.restoreExif)try{e=n.restoreExif(r,e)}catch(t){setTimeout(function(){throw t},1)}try{var s=n.dataUrltoBlob(e,t.name,t.size);o.resolve(s)}catch(t){o.reject(t)}},function(e){"resizeIf"===e&&o.resolve(t),o.reject(e)})},function(t){o.reject(t)}),o.promise},n}]),function(){function t(t,n,i,o,r,s,a,l,u,h){function c(){return n.attr("disabled")||g("ngfDropDisabled",t)}function d(e,n,o){if(e){var r;try{r=e&&e.getData&&e.getData("text/html")}catch(t){}(function(e,n,o,r){function s(t,e){var n=h.defer();if(null!=t)if(t.isDirectory){var i=[l.emptyPromise()];if(d){var o={type:"directory"};o.name=o.path=(e||"")+t.name,p.push(o)}var r=t.createReader(),a=[],g=function(){r.readEntries(function(o){try{o.length?(a=a.concat(Array.prototype.slice.call(o||[],0)),g()):(angular.forEach(a.slice(0),function(n){p.length<=u&&f<=c&&i.push(s(n,(e||"")+t.name+"/"))}),h.all(i).then(function(){n.resolve()},function(t){n.reject(t)}))}catch(t){n.reject(t)}},function(t){n.reject(t)})};g()}else t.file(function(t){try{t.path=(e||"")+t.name,d&&(t=l.rename(t,t.path)),p.push(t),f+=t.size,n.resolve()}catch(t){n.reject(t)}},function(t){n.reject(t)});return n.promise}var u=l.getValidationAttr(i,t,"maxFiles");null==u&&(u=Number.MAX_VALUE);var c=l.getValidationAttr(i,t,"maxTotalSize");null==c&&(c=Number.MAX_VALUE);var d=g("ngfIncludeDir",t),p=[],f=0;var m=[l.emptyPromise()];if(e&&e.length>0&&"file:"!==a.location.protocol)for(var w=0;w<e.length;w++){if(e[w].webkitGetAsEntry&&e[w].webkitGetAsEntry()&&e[w].webkitGetAsEntry().isDirectory){var v=e[w].webkitGetAsEntry();if(v.isDirectory&&!o)continue;null!=v&&m.push(s(v))}else{var _=e[w].getAsFile();null!=_&&(p.push(_),f+=_.size)}if(p.length>u||f>c||!r&&p.length>0)break}else if(null!=n)for(var y=0;y<n.length;y++){var b=n.item(y);if((b.type||b.size>0)&&(p.push(b),f+=b.size),p.length>u||f>c||!r&&p.length>0)break}var z=h.defer();return h.all(m).then(function(){if(r||d||!p.length)z.resolve(p);else{for(var t=0;p[t]&&"directory"===p[t].type;)t++;z.resolve([p[t]])}},function(t){z.reject(t)}),z.promise})(e.items,e.files,!1!==g("ngfAllowDir",t),g("multiple")||g("ngfMultiple",t)).then(function(e){e.length?p(e,n):function(e,n){if(!l.shouldUpdateOn(e,i,t)||"string"!=typeof n)return l.rejectPromise([]);var o=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(t,e,n){o.push(n)});var r=[],s=[];if(o.length){angular.forEach(o,function(t){r.push(l.urlToBlob(t).then(function(t){s.push(t)}))});var a=h.defer();return h.all(r).then(function(){a.resolve(s)},function(t){a.reject(t)}),a.promise}return l.emptyPromise()}(o,r).then(function(t){p(t,n)})})}}function p(e,n){l.updateModel(o,i,t,g("ngfChange")||g("ngfDrop"),e,n)}var f=e(),g=function(t,e,n){return l.attrGetter(t,i,e,n)};if(g("dropAvailable")&&s(function(){t[g("dropAvailable")]?t[g("dropAvailable")].value=f:t[g("dropAvailable")]=f}),f){null==g("ngfSelect")&&l.registerModelChangeValidator(o,i,t);var m,w=null,v=r(g("ngfStopPropagation")),_=1;n[0].addEventListener("dragover",function(e){if(!c()&&l.shouldUpdateOn("drop",i,t)){if(e.preventDefault(),v(t)&&e.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var o=e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===o||"linkMove"===o?"move":"copy"}s.cancel(w),m||(m="C",function(t,e,n,i){var o=g("ngfDragOverClass",t,{$event:n}),r="dragover";if(angular.isString(o))r=o;else if(o&&(o.delay&&(_=o.delay),o.accept||o.reject)){var s=n.dataTransfer.items;if(null!=s&&s.length)for(var a=o.pattern||g("ngfPattern",t,{$event:n}),u=s.length;u--;){if(!l.validatePattern(s[u],a)){r=o.reject;break}r=o.accept}else r=o.accept}i(r)}(t,0,e,function(i){m=i,n.addClass(m),g("ngfDrag",t,{$isDragging:!0,$class:m,$event:e})}))}},!1),n[0].addEventListener("dragenter",function(e){!c()&&l.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),v(t)&&e.stopPropagation())},!1),n[0].addEventListener("dragleave",function(e){!c()&&l.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),v(t)&&e.stopPropagation(),w=s(function(){m&&n.removeClass(m),m=null,g("ngfDrag",t,{$isDragging:!1,$event:e})},_||100))},!1),n[0].addEventListener("drop",function(e){!c()&&l.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),v(t)&&e.stopPropagation(),m&&n.removeClass(m),m=null,d(e.dataTransfer,e,"dropUrl"))},!1),n[0].addEventListener("paste",function(e){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&g("ngfEnableFirefoxPaste",t)&&e.preventDefault(),!c()&&l.shouldUpdateOn("paste",i,t)&&d(e.clipboardData||e.originalEvent.clipboardData,e,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&g("ngfEnableFirefoxPaste",t)&&(n.attr("contenteditable",!0),n.on("keypress",function(t){t.metaKey||t.ctrlKey||t.preventDefault()}))}else!0===g("ngfHideOnDropNotAvailable",t)&&n.css("display","none")}function e(){var t=document.createElement("div");return"draggable"in t&&"ondrop"in t&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(e,n,i,o,r,s){return{restrict:"AEC",require:"?ngModel",link:function(r,a,l,u){t(r,a,l,u,e,n,i,o,0,s)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(t,n){e()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(t,n,i){return function(o,r,s){if(e()){var a=t(i.attrGetter("ngfDropAvailable",s));n(function(){a(o),a.assign&&a.assign(o,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(t,e){var n=t;return n.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&n.isResizeSupported()},n.readOrientation=function(t){var n=e.defer(),i=new FileReader,o=t.slice?t.slice(0,65536):t;return i.readAsArrayBuffer(o),i.onerror=function(t){return n.reject(t)},i.onload=function(t){var e={orientation:1},i=new DataView(this.result);if(65496!==i.getUint16(0,!1))return n.resolve(e);for(var o=i.byteLength,r=2;r<o;){var s=i.getUint16(r,!1);if(r+=2,65505===s){if(1165519206!==i.getUint32(r+=2,!1))return n.resolve(e);var a=18761===i.getUint16(r+=6,!1);r+=i.getUint32(r+4,a);var l=i.getUint16(r,a);r+=2;for(var u=0;u<l;u++)if(274===i.getUint16(r+12*u,a)){var h=i.getUint16(r+12*u+8,a);return h>=2&&h<=8&&(i.setUint16(r+12*u+8,1,a),e.fixedArrayBuffer=t.target.result),e.orientation=h,n.resolve(e)}}else{if(65280!=(65280&s))break;r+=i.getUint16(r,!1)}}return n.resolve(e)},n.promise},n.applyExifRotation=function(t){if(0!==t.type.indexOf("image/jpeg"))return n.emptyPromise(t);var i=e.defer();return n.readOrientation(t).then(function(e){if(e.orientation<2||e.orientation>8)return i.resolve(t);n.dataUrl(t,!0).then(function(o){var r=document.createElement("canvas"),s=document.createElement("img");s.onload=function(){try{r.width=e.orientation>4?s.height:s.width,r.height=e.orientation>4?s.width:s.height;var o=r.getContext("2d");!function(t,e,n,i){switch(e){case 2:return t.transform(-1,0,0,1,n,0);case 3:return t.transform(-1,0,0,-1,n,i);case 4:return t.transform(1,0,0,-1,0,i);case 5:return t.transform(0,1,1,0,0,0);case 6:return t.transform(0,1,-1,0,i,0);case 7:return t.transform(0,-1,-1,0,i,n);case 8:t.transform(0,-1,1,0,0,n)}}(o,e.orientation,s.width,s.height),o.drawImage(s,0,0);var a=r.toDataURL(t.type||"image/WebP",.934);a=n.restoreExif(function(t){for(var e="",n=new Uint8Array(t),i=n.byteLength,o=0;o<i;o++)e+=String.fromCharCode(n[o]);return window.btoa(e)}(e.fixedArrayBuffer),a);var l=n.dataUrltoBlob(a,t.name);i.resolve(l)}catch(t){return i.reject(t)}},s.onerror=function(){i.reject()},s.src=o},function(t){i.reject(t)})},function(t){i.reject(t)}),i.promise},n.restoreExif=function(t,e){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(t){var e,n,i,o,r,s="",a="",l="",u=0;do{i=(e=t[u++])>>2,o=(3&e)<<4|(n=t[u++])>>4,r=(15&n)<<2|(a=t[u++])>>6,l=63&a,isNaN(n)?r=l=64:isNaN(a)&&(l=64),s=s+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(l),e=n=a="",i=o=r=l=""}while(u<t.length);return s},n.restore=function(t,e){t.match("data:image/jpeg;base64,")&&(t=t.replace("data:image/jpeg;base64,",""));var n=this.decode64(t),i=this.slice2Segments(n),o=this.exifManipulation(e,i);return"data:image/jpeg;base64,"+this.encode64(o)},n.exifManipulation=function(t,e){var n=this.getExifArray(e),i=this.insertExif(t,n);return new Uint8Array(i)},n.getExifArray=function(t){for(var e,n=0;n<t.length;n++)if(255===(e=t[n])[0]&225===e[1])return e;return[]},n.insertExif=function(t,e){var n=t.replace("data:image/jpeg;base64,",""),i=this.decode64(n),o=i.indexOf(255,3),r=i.slice(0,o),s=i.slice(o),a=r;return a=a.concat(e),a=a.concat(s)},n.slice2Segments=function(t){for(var e=0,n=[];;){if(255===t[e]&218===t[e+1])break;if(255===t[e]&216===t[e+1])e+=2;else{var i=e+(256*t[e+2]+t[e+3])+2,o=t.slice(e,i);n.push(o),e=i}if(e>t.length)break}return n},n.decode64=function(t){var e,n,i,o,r="",s="",a=0,l=[];/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{e=this.KEY_STR.indexOf(t.charAt(a++))<<2|(i=this.KEY_STR.indexOf(t.charAt(a++)))>>4,n=(15&i)<<4|(o=this.KEY_STR.indexOf(t.charAt(a++)))>>2,r=(3&o)<<6|(s=this.KEY_STR.indexOf(t.charAt(a++))),l.push(e),64!==o&&l.push(n),64!==s&&l.push(r),e=n=r="",i=o=s=""}while(a<t.length);return l},n.restore(t,e)},n}]),function(){var t="RandExp",e=function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return o(n||t)},h,h.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){function i(t){return t+(97<=t&&t<=122?-32:65<=t&&t<=90?32:0)}function o(t){return t instanceof u?t.index(this.randInt(0,t.length-1)):t[this.randInt(0,t.length-1)]}function r(t){if(t.type===l.types.CHAR)return new u(t.value);if(t.type===l.types.RANGE)return new u(t.from,t.to);for(var e=new u,n=0;n<t.set.length;n++){var o=r.call(this,t.set[n]);if(e.add(o),this.ignoreCase)for(var s=0;s<o.length;s++){var a=o.index(s),h=i(a);a!==h&&e.add(h)}}return t.not?this.defaultRange.clone().subtract(e):e}function s(t,e){"number"==typeof e.max&&(t.max=e.max),e.defaultRange instanceof u&&(t.defaultRange=e.defaultRange),"function"==typeof e.randInt&&(t.randInt=e.randInt)}function a(t,e){var n,s,l,u,c;switch(t.type){case h.ROOT:case h.GROUP:if(t.followedBy||t.notFollowedBy)return"";for(t.remember&&void 0===t.groupNumber&&(t.groupNumber=e.push(null)-1),s="",u=0,c=(n=t.options?o.call(this,t.options):t.stack).length;u<c;u++)s+=a.call(this,n[u],e);return t.remember&&(e[t.groupNumber]=s),s;case h.POSITION:return"";case h.SET:var d=r.call(this,t);return d.length?String.fromCharCode(o.call(this,d)):"";case h.REPETITION:for(l=this.randInt(t.min,t.max===1/0?t.min+this.max:t.max),s="",u=0;u<l;u++)s+=a.call(this,t.value,e);return s;case h.REFERENCE:return e[t.value-1]||"";case h.CHAR:var p=this.ignoreCase&&function(){return!this.randInt(0,1)}.call(this)?i(t.value):t.value;return String.fromCharCode(p)}}var l=t("ret"),u=t("discontinuous-range"),h=l.types,c=e.exports=function(t,e){if(this.defaultRange=this.defaultRange.clone(),t instanceof RegExp)this.ignoreCase=t.ignoreCase,this.multiline=t.multiline,s(this,t),t=t.source;else{if("string"!=typeof t)throw new Error("Expected a regexp or string");this.ignoreCase=e&&-1!==e.indexOf("i"),this.multiline=e&&-1!==e.indexOf("m")}this.tokens=l(t)};c.prototype.max=100,c.prototype.gen=function(){return a.call(this,this.tokens,[])},c.randexp=function(t,e){var n;return void 0===t._randexp?(n=new c(t,e),t._randexp=n):n=t._randexp,s(n,t),n.gen()},c.sugar=function(){RegExp.prototype.gen=function(){return c.randexp(this)}},c.prototype.defaultRange=new u(32,126),c.prototype.randInt=function(t,e){return t+Math.floor(Math.random()*(1+e-t))}},{"discontinuous-range":2,ret:3}],2:[function(t,e,n){function i(t,e){this.low=t,this.high=e,this.length=1+e-t}function o(t,e){return this instanceof o?(this.ranges=[],this.length=0,void(void 0!==t&&this.add(t,e))):new o(t,e)}function r(t){t.length=t.ranges.reduce(function(t,e){return t+e.length},0)}i.prototype.overlaps=function(t){return!(this.high<t.low||this.low>t.high)},i.prototype.touches=function(t){return!(this.high+1<t.low||this.low-1>t.high)},i.prototype.add=function(t){return this.touches(t)&&new i(Math.min(this.low,t.low),Math.max(this.high,t.high))},i.prototype.subtract=function(t){return!!this.overlaps(t)&&(t.low<=this.low&&t.high>=this.high?[]:t.low>this.low&&t.high<this.high?[new i(this.low,t.low-1),new i(t.high+1,this.high)]:t.low<=this.low?[new i(t.high+1,this.high)]:[new i(this.low,t.low-1)])},i.prototype.toString=function(){return this.low==this.high?this.low.toString():this.low+"-"+this.high},i.prototype.clone=function(){return new i(this.low,this.high)},o.prototype.add=function(t,e){function n(t){for(var e=[],n=0;n<s.ranges.length&&!t.touches(s.ranges[n]);)e.push(s.ranges[n].clone()),n++;for(;n<s.ranges.length&&t.touches(s.ranges[n]);)t=t.add(s.ranges[n]),n++;for(e.push(t);n<s.ranges.length;)e.push(s.ranges[n].clone()),n++;s.ranges=e,r(s)}var s=this;return t instanceof o?t.ranges.forEach(n):t instanceof i?n(t):(void 0===e&&(e=t),n(new i(t,e))),this},o.prototype.subtract=function(t,e){function n(t){for(var e=[],n=0;n<s.ranges.length&&!t.overlaps(s.ranges[n]);)e.push(s.ranges[n].clone()),n++;for(;n<s.ranges.length&&t.overlaps(s.ranges[n]);)e=e.concat(s.ranges[n].subtract(t)),n++;for(;n<s.ranges.length;)e.push(s.ranges[n].clone()),n++;s.ranges=e,r(s)}var s=this;return t instanceof o?t.ranges.forEach(n):t instanceof i?n(t):(void 0===e&&(e=t),n(new i(t,e))),this},o.prototype.index=function(t){for(var e=0;e<this.ranges.length&&this.ranges[e].length<=t;)t-=this.ranges[e].length,e++;return e>=this.ranges.length?null:this.ranges[e].low+t},o.prototype.toString=function(){return"[ "+this.ranges.join(", ")+" ]"},o.prototype.clone=function(){return new o(this)},e.exports=o},{}],3:[function(t,e,n){var i=t("./util"),o=t("./types"),r=t("./sets"),s=t("./positions");e.exports=function(t){var e,n,a=0,l={type:o.ROOT,stack:[]},u=l,h=l.stack,c=[],d=function(e){i.error(t,"Nothing to repeat at column "+(e-1))},p=i.strToChars(t);for(e=p.length;a<e;)switch(n=p[a++]){case"\\":switch(n=p[a++]){case"b":h.push(s.wordBoundary());break;case"B":h.push(s.nonWordBoundary());break;case"w":h.push(r.words());break;case"W":h.push(r.notWords());break;case"d":h.push(r.ints());break;case"D":h.push(r.notInts());break;case"s":h.push(r.whitespace());break;case"S":h.push(r.notWhitespace());break;default:/\d/.test(n)?h.push({type:o.REFERENCE,value:parseInt(n,10)}):h.push({type:o.CHAR,value:n.charCodeAt(0)})}break;case"^":h.push(s.begin());break;case"$":h.push(s.end());break;case"[":var f;"^"===p[a]?(f=!0,a++):f=!1;var g=i.tokenizeClass(p.slice(a),t);a+=g[1],h.push({type:o.SET,set:g[0],not:f});break;case".":h.push(r.anyChar());break;case"(":var m={type:o.GROUP,stack:[],remember:!0};"?"===(n=p[a])&&(n=p[a+1],a+=2,"="===n?m.followedBy=!0:"!"===n?m.notFollowedBy=!0:":"!==n&&i.error(t,"Invalid group, character '"+n+"' after '?' at column "+(a-1)),m.remember=!1),h.push(m),c.push(u),u=m,h=m.stack;break;case")":0===c.length&&i.error(t,"Unmatched ) at column "+(a-1)),h=(u=c.pop()).options?u.options[u.options.length-1]:u.stack;break;case"|":u.options||(u.options=[u.stack],delete u.stack);var w=[];u.options.push(w),h=w;break;case"{":var v,_,y=/^(\d+)(,(\d+)?)?\}/.exec(p.slice(a));null!==y?(0===h.length&&d(a),v=parseInt(y[1],10),_=y[2]?y[3]?parseInt(y[3],10):1/0:v,a+=y[0].length,h.push({type:o.REPETITION,min:v,max:_,value:h.pop()})):h.push({type:o.CHAR,value:123});break;case"?":0===h.length&&d(a),h.push({type:o.REPETITION,min:0,max:1,value:h.pop()});break;case"+":0===h.length&&d(a),h.push({type:o.REPETITION,min:1,max:1/0,value:h.pop()});break;case"*":0===h.length&&d(a),h.push({type:o.REPETITION,min:0,max:1/0,value:h.pop()});break;default:h.push({type:o.CHAR,value:n.charCodeAt(0)})}return 0!==c.length&&i.error(t,"Unterminated group"),l},e.exports.types=o},{"./positions":4,"./sets":5,"./types":6,"./util":7}],4:[function(t,e,n){var i=t("./types");n.wordBoundary=function(){return{type:i.POSITION,value:"b"}},n.nonWordBoundary=function(){return{type:i.POSITION,value:"B"}},n.begin=function(){return{type:i.POSITION,value:"^"}},n.end=function(){return{type:i.POSITION,value:"$"}}},{"./types":6}],5:[function(t,e,n){var i=t("./types"),o=function(){return[{type:i.RANGE,from:48,to:57}]},r=function(){return[{type:i.CHAR,value:95},{type:i.RANGE,from:97,to:122},{type:i.RANGE,from:65,to:90}].concat(o())},s=function(){return[{type:i.CHAR,value:9},{type:i.CHAR,value:10},{type:i.CHAR,value:11},{type:i.CHAR,value:12},{type:i.CHAR,value:13},{type:i.CHAR,value:32},{type:i.CHAR,value:160},{type:i.CHAR,value:5760},{type:i.CHAR,value:6158},{type:i.CHAR,value:8192},{type:i.CHAR,value:8193},{type:i.CHAR,value:8194},{type:i.CHAR,value:8195},{type:i.CHAR,value:8196},{type:i.CHAR,value:8197},{type:i.CHAR,value:8198},{type:i.CHAR,value:8199},{type:i.CHAR,value:8200},{type:i.CHAR,value:8201},{type:i.CHAR,value:8202},{type:i.CHAR,value:8232},{type:i.CHAR,value:8233},{type:i.CHAR,value:8239},{type:i.CHAR,value:8287},{type:i.CHAR,value:12288},{type:i.CHAR,value:65279}]};n.words=function(){return{type:i.SET,set:r(),not:!1}},n.notWords=function(){return{type:i.SET,set:r(),not:!0}},n.ints=function(){return{type:i.SET,set:o(),not:!1}},n.notInts=function(){return{type:i.SET,set:o(),not:!0}},n.whitespace=function(){return{type:i.SET,set:s(),not:!1}},n.notWhitespace=function(){return{type:i.SET,set:s(),not:!0}},n.anyChar=function(){return{type:i.SET,set:[{type:i.CHAR,value:10},{type:i.CHAR,value:13},{type:i.CHAR,value:8232},{type:i.CHAR,value:8233}],not:!0}}},{"./types":6}],6:[function(t,e,n){e.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}},{}],7:[function(t,e,n){var i=t("./types"),o=t("./sets"),r={0:0,t:9,n:10,v:11,f:12,r:13};n.strToChars=function(t){return t=t.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z\[\\\]\^?])|([0tnvfr]))/g,function(t,e,n,i,o,s,a,l){if(n)return t;var u=e?8:i?parseInt(i,16):o?parseInt(o,16):s?parseInt(s,8):a?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(a):r[l],h=String.fromCharCode(u);return/[\[\]{}\^$.|?*+()]/.test(h)&&(h="\\"+h),h})},n.tokenizeClass=function(t,e){for(var r,s,a=[],l=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?(.)/g;null!=(r=l.exec(t));)if(r[1])a.push(o.words());else if(r[2])a.push(o.ints());else if(r[3])a.push(o.whitespace());else if(r[4])a.push(o.notWords());else if(r[5])a.push(o.notInts());else if(r[6])a.push(o.notWhitespace());else if(r[7])a.push({type:i.RANGE,from:(r[8]||r[9]).charCodeAt(0),to:r[10].charCodeAt(0)});else{if(!(s=r[12]))return[a,l.lastIndex];a.push({type:i.CHAR,value:s.charCodeAt(0)})}n.error(e,"Unterminated character class")},n.error=function(t,e){throw new SyntaxError("Invalid regular expression: /"+t+"/: "+e)}},{"./sets":5,"./types":6}]},{},[1])(1);"function"==typeof define&&"object"==typeof define.amd?define(t,function(){return e}):"undefined"!=typeof window&&(window[t]=e)}(),function(t){var e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n={},i="",o=function(){var e=l.apply(this);""==e&&(this.get(0)==t(document).get(0)?e=document.location.href:this.is("[href]")?e=this.attr("href"):this.is("[src]")&&(e=this.attr("src")),""!=e&&(e=f(e),this.data("href",e)))},r=function(t,e){0!=this.is("["+t+"]")&&(null==this.data("original-"+t)&&this.data("original-"+t,this.attr(t)),this.attr(t,e))},s=function(t){null!=this.data("original-"+t)&&(this.attr(t,this.data("original-"+t)),this.removeData("original-"+t))},a=function(){this.removeData("href"),s.apply(this,["href"]),s.apply(this,["src"]),this.removeData("jurlp-no-watch"),this.removeData("is-watched"),D.unwatch.apply(this)},l=function(){return this.href||this.data("href")||this.attr("href")||this.attr("src")||""},u=function(t,e){c.apply(this,[g(l.apply(this),t,e)])},h=function(t){u.apply(this,[t[0],t[1]])},c=function(e){"object"==typeof e&&(e=p(e)),e=f(e),null==this.href?this.get(0)==t(document).get(0)?this.data("href",e):(r.apply(this,["href",e]),r.apply(this,["src",e])):this.href=e},d=function(t){if(null==t)return{scheme:"",user:"",password:"",host:"",port:"",path:"",query:"",fragment:""};var n={user:"",password:""};if("//"==t.substring(0,2)&&(t="http:"+t),""!=t&&-1==t.indexOf("://")&&(t="http://"+t),-1!=t.indexOf("@")){var i=t.match(e);i[4]&&(n.user=i[4]),i[5]&&(n.password=i[5])}var o=document.createElement("a");o.href=t;try{o.protocol}catch(e){if(-2146697202==e.number){var r="";""!=n.user&&(r+=n.user,""!=n.password&&(r+=":"+n.password),r+="@",o.href=t.replace(r,""))}}var s=o.protocol;-1==o.protocol.indexOf("//")&&(s+="//");var a=o.pathname;"/"!=a[0]&&(a="/"+a);var l=o.port+"";return("21"==l&&-1==t.indexOf(":21")||"80"==l&&-1==t.indexOf(":80")||"443"==l&&-1==t.indexOf(":443")||"0"==l)&&(l=""),{scheme:s,user:n.user,password:n.password,host:o.hostname,port:l,path:a,query:o.search,fragment:o.hash}},p=function(t){var e=t.scheme;return null!=t.user&&""!=t.user&&(e+=t.user,null!=t.password&&""!=t.password&&(e+=":"+t.password),e+="@"),e+t.host+(""!=t.port?":"+t.port:"")+t.path+t.query+t.fragment},f=function(t){return O.parse(t).toString()},g=function(t,e,n){var i=O.parse(t);return i[e]=n,p(i)},m=function(t){return"string"==typeof t?O.parse(t):t},w=function(e){var n={},i=_(l.apply(this));"string"==typeof e?("?"==e[0]&&(i={},e=e.substring(1)),n=v(e)):n=e,0==t.isEmptyObject(n)?n=t.extend(i,n):i={},u.apply(this,["query",y.apply(n)])},v=function(t){var e={};if(""!=t)for(var n=t.split("&"),i=0;i<n.length;i++){var o=n[i].split("=");e[o[0]]=o[1]}return e},_=function(t){return v(function(t){var e=m(t).query;return"?"==e[0]?e.slice(1):e}(t))},y=function(){var t="";for(var e in this)"toString"!=e&&null!=this[e]&&(t+="&"+e+"="+this[e]);return"&"==t[0]&&(t="?"+t.slice(1)),t},b=function(t){var e=m(l.apply(this)).path.split("/"),n=t.split("/"),i=0;""==n[0]&&(e=[],i++),e.splice(0,1);for(var o=n.length;i<o;i++)".."==n[i]?e.length>0&&e.splice(e.length-1,1):"."==n[i]||e.push(n[i]);u.apply(this,["path",z.apply(e)])},z=function(){return this.length>0?"/"+this.join("/"):"/"},k=function(t,e,o){1!=t.data("is-watched")&&n[i]&&n[i].push([e,o])},x=function(e,n){return null!=this.href?(e.apply(this,[n]),this):(k(this,e,[n]),this.each(function(){e.apply(t(this),[n])}))},S=function(e,n){if(null!=this.href)return e.apply(this,[n]);var i=[];return this.each(function(){i.push(e.apply(t(this),[n]))}),i},$=function(t,e,n){return 0==n.length?t.apply(this):e.apply(this,n)},O={toString:{http:function(){return p(this)},mailto:function(){return this.password="",this.path="",this.port="",p(this)},javascript:function(){return"javascript:"+this.javascript},generic:function(){return this.scheme+this.url}},parsers:{http:function(e){return t.extend(d(e),{toString:O.toString.http})},mailto:function(e){return t.extend(d(e.substring(7)),{scheme:"mailto:",toString:O.toString.mailto})},javascript:function(e){return t.extend(d(document.location.href),{javascript:e.substring(11),toString:O.toString.javascript})},generic:function(e,n){return"//"==n.substring(0,2)?t.extend(d(n.substring(2)),{scheme:e+"://",toString:O.toString.http}):{scheme:e+":",url:n,toString:O.toString.generic}}},parse:function(t){if("string"!=typeof t)return t;var e=t.indexOf(":");if(-1!=e){var n=t.substring(0,e).toLowerCase();return null!=this.parsers[n]?this.parsers[n](t):this.parsers.generic(n,t.substring(e+1))}return this.parsers.http(t)}},C={getUrl:function(){return S.apply(this,[l,null])},setUrl:function(t){c.apply(this,[t])},parseUrl:function(){return S.apply(this,[function(){return O.parse(l.apply(this))},null])},getFragment:function(){return S.apply(this,[function(){return function(t){return m(t).fragment}(l.apply(this))},null])},setFragment:function(t){return"#"!=t[0]&&(t="#"+t),x.apply(this,[h,["fragment",t]])},getQuery:function(){return S.apply(this,[function(){return t.extend(_(l.apply(this)),{toString:y})},null])},setQuery:function(t){return x.apply(this,[w,t])},getPath:function(){return S.apply(this,[function(){return t.extend(function(t){var e=function(t){var e=m(t).path;return"/"==e[0]?e.slice(1):e}(t);return""!=e?e.split("/"):[]}(l.apply(this)),{toString:z})},null])},setPath:function(t){return x.apply(this,[b,t])},getPort:function(){return S.apply(this,[function(){return function(t){return m(t).port}(l.apply(this))},null])},setPort:function(t){return x.apply(this,[h,["port",t]])},getHost:function(){return S.apply(this,[function(){return function(t){return m(t).host}(l.apply(this))},null])},setHost:function(t){return x.apply(this,[h,["host",t]])},getPassword:function(){return S.apply(this,[function(){return function(t){return m(t).password}(l.apply(this))},null])},setPassword:function(t){return x.apply(this,[h,["password",t]])},getUser:function(){return S.apply(this,[function(){return function(t){return m(t).user}(l.apply(this))},null])},setUser:function(t){return x.apply(this,[h,["user",t]])},getScheme:function(){return S.apply(this,[function(){return function(t){return m(t).scheme}(l.apply(this))},null])},setScheme:function(t){return x.apply(this,[h,["scheme",t]])},filters:{"=":function(t,e){return t==e},"!=":function(t,e){return t!=e},"<":function(t,e){return t<e},">":function(t,e){return t>e},"<=":function(t,e){return t<=e},">=":function(t,e){return t>=e},"*=":function(t,e){return-1!=t.indexOf(e)},"^=":function(t,e){return t.length>=e.length&&t.substring(0,e.length)==e},"$=":function(t,e){return t.length>=e.length&&t.substring(t.length-e.length)==e},regex:function(t,e){return t.match(e)}}},D={url:function(t){return $.apply(this,[C.parseUrl,C.setUrl,arguments])},fragment:function(t){return $.apply(this,[C.getFragment,C.setFragment,arguments])},query:function(t){return $.apply(this,[C.getQuery,C.setQuery,arguments])},path:function(t){return $.apply(this,[C.getPath,C.setPath,arguments])},port:function(t){return $.apply(this,[C.getPort,C.setPort,arguments])},host:function(t){return $.apply(this,[C.getHost,C.setHost,arguments])},password:function(t){return $.apply(this,[C.getPassword,C.setPassword,arguments])},user:function(t){return $.apply(this,[C.getUser,C.setUser,arguments])},scheme:function(t){return $.apply(this,[C.getScheme,C.setScheme,arguments])},initialise:function(){var e=this,n=[];return null!=(n=function(){if(this.get(0)!=t(document).get(0)&&null==this.attr("href")&&null==this.attr("src")&&null!=this.html()&&0==this.hasClass("jurlp-span")){for(var e=[],n=!1,i="",o=/((((mailto|spotify|skype)\:([a-zA-Z0-9\.\-\:@\?\=\%]*))|((ftp|git|irc|ircs|irc6|pop|rss|ssh|svn|udp|feed|imap|ldap|nntp|rtmp|sftp|snmp|xmpp|http|https|telnet|ventrilo|webcal|view\-source)\:[\/]{2})?(([a-zA-Z0-9\.\-]+)\:([a-zA-Z0-9\.&;%\$\-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|localhost|([a-zA-Z0-9\-]+\.)*[a-zA-Z0-9\-]+\.(aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|[a-zA-Z]{2}))(\:[0-9]+)*(\/($|[a-zA-Z0-9\.\,\?\'\\\+&;%\$\=~_\-]+)?(#\w*)?)*))/i,r=this.html();i=o.exec(r);)r=r.replace(i[0],"$"+e.length),e.push(i[0]),n=!0;for(var s=0;s<e.length;s++){var a=r.indexOf("$"+s),u=r.substring(a-6,a-1);r="href="==u||" src="==u||">"==r.substring(a-1,a)?r.replace("$"+s,e[s]):r.replace("$"+s,'<a href="[url]" class="jurlp-no-watch">[url]</a>'.replace(/\[url\]/g,e[s]))}if(0!=n)return this.addClass("jurlp-span"),this.html(r),this.find("a[href]").each(function(){var e=l.apply(t(this));c.apply(t(this),[e])})}return null}.apply(t(this)))?x.apply(this.filter(function(){return t(this).get(0)!=t(e).get(0)}).add(n),[o]):x.apply(e,[o])},restore:function(){return x.apply(this,[a])},goto:function(){document.location.href=l.apply(this)},proxy:function(t,e){var n=l.apply(this),i={};c.apply(this,[p(m(t))]),i[e]=n,C.setQuery.apply(this,[i])},watch:function(e){var o=this.selector;return null==n[i]&&(n[i]=[],t(document).bind("DOMNodeInserted",function i(r){if(null!=n[o]){var s=t(r.target).filter(o);if(null==s.get(0)&&(s=t(r.target).find(o)),s.length>0&&0==s.is(".jurlp-no-watch")){var a=!1;s.data("is-watched",!0);for(var l=0,u=n[o].length;l<u;l++){var h=n[o][l][0].apply(s,n[o][l][1]);if(null!=h&&0==h.length){a=!0;break}}0==a&&"function"==typeof e&&s.each(function(){e(t(this),o)})}}else t(document).unbind("DOMNodeInserted",i)})),this},unwatch:function(){n[this.selector]=null},filter:function(e,n,i){var o=O.parse(l.apply(this));return"=="==n&&(n="="),"url"!=e&&null==o[e]||null==C.filters[n]?this:(k(this,D.filter,[e,n,i]),this.filter(function(){var o=l.apply(t(this)),r="";return r="url"!=e?O.parse(o)[e]:o,"port"==e&&(r=parseInt(r,10),i=parseInt(i,10)),C.filters[n].apply(t(this),[r,i])}))},interface:function(){return D}};t.fn.jurlp=function(t){return-1==this.selector.indexOf(".filter")&&(i=this.selector),x.apply(this,[o]),function(t){return null!=D[t]?D[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"==typeof t||null==t?D.initialise.apply(this,Array.prototype.slice.call(arguments,1)):this}.apply(this,arguments)},t.jurlp=function(e){return{href:e||document.location.href,url:D.url,scheme:D.scheme,user:D.user,password:D.password,host:D.host,port:D.port,path:D.path,query:D.query,fragment:D.fragment,proxy:D.proxy,goto:D.goto,watch:function(e){var n=this.host();return t('[href*="'+n+'"],[src*="'+n+'"]').jurlp("watch",e)},unwatch:function(){var e=this.host();return t('[href*="'+e+'"],[src*="'+e+'"]').jurlp("unwatch")}}}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,n,i){var o={init:function(e,n){var i=this;i.elem=n,i.$elem=t(n),i.options=t.extend({},t.fn.elevateZoom.options,e),i.options.imageSrc?i.imageSrc=i.options.imageSrc:i.$elem.data("zoom-image")?i.imageSrc=i.$elem.data("zoom-image"):i.imageSrc=i.$elem.attr("src"),i.options.tint&&(i.options.lensColour="none",i.options.lensOpacity="1"),"inner"==i.options.zoomType&&(i.options.showLens=!1),i.$elem.parent().removeAttr("title").removeAttr("alt"),i.zoomImage=i.imageSrc,i.refresh(1),t("#"+i.options.gallery+" a").click(function(e){return i.options.galleryActiveClass&&(t("#"+i.options.gallery+" a").removeClass(i.options.galleryActiveClass),t(this).addClass(i.options.galleryActiveClass)),e.preventDefault(),t(this).data("zoom-image")?i.zoomImagePre=t(this).data("zoom-image"):i.zoomImagePre=t(this).data("image"),i.swaptheimage(t(this).data("image"),i.zoomImagePre),!1})},refresh:function(t){var e=this;setTimeout(function(){e.fetch(e.imageSrc)},t||e.options.refresh)},fetch:function(t){var e=this,n=new Image;n.onload=function(){e.largeWidth=n.width,e.largeHeight=n.height,e.startZoom(),e.currentImage=e.imageSrc,e.options.onZoomedImageLoaded(e.$elem)},n.src=t},startZoom:function(){var e=this;if(e.nzWidth=e.$elem.width(),e.nzHeight=e.$elem.height(),e.isWindowActive=!1,e.isLensActive=!1,e.isTintActive=!1,e.overWindow=!1,e.options.imageCrossfade&&(e.zoomWrap=e.$elem.wrap('<div style="height:'+e.nzHeight+"px;width:"+e.nzWidth+'px;" class="zoomWrapper" />'),e.$elem.css("position","absolute")),e.zoomLock=1,e.scrollingLock=!1,e.changeBgSize=!1,e.currentZoomLevel=e.options.zoomLevel,e.nzOffset=e.$elem.offset(),e.widthRatio=e.largeWidth/e.currentZoomLevel/e.nzWidth,e.heightRatio=e.largeHeight/e.currentZoomLevel/e.nzHeight,"window"==e.options.zoomType&&(e.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(e.options.zoomWindowBgColour)+";width: "+String(e.options.zoomWindowWidth)+"px;height: "+String(e.options.zoomWindowHeight)+"px;float: left;background-size: "+e.largeWidth/e.currentZoomLevel+"px "+e.largeHeight/e.currentZoomLevel+"px;display: none;z-index:100;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==e.options.zoomType){var n=e.$elem.css("border-left-width");e.zoomWindowStyle="overflow: hidden;margin-left: "+String(n)+";margin-top: "+String(n)+";background-position: 0px 0px;width: "+String(e.nzWidth)+"px;height: "+String(e.nzHeight)+"px;px;float: left;display: none;cursor:"+e.options.cursor+";px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==e.options.zoomType&&(e.nzHeight<e.options.zoomWindowWidth/e.widthRatio?lensHeight=e.nzHeight:lensHeight=String(e.options.zoomWindowHeight/e.heightRatio),e.largeWidth<e.options.zoomWindowWidth?lensWidth=e.nzWidth:lensWidth=e.options.zoomWindowWidth/e.widthRatio,e.lensStyle="background-position: 0px 0px;width: "+String(e.options.zoomWindowWidth/e.widthRatio)+"px;height: "+String(e.options.zoomWindowHeight/e.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+e.options.lensOpacity+";filter: alpha(opacity = "+100*e.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+e.options.lensColour+";cursor:"+e.options.cursor+";border: "+e.options.lensBorderSize+"px solid "+e.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),e.tintStyle="display: block;position: absolute;background-color: "+e.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+e.nzWidth+"px;height: "+e.nzHeight+"px;",e.lensRound="","lens"==e.options.zoomType&&(e.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";width:"+String(e.options.lensSize)+"px;height:"+String(e.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==e.options.lensShape&&(e.lensRound="border-top-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-top-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;"),e.zoomContainer=t('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:fixed;left:'+e.nzOffset.left+"px;top:"+e.nzOffset.top+"px;height:"+e.nzHeight+"px;width:"+e.nzWidth+'px;"></div>'),e.$elem.after(e.zoomContainer),e.options.containLensZoom&&"lens"==e.options.zoomType&&e.zoomContainer.css("overflow","hidden"),"inner"!=e.options.zoomType&&(e.zoomLens=t("<div class='zoomLens' style='"+e.lensStyle+e.lensRound+"'>&nbsp;</div>").appendTo(e.zoomContainer).click(function(){e.$elem.trigger("click")}),e.options.tint&&(e.tintContainer=t("<div/>").addClass("tintContainer"),e.zoomTint=t("<div class='zoomTint' style='"+e.tintStyle+"'></div>"),e.zoomLens.wrap(e.tintContainer),e.zoomTintcss=e.zoomLens.after(e.zoomTint),e.zoomTintImage=t('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+e.nzWidth+"px; height: "+e.nzHeight+'px;" src="'+e.imageSrc+'">').appendTo(e.zoomLens).click(function(){e.$elem.trigger("click")}))),isNaN(e.options.zoomWindowPosition)?e.zoomWindow=t("<div style='z-index:999;left:"+e.windowOffsetLeft+"px;top:"+e.windowOffsetTop+"px;"+e.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){e.$elem.trigger("click")}):e.zoomWindow=t("<div style='z-index:999;left:"+e.windowOffsetLeft+"px;top:"+e.windowOffsetTop+"px;"+e.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(e.zoomContainer).click(function(){e.$elem.trigger("click")}),e.zoomWindowContainer=t("<div/>").addClass("zoomWindowContainer").css("width",e.options.zoomWindowWidth),e.zoomWindow.wrap(e.zoomWindowContainer),"lens"==e.options.zoomType&&e.zoomLens.css({backgroundImage:"url('"+e.imageSrc+"')"}),"window"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+e.imageSrc+"')"}),"inner"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+e.imageSrc+"')"}),e.$elem.bind("touchmove",function(t){t.preventDefault();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(n)}),e.zoomContainer.bind("touchmove",function(t){"inner"==e.options.zoomType&&e.showHideWindow("show"),t.preventDefault();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(n)}),e.zoomContainer.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")}),e.$elem.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")}),e.options.showLens&&(e.zoomLens.bind("touchmove",function(t){t.preventDefault();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(n)}),e.zoomLens.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")})),e.$elem.bind("mousemove",function(t){0==e.overWindow&&e.setElements("show"),e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.zoomContainer.bind("mousemove",function(t){0==e.overWindow&&e.setElements("show"),e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),"inner"!=e.options.zoomType&&e.zoomLens.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.options.tint&&"inner"!=e.options.zoomType&&e.zoomTint.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),"inner"==e.options.zoomType&&e.zoomWindow.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.zoomContainer.add(e.$elem).mouseenter(function(){0==e.overWindow&&e.setElements("show")}).mouseleave(function(){e.scrollLock||(e.setElements("hide"),e.options.onDestroy(e.$elem))}),"inner"!=e.options.zoomType&&e.zoomWindow.mouseenter(function(){e.overWindow=!0,e.setElements("hide")}).mouseleave(function(){e.overWindow=!1}),e.options.zoomLevel,e.options.minZoomLevel?e.minZoomLevel=e.options.minZoomLevel:e.minZoomLevel=2*e.options.scrollZoomIncrement,e.options.scrollZoom&&e.zoomContainer.add(e.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(n){e.scrollLock=!0,clearTimeout(t.data(this,"timer")),t.data(this,"timer",setTimeout(function(){e.scrollLock=!1},250));var i=n.originalEvent.wheelDelta||-1*n.originalEvent.detail;return n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault(),i/120>0?e.currentZoomLevel>=e.minZoomLevel&&e.changeZoomLevel(e.currentZoomLevel-e.options.scrollZoomIncrement):e.options.maxZoomLevel?e.currentZoomLevel<=e.options.maxZoomLevel&&e.changeZoomLevel(parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement):e.changeZoomLevel(parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement),!1})},setElements:function(t){if(!this.options.zoomEnabled)return!1;"show"==t&&this.isWindowSet&&("inner"==this.options.zoomType&&this.showHideWindow("show"),"window"==this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner"!=this.options.zoomType&&this.showHideTint("show")),"hide"==t&&("window"==this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide"))},setPosition:function(t){if(!this.options.zoomEnabled)return!1;this.nzHeight=this.$elem.height(),this.nzWidth=this.$elem.width(),this.nzOffset=this.$elem.offset(),this.options.tint&&"inner"!=this.options.zoomType&&(this.zoomTint.css({top:0}),this.zoomTint.css({left:0})),this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.largeWidth<this.options.zoomWindowWidth?lensWidth=this.nzWidth:lensWidth=this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens"!=this.options.zoomType&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.nzWidth<this.options.zoomWindowHeight/this.heightRatio?lensWidth=this.nzWidth:lensWidth=String(this.options.zoomWindowWidth/this.widthRatio),this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight),this.options.tint&&(this.zoomTintImage.css("width",this.nzWidth),this.zoomTintImage.css("height",this.nzHeight))),"lens"==this.options.zoomType&&this.zoomLens.css({width:String(this.options.lensSize)+"px",height:String(this.options.lensSize)+"px"})),this.zoomContainer.css({top:this.nzOffset.top}),this.zoomContainer.css({left:this.nzOffset.left}),this.mouseLeft=parseInt(t.pageX-this.nzOffset.left),this.mouseTop=parseInt(t.pageY-this.nzOffset.top),"window"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.zoomLens.height()/2,this.Eboppos=this.mouseTop>this.nzHeight-this.zoomLens.height()/2-2*this.options.lensBorderSize,this.Eloppos=this.mouseLeft<0+this.zoomLens.width()/2,this.Eroppos=this.mouseLeft>this.nzWidth-this.zoomLens.width()/2-2*this.options.lensBorderSize),"inner"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/2/this.heightRatio,this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<0+this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize),this.mouseLeft<0||this.mouseTop<0||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=String(Math.floor(this.mouseLeft-this.zoomLens.width()/2)),this.lensTopPos=String(Math.floor(this.mouseTop-this.zoomLens.height()/2))),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.windowLeftPos=0,this.lensLeftPos=0,this.tintpos=0),"window"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"==this.options.zoomType&&(this.windowLeftPos=String(-1*((t.pageX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2)),this.windowTopPos=String(-1*((t.pageY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2)),this.zoomLens.css({backgroundPosition:this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=!1),this.setWindowPostition(t)),this.options.tint&&"inner"!=this.options.zoomType&&this.setTintPosition(t),"window"==this.options.zoomType&&this.setWindowPostition(t),"inner"==this.options.zoomType&&this.setWindowPostition(t),this.options.showLens&&(this.fullwidth&&"lens"!=this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos+"px",top:this.lensTopPos+"px"})))},showHideWindow:function(t){var e=this;"show"==t&&(e.isWindowActive||(e.options.zoomWindowFadeIn?e.zoomWindow.stop(!0,!0,!1).fadeIn(e.options.zoomWindowFadeIn):e.zoomWindow.show(),e.isWindowActive=!0)),"hide"==t&&e.isWindowActive&&(e.options.zoomWindowFadeOut?e.zoomWindow.stop(!0,!0).fadeOut(e.options.zoomWindowFadeOut,function(){e.loop&&(clearInterval(e.loop),e.loop=!1)}):e.zoomWindow.hide(),e.isWindowActive=!1)},showHideLens:function(t){"show"==t&&(this.isLensActive||(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show(),this.isLensActive=!0)),"hide"==t&&this.isLensActive&&(this.options.lensFadeOut?this.zoomLens.stop(!0,!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide(),this.isLensActive=!1)},showHideTint:function(t){"show"==t&&(this.isTintActive||(this.options.zoomTintFadeIn?this.zoomTint.css({opacity:this.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(this.zoomTint.css({opacity:this.options.tintOpacity}).animate(),this.zoomTint.show()),this.isTintActive=!0)),"hide"==t&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),this.isTintActive=!1)},setLensPostition:function(t){},setWindowPostition:function(e){var n=this;if(isNaN(n.options.zoomWindowPosition))n.externalContainer=t("#"+n.options.zoomWindowPosition),n.externalContainerWidth=n.externalContainer.width(),n.externalContainerHeight=n.externalContainer.height(),n.externalContainerOffset=n.externalContainer.offset(),n.windowOffsetTop=n.externalContainerOffset.top,n.windowOffsetLeft=n.externalContainerOffset.left;else switch(n.options.zoomWindowPosition){case 1:n.windowOffsetTop=n.options.zoomWindowOffety,n.windowOffsetLeft=+n.nzWidth;break;case 2:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=-1*(n.options.zoomWindowHeight/2-n.nzHeight/2),n.windowOffsetLeft=n.nzWidth);break;case 3:n.windowOffsetTop=n.nzHeight-n.zoomWindow.height()-2*n.options.borderSize,n.windowOffsetLeft=n.nzWidth;break;case 4:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=n.nzWidth;break;case 5:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=n.nzWidth-n.zoomWindow.width()-2*n.options.borderSize;break;case 6:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=-1*(n.options.zoomWindowWidth/2-n.nzWidth/2+2*n.options.borderSize));break;case 7:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=0;break;case 8:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 9:n.windowOffsetTop=n.nzHeight-n.zoomWindow.height()-2*n.options.borderSize,n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 10:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=-1*(n.options.zoomWindowHeight/2-n.nzHeight/2),n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize));break;case 11:n.windowOffsetTop=n.options.zoomWindowOffety,n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 12:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 13:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=0;break;case 14:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=-1*(n.options.zoomWindowWidth/2-n.nzWidth/2+2*n.options.borderSize));break;case 15:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=n.nzWidth-n.zoomWindow.width()-2*n.options.borderSize;break;case 16:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=n.nzWidth;break;default:n.windowOffsetTop=n.options.zoomWindowOffety,n.windowOffsetLeft=n.nzWidth}n.isWindowSet=!0,n.windowOffsetTop=n.windowOffsetTop+n.options.zoomWindowOffety,n.windowOffsetLeft=n.windowOffsetLeft+n.options.zoomWindowOffetx,n.zoomWindow.css({top:n.windowOffsetTop}),n.zoomWindow.css({left:n.windowOffsetLeft}),"inner"==n.options.zoomType&&(n.zoomWindow.css({top:0}),n.zoomWindow.css({left:0})),n.windowLeftPos=String(-1*((e.pageX-n.nzOffset.left)*n.widthRatio-n.zoomWindow.width()/2)),n.windowTopPos=String(-1*((e.pageY-n.nzOffset.top)*n.heightRatio-n.zoomWindow.height()/2)),n.Etoppos&&(n.windowTopPos=0),n.Eloppos&&(n.windowLeftPos=0),n.Eboppos&&(n.windowTopPos=-1*(n.largeHeight/n.currentZoomLevel-n.zoomWindow.height())),n.Eroppos&&(n.windowLeftPos=-1*(n.largeWidth/n.currentZoomLevel-n.zoomWindow.width())),n.fullheight&&(n.windowTopPos=0),n.fullwidth&&(n.windowLeftPos=0),"window"!=n.options.zoomType&&"inner"!=n.options.zoomType||(1==n.zoomLock&&(n.widthRatio<=1&&(n.windowLeftPos=0),n.heightRatio<=1&&(n.windowTopPos=0)),"window"==n.options.zoomType&&(n.largeHeight<n.options.zoomWindowHeight&&(n.windowTopPos=0),n.largeWidth<n.options.zoomWindowWidth&&(n.windowLeftPos=0)),n.options.easing?(n.xp||(n.xp=0),n.yp||(n.yp=0),n.loop||(n.loop=setInterval(function(){n.xp+=(n.windowLeftPos-n.xp)/n.options.easingAmount,n.yp+=(n.windowTopPos-n.yp)/n.options.easingAmount,n.scrollingLock?(clearInterval(n.loop),n.xp=n.windowLeftPos,n.yp=n.windowTopPos,n.xp=-1*((e.pageX-n.nzOffset.left)*n.widthRatio-n.zoomWindow.width()/2),n.yp=-1*((e.pageY-n.nzOffset.top)*n.heightRatio-n.zoomWindow.height()/2),n.changeBgSize&&(n.nzHeight>n.nzWidth?("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})):("lens"!=n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"})),n.changeBgSize=!1),n.zoomWindow.css({backgroundPosition:n.windowLeftPos+"px "+n.windowTopPos+"px"}),n.scrollingLock=!1,n.loop=!1):Math.round(Math.abs(n.xp-n.windowLeftPos)+Math.abs(n.yp-n.windowTopPos))<1?(clearInterval(n.loop),n.zoomWindow.css({backgroundPosition:n.windowLeftPos+"px "+n.windowTopPos+"px"}),n.loop=!1):(n.changeBgSize&&(n.nzHeight>n.nzWidth?("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})):("lens"!=n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"})),n.changeBgSize=!1),n.zoomWindow.css({backgroundPosition:n.xp+"px "+n.yp+"px"}))},16))):(n.changeBgSize&&(n.nzHeight>n.nzWidth?("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})):("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"}),n.largeHeight/n.newvaluewidth<n.options.zoomWindowHeight?n.zoomWindow.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"}):n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})),n.changeBgSize=!1),n.zoomWindow.css({backgroundPosition:n.windowLeftPos+"px "+n.windowTopPos+"px"})))},setTintPosition:function(t){this.nzOffset=this.$elem.offset(),this.tintpos=String(-1*(t.pageX-this.nzOffset.left-this.zoomLens.width()/2)),this.tintposy=String(-1*(t.pageY-this.nzOffset.top-this.zoomLens.height()/2)),this.Etoppos&&(this.tintposy=0),this.Eloppos&&(this.tintpos=0),this.Eboppos&&(this.tintposy=-1*(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize)),this.Eroppos&&(this.tintpos=-1*(this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos+"px"}),this.zoomTintImage.css({top:this.tintposy+"px"}))},swaptheimage:function(e,n){var i=this,o=new Image;i.options.loadingIcon&&(i.spinner=t("<div style=\"background: url('"+i.options.loadingIcon+"') no-repeat center;height:"+i.nzHeight+"px;width:"+i.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),i.$elem.after(i.spinner)),i.options.onImageSwap(i.$elem),o.onload=function(){i.largeWidth=o.width,i.largeHeight=o.height,i.zoomImage=n,i.zoomWindow.css({"background-size":i.largeWidth+"px "+i.largeHeight+"px"}),i.swapAction(e,n)},o.src=n},swapAction:function(e,n){var i=this,o=new Image;if(o.onload=function(){i.nzHeight=o.height,i.nzWidth=o.width,i.options.onImageSwapComplete(i.$elem),i.doneCallback()},o.src=e,i.currentZoomLevel=i.options.zoomLevel,i.options.maxZoomLevel=!1,"lens"==i.options.zoomType&&i.zoomLens.css({backgroundImage:"url('"+n+"')"}),"window"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+n+"')"}),"inner"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+n+"')"}),i.currentImage=n,i.options.imageCrossfade){var r=i.$elem,s=r.clone();if(i.$elem.attr("src",e),i.$elem.after(s),s.stop(!0).fadeOut(i.options.imageCrossfade,function(){t(this).remove()}),i.$elem.width("auto").removeAttr("width"),i.$elem.height("auto").removeAttr("height"),r.fadeIn(i.options.imageCrossfade),i.options.tint&&"inner"!=i.options.zoomType){var a=i.zoomTintImage,l=a.clone();i.zoomTintImage.attr("src",n),i.zoomTintImage.after(l),l.stop(!0).fadeOut(i.options.imageCrossfade,function(){t(this).remove()}),a.fadeIn(i.options.imageCrossfade),i.zoomTint.css({height:i.$elem.height()}),i.zoomTint.css({width:i.$elem.width()})}i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width()),"inner"==i.options.zoomType&&(i.options.constrainType||(i.zoomWrap.parent().css("height",i.$elem.height()),i.zoomWrap.parent().css("width",i.$elem.width()),i.zoomWindow.css("height",i.$elem.height()),i.zoomWindow.css("width",i.$elem.width()))),i.options.imageCrossfade&&(i.zoomWrap.css("height",i.$elem.height()),i.zoomWrap.css("width",i.$elem.width()))}else i.$elem.attr("src",e),i.options.tint&&(i.zoomTintImage.attr("src",n),i.zoomTintImage.attr("height",i.$elem.height()),i.zoomTintImage.css({height:i.$elem.height()}),i.zoomTint.css({height:i.$elem.height()})),i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width()),i.options.imageCrossfade&&(i.zoomWrap.css("height",i.$elem.height()),i.zoomWrap.css("width",i.$elem.width()));i.options.constrainType&&("height"==i.options.constrainType&&(i.zoomContainer.css("height",i.options.constrainSize),i.zoomContainer.css("width","auto"),i.options.imageCrossfade?(i.zoomWrap.css("height",i.options.constrainSize),i.zoomWrap.css("width","auto"),i.constwidth=i.zoomWrap.width()):(i.$elem.css("height",i.options.constrainSize),i.$elem.css("width","auto"),i.constwidth=i.$elem.width()),"inner"==i.options.zoomType&&(i.zoomWrap.parent().css("height",i.options.constrainSize),i.zoomWrap.parent().css("width",i.constwidth),i.zoomWindow.css("height",i.options.constrainSize),i.zoomWindow.css("width",i.constwidth)),i.options.tint&&(i.tintContainer.css("height",i.options.constrainSize),i.tintContainer.css("width",i.constwidth),i.zoomTint.css("height",i.options.constrainSize),i.zoomTint.css("width",i.constwidth),i.zoomTintImage.css("height",i.options.constrainSize),i.zoomTintImage.css("width",i.constwidth))),"width"==i.options.constrainType&&(i.zoomContainer.css("height","auto"),i.zoomContainer.css("width",i.options.constrainSize),i.options.imageCrossfade?(i.zoomWrap.css("height","auto"),i.zoomWrap.css("width",i.options.constrainSize),i.constheight=i.zoomWrap.height()):(i.$elem.css("height","auto"),i.$elem.css("width",i.options.constrainSize),i.constheight=i.$elem.height()),"inner"==i.options.zoomType&&(i.zoomWrap.parent().css("height",i.constheight),i.zoomWrap.parent().css("width",i.options.constrainSize),i.zoomWindow.css("height",i.constheight),i.zoomWindow.css("width",i.options.constrainSize)),i.options.tint&&(i.tintContainer.css("height",i.constheight),i.tintContainer.css("width",i.options.constrainSize),i.zoomTint.css("height",i.constheight),i.zoomTint.css("width",i.options.constrainSize),i.zoomTintImage.css("height",i.constheight),i.zoomTintImage.css("width",i.options.constrainSize))))},doneCallback:function(){this.options.loadingIcon&&this.spinner.hide(),this.nzOffset=this.$elem.offset(),this.nzWidth=this.$elem.width(),this.nzHeight=this.$elem.height(),this.currentZoomLevel=this.options.zoomLevel,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"window"==this.options.zoomType&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.options.zoomWindowWidth<this.options.zoomWindowWidth?lensWidth=this.nzWidth:lensWidth=this.options.zoomWindowWidth/this.widthRatio,this.zoomLens&&(this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var e=this;return e.gallerylist=[],e.options.gallery?t("#"+e.options.gallery+" a").each(function(){var n="";t(this).data("zoom-image")?n=t(this).data("zoom-image"):t(this).data("image")&&(n=t(this).data("image")),n==e.zoomImage?e.gallerylist.unshift({href:""+n,title:t(this).find("img").attr("title")}):e.gallerylist.push({href:""+n,title:t(this).find("img").attr("title")})}):e.gallerylist.push({href:""+e.zoomImage,title:t(this).find("img").attr("title")}),e.gallerylist},changeZoomLevel:function(t){this.scrollingLock=!0,this.newvalue=parseFloat(t).toFixed(2),newvalue=parseFloat(t).toFixed(2),maxheightnewvalue=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight),maxwidthtnewvalue=this.largeWidth/(this.options.zoomWindowWidth/this.nzWidth*this.nzWidth),"inner"!=this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/maxheightnewvalue/this.nzHeight,this.newvalueheight=maxheightnewvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/maxwidthtnewvalue/this.nzWidth,this.newvaluewidth=maxwidthtnewvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1),"lens"==this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.fullwidth=!0,this.newvaluewidth=maxheightnewvalue):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1))),"inner"==this.options.zoomType&&(maxheightnewvalue=parseFloat(this.largeHeight/this.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,newvalue>maxheightnewvalue?this.newvalueheight=maxheightnewvalue:this.newvalueheight=newvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,newvalue>maxheightnewvalue?this.newvalueheight=maxheightnewvalue:this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,newvalue>maxwidthtnewvalue?this.newvaluewidth=maxwidthtnewvalue:this.newvaluewidth=newvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1)),scrcontinue=!1,"inner"==this.options.zoomType&&(this.nzWidth>=this.nzHeight&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullheight=!0,this.fullwidth=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullheight=!0,this.fullwidth=!0))),"inner"!=this.options.zoomType&&(scrcontinue=!0),scrcontinue&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({height:String(this.options.zoomWindowHeight/this.heightRatio)+"px"})),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType||(this.changeBgSize=!0)),this.options.zoomWindowWidth/this.widthRatio<=this.nzWidth&&("inner"!=this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:String(this.options.zoomWindowWidth/this.widthRatio)+"px"})),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType||(this.changeBgSize=!0)),"inner"==this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight&&(this.currentZoomLevel=this.newvaluewidth),this.nzHeight>this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth))),this.setPosition(this.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(t){"enable"==t&&(this.options.zoomEnabled=!0),"disable"==t&&(this.options.zoomEnabled=!1)}};t.fn.elevateZoom=function(e){return this.each(function(){var n=Object.create(o);n.init(e,this),t.data(this,"elevateZoom",n)})},t.fn.elevateZoom.options={imageSrc:null,zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:t.noop,onDestroy:function(){},onZoomedImageLoaded:function(){},onImageSwap:t.noop,onImageSwapComplete:t.noop}}(jQuery,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){"use strict";t.dateRangePickerLanguages={default:{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":["january","february","march","april","may","june","july","august","september","october","november","december"],shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"},de:{selected:"Auswahl:",day:"Tag",days:"Tage",apply:"Schlieen","week-1":"mo","week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so","month-name":["januar","februar","mrz","april","mai","juni","juli","august","september","oktober","november","dezember"],shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"Nchste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht grer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage auswhlen","default-single":"Bitte ein Datum auswhlen","default-less":"Bitte weniger als %d Tage auswhlen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen auswhlen","default-default":"Bitte ein Start- und Enddatum auswhlen",Time:"Zeit",hour:"Stunde",minute:"Minute"},es:{selected:"Seleccionado:",day:"Da",days:"Das",apply:"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa","week-7":"do","month-name":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"Ao",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"Ao","less-than":"El rango no debera ser mayor de %d das","more-than":"El rango no debera ser menor de %d das","default-more":"Por favor selecciona un rango mayor a %d das","default-single":"Por favor selecciona un da","default-less":"Por favor selecciona un rango menor a %d das","default-range":"Por favor selecciona un rango entre %d y %d das","default-default":"Por favor selecciona un rango de fechas."},fr:{selected:"Slection:",day:"Jour",days:"Jours",apply:"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],shortcuts:"Raccourcis",past:"Pass",following:"Suivant",previous:"Prcdent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Anne",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Anne","less-than":"L'intervalle ne doit pas tre suprieure  %d jours","more-than":"L'intervalle ne doit pas tre infrieure  %d jours","default-more":"Merci de choisir une intervalle suprieure  %d jours","default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle infrieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},pt:{selected:"Selecionado:",day:"Dia",days:"Dias",apply:"Fechar","week-1":"seg","week-2":"ter","week-3":"qua","week-4":"qui","week-5":"sex","week-6":"sab","week-7":"dom","week-number":"N","month-name":["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],shortcuts:"Atalhos","custom-values":"Valores Personalizados",past:"Passado",following:"Seguinte",previous:"Anterior","prev-week":"Semana","prev-month":"Ms","prev-year":"Ano",next:"Prximo","next-week":"Prxima Semana","next-month":"Prximo Ms","next-year":"Prximo Ano","less-than":"O perodo selecionado no deve ser maior que %d dias","more-than":"O perodo selecionado no deve ser menor que %d dias","default-more":"Selecione um perodo superior a %d dias","default-single":"Selecione uma data","default-less":"Selecione um perodo inferior a %d dias","default-range":"Selecione um perodo de %d a %d dias","default-default":"Selecione um perodo",time:"Tempo",hour:"Hora",minute:"Minuto"}},t.fn.dateRangePicker=function(n){function i(){var i=this;if(t(this).data("date-picker-opened"))T();else{t(this).data("date-picker-opened",!0),(V=function(){var e='<div class="date-picker-wrapper';n.extraClass&&(e+=" "+n.extraClass+" ");n.singleDate&&(e+=" single-date ");e+='">';var i=n.showWeekNumbers?6:5,o='<i class="icon-left-open-mini"></i>';n.customArrowPrevSymbol&&(o=n.customArrowPrevSymbol);var r='<i class="icon-right-open-mini"></i>';n.customArrowNextSymbol&&(r=n.customArrowNextSymbol);e+='<div class="month-wrapper">   <table class="month1" cellspacing="0" border="0" cellpadding="0">       <thead>           <tr class="caption">               <th style="width:27px;">                   <div class="prev">'+o+'                   </div>               </th>               <th colspan="'+i+'" class="month-name">               </th>               <th style="width:27px;">'+(n.singleDate||!n.stickyMonths?'<div class="next">'+r+"</div>":"")+'               </th>           </tr>           <tr class="week-name">'+P()+"       </thead>       <tbody></tbody>   </table>",n.singleMonth||(e+='<div class="gap"></div><table class="month2" cellspacing="0" border="0" cellpadding="0">   <thead>   <tr class="caption">       <th style="width:27px;">'+(n.stickyMonths?"":'<div class="prev">'+o+"</div>")+'       </th>       <th colspan="'+i+'" class="month-name">       </th>       <th style="width:27px;">           <div class="next">'+r+'</div>       </th>   </tr>   <tr class="week-name">'+P()+"   </thead>   <tbody></tbody></table>");e+='<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>',n.singleDate||(e+='<div class="time2"></div>');return e+='</div><div style="clear:both;height:0;font-size:0;"></div></div></div>',t(e)}().hide()).append('<div class="date-range-length-tip"></div>'),t(n.container).append(V),n.inline?V.addClass("inline-wrapper"):o(),n.alwaysOpen&&V.find(".apply-btn").hide();var r=U();if(j(r),n.time.enabled)if(n.startDate&&n.endDate||n.start&&n.end)O(e(n.start||n.startDate).toDate(),"time1"),O(e(n.end||n.endDate).toDate(),"time2");else{var s=n.defaultEndTime?n.defaultEndTime:r;O(r,"time1"),O(s,"time2")}var a="";a=F(n.singleDate?"default-single":n.minDays&&n.maxDays?"default-range":n.minDays?"default-more":n.maxDays?"default-less":"default-default"),V.find(".default-top").html(a.replace(/\%d/,n.minDays).replace(/\%d/,n.maxDays)),n.singleMonth?V.addClass("single-month"):V.addClass("two-months"),setTimeout(function(){l(),q=!0},0),V.click(function(t){t.stopPropagation()}),t(document).bind("click.datepicker",function(e){(function(e,n){return n.contains(e.target)||e.target==n||void 0!=n.childNodes&&t.inArray(e.target,n.childNodes)>=0})(e,i[0])||V.is(":visible")&&T()}),V.find(".next").click(function(){t(i).trigger("datepicker-next-month-clicked"),n.stickyMonths?function(t){var e=R(n.month1),i=R(n.month2);L(i)||!n.singleDate&&E(e,i)>=0||($(e,"month1"),$(i,"month2"),S())}():function(e){var i=t(e).parents("table").hasClass("month2"),o=i?n.month2:n.month1;o=R(o),!n.singleMonth&&!n.singleDate&&!i&&E(o,n.month2)>=0||L(o)||($(o,i?"month2":"month1"),D())}(this),t(i).trigger("datepicker-next-month-finish-clicked")}),V.find(".prev").click(function(){t(i).trigger("datepicker-prev-month-clicked"),n.stickyMonths?function(t){var e=A(n.month1),i=A(n.month2);L(e)||!n.singleDate&&E(i,e)<=0||($(i,"month2"),$(e,"month1"),S())}():function(e){var i=t(e).parents("table").hasClass("month2"),o=i?n.month2:n.month1;o=A(o),i&&E(o,n.month1)<=0||L(o)||($(o,i?"month2":"month1"),D())}(this),t(i).trigger("datepicker-prev-month-finish-clicked")}),V.attr("unselectable","on").css("user-select","none").bind("selectstart",function(t){return t.preventDefault(),!1}),V.find(".apply-btn").click(function(){T();var e=C(new Date(n.start))+n.separator+C(new Date(n.end));t(i).trigger("datepicker-apply",{value:e,date1:new Date(n.start),date2:new Date(n.end)})}),V.find("[custom]").click(function(){var e=t(this).attr("custom");n.start=!1,n.end=!1,V.find(".day.checked").removeClass("checked"),n.setValue.call(Z,e),y(),b(!0),S(),n.autoClose&&T()}),V.find("[shortcut]").click(function(){var e,i=t(this).attr("shortcut"),o=new Date,r=!1;if(-1!=i.indexOf("day")){var s=parseInt(i.split(",",2)[1],10);r=new Date((new Date).getTime()+864e5*s),o=new Date(o.getTime()+864e5*(s>0?1:-1))}else if(-1!=i.indexOf("week")){var a;for(a=1==(e=-1!=i.indexOf("prev,")?-1:1)?"monday"==n.startOfWeek?1:0:"monday"==n.startOfWeek?0:6,o=new Date(o.getTime()-864e5);o.getDay()!=a;)o=new Date(o.getTime()+864e5*e);r=new Date(o.getTime()+864e5*e*6)}else if(-1!=i.indexOf("month"))(r=1==(e=-1!=i.indexOf("prev,")?-1:1)?R(o):A(o)).setDate(1),(o=R(r)).setDate(1),o=new Date(o.getTime()-864e5);else if(-1!=i.indexOf("year"))e=-1!=i.indexOf("prev,")?-1:1,(r=new Date).setFullYear(o.getFullYear()+e),r.setMonth(0),r.setDate(1),o.setFullYear(o.getFullYear()+e),o.setMonth(11),o.setDate(31);else if("custom"==i){var l=t(this).html();if(n.customShortcuts&&n.customShortcuts.length>0)for(var u=0;u<n.customShortcuts.length;u++){var h=n.customShortcuts[u];if(h.name==l){var c=[];if((c=h.dates.call())&&2==c.length&&(r=c[0],o=c[1]),c&&1==c.length){var d=c[0];$(d,"month1"),$(R(d),"month2"),D()}break}}}r&&o&&(k(r,o),y())}),V.find(".time1 input[type=range]").bind("change touchmove",function(e){var n=e.target;c("time1","hour"==n.name?t(n).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==n.name?t(n).val().replace(/^(\d{1})$/,"0$1"):void 0)}),V.find(".time2 input[type=range]").bind("change touchmove",function(e){var n=e.target;c("time2","hour"==n.name?t(n).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==n.name?t(n).val().replace(/^(\d{1})$/,"0$1"):void 0)})}}function o(){if(!n.inline){var e=t(N).offset();if("relative"==t(n.container).css("position")){var i=t(n.container).offset();V.css({top:e.top-i.top+t(N).outerHeight()+4,left:e.left-i.left})}else e.left<460?V.css({top:e.top+t(N).outerHeight()+parseInt(t("body").css("border-top")||0,10),left:e.left}):V.css({top:e.top+t(N).outerHeight()+parseInt(t("body").css("border-top")||0,10),left:e.left+t(N).width()-V.width()-16})}}function r(e){o(),W(),s(),n.customOpenAnimation?n.customOpenAnimation.call(V.get(0),function(){t(N).trigger("datepicker-opened",{relatedTarget:V})}):V.slideDown(e,function(){t(N).trigger("datepicker-opened",{relatedTarget:V})}),t(N).trigger("datepicker-open",{relatedTarget:V}),D(),l()}function s(){var t=n.getValue.call(Z),i=t?t.split(n.separator):"";if(i&&(1==i.length&&n.singleDate||i.length>=2)){var o=n.format;o.match(/Do/)&&(o=o.replace(/Do/,"D"),i[0]=i[0].replace(/(\d+)(th|nd|st)/,"$1"),i.length>=2&&(i[1]=i[1].replace(/(\d+)(th|nd|st)/,"$1"))),q=!1,i.length>=2?k(a(i[0],o,e.locale(n.language)),a(i[1],o,e.locale(n.language))):1==i.length&&n.singleDate&&x(a(i[0],o,e.locale(n.language))),q=!0}}function a(t,n,i){return e(t,n,i).isValid()?e(t,n,i).toDate():e().toDate()}function l(){var t=V.find(".gap").css("margin-left");t&&(t=parseInt(t));var e=V.find(".month1").width(),i=V.find(".gap").width()+(t?2*t:0),o=V.find(".month2").width();V.find(".month-wrapper").width(e+i+o+(n.singleMonth?0:77))}function u(t,n){V.find("."+t+" input[type=range].hour-range").val(e(n).hours()),V.find("."+t+" input[type=range].minute-range").val(e(n).minutes()),c(t,e(n).format("HH"),e(n).format("mm"))}function h(t,i){n[t]=parseInt(e(parseInt(i)).startOf("day").add(e(n[t+"Time"]).format("HH"),"h").add(e(n[t+"Time"]).format("mm"),"m").valueOf())}function c(t,i,o){function r(t,e){var r=e.format("HH"),s=e.format("mm");n[t]=e.startOf("day").add(i||r,"h").add(o||s,"m").valueOf()}switch(i&&V.find("."+t+" .hour-val").text(i),o&&V.find("."+t+" .minute-val").text(o),t){case"time1":n.start&&r("start",e(n.start)),r("startTime",e(n.startTime||e().valueOf()));break;case"time2":n.end&&r("end",e(n.end)),r("endTime",e(n.endTime||e().valueOf()))}y(),b(),S()}function d(t){var i=t;return"week-range"===n.batchMode?i="monday"===n.startOfWeek?e(parseInt(t)).startOf("isoweek").valueOf():e(parseInt(t)).startOf("week").valueOf():"month-range"===n.batchMode&&(i=e(parseInt(t)).startOf("month").valueOf()),i}function p(t){var i=t;return"week-range"===n.batchMode?i="monday"===n.startOfWeek?e(parseInt(t)).endOf("isoweek").valueOf():e(parseInt(t)).endOf("week").valueOf():"month-range"===n.batchMode&&(i=e(parseInt(t)).endOf("month").valueOf()),i}function f(i){if(!i.hasClass("invalid")){var o=i.attr("time");if(i.addClass("checked"),n.singleDate?(n.start=o,n.end=!1):"week"===n.batchMode?"monday"===n.startOfWeek?(n.start=e(parseInt(o)).startOf("isoweek").valueOf(),n.end=e(parseInt(o)).endOf("isoweek").valueOf()):(n.end=e(parseInt(o)).endOf("week").valueOf(),n.start=e(parseInt(o)).startOf("week").valueOf()):"workweek"===n.batchMode?(n.start=e(parseInt(o)).day(1).valueOf(),n.end=e(parseInt(o)).day(5).valueOf()):"weekend"===n.batchMode?(n.start=e(parseInt(o)).day(6).valueOf(),n.end=e(parseInt(o)).day(7).valueOf()):"month"===n.batchMode?(n.start=e(parseInt(o)).startOf("month").valueOf(),n.end=e(parseInt(o)).endOf("month").valueOf()):n.start&&n.end||!n.start&&!n.end?(n.start=d(o),n.end=!1):n.start&&(n.end=p(o),n.time.enabled&&h("end",n.end)),n.time.enabled&&(n.start&&h("start",n.start),n.end&&h("end",n.end)),!n.singleDate&&n.start&&n.end&&n.start>n.end){var r=n.end;n.end=p(n.start),n.start=d(r),n.time.enabled&&n.swapTime&&(u("time1",n.start),u("time2",n.end))}n.start=parseInt(n.start),n.end=parseInt(n.end),v(),n.start&&!n.end&&(t(N).trigger("datepicker-first-date-selected",{date1:new Date(n.start)}),w(i)),m(),y(),b(),S(),_()}}function g(t){if(t=parseInt(t,10),n.startDate&&I(t,n.startDate)<0)return!1;if(n.endDate&&I(t,n.endDate)>0)return!1;if(n.start&&!n.end&&!n.singleDate){if(n.maxDays>0&&z(t,n.start)>n.maxDays)return!1;if(n.minDays>0&&z(t,n.start)<n.minDays)return!1;if(n.selectForward&&t<n.start)return!1;if(n.selectBackward&&t>n.start)return!1;if(n.beforeShowDay&&"function"==typeof n.beforeShowDay){for(var e=!0,i=t;z(i,n.start)>1;){if(!n.beforeShowDay(new Date(i))[0]){e=!1;break}if(Math.abs(i-n.start)<864e5)break;i>n.start&&(i-=864e5),i<n.start&&(i+=864e5)}if(!e)return!1}}return!0}function m(){return V.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid"),n.start&&!n.end&&V.find(".day.toMonth.valid").each(function(){g(parseInt(t(this).attr("time"),10))?t(this).addClass("valid tmp").removeClass("invalid"):t(this).addClass("invalid tmp").removeClass("valid")}),!0}function w(e){var i=parseInt(e.attr("time")),o="";if(e.hasClass("has-tooltip")&&e.attr("data-tooltip"))o='<span style="white-space:nowrap">'+e.attr("data-tooltip")+"</span>";else if(!e.hasClass("invalid"))if(n.singleDate)V.find(".day.hovering").removeClass("hovering"),e.addClass("hovering");else if(V.find(".day").each(function(){var e=parseInt(t(this).attr("time"));n.start,n.end;e==i?t(this).addClass("hovering"):t(this).removeClass("hovering"),n.start&&!n.end&&(n.start<e&&i>=e||n.start>e&&i<=e)?t(this).addClass("hovering"):t(this).removeClass("hovering")}),n.start&&!n.end){var r=z(i,n.start);n.hoveringTooltip&&("function"==typeof n.hoveringTooltip?o=n.hoveringTooltip(r,n.start,i):!0===n.hoveringTooltip&&r>1&&(o=r+" "+F("days")))}if(o){var s=e.offset(),a=V.offset(),l=s.left-a.left,u=s.top-a.top;l+=e.width()/2;var h=V.find(".date-range-length-tip"),c=h.css({visibility:"hidden",display:"none"}).html(o).width(),d=h.height();l-=c/2,u-=d,setTimeout(function(){h.css({left:l,top:u,display:"block",visibility:"visible"})},10)}else V.find(".date-range-length-tip").hide()}function v(){V.find(".day.hovering").removeClass("hovering"),V.find(".date-range-length-tip").hide()}function _(){!0===n.singleDate?q&&n.start&&n.autoClose&&T():q&&n.start&&n.end&&n.autoClose&&T()}function y(){var t=Math.ceil((n.end-n.start)/864e5)+1;n.singleDate?n.start&&!n.end?V.find(".drp_top-bar").removeClass("error").addClass("normal"):V.find(".drp_top-bar").removeClass("error").removeClass("normal"):n.maxDays&&t>n.maxDays?(n.start=!1,n.end=!1,V.find(".day").removeClass("checked"),V.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(F("less-than").replace("%d",n.maxDays))):n.minDays&&t<n.minDays?(n.start=!1,n.end=!1,V.find(".day").removeClass("checked"),V.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(F("more-than").replace("%d",n.minDays))):n.start||n.end?V.find(".drp_top-bar").removeClass("error").addClass("normal"):V.find(".drp_top-bar").removeClass("error").removeClass("normal"),n.singleDate&&n.start&&!n.end||!n.singleDate&&n.start&&n.end?V.find(".apply-btn").removeClass("disabled"):V.find(".apply-btn").addClass("disabled"),n.batchMode&&(n.start&&n.startDate&&I(n.start,n.startDate)<0||n.end&&n.endDate&&I(n.end,n.endDate)>0)&&(n.start=!1,n.end=!1,V.find(".day").removeClass("checked"))}function b(e,i){V.find(".start-day").html("..."),V.find(".end-day").html("..."),V.find(".selected-days").hide(),n.start&&V.find(".start-day").html(C(new Date(parseInt(n.start)))),n.end&&V.find(".end-day").html(C(new Date(parseInt(n.end))));var o;n.start&&n.singleDate?(V.find(".apply-btn").removeClass("disabled"),o=C(new Date(n.start)),n.setValue.call(Z,o,C(new Date(n.start)),C(new Date(n.end))),q&&!i&&t(N).trigger("datepicker-change",{value:o,date1:new Date(n.start)})):n.start&&n.end?(V.find(".selected-days").show().find(".selected-days-num").html(z(n.end,n.start)),V.find(".apply-btn").removeClass("disabled"),o=C(new Date(n.start))+n.separator+C(new Date(n.end)),n.setValue.call(Z,o,C(new Date(n.start)),C(new Date(n.end))),q&&!i&&t(N).trigger("datepicker-change",{value:o,date1:new Date(n.start),date2:new Date(n.end)})):e?V.find(".apply-btn").removeClass("disabled"):V.find(".apply-btn").addClass("disabled")}function z(t,e){return Math.abs(H(t)-H(e))+1}function k(t,e,i){if(t.getTime()>e.getTime()){var o=e;e=t,t=o,o=null}var r=!0;if(n.startDate&&I(t,n.startDate)<0&&(r=!1),n.endDate&&I(e,n.endDate)>0&&(r=!1),!r)return $(n.startDate,"month1"),$(R(n.startDate),"month2"),void D();n.start=t.getTime(),n.end=e.getTime(),n.time.enabled&&(u("time1",t),u("time2",e)),(n.stickyMonths||I(t,e)>0&&0===E(t,e))&&(n.lookBehind?t=A(e):e=R(t)),n.stickyMonths&&!1!==n.endDate&&E(e,n.endDate)>0&&(t=A(t),e=A(e)),n.stickyMonths||0===E(t,e)&&(n.lookBehind?t=A(e):e=R(t)),$(t,"month1"),$(e,"month2"),D(),y(),b(!1,i),_()}function x(t,e){var i=!0;if(n.startDate&&I(t,n.startDate)<0&&(i=!1),n.endDate&&I(t,n.endDate)>0&&(i=!1),i){if(n.start=t.getTime(),n.time.enabled&&u("time1",t),$(t,"month1"),!0!==n.singleMonth){$(R(t),"month2")}D(),b(!1,e),_()}else $(n.startDate,"month1")}function S(){(n.start||n.end)&&(V.find(".day").each(function(){var i=parseInt(t(this).attr("time")),o=n.start,r=n.end;n.time.enabled&&(i=e(i).startOf("day").valueOf(),o=e(o||e().valueOf()).startOf("day").valueOf(),r=e(r||e().valueOf()).startOf("day").valueOf()),n.start&&n.end&&r>=i&&o<=i||n.start&&!n.end&&e(o).format("YYYY-MM-DD")==e(i).format("YYYY-MM-DD")?t(this).addClass("checked"):t(this).removeClass("checked"),n.start&&e(o).format("YYYY-MM-DD")==e(i).format("YYYY-MM-DD")?t(this).addClass("first-date-selected"):t(this).removeClass("first-date-selected"),n.end&&e(r).format("YYYY-MM-DD")==e(i).format("YYYY-MM-DD")?t(this).addClass("last-date-selected"):t(this).removeClass("last-date-selected")}),V.find(".week-number").each(function(){t(this).attr("data-start-time")==n.startWeek&&t(this).addClass("week-number-selected")}))}function $(i,o){var r=function(t){return F("month-name")[t]}((i=e(i).toDate()).getMonth());V.find("."+o+" .month-name").html(r+" "+i.getFullYear()),V.find("."+o+" tbody").html(function(t){var i=[];t.setDate(1);new Date(t.getTime()-864e5);var o=new Date,r=t.getDay();0===r&&"monday"===n.startOfWeek&&(r=7);var s,a;if(r>0)for(u=r;u>0;u--){d=new Date(t.getTime()-864e5*u);a=g(d.getTime()),n.startDate&&I(d,n.startDate)<0&&(a=!1),n.endDate&&I(d,n.endDate)>0&&(a=!1),i.push({date:d,type:"lastMonth",day:d.getDate(),time:d.getTime(),valid:a})}for(var l=t.getMonth(),u=0;u<40;u++)s=e(t).add(u,"days").toDate(),a=g(s.getTime()),n.startDate&&I(s,n.startDate)<0&&(a=!1),n.endDate&&I(s,n.endDate)>0&&(a=!1),i.push({date:s,type:s.getMonth()==l?"toMonth":"nextMonth",day:s.getDate(),time:s.getTime(),valid:a});for(var h=[],c=0;c<6&&"nextMonth"!=i[7*c].type;c++){h.push("<tr>");for(var d=0;d<7;d++){var p="monday"==n.startOfWeek?d+1:d;s=i[7*c+p];var f=e(s.time).format("L")==e(o).format("L");if(s.extraClass="",s.tooltip="",s.valid&&n.beforeShowDay&&"function"==typeof n.beforeShowDay){var m=n.beforeShowDay(e(s.time).toDate());s.valid=m[0],s.extraClass=m[1]||"",s.tooltip=m[2]||"",""!==s.tooltip&&(s.extraClass+=" has-tooltip ")}var w={time:s.time,"data-tooltip":s.tooltip,class:"day "+s.type+" "+s.extraClass+" "+(s.valid?"valid":"invalid")+" "+(f&&n.highlightToday?"real-today":"")};0===d&&n.showWeekNumbers&&h.push('<td><div class="week-number" data-start-time="'+s.time+'">'+n.getWeekNumber(s.date)+"</div></td>"),h.push("<td "+M({},n.dayTdAttrs,s)+"><div "+M(w,n.dayDivAttrs,s)+">"+function(t,e){return n.showDateFilter&&"function"==typeof n.showDateFilter?n.showDateFilter(t,e):e}(s.time,s.day)+"</div></td>")}h.push("</tr>")}return h.join("")}(i)),n[o]=i,m(),V.find(".day").unbind("click").click(function(e){f(t(this))}),V.find(".day").unbind("mouseenter").mouseenter(function(e){w(t(this))}),V.find(".day").unbind("mouseleave").mouseleave(function(t){V.find(".date-range-length-tip").hide(),n.singleDate&&v()}),V.find(".week-number").unbind("click").click(function(i){!function(t){var i,o,r=parseInt(t.attr("data-start-time"),10);n.startWeek?(V.find(".week-number-selected").removeClass("week-number-selected"),i=new Date(r<n.startWeek?r:n.startWeek),o=new Date(r<n.startWeek?n.startWeek:r),n.startWeek=!1,n.start=e(i).day("monday"==n.startOfWeek?1:0).valueOf(),n.end=e(o).day("monday"==n.startOfWeek?7:6).valueOf()):(n.startWeek=r,t.addClass("week-number-selected"),i=new Date(r),n.start=e(i).day("monday"==n.startOfWeek?1:0).valueOf(),n.end=e(i).day("monday"==n.startOfWeek?7:6).valueOf()),m(),y(),b(),S(),_()}(t(this))})}function O(t,e){V.find("."+e).append("<div><span>"+F("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour"><label>'+F("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute"><label>'+F("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>'),u(e,t)}function C(t){return e(t).format(n.format)}function D(){S();var t=parseInt(e(n.month1).format("YYYYMM")),i=parseInt(e(n.month2).format("YYYYMM")),o=Math.abs(t-i);o>1&&89!=o?V.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible"):V.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden");var r=V.find("table.month1").height(),s=V.find("table.month2").height();0===Math.max(r,s)?V.find(".gap").height(100):V.find(".gap").height(Math.max(r,s)+10)}function T(){if(!n.alwaysOpen){var e=function(){t(N).data("date-picker-opened",!1),t(N).trigger("datepicker-closed",{relatedTarget:V})};n.customCloseAnimation?n.customCloseAnimation.call(V.get(0),e):t(V).slideUp(n.duration,e),t(N).trigger("datepicker-close",{relatedTarget:V})}}function W(){$(n.month1,"month1"),$(n.month2,"month2")}function E(t,n){var i=parseInt(e(t).format("YYYYMM"))-parseInt(e(n).format("YYYYMM"));return i>0?1:0===i?0:-1}function I(t,n){var i=parseInt(e(t).format("YYYYMMDD"))-parseInt(e(n).format("YYYYMMDD"));return i>0?1:0===i?0:-1}function R(t){return e(t).add(1,"months").toDate()}function A(t){return e(t).add(-1,"months").toDate()}function P(){var t=n.showWeekNumbers?"<th>"+F("week-number")+"</th>":"";return"monday"==n.startOfWeek?t+"<th>"+F("week-1")+"</th><th>"+F("week-2")+"</th><th>"+F("week-3")+"</th><th>"+F("week-4")+"</th><th>"+F("week-5")+"</th><th>"+F("week-6")+"</th><th>"+F("week-7")+"</th>":t+"<th>"+F("week-7")+"</th><th>"+F("week-1")+"</th><th>"+F("week-2")+"</th><th>"+F("week-3")+"</th><th>"+F("week-4")+"</th><th>"+F("week-5")+"</th><th>"+F("week-6")+"</th>"}function L(t){return t=e(t),!(!n.startDate||!t.endOf("month").isBefore(n.startDate))||!(!n.endDate||!t.startOf("month").isAfter(n.endDate))}function M(e,n,i){var o=t.extend(!0,{},e);t.each(n,function(t,e){var n=e(i);for(var r in n)o.hasOwnProperty(r)?o[r]+=n[r]:o[r]=n[r]});var r="";for(var s in o)o.hasOwnProperty(s)&&(r+=s+'="'+o[s]+'" ');return r}function H(t){return Math.floor(function(t){e.isMoment(t)&&(t=t.toDate().getTime());"object"==typeof t&&t.getTime&&(t=t.getTime());"string"!=typeof t||t.match(/\d{13}/)||(t=e(t,n.format).toDate().getTime());return t=parseInt(t,10)-60*(new Date).getTimezoneOffset()*1e3}(t)/864e5)}function F(e){var n=e.toLowerCase(),i=e in Y?Y[e]:n in Y?Y[n]:null,o=t.dateRangePickerLanguages.default;return null==i&&(i=e in o?o[e]:n in o?o[n]:""),i}function U(){var t=n.defaultTime?n.defaultTime:new Date;return n.lookBehind?(n.startDate&&E(t,n.startDate)<0&&(t=R(e(n.startDate).toDate())),n.endDate&&E(t,n.endDate)>0&&(t=e(n.endDate).toDate())):(n.startDate&&E(t,n.startDate)<0&&(t=e(n.startDate).toDate()),n.endDate&&E(R(t),n.endDate)>0&&(t=A(e(n.endDate).toDate()))),n.singleDate&&(n.startDate&&E(t,n.startDate)<0&&(t=e(n.startDate).toDate()),n.endDate&&E(t,n.endDate)>0&&(t=e(n.endDate).toDate())),t}function j(t){t||(t=U()),n.lookBehind?($(A(t),"month1"),$(t,"month2")):($(t,"month1"),$(R(t),"month2")),n.singleDate&&$(t,"month1"),S(),D()}n||(n={}),(n=t.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" - ",language:"auto",startOfWeek:"sunday",getValue:function(){return t(this).val()},setValue:function(e){t(this).attr("readonly")||t(this).is(":disabled")||e==t(this).val()||t(this).val(e)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,highlightToday:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(t,e,n){return t>1?t+" "+F("days"):""},showTopbar:!0,swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(t){return e(t).format("w")},customOpenAnimation:null,customCloseAnimation:null,customArrowPrevSymbol:null,customArrowNextSymbol:null},n)).start=!1,n.end=!1,n.startWeek=!1,n.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints,n.isTouchDevice&&(n.hoveringTooltip=!1),"auto"==n.singleMonth&&(n.singleMonth=t(window).width()<480),n.singleMonth&&(n.stickyMonths=!1),n.showTopbar||(n.autoClose=!0),n.startDate&&"string"==typeof n.startDate&&(n.startDate=e(n.startDate,n.format).toDate()),n.endDate&&"string"==typeof n.endDate&&(n.endDate=e(n.endDate,n.format).toDate());var V,B,Y=function(){if("auto"==n.language){var e=navigator.language?navigator.language:navigator.browserLanguage;return e&&(e=e.toLowerCase())in t.dateRangePickerLanguages?t.dateRangePickerLanguages[e]:t.dateRangePickerLanguages.default}return n.language&&n.language in t.dateRangePickerLanguages?t.dateRangePickerLanguages[n.language]:t.dateRangePickerLanguages.default}(),q=!1,N=this,Z=t(N).get(0);return t(this).unbind(".datepicker").bind("click.datepicker",function(t){V.is(":visible")||r(n.duration)}).bind("change.datepicker",function(t){s()}).bind("keyup.datepicker",function(){try{clearTimeout(B)}catch(t){}B=setTimeout(function(){s()},2e3)}),i.call(this),n.alwaysOpen&&r(0),t(this).data("dateRangePicker",{setStart:function(t,i){return"string"==typeof t&&(t=e(t,n.format).toDate()),n.end=!1,x(t,i),this},setEnd:function(t,i){var o=new Date;return o.setTime(n.start),"string"==typeof t&&(t=e(t,n.format).toDate()),k(o,t,i),this},setDateRange:function(t,i,o){"string"==typeof t&&"string"==typeof i&&(t=e(t,n.format).toDate(),i=e(i,n.format).toDate()),k(t,i,o)},clear:function(){n.start=!1,n.end=!1,V.find(".day.checked").removeClass("checked"),V.find(".day.last-date-selected").removeClass("last-date-selected"),V.find(".day.first-date-selected").removeClass("first-date-selected"),n.setValue.call(Z,""),y(),b(),S()},close:T,open:r,redraw:W,getDatePicker:function(){return V},resetMonthsView:j,destroy:function(){t(N).unbind(".datepicker"),t(N).data("dateRangePicker",""),t(N).data("date-picker-opened",null),V.remove(),t(window).unbind("resize.datepicker",o),t(document).unbind("click.datepicker",T)}}),t(window).bind("resize.datepicker",o),this}}),angular.module("SER.utils",[]);var KEYS={up:38,down:40,left:37,right:39,escape:27,enter:13,backspace:8,delete:46,shift:16,leftCmd:91,rightCmd:93,ctrl:17,alt:18,tab:9};if(window.onbeforeprint=function(){console.log("Functionality to run before printing: ",window.location.href)},window.onafterprint=function(){console.log("Functionality to run after printing: ",window.location.href)},window.matchMedia){var mediaQueryList=window.matchMedia("print");mediaQueryList.addListener(function(t){t.matches?window.onbeforeprint():window.onafterprint()})}!function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var n=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(n){function i(e,o,r){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(r=t({path:"/"},i.defaults,r)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}r.expires=r.expires?r.expires.toUTCString():"";try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(t){}o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var u in r)r[u]&&(l+="; "+u,!0!==r[u]&&(l+="="+r[u]));return document.cookie=e+"="+o+l}e||(s={});for(var h=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,d=0;d<h.length;d++){var p=h[d].split("="),f=p.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var g=p[0].replace(c,decodeURIComponent);if(f=n.read?n.read(f,g):n(f,g)||f.replace(c,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(t){}if(e===g){s=f;break}e||(s[g]=f)}catch(t){}}return s}}return i.set=i,i.get=function(t){return i.call(i,t)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,n){i(e,"",t(n,{expires:-1}))},i.withConverter=e,i}return e(function(){})}),angular.module("SER.auth",[]),angular.module("SER.auth").value("userPermissions",[]),angular.module("SER.auth").value("isSuperuser",!1),angular.module("SER.auth").value("url403",""),angular.module("SER.auth").service("permissionService",["userPermissions","isSuperuser",function(t,e){return{hasPermission:function(n){return!!e||!notValue(n)&&-1!==t.indexOf(n)},atLeastPermissions:function(n){if(e)return!0;if(hasValue(n)){for(var i=0;i<n.length;i++)if(inArray(n[i],t))return!0;return!1}return!0},hasPermissions:function(n){if(e)return!0;for(var i=0;i<n.length;i++)if(notInArray(n[i],t))return!1;return!0}}}]),angular.module("SER.search",[]),angular.module("SER.search").directive("serAutocomplete",["$http","$timeout",function(t,e){return{restrict:"E",scope:{ngModel:"=",remoteUrl:"=",keywordField:"@",ngRequired:"=?",ngDisabled:"=?",selectItem:"&?",dropdownClass:"@?"},link:function(n,i,o,r,s){var a,l=angular.element(i[0].querySelector(".ser-autocomplete-results")),u=i.parents(),h="autocomplete-results-"+Math.round(1e6*Math.random());l.attr("id",h),l.detach(),n.results=[],n.isFetching=!1,n.selectInternalItem=function(t){angular.isFunction(n.selectItem)&&n.selectItem({newValue:t}),hasValue(n.keywordField)&&(n.ngModel=t[n.keywordField]),n.close()};var c=function(){var t=i[0],e={top:"",bottom:"",left:t.getBoundingClientRect().left+"px",width:t.offsetWidth+"px"};angular.element(document.body).height()-(t.offsetHeight+t.getBoundingClientRect().top)>=220?(e.top=t.offsetHeight+t.getBoundingClientRect().top,l.removeClass("ontop")):(e.bottom=angular.element(document.body).height()-t.getBoundingClientRect().top,l.addClass("ontop")),l.css(e)};n.showDropdown=function(){c(),angular.element(document.body).append(l),e(function(){angular.element(window).triggerHandler("resize")},50)},n.open=function(){n.isOpen=!0,n.showDropdown()},n.close=function(){n.isOpen=!1,l.detach()},u.each(function(t,e){angular.element(e).on("scroll."+h,function(t){c()})});angular.element(i[0].querySelector(".ser-autocomplete-wrapper input")).on("focus",function(){hasValue(n.results)&&e(function(){n.open()})}).on("blur",function(){n.close()}).on("keyup",function(e){a&&clearTimeout(a),a=setTimeout(function(){n.$apply(function(){n.isFetching=!0,n.results=[],n.close(),n.ngModel?t.get(n.remoteUrl+n.ngModel).then(function(t){n.results=t.data,n.isFetching=!1,hasValue(n.results)&&n.open()}):(n.isFetching=!1,n.close())})},500)}),l.on("mousedown",function(t){t.preventDefault()})},template:function(t,e){return'<div class="ser-autocomplete-wrapper" ng-class="{open: isOpen}"><div class="group">'+function(){var e=t.find("addon").detach();return e.length?'<span class="addon">'+e.html()+"</span>":""}()+'<input placeholder="{{placeholder}}" ng-model="ngModel" '+(e.disabled?"disabled":'ng-disabled="ngDisabled"')+' ng-focus="ngFocus" ng-blur="searchBlur()" '+(e.required?"required":'ng-required="ngRequired"')+' /></div><div class="fetching line-loader" ng-show="isFetching"></div><ul md-virtual-repeat-container md-auto-shrink md-top-index="highlighted" class="ser-autocomplete-results '+e.dropdownClass+'"><li class="item" md-virtual-repeat="item in results" ng-click="selectInternalItem(item)">'+function(){var e=t.find("ser-item-template").detach();return e.length?e.html():t.html()}()+"</li></ul></div>"}}}]),angular.module("SER.datepicker",[]),angular.module("SER.datepicker").directive("weekDay",function(){return{restrict:"E",require:["ngModel"],scope:{ngModel:"="},link:function(t,e,n,i){t.toggleDay=function(e){"multiple"in n?(notValue(t.ngModel)&&(t.ngModel=[]),notInArray(e,t.ngModel)?t.ngModel.push(e):t.ngModel.splice(t.ngModel.indexOf(e),1)):t.ngModel=e!==t.ngModel?e:null},t.isSet=function(e){return"multiple"in n?inArray(e,t.ngModel):e===t.ngModel}},template:function(){return'<div class="wrapper"><div class="day" ng-click="toggleDay(1)" ng-class="{active: isSet(1)}">'+__("LUN")+'</div><div class="day" ng-click="toggleDay(2)" ng-class="{active: isSet(2)}">'+__("MAR")+'</div><div class="day" ng-click="toggleDay(3)" ng-class="{active: isSet(3)}">'+__("MIE")+'</div><div class="day" ng-click="toggleDay(4)" ng-class="{active: isSet(4)}">'+__("JUE")+'</div><div class="day" ng-click="toggleDay(5)" ng-class="{active: isSet(5)}">'+__("VIE")+'</div><div class="day" ng-click="toggleDay(6)" ng-class="{active: isSet(6)}">'+__("SAB")+'</div><div class="day" ng-click="toggleDay(7)" ng-class="{active: isSet(7)}">'+__("DOM")+"</div></div>"}}}),angular.module("SER.datepicker").directive("serDate",["$filter",function(t){return{restrict:"E",require:["ngModel"],scope:{ngModel:"=",config:"="},controller:["$scope",function(t){t.placeholder=__("select_date"),t.clear=function(){t.ngModel=null}}],link:function(t,e){e.find(".value-wrapper").tooltipster({content:e.find(".picker-wrapper"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0});var n=e.find(".date-wrapper").dateRangePicker({inline:!0,container:e.find(".date-wrapper"),alwaysOpen:!0,language:"es",singleDate:!0,singleMonth:!0}).bind("datepicker-change",function(n,i){t.$apply(function(){t.ngModel=i.date1}),e.find(".value-wrapper").tooltipster("close")}).bind("datepicker-next-month-finish-clicked",function(t){e.find(".value-wrapper").tooltipster("reposition")}).bind("datepicker-prev-month-finish-clicked",function(t){e.find(".value-wrapper").tooltipster("reposition")});t.ngModel&&n.data("dateRangePicker").setStart(t.ngModel,!0),t.$watch("ngModel",function(t,e){t&&t!=e&&n.data("dateRangePicker").setStart(t,!0)},!0)},template:function(t,e){return'<div class="ser-date-wrapper" ng-class="{open: open, \'has-value\': blur}"><div ng-class="{\'bttn-group\': ngModel}" class="row center-center"><button type="button" class="bttn value-wrapper">{{ (ngModel | date: \'longDate\') || placeholder }}</button><button type="button" ng-show="ngModel" class="bttn clear" ng-click="clear()"></button></div><div class="tooltip-templates"><div class="picker-wrapper"><div class="date-wrapper"></div></div></div></div>'}}}]),angular.module("SER.datepicker").directive("serDateRange",["$filter",function(t){return{restrict:"E",require:["ngModel"],scope:{ngModel:"=",config:"="},controller:["$scope",function(t){t.placeholder=__("select_date_range"),t.clear=function(){t.ngModel=null,t.placeholder=__("select_date_range")}}],link:function(e,n){n.find(".value-wrapper").tooltipster({content:n.find(".picker-wrapper"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0});var i=n.find(".date-wrapper").dateRangePicker({inline:!0,container:n.find(".date-wrapper"),alwaysOpen:!0,language:"es"}).bind("datepicker-change",function(i,o){e.$apply(function(){o.date1.setHours(0,0,0,0),o.date2.setHours(23,59,59,0),e.ngModel={FromDate:o.date1,ToDate:o.date2},e.placeholder=t("date")(o.date1,"longDate")+" - "+t("date")(o.date2,"longDate")}),n.find(".value-wrapper").tooltipster("close")}).bind("datepicker-next-month-finish-clicked",function(t){n.find(".value-wrapper").tooltipster("reposition")}).bind("datepicker-prev-month-finish-clicked",function(t){n.find(".value-wrapper").tooltipster("reposition")});e.ngModel&&e.ngModel.FromDate&&e.ngModel.ToDate&&(i.data("dateRangePicker").setStart(e.ngModel.FromDate,!0),i.data("dateRangePicker").setEnd(e.ngModel.ToDate,!0),e.placeholder=t("date")(e.ngModel.FromDate,"longDate")+" - "+t("date")(e.ngModel.ToDate,"longDate")),e.$watch("ngModel",function(t,n){t&&t!=n&&(i.data("dateRangePicker").setStart(e.ngModel.FromDate,!0),i.data("dateRangePicker").setEnd(e.ngModel.ToDate,!0))},!0)},template:function(t,e){return'<div class="ser-date-wrapper" ng-class="{open: open, \'has-value\': blur}"><div ng-class="{\'bttn-group\': ngModel}" class="row center-center"><button type="button" class="bttn value-wrapper">{{ placeholder }}</button><button type="button" ng-show="ngModel" class="bttn clear" ng-click="clear()"></button></div><div class="tooltip-templates"><div class="picker-wrapper"><div class="date-wrapper"></div></div></div></div>'}}}]),angular.module("SER.filters",[]),angular.module("SER.filters").filter("PascalCase",[function(){return function(t){return t.replace(/([A-Z]+)([A-Z])/g," $1 $2").replace(/([a-z\d])([A-Z])/g,"$1 $2").replace(/([a-zA-Z])(\d)/g,"$1 $2").replace(/^./,function(t){return t.toUpperCase()}).trim()}}]),angular.module("SER.filters").filter("getItem",["$filter",function(t){return function(e,n,i){var o={};o[i]=e;var r=[];return r=t("filter")(n,o,!0),hasValue(r)&&0<r.length?r[0]:null}}]),angular.module("SER.filters").filter("minutesTime",[function(){return function(t,e){var n=parseInt(t/60,10);return(!e&&n>12?24===n?"00":(n-12<10?"0":"")+(n-12):(n<10?"0":"")+n)+":"+(t-60*n<10?"0"+(t-60*n):t-60*n)+(e?":00":n>=12&&24!==n?" pm":" am")}}]),angular.module("SER.filters").filter("timeMinutes",[function(){return function(t){return 60*parseInt(t.split(":")[0])+parseInt(t.split(":")[1])}}]),angular.module("SER.filters").filter("leadingChar",function(){return function(t,e,n){return n=n||"0",hasValue(t)?(t+="").length>=e?t:new Array(e-t.length+1).join(n)+t:""}}),angular.module("SER.fullscreen",[]),angular.module("SER.fullscreen").factory("Fullscreen",["$document","$rootScope",function(t,e){var n=t[0],i="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element&&Element.ALLOW_KEYBOARD_INPUT,o=e.$new();t.on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){o.$emit("SERFullscreen.change",r.isEnabled())});var r={$on:angular.bind(o,o.$on),all:function(){r.enable(n.documentElement)},enable:function(t){t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?/Version\/[\d]{1,2}(\.[\d]{1,2}){1}(\.(\d){1,2}){0,1} Safari/.test(navigator.userAgent)?t.webkitRequestFullscreen():t.webkitRequestFullscreen(i):t.msRequestFullscreen&&t.msRequestFullscreen()},cancel:function(){n.cancelFullScreen?n.cancelFullScreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen?n.webkitExitFullscreen():n.msExitFullscreen&&n.msExitFullscreen()},isEnabled:function(){return!!(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement)},toggleAll:function(){r.isEnabled()?r.cancel():r.all()},isSupported:function(){var t=n.documentElement;return!!(t.requestFullScreen||t.mozRequestFullScreen||t.webkitRequestFullscreen||t.msRequestFullscreen)}};return r}]),module.directive("fullscreen",["Fullscreen",function(t){return{link:function(e,n,i){if(i.fullscreen){e.$watch(i.fullscreen,function(e){var i=t.isEnabled();e&&!i?(t.enable(n[0]),n.addClass("isInFullScreen")):!e&&i&&(t.cancel(),n.removeClass("isInFullScreen"))});var o=t.$on("SERFullscreen.change",function(t,o){o||e.$evalAsync(function(){e.$eval(i.fullscreen+"= false"),n.removeClass("isInFullScreen")})});e.$on("$destroy",function(){o()})}else{if(void 0!==i.onlyWatchedProperty)return;n.on("click",function(e){t.enable(n[0])})}}}}]);var i18n={__DICT:void 0,loadJSON:function(t){this.__DICT=t},__:function(t){if(void 0!==this.__DICT)return t in this.__DICT?this.__DICT[t]:(console.warn("Locale not found for: "+t),t);console.error("Locale JSON file not loaded | Locale not found for: "+t)}},__=function(t){return i18n.__(t)};angular.module("SER.i18n",[]),angular.module("SER.i18n").filter("translate",function(){return function(t){return i18n.__(t)}}),angular.module("SER.image",[]),angular.module("SER.image").directive("callbackImage",function(){return{restrict:"A",link:function(t,e,n){e.on("dragstart",function(t){t.preventDefault()}),e.bind("error",function(){e[0].src=n.callbackImage})}}}),angular.module("SER.image").directive("retryGetImage",function(){return{restrict:"A",scope:{retryGetImage:"@",fallbackRetry:"="},link:function(t,e,n){var i;t.$watch("retryGetImage",function(n){clearTimeout(i),e.unbind("load"),e.unbind("error"),e[0].src=n,e.addClass("hidden"),e.bind("load",function(){e.removeClass("hidden"),t.fallbackRetry=!1,clearTimeout(i),t.$apply()}),e.bind("error",function(){t.fallbackRetry=!0,i=setTimeout(function(){e[0].src=t.retryGetImage},5e3)})})}}}),angular.module("SER.image").directive("imgZoom",["$timeout",function(t){return{restrict:"E",scope:{image:"=",options:"="},link:function(e,n,i){n.find(".target").on("load",function(){n.find(".loader").addClass("ng-hide")}),n.find(".target").on("error",function(){n.find(".loader").addClass("ng-hide"),e.zoomReset()}),e.size="auto";var o={"max-height":"none"};angular.merge(o,e.options),e.zoomIn=function(){e.size=1.1*n.find(".target").width(),n.find(".target").css({"max-height":"none",height:"auto"})},e.zoomOut=function(){e.size=n.find(".target").width()/1.1,n.find(".target").css({"max-height":"none",height:"auto"})},e.zoomReset=function(){e.size="auto",n.find(".target").css({"max-height":o["max-height"],height:"auto"})},e.zoomExpand=function(){e.size="auto",n.find(".target").css({"max-height":o["max-height"],height:n.height()-2})},t(function(){e.zoomExpand()},500)},template:function(){return'<div class="controls"><button class="bttn icon" ng-click="zoomOut()"><i class="icon-zoom-out"></i></button><button class="bttn icon" ng-click="zoomReset()"><i class="icon-zoom-actual"></i></button><button class="bttn icon" ng-click="zoomExpand()"><i class="icon-zoom-expand"></i></button><button class="bttn icon" ng-click="zoomIn()"><i class="icon-zoom-in"></i></button></div><div class="loader dots">'+__("loading")+'</div><img class="target" ng-src="{{ image }}" ng-style="{width: size}" callback-image="/images/'+__("no_image_available.svg")+'" />'}}}]),angular.module("SER.image").directive("zoomImage",function(){return{restrict:"A",link:function(t,e,n){var i={responsive:!0,loadingIcon:!0,tint:!0,scrollZoom:!0,zoomWindowWidth:150,zoomWindowHeight:150,imageSrc:n.ngSrc};angular.merge(i,t.$eval(n.zoomImage)),e.elevateZoom(i)}}}),angular.module("SER.loader",[]).service("afterPromises",[function(){var t=function(t,e){this.callback=e,this.topCount=t,this.counter=0};return t.prototype.notify=function(){this.counter+=1,this.counter==this.topCount&&this.callback()},t}]),angular.module("SER.search").directive("remoteSearch",["$http",function(t){return{restrict:"A",require:["ngModel"],scope:{remoteSearchResults:"=",remoteSearch:"=",model:"=ngModel"},link:function(e,n,i,o){var r;n.on("keyup",function(n){r&&clearTimeout(r),r=setTimeout(function(){e.$apply(function(){e.remoteSearchResults=[]}),e.model&&t.get(e.remoteSearch+e.model).then(function(t){0<t.data.length&&(e.remoteSearchResults=t.data)})},500)})}}}]),angular.module("SER.search").directive("ngEnter",function(){return function(t,e,n){e.bind("keydown keypress",function(i){13===i.which&&(t.$apply(function(){t.$eval(n.ngEnter,{$event:i})}),i.preventDefault(),e.blur())})}}),angular.module("SER.selector",[]).directive("selector",["$rootScope","$filter","$timeout","$window","$http","$q","$templateCache",function(t,e,n,i,o,r,s){return{restrict:"EC",replace:!0,transclude:!0,scope:{value:"=model",disabled:"=?disable",disableSearch:"=?",required:"=?require",multiple:"=?multi",placeholder:"@?",valueAttr:"@",labelAttr:"@?",options:"=?",dropdownClass:"@?",limit:"=?",rtl:"=?",api:"=?",change:"&?",removeButton:"=?",softDelete:"=?",closeAfterSelection:"=?"},link:function(t,i,o,r,s){var a=angular.element(i[0].querySelector(".selector-dropdown")),l=angular.element(i[0].querySelector("select")),u=i.parents(),h="selector-"+Math.round(1e6*Math.random());a.attr("id",h),s(t,function(t,o){var r=e("filter"),s=angular.element(i[0].querySelector(".selector-input input")),c=s.controller("ngModel"),d=i.find("select").controller("ngModel"),p={api:{},search:"",disableSearch:!1,selectedValues:[],highlighted:0,valueAttr:null,labelAttr:"label",options:[],limit:1/0,removeButton:!0,closeAfterSelection:!0};a.detach(),!angular.isDefined(o.value)&&o.multiple&&(o.value=[]);for(var f in p)angular.isDefined(o[f])||(o[f]=p[f]);o.getObjValue=function(t,e){var n;if(!angular.isDefined(t)||!angular.isDefined(e))return t;if(e=angular.isArray(e)?e:e.split("."),(n=e.shift()).indexOf("[")>0){var i=n.match(/(\w+)\[(\d+)\]/);null!==i&&(t=t[i[1]],n=i[2])}return 0===e.length?t[n]:o.getObjValue(t[n],e)},o.setObjValue=function(t,e,n){var i;if(angular.isDefined(t)||(t={}),e=angular.isArray(e)?e:e.split("."),(i=e.shift()).indexOf("[")>0){var r=i.match(/(\w+)\[(\d+)\]/);null!==r&&(t=t[r[1]],i=r[2])}return t[i]=0===e.length?n:o.setObjValue(t[i],e,n),t},o.optionValue=function(t){return null===o.valueAttr?t:o.getObjValue(t,o.valueAttr)},o.optionEquals=function(t,e){return angular.equals(o.optionValue(t),angular.isDefined(e)?e:o.value)},o.setValue=function(t){o.multiple?o.value=null===o.valueAttr?t||[]:(t||[]).map(function(t){return o.getObjValue(t,o.valueAttr)}):o.value=null===o.valueAttr?t:o.getObjValue(t||{},o.valueAttr)},o.hasValue=function(){return o.multiple?(o.value||[]).length>0:!!o.value},o.optionToObject=function(t){var e={},n=angular.element(t);angular.forEach(t.dataset,function(t,n){n.match(/^\$/)||(e[n]=t)}),t.value&&o.setObjValue(e,o.valueAttr||"value",t.value),n.text()&&o.setObjValue(e,o.labelAttr,n.text().trim()),o.options.push(e),!n.attr("selected")||!o.multiple&&o.hasValue()||(o.multiple?(o.value||(o.value=[]),o.value.push(o.optionValue(e))):o.value||(o.value=o.optionValue(e)))},o.fillWithHtml=function(){o.options=[],angular.forEach(t,function(t){"option"===(t.tagName||"").toLowerCase()&&o.optionToObject(t)}),o.updateSelected()},o.initialize=function(){angular.isArray(o.options)&&o.options.length||o.fillWithHtml(),o.hasValue()&&(o.multiple?angular.isArray(o.value)||(o.value=[o.value]):angular.isArray(o.value)&&(o.value=o.value[0]),o.updateSelected(),o.filterOptions(),o.updateValue())},o.$watch("multiple",function(){n(o.setInputWidth)});var g=function(){var t=s.parent()[0],e={top:"",bottom:"",left:t.getBoundingClientRect().left+"px",width:t.offsetWidth+"px"};angular.element(document.body).height()-(t.offsetHeight+t.getBoundingClientRect().top)>=220?(e.top=t.offsetHeight+t.getBoundingClientRect().top,a.removeClass("ontop")):(e.bottom=angular.element(document.body).height()-t.getBoundingClientRect().top,a.addClass("ontop")),a.css(e)};o.showDropdown=function(){g(),angular.element(document.body).append(a),n(function(){angular.element(window).triggerHandler("resize")},50)},o.open=function(){o.multiple&&(o.selectedValues||[]).length>=o.limit||(o.isOpen=!0,o.showDropdown(),n(o.scrollToHighlighted))},o.close=function(){o.isOpen=!1,a.detach(),o.resetInput()};var m=function(t){o.filteredOptions.length&&(o.highlighted=(o.filteredOptions.length+t)%o.filteredOptions.length)};o.set=function(t){o.multiple&&(o.selectedValues||[]).length>=o.limit||(o.multiple?(o.selectedValues||(o.selectedValues=[]),o.selectedValues.indexOf(t)<0&&o.selectedValues.push(t)):o.selectedValues=[t],!o.multiple&&o.closeAfterSelection&&s.blur(),m(o.options.indexOf(t)),o.resetInput(),d.$setDirty())},o.unset=function(t){o.multiple?o.selectedValues.splice(angular.isDefined(t)?t:o.selectedValues.length-1,1):o.selectedValues=[],o.resetInput(),d.$setDirty()},o.keydown=function(t){switch(t.keyCode){case KEYS.up:if(!o.isOpen)break;m(o.highlighted-1),t.preventDefault();break;case KEYS.down:o.isOpen?m(o.highlighted+1):o.open(),t.preventDefault();break;case KEYS.escape:m(0),o.close();break;case KEYS.enter:o.isOpen&&(o.filteredOptions.length&&o.set(),t.preventDefault());break;case KEYS.backspace:if(!s.val()){var e=o.getObjValue(o.selectedValues.slice(-1)[0]||{},o.labelAttr||"");o.unset(),o.open(),o.softDelete&&!o.disableSearch&&n(function(){o.search=e}),t.preventDefault()}break;case KEYS.left:case KEYS.right:case KEYS.shift:case KEYS.ctrl:case KEYS.alt:case KEYS.tab:case KEYS.leftCmd:case KEYS.rightCmd:break;default:!o.multiple&&o.hasValue()?t.preventDefault():(o.open(),m(0))}},o.inOptions=function(t,e){return t.indexOf(e)>=0},o.filterOptions=function(){if(o.filteredOptions=r(o.options||[],o.search),angular.isArray(o.selectedValues)||(o.selectedValues=[]),o.multiple)o.filteredOptions=o.filteredOptions.filter(function(t){return!o.inOptions(o.selectedValues,t)});else{var t=o.filteredOptions.indexOf(o.selectedValues[0]);t>=0&&m(t)}},o.measureWidth=function(){var t,e=getStyles(s[0]),n=angular.element('<span class="selector-shadow"></span>');return n.text(s.val()||(o.hasValue()?"":o.placeholder)||""),angular.element(document.body).append(n),angular.forEach(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(t){n.css(t,e[t])}),t=n[0].offsetWidth,n.remove(),t},o.setInputWidth=function(){var t=o.measureWidth()+1;s.css("width",t+"px")},o.resetInput=function(){s.val(""),o.setInputWidth(),n(function(){o.search=""})},o.$watch("[search, options, value]",function(){o.filterOptions(),n(function(){o.setInputWidth(),o.isOpen&&o.showDropdown()})},!0),o.updateValue=function(t){angular.isDefined(t)||(t=o.selectedValues||[]),o.setValue(o.multiple?t:t[0])},o.$watch("selectedValues",function(t,e){angular.equals(t,e)||(o.updateValue(),angular.isFunction(o.change)&&o.change(o.multiple?{newValue:t,oldValue:e}:{newValue:(t||[])[0],oldValue:(e||[])[0]}))},!0),o.$watchCollection("options",function(t,e){angular.equals(t,e)||o.updateSelected()}),o.updateSelected=function(){o.multiple?o.selectedValues=(o.value||[]).map(function(t){return r(o.options,function(e){return o.optionEquals(e,t)})[0]}).filter(function(t){return angular.isDefined(t)}).slice(0,o.limit):o.selectedValues=(o.options||[]).filter(function(t){return o.optionEquals(t)}).slice(0,1)},o.$watch("value",function(t,e){angular.equals(t,e)||o.updateSelected()},!0),s=angular.element(i[0].querySelector(".selector-input input")).on("focus",function(){n(function(){o.$apply(o.open)})}).on("blur",function(){o.close()}).on("keydown",function(t){o.$apply(function(){o.keydown(t)})}).on("input",function(){o.setInputWidth()}),a.on("mousedown",function(t){t.preventDefault()}),u.each(function(t,e){angular.element(e).on("scroll."+h,function(t){g()})}),o.$watch(function(){return c.$pristine},function(t){d[t?"$setPristine":"$setDirty"]()}),o.$watch(function(){return c.$touched},function(t){d[t?"$setTouched":"$setUntouched"]()}),angular.forEach(["open","close"],function(t){o.api[t]=o[t]}),o.api.focus=function(){s[0].focus()},o.api.set=function(t){return o.value=t},o.api.unset=function(t){var e=t?(o.selectedValues||[]).filter(function(e){return o.optionEquals(e,t)}):o.selectedValues,n=o.selectedValues.map(function(t,n){return o.inOptions(e,t)?n:-1}).filter(function(t){return t>=0});angular.forEach(n,function(t,e){o.unset(t-e)})},o.isDirty=function(){return l.hasClass("ng-dirty")},o.isInvalid=function(){return l.hasClass("ng-invalid")},o.initialize()}),t.$on("$destroy",function(){a.remove(),a.off("mousedown"),angular.element(i[0].querySelector(".selector-input input")).off("focus blur keydown input "),angular.element(document.body).off("resize."+h),u.each(function(t,e){$(e).off("scroll."+h+" resize."+h)}),u=null})},template:function(t,e){var n,i=s.get(e.viewItemTemplate)?s.get(e.viewItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>';n=e.labelAttr?'<span ng-bind="getObjValue(option, labelAttr) || option"></span>':s.get(e.viewItemTemplate)?s.get(e.viewItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>',e.dropdownItemTemplate&&(n=s.get(e.dropdownItemTemplate)?s.get(e.dropdownItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>');var o="";e.name&&(o='name="'+e.name+'"');return s.get("selector/Base")?s.get("selector/Base"):"<div class=\"selector-container\" ng-attr-dir=\"{{rtl ? 'rtl' : 'ltr'}}\" ng-class=\"{open: isOpen, empty: !filteredOptions.length && !search, 'ng-dirty': isDirty(), 'ng-invalid': isInvalid(),multiple: multiple, 'has-value': hasValue(), rtl: rtl, 'remove-button': removeButton, disabled: disabled}\"><select "+o+' ng-required="required && !hasValue()" class="not-styled" ng-model="selectedValues" multiple style="display: none;"></select><label class="selector-input"><ul class="selector-values"><li ng-repeat="(index, option) in selectedValues track by index"><div>'+i+'</div><div ng-if="multiple" class="selector-helper" ng-click="!disabled && unset(index)"><span class="selector-icon"></span></div></li></ul><input ng-model="search" class="selector-search-input not-styled" placeholder="{{!hasValue() ? placeholder : \'\'}}"ng-disabled="disabled" ng-readonly="disableSearch" ng-required="required && !hasValue()" autocomplete="off"><div ng-if="!multiple" class="selector-helper selector-global-helper" ng-click="!disabled && removeButton && unset()"><span class="selector-icon"></span></div></label><ul md-virtual-repeat-container md-auto-shrink md-top-index="highlighted" class="selector-dropdown '+e.dropdownClass+'"><li md-virtual-repeat="option in filteredOptions" ng-class="{active: highlighted == $index}" class="selector-option" ng-click="set(option)">'+n+"</li></ul></div>"}}}]),angular.module("SER.tooltipster",[]),angular.module("SER.tooltipster").directive("tooltipster",function(){return{restrict:"A",link:function(t,e,n){var i={content:n.tooltipster,maxWidth:300,delay:0,contentAsHTML:!0,positionTracker:!0,trigger:"hover",theme:"tooltipster-borderless"};angular.merge(i,t.$eval(n.tooltipsterOptions)),e.tooltipster(i)}}}),angular.module("SER.tooltipster").directive("tooltipsterMenu",function(){return{restrict:"A",link:function(t,e,n){var i={content:e.find(".tooltip-content"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0};angular.merge(i,t.$eval(n.tooltipsterMenu)),e.tooltipster(i),t.closeTooltip=function(){e.tooltipster("close")},e.find(".action").on("click",function(){t.closeTooltip()})}}}),angular.module("SER.tooltipster").directive("tooltipsterHtml",function(){return{restrict:"A",link:function(t,e,n){var i={content:e.find(".tooltip-content"),delay:0,positionTracker:!0,trigger:"hover",theme:"tooltipster-borderless",position:"top"};angular.merge(i,t.$eval(n.tooltipsterHtml)),e.tooltipster(i)}}}),angular.module("SER.match",[]).directive("match",["$parse",function(t){return{require:"?ngModel",restrict:"A",link:function(e,n,i,o){function r(){var t=s(e);return angular.isObject(t)&&t.hasOwnProperty("$viewValue")&&(t=t.$viewValue),t}if(o&&i.match){var s=t(i.match),a=t(i.matchCaseless),l=t(i.notMatch),u=t(i.matchIgnoreEmpty);e.$watch(r,function(){o.$$parseAndValidate()}),o.$validators.match=function(t,n){var i,o=t||n,s=r(),h=l(e);return!(!u(e)||n)||(i=a(e)?angular.lowercase(o)===angular.lowercase(s):o===s,!!(i^=h))}}}}}]),angular.module("SER.barcode",[]),angular.module("SER.barcode").directive("barcode",function(){return{restrict:"EA",scope:{model:"=",options:"="},link:function(t,e,n){var i={format:"CODE128",lineColor:"#000000",width:3,height:110,displayValue:!0};angular.merge(i,t.options),t.$watch("model",function(t){JsBarcode(e[0],t,i)})}}}),angular.module("SER.diff",[]),angular.module("SER.diff").factory("ObjectDiff",["$sce",function(t){function e(t,i,o,r){if(t===i)return n(t);var s={},a=!0;for(var l in t)if(!r&&l in i||r&&void 0!==i&&i.hasOwnProperty(l))if(t[l]===i[l])s[l]=n(t[l]);else if(!o&&function(t,e){var n=typeof t,i=typeof e;return t&&e&&("object"==n||"function"==n)&&("object"==i||"function"==i)}(t[l],i[l])){var u=e(t[l],i[l],o,r);"equal"==u.changed?s[l]=n(t[l]):(a=!1,s[l]=u)}else a=!1,s[l]={changed:"primitive change",removed:t[l],added:i[l]};else a=!1,s[l]={changed:"removed",value:t[l]};for(l in i)(r||l in t)&&(!r||void 0===t||t.hasOwnProperty(l))||(a=!1,s[l]={changed:"added",value:i[l]});return a?n(t):{changed:"object change",value:s}}function n(t){return{changed:"equal",value:t}}return{diff:e,getPatchChanges:function(t,n,i,o){var r=angular.fromJson(angular.toJson(n)),s=e(angular.fromJson(angular.toJson(t)),r,i,o),a=[];return"equal"!==s.changed&&angular.forEach(s.value,function(t,e){"equal"!==t.changed&&a.push({op:"replace",path:"/"+e,value:r[e]})}),a}}}]),angular.module("SER.sentry",[]),angular.module("SER.sentry").factory("$exceptionHandler",["$window","$log",function(t,e){return t.Raven&&RAVEN_CONFIG_DSN?(console.log("Using the RavenJS exception handler."),Raven.config(RAVEN_CONFIG_DSN).install(),function(t,n){e.error.apply(e,arguments),Raven.captureException(t)}):(console.log("Using the default logging exception handler."),function(t,n){e.error.apply(e,arguments)})}]),angular.module("SER",["SER.i18n","SER.auth","SER.selector","SER.match","SER.image","SER.search","SER.tooltipster","SER.datepicker","SER.loader","SER.filters","SER.barcode","SER.diff","SER.fullscreen","SER.sentry"]),function(t){var e=new Image;e.onload=function(){var e=["font-size: 1px;","line-height: "+this.height+"px;","padding: "+.5*this.height+"px "+.5*this.width+"px;","background-size: "+this.width+"px "+this.height+"px;","background: url("+t+");"].join(" ");console.log(""),console.log(""),console.log("%c",e),console.log("https://www.sersoluciones.com"),console.log(""),console.log("")},e.src=t}("https://s3.amazonaws.com/ser-ui/images/powered.jpg"),angular.module("SER").config(["$urlRouterProvider","$urlMatcherFactoryProvider","$compileProvider","$resourceProvider","$httpProvider",function(t,e,n,i,o){o.defaults.paramSerialize="$httpParamSerializerJQLike",i.defaults.stripTrailingSlashes=!0,n.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|skype|tel|chrome-extension):/),t.rule(function(t,e){var n=e.path();if("/"===n[n.length-1])return n.substr(0,n.length-1)});var r=/^[a-f\d]{8}-([a-f\d]{4}-){3}[a-f\d]{12}$/i;e.type("guid",{encode:angular.identity,decode:angular.identity,is:function(t){return r.test(t)}})}]),angular.module("SER").run(["$rootScope","$sce",function(t,e){t.backHistory=function(){$window.history.back()},t.__=__,t.bodyHeight=function(){return angular.element("body").height()},t.browserWidth=browserWidth,t.trustAsHtml=function(t){return e.trustAsHtml(t)}}]);
//# sourceMappingURL=ser-ui.min.js.map
