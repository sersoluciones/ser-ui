function getStyles(t){return t instanceof HTMLElement?t.ownerDocument&&t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t):window.getComputedStyle(t):{}}function arrayGroupBy(t,e){for(var n={},i=0;i<t.length;++i)void 0===n[t[i][e]]&&(n[t[i][e]]=[]),n[t[i][e]].push(t[i]);return n}function hasValue(t){return angular.isArray(t)?0<t.length:!!angular.isDate(t)||(angular.isObject(t)?!angular.element.isEmptyObject(t):-1===["",null,void 0,NaN].indexOf(t))}function notValue(t){return angular.isArray(t)?0===t.length:!angular.isDate(t)&&(angular.isObject(t)?angular.element.isEmptyObject(t):["",null,void 0,NaN].indexOf(t)>-1)}function hasProperty(t,e){return!!t&&t.hasOwnProperty(e)}function inArray(t,e){return!!e&&-1!==e.indexOf(t)}function notInArray(t,e){return!!e&&-1===e.indexOf(t)}function getObjectByValue(t,e,n){for(var i=0;i<t.length;i++)if(t[i].hasOwnProperty(e)){if(t[i][e]===n)return t[i];for(var r in t[i][e])if(t[i][e][r]===n)return t[i]}}function browserWidth(){return 0<window.innerWidth?window.innerWidth:screen.width}function hasPdfViewer(){for(var t=0;t<window.navigator.plugins.length;t++)if(window.navigator.plugins[t].name.toLowerCase().indexOf("pdf")>-1)return!0;return!1}function getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}function hasFiles(t){var e=!1,n=function(t){return null!=t&&(t instanceof window.Blob||t.flashId&&t.name&&t.size)};for(var i in t)if(n(t[i])){e=!0;break}return e}function guid(){return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}!function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var n=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(n){function i(e,r,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=t({path:"/"},i.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(t){}r=n.write?n.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var u="";for(var l in o)o[l]&&(u+="; "+l,!0!==o[l]&&(u+="="+o[l]));return document.cookie=e+"="+r+u}e||(a={});for(var c=document.cookie?document.cookie.split("; "):[],h=/(%[0-9A-Z]{2})+/g,f=0;f<c.length;f++){var p=c[f].split("="),d=p.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{var g=p[0].replace(h,decodeURIComponent);if(d=n.read?n.read(d,g):n(d,g)||d.replace(h,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(t){}if(e===g){a=d;break}e||(a[g]=d)}catch(t){}}return a}}return i.set=i,i.get=function(t){return i.call(i,t)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,n){i(e,"",t(n,{expires:-1}))},i.withConverter=e,i}return e(function(){})}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){function e(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function n(e,n){var i=!0;return t.each(e,function(t,r){if(void 0===n[t]||e[t]!==n[t])return i=!1,!1}),i}function i(e){var n=e.attr("id"),i=n?a.window.document.getElementById(n):null;return i?i===e[0]:t.contains(a.window.document.body,e[0])}var r={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:"body",plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},o="undefined"!=typeof window?window:null,a={hasTouchCapability:!(!o||!("ontouchstart"in o||o.DocumentTouch&&o.document instanceof o.DocumentTouch||o.navigator.maxTouchPoints)),hasTransitions:function(){if(!o)return!1;var t=(o.document.body||o.document.documentElement).style,e="transition",n=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var i=0;i<n.length;i++)if("string"==typeof t[n[i]+e])return!0;return!1}(),IE:!1,semVer:"4.1.7",window:o},s=function(){this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__instancesLatestArr=[],this.__plugins={},this._env=a};s.prototype={__bridge:function(e,n,i){if(!n[i]){var o=function(){};o.prototype=e;var a=new o;a.__init&&a.__init(n),t.each(e,function(t,e){0!=t.indexOf("__")&&(n[t]?r.debug&&console.log("The "+t+" method of the "+i+" plugin conflicts with another plugin or native methods"):(n[t]=function(){return a[t].apply(a,Array.prototype.slice.apply(arguments))},n[t].bridged=a))}),n[i]=a}return this},__setWindow:function(t){return a.window=t,this},_getRuler:function(t){return new e(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(e){if("string"==typeof e){var n=e,i=null;return n.indexOf(".")>0?i=this.__plugins[n]:t.each(this.__plugins,function(t,e){if(e.name.substring(e.name.length-n.length-1)=="."+n)return i=e,!1}),i}if(e.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return this.__plugins[e.name]=e,e.core&&this.__bridge(e.core,this,e.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(e){var n=[];return t(e||".tooltipstered").each(function(){var e=t(this),i=e.data("tooltipster-ns");i&&t.each(i,function(t,i){n.push(e.data(i))})}),n},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(e){return t((e?e+" ":"")+".tooltipstered").toArray()},setDefaults:function(e){return t.extend(r,e),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.tooltipster=new s,t.Tooltipster=function(e,n){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__destroying=!1,this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(e,n)},t.Tooltipster.prototype={__init:function(e,n){var i=this;if(i._$origin=t(e),i.__options=t.extend(!0,{},r,n),i.__optionsFormat(),!a.IE||a.IE>=i.__options.IEmin){var o=null;if(void 0===i._$origin.data("tooltipster-initialTitle")&&(void 0===(o=i._$origin.attr("title"))&&(o=null),i._$origin.data("tooltipster-initialTitle",o)),null!==i.__options.content)i.__contentSet(i.__options.content);else{var s,u=i._$origin.attr("data-tooltip-content");u&&(s=t(u)),s&&s[0]?i.__contentSet(s.first()):i.__contentSet(o)}i._$origin.removeAttr("title").addClass("tooltipstered"),i.__prepareOrigin(),i.__prepareGC(),t.each(i.__options.plugins,function(t,e){i._plug(e)}),a.hasTouchCapability&&t("body").on("touchmove."+i.__namespace+"-triggerOpen",function(t){i._touchRecordEvent(t)}),i._on("created",function(){i.__prepareTooltip()})._on("repositioned",function(t){i.__lastPosition=t.position})}else i.__options.disabled=!0},__contentInsert:function(){var t=this._$tooltip.find(".tooltipster-content"),e=this.__Content;return this._trigger({type:"format",content:this.__Content,format:function(t){e=t}}),this.__options.functionFormat&&(e=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof e||this.__options.contentAsHTML?t.empty().append(e):t.text(e),this},__contentSet:function(e){return e instanceof t&&this.__options.contentCloning&&(e=e.clone(!0)),this.__Content=e,this._trigger({type:"updated",content:e}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var e=this._$origin,n=this._$origin.is("area");if(n){var i=this._$origin.parent().attr("name");e=t('img[usemap="#'+i+'"]')}var r=e[0].getBoundingClientRect(),o=t(a.window.document),s=t(a.window),u=e,l={available:{document:null,window:null},document:{size:{height:o.height(),width:o.width()}},window:{scroll:{left:a.window.scrollX||a.window.document.documentElement.scrollLeft,top:a.window.scrollY||a.window.document.documentElement.scrollTop},size:{height:s.height(),width:s.width()}},origin:{fixedLineage:!1,offset:{},size:{height:r.bottom-r.top,width:r.right-r.left},usemapImage:n?e[0]:null,windowOffset:{bottom:r.bottom,left:r.left,right:r.right,top:r.top}}};if(n){var c=this._$origin.attr("shape"),h=this._$origin.attr("coords");if(h&&(h=h.split(","),t.map(h,function(t,e){h[e]=parseInt(t)})),"default"!=c)switch(c){case"circle":var f=h[0],p=h[1],d=h[2],g=p-d,m=f-d;l.origin.size.height=2*d,l.origin.size.width=l.origin.size.height,l.origin.windowOffset.left+=m,l.origin.windowOffset.top+=g;break;case"rect":var v=h[0],y=h[1],w=h[2],_=h[3];l.origin.size.height=_-y,l.origin.size.width=w-v,l.origin.windowOffset.left+=v,l.origin.windowOffset.top+=y;break;case"poly":for(var b=0,$=0,S=0,C=0,k="even",z=0;z<h.length;z++){var x=h[z];"even"==k?(x>S&&(S=x,0===z&&(b=S)),x<b&&(b=x),k="odd"):(x>C&&(C=x,1==z&&($=C)),x<$&&($=x),k="even")}l.origin.size.height=C-$,l.origin.size.width=S-b,l.origin.windowOffset.left+=b,l.origin.windowOffset.top+=$}}for(this._trigger({type:"geometry",edit:function(t){l.origin.size.height=t.height,l.origin.windowOffset.left=t.left,l.origin.windowOffset.top=t.top,l.origin.size.width=t.width},geometry:{height:l.origin.size.height,left:l.origin.windowOffset.left,top:l.origin.windowOffset.top,width:l.origin.size.width}}),l.origin.windowOffset.right=l.origin.windowOffset.left+l.origin.size.width,l.origin.windowOffset.bottom=l.origin.windowOffset.top+l.origin.size.height,l.origin.offset.left=l.origin.windowOffset.left+l.window.scroll.left,l.origin.offset.top=l.origin.windowOffset.top+l.window.scroll.top,l.origin.offset.bottom=l.origin.offset.top+l.origin.size.height,l.origin.offset.right=l.origin.offset.left+l.origin.size.width,l.available.document={bottom:{height:l.document.size.height-l.origin.offset.bottom,width:l.document.size.width},left:{height:l.document.size.height,width:l.origin.offset.left},right:{height:l.document.size.height,width:l.document.size.width-l.origin.offset.right},top:{height:l.origin.offset.top,width:l.document.size.width}},l.available.window={bottom:{height:Math.max(l.window.size.height-Math.max(l.origin.windowOffset.bottom,0),0),width:l.window.size.width},left:{height:l.window.size.height,width:Math.max(l.origin.windowOffset.left,0)},right:{height:l.window.size.height,width:Math.max(l.window.size.width-Math.max(l.origin.windowOffset.right,0),0)},top:{height:Math.max(l.origin.windowOffset.top,0),width:l.window.size.width}};"html"!=u[0].tagName.toLowerCase();){if("fixed"==u.css("position")){l.origin.fixedLineage=!0;break}u=u.parent()}return l},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),"string"==typeof this.__options.parent&&(this.__options.parent=t(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var e=this;return e.__options.selfDestruction?e.__garbageCollector=setInterval(function(){var n=(new Date).getTime();e.__touchEvents=t.grep(e.__touchEvents,function(t,e){return n-t.time>6e4}),i(e._$origin)||e.destroy()},2e4):clearInterval(e.__garbageCollector),e},__prepareOrigin:function(){var t=this;if(t._$origin.off("."+t.__namespace+"-triggerOpen"),a.hasTouchCapability&&t._$origin.on("touchstart."+t.__namespace+"-triggerOpen touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen",function(e){t._touchRecordEvent(e)}),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&a.hasTouchCapability){e="";t.__options.triggerOpen.click&&(e+="click."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.tap&&a.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&t._open(e)})}if(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&a.hasTouchCapability){e="";t.__options.triggerOpen.mouseenter&&(e+="mouseenter."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.touchstart&&a.hasTouchCapability&&(e+="touchstart."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){!t._touchIsTouchEvent(e)&&t._touchIsEmulatedEvent(e)||(t.__pointerIsOverOrigin=!0,t._openShortly(e))})}if(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&a.hasTouchCapability){var e="";t.__options.triggerClose.mouseleave&&(e+="mouseleave."+t.__namespace+"-triggerOpen "),t.__options.triggerClose.touchleave&&a.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&(t.__pointerIsOverOrigin=!1)})}return t},__prepareTooltip:function(){var e=this,n=e.__options.interactive?"auto":"";return e._$tooltip.attr("id",e.__namespace).css({"pointer-events":n,zIndex:e.__options.zIndex}),t.each(e.__previousThemes,function(t,n){e._$tooltip.removeClass(n)}),t.each(e.__options.theme,function(t,n){e._$tooltip.addClass(n)}),e.__previousThemes=t.merge([],e.__options.theme),e},__scrollHandler:function(e){if(this.__options.triggerClose.scroll)this._close(e);else if(i(this._$origin)&&i(this._$tooltip)){if(e.target===a.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(e);else{var n=this.__geometry(),r=!1;if("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(e,i){var o=t(i),a=o.css("overflow-x"),s=o.css("overflow-y");if("visible"!=a||"visible"!=s){var u=i.getBoundingClientRect();if("visible"!=a&&(n.origin.windowOffset.left<u.left||n.origin.windowOffset.right>u.right))return r=!0,!1;if("visible"!=s&&(n.origin.windowOffset.top<u.top||n.origin.windowOffset.bottom>u.bottom))return r=!0,!1}if("fixed"==o.css("position"))return!1}),r)this._$tooltip.css("visibility","hidden");else if(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)this.reposition(e);else{var o=n.origin.offset.left-this.__Geometry.origin.offset.left,s=n.origin.offset.top-this.__Geometry.origin.offset.top;this._$tooltip.css({left:this.__lastPosition.coord.left+o,top:this.__lastPosition.coord.top+s})}}this._trigger({type:"scroll",event:e})}return this},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,t.each(this.__timeouts.close,function(t,e){clearTimeout(e)}),this.__timeouts.close=[],this},__trackerStart:function(){var t=this,e=t._$tooltip.find(".tooltipster-content");return t.__options.trackTooltip&&(t.__contentBcr=e[0].getBoundingClientRect()),t.__tracker=setInterval(function(){if(i(t._$origin)&&i(t._$tooltip)){if(t.__options.trackOrigin){var r=t.__geometry(),o=!1;n(r.origin.size,t.__Geometry.origin.size)&&(t.__Geometry.origin.fixedLineage?n(r.origin.windowOffset,t.__Geometry.origin.windowOffset)&&(o=!0):n(r.origin.offset,t.__Geometry.origin.offset)&&(o=!0)),o||(t.__options.triggerClose.mouseleave?t._close():t.reposition())}if(t.__options.trackTooltip){var a=e[0].getBoundingClientRect();a.height===t.__contentBcr.height&&a.width===t.__contentBcr.width||(t.reposition(),t.__contentBcr=a)}}else t._close()},t.__options.trackerInterval),t},_close:function(e,n){var i=this,r=!0;if(i._trigger({type:"close",event:e,stop:function(){r=!1}}),r||i.__destroying){n&&i.__callbacks.close.push(n),i.__callbacks.open=[],i.__timeoutsClear();var o=function(){t.each(i.__callbacks.close,function(t,n){n.call(i,i,{event:e,origin:i._$origin[0]})}),i.__callbacks.close=[]};if("closed"!=i.__state){var s=!0,u=(new Date).getTime()+i.__options.animationDuration[1];if("disappearing"==i.__state&&u>i.__closingTime&&(s=!1),s){i.__closingTime=u,"disappearing"!=i.__state&&i.__stateSet("disappearing");var l=function(){clearInterval(i.__tracker),i._trigger({type:"closing",event:e}),i._$tooltip.off("."+i.__namespace+"-triggerClose").removeClass("tooltipster-dying"),t(a.window).off("."+i.__namespace+"-triggerClose"),i.__$originParents.each(function(e,n){t(n).off("scroll."+i.__namespace+"-triggerClose")}),i.__$originParents=null,t("body").off("."+i.__namespace+"-triggerClose"),i._$origin.off("."+i.__namespace+"-triggerClose"),i._off("dismissable"),i.__stateSet("closed"),i._trigger({type:"after",event:e}),i.__options.functionAfter&&i.__options.functionAfter.call(i,i,{event:e,origin:i._$origin[0]}),o()};a.hasTransitions?(i._$tooltip.css({"-moz-animation-duration":i.__options.animationDuration[1]+"ms","-ms-animation-duration":i.__options.animationDuration[1]+"ms","-o-animation-duration":i.__options.animationDuration[1]+"ms","-webkit-animation-duration":i.__options.animationDuration[1]+"ms","animation-duration":i.__options.animationDuration[1]+"ms","transition-duration":i.__options.animationDuration[1]+"ms"}),i._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),i.__options.animationDuration[1]>0&&i._$tooltip.delay(i.__options.animationDuration[1]),i._$tooltip.queue(l)):i._$tooltip.stop().fadeOut(i.__options.animationDuration[1],l)}}else o()}return i},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(e,n){var r=this;if(!r.__destroying&&i(r._$origin)&&r.__enabled){var o=!0;if("closed"==r.__state&&(r._trigger({type:"before",event:e,stop:function(){o=!1}}),o&&r.__options.functionBefore&&(o=r.__options.functionBefore.call(r,r,{event:e,origin:r._$origin[0]}))),!1!==o&&null!==r.__Content){n&&r.__callbacks.open.push(n),r.__callbacks.close=[],r.__timeoutsClear();var s,u=function(){"stable"!=r.__state&&r.__stateSet("stable"),t.each(r.__callbacks.open,function(t,e){e.call(r,r,{origin:r._$origin[0],tooltip:r._$tooltip[0]})}),r.__callbacks.open=[]};if("closed"!==r.__state)s=0,"disappearing"===r.__state?(r.__stateSet("appearing"),a.hasTransitions?(r._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),r.__options.animationDuration[0]>0&&r._$tooltip.delay(r.__options.animationDuration[0]),r._$tooltip.queue(u)):r._$tooltip.stop().fadeIn(u)):"stable"==r.__state&&u();else{if(r.__stateSet("appearing"),s=r.__options.animationDuration[0],r.__contentInsert(),r.reposition(e,!0),a.hasTransitions?(r._$tooltip.addClass("tooltipster-"+r.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":r.__options.animationDuration[0]+"ms","-ms-animation-duration":r.__options.animationDuration[0]+"ms","-o-animation-duration":r.__options.animationDuration[0]+"ms","-webkit-animation-duration":r.__options.animationDuration[0]+"ms","animation-duration":r.__options.animationDuration[0]+"ms","transition-duration":r.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=r.__state&&(r._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),r.__options.animationDuration[0]>0&&r._$tooltip.delay(r.__options.animationDuration[0]),r._$tooltip.queue(u))},0)):r._$tooltip.css("display","none").fadeIn(r.__options.animationDuration[0],u),r.__trackerStart(),t(a.window).on("resize."+r.__namespace+"-triggerClose",function(e){var n=t(document.activeElement);(n.is("input")||n.is("textarea"))&&t.contains(r._$tooltip[0],n[0])||r.reposition(e)}).on("scroll."+r.__namespace+"-triggerClose",function(t){r.__scrollHandler(t)}),r.__$originParents=r._$origin.parents(),r.__$originParents.each(function(e,n){t(n).on("scroll."+r.__namespace+"-triggerClose",function(t){r.__scrollHandler(t)})}),r.__options.triggerClose.mouseleave||r.__options.triggerClose.touchleave&&a.hasTouchCapability){r._on("dismissable",function(t){t.dismissable?t.delay?(f=setTimeout(function(){r._close(t.event)},t.delay),r.__timeouts.close.push(f)):r._close(t):clearTimeout(f)});var l=r._$origin,c="",h="",f=null;r.__options.interactive&&(l=l.add(r._$tooltip)),r.__options.triggerClose.mouseleave&&(c+="mouseenter."+r.__namespace+"-triggerClose ",h+="mouseleave."+r.__namespace+"-triggerClose "),r.__options.triggerClose.touchleave&&a.hasTouchCapability&&(c+="touchstart."+r.__namespace+"-triggerClose",h+="touchend."+r.__namespace+"-triggerClose touchcancel."+r.__namespace+"-triggerClose"),l.on(h,function(t){if(r._touchIsTouchEvent(t)||!r._touchIsEmulatedEvent(t)){var e="mouseleave"==t.type?r.__options.delay:r.__options.delayTouch;r._trigger({delay:e[1],dismissable:!0,event:t,type:"dismissable"})}}).on(c,function(t){!r._touchIsTouchEvent(t)&&r._touchIsEmulatedEvent(t)||r._trigger({dismissable:!1,event:t,type:"dismissable"})})}r.__options.triggerClose.originClick&&r._$origin.on("click."+r.__namespace+"-triggerClose",function(t){r._touchIsTouchEvent(t)||r._touchIsEmulatedEvent(t)||r._close(t)}),(r.__options.triggerClose.click||r.__options.triggerClose.tap&&a.hasTouchCapability)&&setTimeout(function(){if("closed"!=r.__state){var e="";r.__options.triggerClose.click&&(e+="click."+r.__namespace+"-triggerClose "),r.__options.triggerClose.tap&&a.hasTouchCapability&&(e+="touchend."+r.__namespace+"-triggerClose"),t("body").on(e,function(e){r._touchIsMeaningfulEvent(e)&&(r._touchRecordEvent(e),r.__options.interactive&&t.contains(r._$tooltip[0],e.target)||r._close(e))}),r.__options.triggerClose.tap&&a.hasTouchCapability&&t("body").on("touchstart."+r.__namespace+"-triggerClose",function(t){r._touchRecordEvent(t)})}},0),r._trigger("ready"),r.__options.functionReady&&r.__options.functionReady.call(r,r,{origin:r._$origin[0],tooltip:r._$tooltip[0]})}if(r.__options.timer>0){f=setTimeout(function(){r._close()},r.__options.timer+s);r.__timeouts.close.push(f)}}}return r},_openShortly:function(t){var e=this,n=!0;if("stable"!=e.__state&&"appearing"!=e.__state&&!e.__timeouts.open&&(e._trigger({type:"start",event:t,stop:function(){n=!1}}),n)){var i=0==t.type.indexOf("touch")?e.__options.delayTouch:e.__options.delay;i[0]?e.__timeouts.open=setTimeout(function(){e.__timeouts.open=null,e.__pointerIsOverOrigin&&e._touchIsMeaningfulEvent(t)?(e._trigger("startend"),e._open(t)):e._trigger("startcancel")},i[0]):(e._trigger("startend"),e._open(t))}return e},_optionsExtract:function(e,n){var i=this,r=t.extend(!0,{},n),o=i.__options[e];return o||(o={},t.each(n,function(t,e){var n=i.__options[t];void 0!==n&&(o[t]=n)})),t.each(r,function(e,n){void 0!==o[e]&&("object"!=typeof n||n instanceof Array||null==n||"object"!=typeof o[e]||o[e]instanceof Array||null==o[e]?r[e]=o[e]:t.extend(r[e],o[e]))}),r},_plug:function(e){var n=t.tooltipster._plugin(e);if(!n)throw new Error('The "'+e+'" plugin is not defined');return n.instance&&t.tooltipster.__bridge(n.instance,this,n.name),this},_touchIsEmulatedEvent:function(t){for(var e=!1,n=(new Date).getTime(),i=this.__touchEvents.length-1;i>=0;i--){var r=this.__touchEvents[i];if(!(n-r.time<500))break;r.target===t.target&&(e=!0)}return e},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var e=!1,n=this.__touchEvents.length-1;n>=0;n--){var i=this.__touchEvents[n];if("touchmove"==i.type){e=!0;break}if("touchstart"==i.type&&t===i.target)break}return e},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),e[0].instance=this,e[0].origin=this._$origin?this._$origin[0]:null,e[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),t.tooltipster._trigger.apply(t.tooltipster,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},_unplug:function(e){var n=this;if(n[e]){var i=t.tooltipster._plugin(e);i.instance&&t.each(i.instance,function(t,i){n[t]&&n[t].bridged===n[e]&&delete n[t]}),n[e].__destroy&&n[e].__destroy(),delete n[e]}return n},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var e=this;if(void 0===t)return e.__Content;if(e.__destroyed)e.__destroyError();else if(e.__contentSet(t),null!==e.__Content){if("closed"!==e.__state&&(e.__contentInsert(),e.reposition(),e.__options.updateAnimation))if(a.hasTransitions){var n=e.__options.updateAnimation;e._$tooltip.addClass("tooltipster-update-"+n),setTimeout(function(){"closed"!=e.__state&&e._$tooltip.removeClass("tooltipster-update-"+n)},1e3)}else e._$tooltip.fadeTo(200,.5,function(){"closed"!=e.__state&&e._$tooltip.fadeTo(200,1)})}else e._close();return e},destroy:function(){var e=this;return e.__destroyed?e.__destroyError():e.__destroying||(e.__destroying=!0,e._close(null,function(){e._trigger("destroy"),e.__destroying=!1,e.__destroyed=!0,e._$origin.removeData(e.__namespace).off("."+e.__namespace+"-triggerOpen"),t("body").off("."+e.__namespace+"-triggerOpen");var n=e._$origin.data("tooltipster-ns");if(n)if(1===n.length){var i=null;"previous"==e.__options.restoration?i=e._$origin.data("tooltipster-initialTitle"):"current"==e.__options.restoration&&(i="string"==typeof e.__Content?e.__Content:t("<div></div>").append(e.__Content).html()),i&&e._$origin.attr("title",i),e._$origin.removeClass("tooltipstered"),e._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,function(t,n){return t!==e.__namespace}),e._$origin.data("tooltipster-ns",n);e._trigger("destroyed"),e._off(),e.off(),e.__Content=null,e.__$emitterPrivate=null,e.__$emitterPublic=null,e.__options.parent=null,e._$origin=null,e._$tooltip=null,t.tooltipster.__instancesLatestArr=t.grep(t.tooltipster.__instancesLatestArr,function(t,n){return e!==t}),clearInterval(e.__garbageCollector)})),e},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed||this.__destroying?this.__destroyError():this._open(null,t),this},option:function(e,n){return void 0===n?this.__options[e]:(this.__destroyed?this.__destroyError():(this.__options[e]=n,this.__optionsFormat(),t.inArray(e,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===e&&this.__prepareGC()),this)},reposition:function(t,e){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&i(this._$origin)&&(e||i(this._$tooltip))&&(e||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:t,helper:{geo:this.__Geometry}})),this},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.fn.tooltipster=function(){var e=Array.prototype.slice.apply(arguments),n="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof e[0]){var i="#*$~&";return this.each(function(){var r=t(this).data("tooltipster-ns"),o=r?t(this).data(r[0]):null;if(!o)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof o[e[0]])throw new Error('Unknown method "'+e[0]+'"');this.length>1&&"content"==e[0]&&(e[1]instanceof t||"object"==typeof e[1]&&null!=e[1]&&e[1].tagName)&&!o.__options.contentCloning&&o.__options.debug&&console.log(n);var a=o[e[0]](e[1],e[2]);if(a!==o||"instance"===e[0])return i=a,!1}),"#*$~&"!==i?i:this}t.tooltipster.__instancesLatestArr=[];var o=e[0]&&void 0!==e[0].multiple,a=o&&e[0].multiple||!o&&r.multiple,s=e[0]&&void 0!==e[0].content,u=s&&e[0].content||!s&&r.content,l=e[0]&&void 0!==e[0].contentCloning,c=l&&e[0].contentCloning||!l&&r.contentCloning,h=e[0]&&void 0!==e[0].debug,f=h&&e[0].debug||!h&&r.debug;return this.length>1&&(u instanceof t||"object"==typeof u&&null!=u&&u.tagName)&&!c&&f&&console.log(n),this.each(function(){var n=!1,i=t(this),r=i.data("tooltipster-ns"),o=null;r?a?n=!0:f&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):n=!0,n&&(o=new t.Tooltipster(this,e[0]),r||(r=[]),r.push(o.__namespace),i.data("tooltipster-ns",r),i.data(o.__namespace,o),o.__options.functionInit&&o.__options.functionInit.call(o,o,{origin:this}),o._trigger("init")),t.tooltipster.__instancesLatestArr.push(o)}),this},e.prototype={__init:function(e){this.__$tooltip=e,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=t('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo("body")},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,e){return this.constraints={width:t,height:e},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),e={size:{height:t.height||t.bottom,width:t.width||t.right}};if(this.constraints){var n=this.__$tooltip.find(".tooltipster-content"),i=this.__$tooltip.outerHeight(),r=n[0].getBoundingClientRect(),o={height:i<=this.constraints.height,width:t.width<=this.constraints.width&&r.width>=n[0].scrollWidth-1};e.fits=o.height&&o.width}return a.IE&&a.IE<=11&&e.size.width!==a.window.document.documentElement.clientWidth&&(e.size.width=Math.ceil(e.size.width)+1),e}};var u=navigator.userAgent.toLowerCase();-1!=u.indexOf("msie")?a.IE=parseInt(u.split("msie")[1]):-1!==u.toLowerCase().indexOf("trident")&&-1!==u.indexOf(" rv:11")?a.IE=11:-1!=u.toLowerCase().indexOf("edge/")&&(a.IE=parseInt(u.toLowerCase().split("edge/")[1]));return t.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var e=this;e.__instance=t,e.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),e.__previousState="closed",e.__options,e.__optionsFormat(),e.__instance._on("state."+e.__namespace,function(t){"closed"==t.state?e.__close():"appearing"==t.state&&"closed"==e.__previousState&&e.__create(),e.__previousState=t.state}),e.__instance._on("options."+e.__namespace,function(){e.__optionsFormat()}),e.__instance._on("reposition."+e.__namespace,function(t){e.__reposition(t.event,t.helper)})},__close:function(){this.__instance.content()instanceof t&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var e=t('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||e.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&e.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&e.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=e,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),this.__options.distance.length<4&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]}),"string"==typeof this.__options.side){this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left")}6===t.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(e,n){var i,r=this,o=r.__targetFind(n),a=[];r.__instance._$tooltip.detach();var s=r.__instance._$tooltip.clone(),u=t.tooltipster._getRuler(s),l=!1,c=r.__instance.option("animation");switch(c&&s.removeClass("tooltipster-"+c),t.each(["window","document"],function(i,c){var h=null;if(r.__instance._trigger({container:c,helper:n,satisfied:l,takeTest:function(t){h=t},results:a,type:"positionTest"}),1==h||0!=h&&0==l&&("window"!=c||r.__options.viewportAware))for(i=0;i<r.__options.side.length;i++){var f={horizontal:0,vertical:0},p=r.__options.side[i];"top"==p||"bottom"==p?f.vertical=r.__options.distance[p]:f.horizontal=r.__options.distance[p],r.__sideChange(s,p),t.each(["natural","constrained"],function(t,i){if(h=null,r.__instance._trigger({container:c,event:e,helper:n,mode:i,results:a,satisfied:l,side:p,takeTest:function(t){h=t},type:"positionTest"}),1==h||0!=h&&0==l){var s={container:c,distance:f,fits:null,mode:i,outerSize:null,side:p,size:null,target:o[p],whole:null},d=("natural"==i?u.free():u.constrain(n.geo.available[c][p].width-f.horizontal,n.geo.available[c][p].height-f.vertical)).measure();if(s.size=d.size,s.outerSize={height:d.size.height+f.vertical,width:d.size.width+f.horizontal},"natural"==i?n.geo.available[c][p].width>=s.outerSize.width&&n.geo.available[c][p].height>=s.outerSize.height?s.fits=!0:s.fits=!1:s.fits=d.fits,"window"==c&&(s.fits?s.whole="top"==p||"bottom"==p?n.geo.origin.windowOffset.right>=r.__options.minIntersection&&n.geo.window.size.width-n.geo.origin.windowOffset.left>=r.__options.minIntersection:n.geo.origin.windowOffset.bottom>=r.__options.minIntersection&&n.geo.window.size.height-n.geo.origin.windowOffset.top>=r.__options.minIntersection:s.whole=!1),a.push(s),s.whole)l=!0;else if("natural"==s.mode&&(s.fits||s.size.width<=n.geo.available[c][p].width))return!1}})}}),r.__instance._trigger({edit:function(t){a=t},event:e,helper:n,results:a,type:"positionTested"}),a.sort(function(t,e){if(t.whole&&!e.whole)return-1;if(!t.whole&&e.whole)return 1;if(t.whole&&e.whole){return(n=r.__options.side.indexOf(t.side))<(i=r.__options.side.indexOf(e.side))?-1:n>i?1:"natural"==t.mode?-1:1}if(t.fits&&!e.fits)return-1;if(!t.fits&&e.fits)return 1;if(t.fits&&e.fits){var n=r.__options.side.indexOf(t.side),i=r.__options.side.indexOf(e.side);return n<i?-1:n>i?1:"natural"==t.mode?-1:1}return"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1}),i=a[0],i.coord={},i.side){case"left":case"right":i.coord.top=Math.floor(i.target-i.size.height/2);break;case"bottom":case"top":i.coord.left=Math.floor(i.target-i.size.width/2)}switch(i.side){case"left":i.coord.left=n.geo.origin.windowOffset.left-i.outerSize.width;break;case"right":i.coord.left=n.geo.origin.windowOffset.right+i.distance.horizontal;break;case"top":i.coord.top=n.geo.origin.windowOffset.top-i.outerSize.height;break;case"bottom":i.coord.top=n.geo.origin.windowOffset.bottom+i.distance.vertical}"window"==i.container?"top"==i.side||"bottom"==i.side?i.coord.left<0?n.geo.origin.windowOffset.right-this.__options.minIntersection>=0?i.coord.left=0:i.coord.left=n.geo.origin.windowOffset.right-this.__options.minIntersection-1:i.coord.left>n.geo.window.size.width-i.size.width&&(n.geo.origin.windowOffset.left+this.__options.minIntersection<=n.geo.window.size.width?i.coord.left=n.geo.window.size.width-i.size.width:i.coord.left=n.geo.origin.windowOffset.left+this.__options.minIntersection+1-i.size.width):i.coord.top<0?n.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?i.coord.top=0:i.coord.top=n.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:i.coord.top>n.geo.window.size.height-i.size.height&&(n.geo.origin.windowOffset.top+this.__options.minIntersection<=n.geo.window.size.height?i.coord.top=n.geo.window.size.height-i.size.height:i.coord.top=n.geo.origin.windowOffset.top+this.__options.minIntersection+1-i.size.height):(i.coord.left>n.geo.window.size.width-i.size.width&&(i.coord.left=n.geo.window.size.width-i.size.width),i.coord.left<0&&(i.coord.left=0)),r.__sideChange(s,i.side),n.tooltipClone=s[0],n.tooltipParent=r.__instance.option("parent").parent[0],n.mode=i.mode,n.whole=i.whole,n.origin=r.__instance._$origin[0],n.tooltip=r.__instance._$tooltip[0],delete i.container,delete i.fits,delete i.mode,delete i.outerSize,delete i.whole,i.distance=i.distance.horizontal||i.distance.vertical;var h=t.extend(!0,{},i);if(r.__instance._trigger({edit:function(t){i=t},event:e,helper:n,position:h,type:"position"}),r.__options.functionPosition){var f=r.__options.functionPosition.call(r,r.__instance,n,h);f&&(i=f)}u.destroy();var p,d;"top"==i.side||"bottom"==i.side?(p={prop:"left",val:i.target-i.coord.left},d=i.size.width-this.__options.minIntersection):(p={prop:"top",val:i.target-i.coord.top},d=i.size.height-this.__options.minIntersection),p.val<this.__options.minIntersection?p.val=this.__options.minIntersection:p.val>d&&(p.val=d);var g;g=n.geo.origin.fixedLineage?n.geo.origin.windowOffset:{left:n.geo.origin.windowOffset.left+n.geo.window.scroll.left,top:n.geo.origin.windowOffset.top+n.geo.window.scroll.top},i.coord={left:g.left+(i.coord.left-n.geo.origin.windowOffset.left),top:g.top+(i.coord.top-n.geo.origin.windowOffset.top)},r.__sideChange(r.__instance._$tooltip,i.side),n.geo.origin.fixedLineage?r.__instance._$tooltip.css("position","fixed"):r.__instance._$tooltip.css("position",""),r.__instance._$tooltip.css({left:i.coord.left,top:i.coord.top,height:i.size.height,width:i.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(p.prop,p.val),r.__instance._$tooltip.appendTo(r.__instance.option("parent")),r.__instance._trigger({type:"repositioned",event:e,position:i})},__sideChange:function(t,e){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+e)},__targetFind:function(t){var e={},n=this.__instance._$origin[0].getClientRects();if(n.length>1){1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),n=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1))}if(n.length<2)e.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),e.bottom=e.top,e.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),e.right=e.left;else{var i=n[0];e.top=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil(n.length/2)-1]:n[0],e.right=Math.floor(i.top+(i.bottom-i.top)/2),i=n[n.length-1],e.bottom=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil((n.length+1)/2)-1]:n[n.length-1],e.left=Math.floor(i.top+(i.bottom-i.top)/2)}return e}}}),t}),function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},r=n.prototype,o=i.prototype,a=t.FileReaderSync,s=function(t){this.code=this[this.name=t]},u="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),l=u.length,c=t.URL||t.webkitURL||t,h=c.createObjectURL,f=c.revokeObjectURL,p=c,d=t.btoa,g=t.atob,m=t.ArrayBuffer,v=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;l--;)s.prototype[u[l]]=l+1;return c.createObjectURL||(p=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(y),n.origin=e&&e[1])),n}),p.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof i?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):d?e+";base64,"+d(t.data):e+","+encodeURIComponent(t.data)):h?h.call(c,t):void 0},p.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&f&&f.call(c,t)},r.append=function(t){var n=this.data;if(v&&(t instanceof m||t instanceof v)){for(var r="",o=new v(t),u=0,l=o.length;u<l;u++)r+=String.fromCharCode(o[u]);n.push(r)}else if("Blob"===e(t)||"File"===e(t)){if(!a)throw new s("NOT_READABLE_ERR");var c=new a;n.push(c.readAsBinaryString(t))}else t instanceof i?"base64"===t.encoding&&g?n.push(g(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new i(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(t,r>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,n){var i=n?n.type||"":"",r=new e;if(t)for(var o=0,a=t.length;o<a;o++)Uint8Array&&t[o]instanceof Uint8Array?r.append(t[o].buffer):r.append(t[o]);var s=r.getBlob(i);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=n(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(t){var e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n={},i="",r=function(){var e=u.apply(this);""==e&&(this.get(0)==t(document).get(0)?e=document.location.href:this.is("[href]")?e=this.attr("href"):this.is("[src]")&&(e=this.attr("src")),""!=e&&(e=d(e),this.data("href",e)))},o=function(t,e){0!=this.is("["+t+"]")&&(null==this.data("original-"+t)&&this.data("original-"+t,this.attr(t)),this.attr(t,e))},a=function(t){null!=this.data("original-"+t)&&(this.attr(t,this.data("original-"+t)),this.removeData("original-"+t))},s=function(){this.removeData("href"),a.apply(this,["href"]),a.apply(this,["src"]),this.removeData("jurlp-no-watch"),this.removeData("is-watched"),T.unwatch.apply(this)},u=function(){return this.href||this.data("href")||this.attr("href")||this.attr("src")||""},l=function(t,e){h.apply(this,[g(u.apply(this),t,e)])},c=function(t){l.apply(this,[t[0],t[1]])},h=function(e){"object"==typeof e&&(e=p(e)),e=d(e),null==this.href?this.get(0)==t(document).get(0)?this.data("href",e):(o.apply(this,["href",e]),o.apply(this,["src",e])):this.href=e},f=function(t){if(null==t)return{scheme:"",user:"",password:"",host:"",port:"",path:"",query:"",fragment:""};var n={user:"",password:""};if("//"==t.substring(0,2)&&(t="http:"+t),""!=t&&-1==t.indexOf("://")&&(t="http://"+t),-1!=t.indexOf("@")){var i=t.match(e);i[4]&&(n.user=i[4]),i[5]&&(n.password=i[5])}var r=document.createElement("a");r.href=t;try{r.protocol}catch(e){if(-2146697202==e.number){var o="";""!=n.user&&(o+=n.user,""!=n.password&&(o+=":"+n.password),o+="@",r.href=t.replace(o,""))}}var a=r.protocol;-1==r.protocol.indexOf("//")&&(a+="//");var s=r.pathname;"/"!=s[0]&&(s="/"+s);var u=r.port+"";return("21"==u&&-1==t.indexOf(":21")||"80"==u&&-1==t.indexOf(":80")||"443"==u&&-1==t.indexOf(":443")||"0"==u)&&(u=""),{scheme:a,user:n.user,password:n.password,host:r.hostname,port:u,path:s,query:r.search,fragment:r.hash}},p=function(t){var e=t.scheme;return null!=t.user&&""!=t.user&&(e+=t.user,null!=t.password&&""!=t.password&&(e+=":"+t.password),e+="@"),e+t.host+(""!=t.port?":"+t.port:"")+t.path+t.query+t.fragment},d=function(t){return x.parse(t).toString()},g=function(t,e,n){var i=x.parse(t);return i[e]=n,p(i)},m=function(t){return"string"==typeof t?x.parse(t):t},v=function(e){var n={},i=w(u.apply(this));"string"==typeof e?("?"==e[0]&&(i={},e=e.substring(1)),n=y(e)):n=e,0==t.isEmptyObject(n)?n=t.extend(i,n):i={},l.apply(this,["query",_.apply(n)])},y=function(t){var e={};if(""!=t)for(var n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");e[r[0]]=r[1]}return e},w=function(t){return y(function(t){var e=m(t).query;return"?"==e[0]?e.slice(1):e}(t))},_=function(){var t="";for(var e in this)"toString"!=e&&null!=this[e]&&(t+="&"+e+"="+this[e]);return"&"==t[0]&&(t="?"+t.slice(1)),t},b=function(t){var e=m(u.apply(this)).path.split("/"),n=t.split("/"),i=0;""==n[0]&&(e=[],i++),e.splice(0,1);for(var r=n.length;i<r;i++)".."==n[i]?e.length>0&&e.splice(e.length-1,1):"."==n[i]||e.push(n[i]);l.apply(this,["path",$.apply(e)])},$=function(){return this.length>0?"/"+this.join("/"):"/"},S=function(t,e,r){1!=t.data("is-watched")&&n[i]&&n[i].push([e,r])},C=function(e,n){return null!=this.href?(e.apply(this,[n]),this):(S(this,e,[n]),this.each(function(){e.apply(t(this),[n])}))},k=function(e,n){if(null!=this.href)return e.apply(this,[n]);var i=[];return this.each(function(){i.push(e.apply(t(this),[n]))}),i},z=function(t,e,n){return 0==n.length?t.apply(this):e.apply(this,n)},x={toString:{http:function(){return p(this)},mailto:function(){return this.password="",this.path="",this.port="",p(this)},javascript:function(){return"javascript:"+this.javascript},generic:function(){return this.scheme+this.url}},parsers:{http:function(e){return t.extend(f(e),{toString:x.toString.http})},mailto:function(e){return t.extend(f(e.substring(7)),{scheme:"mailto:",toString:x.toString.mailto})},javascript:function(e){return t.extend(f(document.location.href),{javascript:e.substring(11),toString:x.toString.javascript})},generic:function(e,n){return"//"==n.substring(0,2)?t.extend(f(n.substring(2)),{scheme:e+"://",toString:x.toString.http}):{scheme:e+":",url:n,toString:x.toString.generic}}},parse:function(t){if("string"!=typeof t)return t;var e=t.indexOf(":");if(-1!=e){var n=t.substring(0,e).toLowerCase();return null!=this.parsers[n]?this.parsers[n](t):this.parsers.generic(n,t.substring(e+1))}return this.parsers.http(t)}},E={getUrl:function(){return k.apply(this,[u,null])},setUrl:function(t){h.apply(this,[t])},parseUrl:function(){return k.apply(this,[function(){return x.parse(u.apply(this))},null])},getFragment:function(){return k.apply(this,[function(){return function(t){return m(t).fragment}(u.apply(this))},null])},setFragment:function(t){return"#"!=t[0]&&(t="#"+t),C.apply(this,[c,["fragment",t]])},getQuery:function(){return k.apply(this,[function(){return t.extend(w(u.apply(this)),{toString:_})},null])},setQuery:function(t){return C.apply(this,[v,t])},getPath:function(){return k.apply(this,[function(){return t.extend(function(t){var e=function(t){var e=m(t).path;return"/"==e[0]?e.slice(1):e}(t);return""!=e?e.split("/"):[]}(u.apply(this)),{toString:$})},null])},setPath:function(t){return C.apply(this,[b,t])},getPort:function(){return k.apply(this,[function(){return function(t){return m(t).port}(u.apply(this))},null])},setPort:function(t){return C.apply(this,[c,["port",t]])},getHost:function(){return k.apply(this,[function(){return function(t){return m(t).host}(u.apply(this))},null])},setHost:function(t){return C.apply(this,[c,["host",t]])},getPassword:function(){return k.apply(this,[function(){return function(t){return m(t).password}(u.apply(this))},null])},setPassword:function(t){return C.apply(this,[c,["password",t]])},getUser:function(){return k.apply(this,[function(){return function(t){return m(t).user}(u.apply(this))},null])},setUser:function(t){return C.apply(this,[c,["user",t]])},getScheme:function(){return k.apply(this,[function(){return function(t){return m(t).scheme}(u.apply(this))},null])},setScheme:function(t){return C.apply(this,[c,["scheme",t]])},filters:{"=":function(t,e){return t==e},"!=":function(t,e){return t!=e},"<":function(t,e){return t<e},">":function(t,e){return t>e},"<=":function(t,e){return t<=e},">=":function(t,e){return t>=e},"*=":function(t,e){return-1!=t.indexOf(e)},"^=":function(t,e){return t.length>=e.length&&t.substring(0,e.length)==e},"$=":function(t,e){return t.length>=e.length&&t.substring(t.length-e.length)==e},regex:function(t,e){return t.match(e)}}},T={url:function(t){return z.apply(this,[E.parseUrl,E.setUrl,arguments])},fragment:function(t){return z.apply(this,[E.getFragment,E.setFragment,arguments])},query:function(t){return z.apply(this,[E.getQuery,E.setQuery,arguments])},path:function(t){return z.apply(this,[E.getPath,E.setPath,arguments])},port:function(t){return z.apply(this,[E.getPort,E.setPort,arguments])},host:function(t){return z.apply(this,[E.getHost,E.setHost,arguments])},password:function(t){return z.apply(this,[E.getPassword,E.setPassword,arguments])},user:function(t){return z.apply(this,[E.getUser,E.setUser,arguments])},scheme:function(t){return z.apply(this,[E.getScheme,E.setScheme,arguments])},initialise:function(){var e=this,n=[];return null!=(n=function(){if(this.get(0)!=t(document).get(0)&&null==this.attr("href")&&null==this.attr("src")&&null!=this.html()&&0==this.hasClass("jurlp-span")){for(var e=[],n=!1,i="",r=/((((mailto|spotify|skype)\:([a-zA-Z0-9\.\-\:@\?\=\%]*))|((ftp|git|irc|ircs|irc6|pop|rss|ssh|svn|udp|feed|imap|ldap|nntp|rtmp|sftp|snmp|xmpp|http|https|telnet|ventrilo|webcal|view\-source)\:[\/]{2})?(([a-zA-Z0-9\.\-]+)\:([a-zA-Z0-9\.&;%\$\-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|localhost|([a-zA-Z0-9\-]+\.)*[a-zA-Z0-9\-]+\.(aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|[a-zA-Z]{2}))(\:[0-9]+)*(\/($|[a-zA-Z0-9\.\,\?\'\\\+&;%\$\=~_\-]+)?(#\w*)?)*))/i,o=this.html();i=r.exec(o);)o=o.replace(i[0],"$"+e.length),e.push(i[0]),n=!0;for(var a=0;a<e.length;a++){var s=o.indexOf("$"+a),l=o.substring(s-6,s-1);o="href="==l||" src="==l||">"==o.substring(s-1,s)?o.replace("$"+a,e[a]):o.replace("$"+a,'<a href="[url]" class="jurlp-no-watch">[url]</a>'.replace(/\[url\]/g,e[a]))}if(0!=n)return this.addClass("jurlp-span"),this.html(o),this.find("a[href]").each(function(){var e=u.apply(t(this));h.apply(t(this),[e])})}return null}.apply(t(this)))?C.apply(this.filter(function(){return t(this).get(0)!=t(e).get(0)}).add(n),[r]):C.apply(e,[r])},restore:function(){return C.apply(this,[s])},goto:function(){document.location.href=u.apply(this)},proxy:function(t,e){var n=u.apply(this),i={};h.apply(this,[p(m(t))]),i[e]=n,E.setQuery.apply(this,[i])},watch:function(e){var r=this.selector;return null==n[i]&&(n[i]=[],t(document).bind("DOMNodeInserted",function i(o){if(null!=n[r]){var a=t(o.target).filter(r);if(null==a.get(0)&&(a=t(o.target).find(r)),a.length>0&&0==a.is(".jurlp-no-watch")){var s=!1;a.data("is-watched",!0);for(var u=0,l=n[r].length;u<l;u++){var c=n[r][u][0].apply(a,n[r][u][1]);if(null!=c&&0==c.length){s=!0;break}}0==s&&"function"==typeof e&&a.each(function(){e(t(this),r)})}}else t(document).unbind("DOMNodeInserted",i)})),this},unwatch:function(){n[this.selector]=null},filter:function(e,n,i){var r=x.parse(u.apply(this));return"=="==n&&(n="="),"url"!=e&&null==r[e]||null==E.filters[n]?this:(S(this,T.filter,[e,n,i]),this.filter(function(){var r=u.apply(t(this)),o="";return o="url"!=e?x.parse(r)[e]:r,"port"==e&&(o=parseInt(o,10),i=parseInt(i,10)),E.filters[n].apply(t(this),[o,i])}))},interface:function(){return T}};t.fn.jurlp=function(t){return-1==this.selector.indexOf(".filter")&&(i=this.selector),C.apply(this,[r]),function(t){return null!=T[t]?T[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"==typeof t||null==t?T.initialise.apply(this,Array.prototype.slice.call(arguments,1)):this}.apply(this,arguments)},t.jurlp=function(e){return{href:e||document.location.href,url:T.url,scheme:T.scheme,user:T.user,password:T.password,host:T.host,port:T.port,path:T.path,query:T.query,fragment:T.fragment,proxy:T.proxy,goto:T.goto,watch:function(e){var n=this.host();return t('[href*="'+n+'"],[src*="'+n+'"]').jurlp("watch",e)},unwatch:function(){var e=this.host();return t('[href*="'+e+'"],[src*="'+e+'"]').jurlp("unwatch")}}}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,n,i){var r={init:function(e,n){var i=this;i.elem=n,i.$elem=t(n),i.options=t.extend({},t.fn.elevateZoom.options,e),i.options.imageSrc?i.imageSrc=i.options.imageSrc:i.$elem.data("zoom-image")?i.imageSrc=i.$elem.data("zoom-image"):i.imageSrc=i.$elem.attr("src"),i.options.tint&&(i.options.lensColour="none",i.options.lensOpacity="1"),"inner"==i.options.zoomType&&(i.options.showLens=!1),i.$elem.parent().removeAttr("title").removeAttr("alt"),i.zoomImage=i.imageSrc,i.refresh(1),t("#"+i.options.gallery+" a").click(function(e){return i.options.galleryActiveClass&&(t("#"+i.options.gallery+" a").removeClass(i.options.galleryActiveClass),t(this).addClass(i.options.galleryActiveClass)),e.preventDefault(),t(this).data("zoom-image")?i.zoomImagePre=t(this).data("zoom-image"):i.zoomImagePre=t(this).data("image"),i.swaptheimage(t(this).data("image"),i.zoomImagePre),!1})},refresh:function(t){var e=this;setTimeout(function(){e.fetch(e.imageSrc)},t||e.options.refresh)},fetch:function(t){var e=this,n=new Image;n.onload=function(){e.largeWidth=n.width,e.largeHeight=n.height,e.startZoom(),e.currentImage=e.imageSrc,e.options.onZoomedImageLoaded(e.$elem)},n.src=t},startZoom:function(){var e=this;if(e.nzWidth=e.$elem.width(),e.nzHeight=e.$elem.height(),e.isWindowActive=!1,e.isLensActive=!1,e.isTintActive=!1,e.overWindow=!1,e.options.imageCrossfade&&(e.zoomWrap=e.$elem.wrap('<div style="height:'+e.nzHeight+"px;width:"+e.nzWidth+'px;" class="zoomWrapper" />'),e.$elem.css("position","absolute")),e.zoomLock=1,e.scrollingLock=!1,e.changeBgSize=!1,e.currentZoomLevel=e.options.zoomLevel,e.nzOffset=e.$elem.offset(),e.widthRatio=e.largeWidth/e.currentZoomLevel/e.nzWidth,e.heightRatio=e.largeHeight/e.currentZoomLevel/e.nzHeight,"window"==e.options.zoomType&&(e.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(e.options.zoomWindowBgColour)+";width: "+String(e.options.zoomWindowWidth)+"px;height: "+String(e.options.zoomWindowHeight)+"px;float: left;background-size: "+e.largeWidth/e.currentZoomLevel+"px "+e.largeHeight/e.currentZoomLevel+"px;display: none;z-index:100;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==e.options.zoomType){var n=e.$elem.css("border-left-width");e.zoomWindowStyle="overflow: hidden;margin-left: "+String(n)+";margin-top: "+String(n)+";background-position: 0px 0px;width: "+String(e.nzWidth)+"px;height: "+String(e.nzHeight)+"px;px;float: left;display: none;cursor:"+e.options.cursor+";px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==e.options.zoomType&&(e.nzHeight<e.options.zoomWindowWidth/e.widthRatio?lensHeight=e.nzHeight:lensHeight=String(e.options.zoomWindowHeight/e.heightRatio),e.largeWidth<e.options.zoomWindowWidth?lensWidth=e.nzWidth:lensWidth=e.options.zoomWindowWidth/e.widthRatio,e.lensStyle="background-position: 0px 0px;width: "+String(e.options.zoomWindowWidth/e.widthRatio)+"px;height: "+String(e.options.zoomWindowHeight/e.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+e.options.lensOpacity+";filter: alpha(opacity = "+100*e.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+e.options.lensColour+";cursor:"+e.options.cursor+";border: "+e.options.lensBorderSize+"px solid "+e.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),e.tintStyle="display: block;position: absolute;background-color: "+e.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+e.nzWidth+"px;height: "+e.nzHeight+"px;",e.lensRound="","lens"==e.options.zoomType&&(e.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";width:"+String(e.options.lensSize)+"px;height:"+String(e.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==e.options.lensShape&&(e.lensRound="border-top-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-top-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;"),e.zoomContainer=t('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:fixed;left:'+e.nzOffset.left+"px;top:"+e.nzOffset.top+"px;height:"+e.nzHeight+"px;width:"+e.nzWidth+'px;"></div>'),e.$elem.after(e.zoomContainer),e.options.containLensZoom&&"lens"==e.options.zoomType&&e.zoomContainer.css("overflow","hidden"),"inner"!=e.options.zoomType&&(e.zoomLens=t("<div class='zoomLens' style='"+e.lensStyle+e.lensRound+"'>&nbsp;</div>").appendTo(e.zoomContainer).click(function(){e.$elem.trigger("click")}),e.options.tint&&(e.tintContainer=t("<div/>").addClass("tintContainer"),e.zoomTint=t("<div class='zoomTint' style='"+e.tintStyle+"'></div>"),e.zoomLens.wrap(e.tintContainer),e.zoomTintcss=e.zoomLens.after(e.zoomTint),e.zoomTintImage=t('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+e.nzWidth+"px; height: "+e.nzHeight+'px;" src="'+e.imageSrc+'">').appendTo(e.zoomLens).click(function(){e.$elem.trigger("click")}))),isNaN(e.options.zoomWindowPosition)?e.zoomWindow=t("<div style='z-index:999;left:"+e.windowOffsetLeft+"px;top:"+e.windowOffsetTop+"px;"+e.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){e.$elem.trigger("click")}):e.zoomWindow=t("<div style='z-index:999;left:"+e.windowOffsetLeft+"px;top:"+e.windowOffsetTop+"px;"+e.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(e.zoomContainer).click(function(){e.$elem.trigger("click")}),e.zoomWindowContainer=t("<div/>").addClass("zoomWindowContainer").css("width",e.options.zoomWindowWidth),e.zoomWindow.wrap(e.zoomWindowContainer),"lens"==e.options.zoomType&&e.zoomLens.css({backgroundImage:"url('"+e.imageSrc+"')"}),"window"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+e.imageSrc+"')"}),"inner"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+e.imageSrc+"')"}),e.$elem.bind("touchmove",function(t){t.preventDefault();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(n)}),e.zoomContainer.bind("touchmove",function(t){"inner"==e.options.zoomType&&e.showHideWindow("show"),t.preventDefault();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(n)}),e.zoomContainer.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")}),e.$elem.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")}),e.options.showLens&&(e.zoomLens.bind("touchmove",function(t){t.preventDefault();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(n)}),e.zoomLens.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")})),e.$elem.bind("mousemove",function(t){0==e.overWindow&&e.setElements("show"),e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.zoomContainer.bind("mousemove",function(t){0==e.overWindow&&e.setElements("show"),e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),"inner"!=e.options.zoomType&&e.zoomLens.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.options.tint&&"inner"!=e.options.zoomType&&e.zoomTint.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),"inner"==e.options.zoomType&&e.zoomWindow.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.zoomContainer.add(e.$elem).mouseenter(function(){0==e.overWindow&&e.setElements("show")}).mouseleave(function(){e.scrollLock||(e.setElements("hide"),e.options.onDestroy(e.$elem))}),"inner"!=e.options.zoomType&&e.zoomWindow.mouseenter(function(){e.overWindow=!0,e.setElements("hide")}).mouseleave(function(){e.overWindow=!1}),e.options.zoomLevel,e.options.minZoomLevel?e.minZoomLevel=e.options.minZoomLevel:e.minZoomLevel=2*e.options.scrollZoomIncrement,e.options.scrollZoom&&e.zoomContainer.add(e.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(n){e.scrollLock=!0,clearTimeout(t.data(this,"timer")),t.data(this,"timer",setTimeout(function(){e.scrollLock=!1},250));var i=n.originalEvent.wheelDelta||-1*n.originalEvent.detail;return n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault(),i/120>0?e.currentZoomLevel>=e.minZoomLevel&&e.changeZoomLevel(e.currentZoomLevel-e.options.scrollZoomIncrement):e.options.maxZoomLevel?e.currentZoomLevel<=e.options.maxZoomLevel&&e.changeZoomLevel(parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement):e.changeZoomLevel(parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement),!1})},setElements:function(t){if(!this.options.zoomEnabled)return!1;"show"==t&&this.isWindowSet&&("inner"==this.options.zoomType&&this.showHideWindow("show"),"window"==this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner"!=this.options.zoomType&&this.showHideTint("show")),"hide"==t&&("window"==this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide"))},setPosition:function(t){if(!this.options.zoomEnabled)return!1;this.nzHeight=this.$elem.height(),this.nzWidth=this.$elem.width(),this.nzOffset=this.$elem.offset(),this.options.tint&&"inner"!=this.options.zoomType&&(this.zoomTint.css({top:0}),this.zoomTint.css({left:0})),this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.largeWidth<this.options.zoomWindowWidth?lensWidth=this.nzWidth:lensWidth=this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens"!=this.options.zoomType&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.nzWidth<this.options.zoomWindowHeight/this.heightRatio?lensWidth=this.nzWidth:lensWidth=String(this.options.zoomWindowWidth/this.widthRatio),this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight),this.options.tint&&(this.zoomTintImage.css("width",this.nzWidth),this.zoomTintImage.css("height",this.nzHeight))),"lens"==this.options.zoomType&&this.zoomLens.css({width:String(this.options.lensSize)+"px",height:String(this.options.lensSize)+"px"})),this.zoomContainer.css({top:this.nzOffset.top}),this.zoomContainer.css({left:this.nzOffset.left}),this.mouseLeft=parseInt(t.pageX-this.nzOffset.left),this.mouseTop=parseInt(t.pageY-this.nzOffset.top),"window"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.zoomLens.height()/2,this.Eboppos=this.mouseTop>this.nzHeight-this.zoomLens.height()/2-2*this.options.lensBorderSize,this.Eloppos=this.mouseLeft<0+this.zoomLens.width()/2,this.Eroppos=this.mouseLeft>this.nzWidth-this.zoomLens.width()/2-2*this.options.lensBorderSize),"inner"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/2/this.heightRatio,this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<0+this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize),this.mouseLeft<0||this.mouseTop<0||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=String(Math.floor(this.mouseLeft-this.zoomLens.width()/2)),this.lensTopPos=String(Math.floor(this.mouseTop-this.zoomLens.height()/2))),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.windowLeftPos=0,this.lensLeftPos=0,this.tintpos=0),"window"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"==this.options.zoomType&&(this.windowLeftPos=String(-1*((t.pageX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2)),this.windowTopPos=String(-1*((t.pageY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2)),this.zoomLens.css({backgroundPosition:this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=!1),this.setWindowPostition(t)),this.options.tint&&"inner"!=this.options.zoomType&&this.setTintPosition(t),"window"==this.options.zoomType&&this.setWindowPostition(t),"inner"==this.options.zoomType&&this.setWindowPostition(t),this.options.showLens&&(this.fullwidth&&"lens"!=this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos+"px",top:this.lensTopPos+"px"})))},showHideWindow:function(t){var e=this;"show"==t&&(e.isWindowActive||(e.options.zoomWindowFadeIn?e.zoomWindow.stop(!0,!0,!1).fadeIn(e.options.zoomWindowFadeIn):e.zoomWindow.show(),e.isWindowActive=!0)),"hide"==t&&e.isWindowActive&&(e.options.zoomWindowFadeOut?e.zoomWindow.stop(!0,!0).fadeOut(e.options.zoomWindowFadeOut,function(){e.loop&&(clearInterval(e.loop),e.loop=!1)}):e.zoomWindow.hide(),e.isWindowActive=!1)},showHideLens:function(t){"show"==t&&(this.isLensActive||(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show(),this.isLensActive=!0)),"hide"==t&&this.isLensActive&&(this.options.lensFadeOut?this.zoomLens.stop(!0,!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide(),this.isLensActive=!1)},showHideTint:function(t){"show"==t&&(this.isTintActive||(this.options.zoomTintFadeIn?this.zoomTint.css({opacity:this.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(this.zoomTint.css({opacity:this.options.tintOpacity}).animate(),this.zoomTint.show()),this.isTintActive=!0)),"hide"==t&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),this.isTintActive=!1)},setLensPostition:function(t){},setWindowPostition:function(e){var n=this;if(isNaN(n.options.zoomWindowPosition))n.externalContainer=t("#"+n.options.zoomWindowPosition),n.externalContainerWidth=n.externalContainer.width(),n.externalContainerHeight=n.externalContainer.height(),n.externalContainerOffset=n.externalContainer.offset(),n.windowOffsetTop=n.externalContainerOffset.top,n.windowOffsetLeft=n.externalContainerOffset.left;else switch(n.options.zoomWindowPosition){case 1:n.windowOffsetTop=n.options.zoomWindowOffety,n.windowOffsetLeft=+n.nzWidth;break;case 2:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=-1*(n.options.zoomWindowHeight/2-n.nzHeight/2),n.windowOffsetLeft=n.nzWidth);break;case 3:n.windowOffsetTop=n.nzHeight-n.zoomWindow.height()-2*n.options.borderSize,n.windowOffsetLeft=n.nzWidth;break;case 4:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=n.nzWidth;break;case 5:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=n.nzWidth-n.zoomWindow.width()-2*n.options.borderSize;break;case 6:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=-1*(n.options.zoomWindowWidth/2-n.nzWidth/2+2*n.options.borderSize));break;case 7:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=0;break;case 8:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 9:n.windowOffsetTop=n.nzHeight-n.zoomWindow.height()-2*n.options.borderSize,n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 10:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=-1*(n.options.zoomWindowHeight/2-n.nzHeight/2),n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize));break;case 11:n.windowOffsetTop=n.options.zoomWindowOffety,n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 12:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 13:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=0;break;case 14:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=-1*(n.options.zoomWindowWidth/2-n.nzWidth/2+2*n.options.borderSize));break;case 15:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=n.nzWidth-n.zoomWindow.width()-2*n.options.borderSize;break;case 16:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=n.nzWidth;break;default:n.windowOffsetTop=n.options.zoomWindowOffety,n.windowOffsetLeft=n.nzWidth}n.isWindowSet=!0,n.windowOffsetTop=n.windowOffsetTop+n.options.zoomWindowOffety,n.windowOffsetLeft=n.windowOffsetLeft+n.options.zoomWindowOffetx,n.zoomWindow.css({top:n.windowOffsetTop}),n.zoomWindow.css({left:n.windowOffsetLeft}),"inner"==n.options.zoomType&&(n.zoomWindow.css({top:0}),n.zoomWindow.css({left:0})),n.windowLeftPos=String(-1*((e.pageX-n.nzOffset.left)*n.widthRatio-n.zoomWindow.width()/2)),n.windowTopPos=String(-1*((e.pageY-n.nzOffset.top)*n.heightRatio-n.zoomWindow.height()/2)),n.Etoppos&&(n.windowTopPos=0),n.Eloppos&&(n.windowLeftPos=0),n.Eboppos&&(n.windowTopPos=-1*(n.largeHeight/n.currentZoomLevel-n.zoomWindow.height())),n.Eroppos&&(n.windowLeftPos=-1*(n.largeWidth/n.currentZoomLevel-n.zoomWindow.width())),n.fullheight&&(n.windowTopPos=0),n.fullwidth&&(n.windowLeftPos=0),"window"!=n.options.zoomType&&"inner"!=n.options.zoomType||(1==n.zoomLock&&(n.widthRatio<=1&&(n.windowLeftPos=0),n.heightRatio<=1&&(n.windowTopPos=0)),"window"==n.options.zoomType&&(n.largeHeight<n.options.zoomWindowHeight&&(n.windowTopPos=0),n.largeWidth<n.options.zoomWindowWidth&&(n.windowLeftPos=0)),n.options.easing?(n.xp||(n.xp=0),n.yp||(n.yp=0),n.loop||(n.loop=setInterval(function(){n.xp+=(n.windowLeftPos-n.xp)/n.options.easingAmount,n.yp+=(n.windowTopPos-n.yp)/n.options.easingAmount,n.scrollingLock?(clearInterval(n.loop),n.xp=n.windowLeftPos,n.yp=n.windowTopPos,n.xp=-1*((e.pageX-n.nzOffset.left)*n.widthRatio-n.zoomWindow.width()/2),n.yp=-1*((e.pageY-n.nzOffset.top)*n.heightRatio-n.zoomWindow.height()/2),n.changeBgSize&&(n.nzHeight>n.nzWidth?("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})):("lens"!=n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"})),n.changeBgSize=!1),n.zoomWindow.css({backgroundPosition:n.windowLeftPos+"px "+n.windowTopPos+"px"}),n.scrollingLock=!1,n.loop=!1):Math.round(Math.abs(n.xp-n.windowLeftPos)+Math.abs(n.yp-n.windowTopPos))<1?(clearInterval(n.loop),n.zoomWindow.css({backgroundPosition:n.windowLeftPos+"px "+n.windowTopPos+"px"}),n.loop=!1):(n.changeBgSize&&(n.nzHeight>n.nzWidth?("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})):("lens"!=n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"})),n.changeBgSize=!1),n.zoomWindow.css({backgroundPosition:n.xp+"px "+n.yp+"px"}))},16))):(n.changeBgSize&&(n.nzHeight>n.nzWidth?("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})):("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"}),n.largeHeight/n.newvaluewidth<n.options.zoomWindowHeight?n.zoomWindow.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"}):n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})),n.changeBgSize=!1),n.zoomWindow.css({backgroundPosition:n.windowLeftPos+"px "+n.windowTopPos+"px"})))},setTintPosition:function(t){this.nzOffset=this.$elem.offset(),this.tintpos=String(-1*(t.pageX-this.nzOffset.left-this.zoomLens.width()/2)),this.tintposy=String(-1*(t.pageY-this.nzOffset.top-this.zoomLens.height()/2)),this.Etoppos&&(this.tintposy=0),this.Eloppos&&(this.tintpos=0),this.Eboppos&&(this.tintposy=-1*(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize)),this.Eroppos&&(this.tintpos=-1*(this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos+"px"}),this.zoomTintImage.css({top:this.tintposy+"px"}))},swaptheimage:function(e,n){var i=this,r=new Image;i.options.loadingIcon&&(i.spinner=t("<div style=\"background: url('"+i.options.loadingIcon+"') no-repeat center;height:"+i.nzHeight+"px;width:"+i.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),i.$elem.after(i.spinner)),i.options.onImageSwap(i.$elem),r.onload=function(){i.largeWidth=r.width,i.largeHeight=r.height,i.zoomImage=n,i.zoomWindow.css({"background-size":i.largeWidth+"px "+i.largeHeight+"px"}),i.swapAction(e,n)},r.src=n},swapAction:function(e,n){var i=this,r=new Image;if(r.onload=function(){i.nzHeight=r.height,i.nzWidth=r.width,i.options.onImageSwapComplete(i.$elem),i.doneCallback()},r.src=e,i.currentZoomLevel=i.options.zoomLevel,i.options.maxZoomLevel=!1,"lens"==i.options.zoomType&&i.zoomLens.css({backgroundImage:"url('"+n+"')"}),"window"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+n+"')"}),"inner"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+n+"')"}),i.currentImage=n,i.options.imageCrossfade){var o=i.$elem,a=o.clone();if(i.$elem.attr("src",e),i.$elem.after(a),a.stop(!0).fadeOut(i.options.imageCrossfade,function(){t(this).remove()}),i.$elem.width("auto").removeAttr("width"),i.$elem.height("auto").removeAttr("height"),o.fadeIn(i.options.imageCrossfade),i.options.tint&&"inner"!=i.options.zoomType){var s=i.zoomTintImage,u=s.clone();i.zoomTintImage.attr("src",n),i.zoomTintImage.after(u),u.stop(!0).fadeOut(i.options.imageCrossfade,function(){t(this).remove()}),s.fadeIn(i.options.imageCrossfade),i.zoomTint.css({height:i.$elem.height()}),i.zoomTint.css({width:i.$elem.width()})}i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width()),"inner"==i.options.zoomType&&(i.options.constrainType||(i.zoomWrap.parent().css("height",i.$elem.height()),i.zoomWrap.parent().css("width",i.$elem.width()),i.zoomWindow.css("height",i.$elem.height()),i.zoomWindow.css("width",i.$elem.width()))),i.options.imageCrossfade&&(i.zoomWrap.css("height",i.$elem.height()),i.zoomWrap.css("width",i.$elem.width()))}else i.$elem.attr("src",e),i.options.tint&&(i.zoomTintImage.attr("src",n),i.zoomTintImage.attr("height",i.$elem.height()),i.zoomTintImage.css({height:i.$elem.height()}),i.zoomTint.css({height:i.$elem.height()})),i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width()),i.options.imageCrossfade&&(i.zoomWrap.css("height",i.$elem.height()),i.zoomWrap.css("width",i.$elem.width()));i.options.constrainType&&("height"==i.options.constrainType&&(i.zoomContainer.css("height",i.options.constrainSize),i.zoomContainer.css("width","auto"),i.options.imageCrossfade?(i.zoomWrap.css("height",i.options.constrainSize),i.zoomWrap.css("width","auto"),i.constwidth=i.zoomWrap.width()):(i.$elem.css("height",i.options.constrainSize),i.$elem.css("width","auto"),i.constwidth=i.$elem.width()),"inner"==i.options.zoomType&&(i.zoomWrap.parent().css("height",i.options.constrainSize),i.zoomWrap.parent().css("width",i.constwidth),i.zoomWindow.css("height",i.options.constrainSize),i.zoomWindow.css("width",i.constwidth)),i.options.tint&&(i.tintContainer.css("height",i.options.constrainSize),i.tintContainer.css("width",i.constwidth),i.zoomTint.css("height",i.options.constrainSize),i.zoomTint.css("width",i.constwidth),i.zoomTintImage.css("height",i.options.constrainSize),i.zoomTintImage.css("width",i.constwidth))),"width"==i.options.constrainType&&(i.zoomContainer.css("height","auto"),i.zoomContainer.css("width",i.options.constrainSize),i.options.imageCrossfade?(i.zoomWrap.css("height","auto"),i.zoomWrap.css("width",i.options.constrainSize),i.constheight=i.zoomWrap.height()):(i.$elem.css("height","auto"),i.$elem.css("width",i.options.constrainSize),i.constheight=i.$elem.height()),"inner"==i.options.zoomType&&(i.zoomWrap.parent().css("height",i.constheight),i.zoomWrap.parent().css("width",i.options.constrainSize),i.zoomWindow.css("height",i.constheight),i.zoomWindow.css("width",i.options.constrainSize)),i.options.tint&&(i.tintContainer.css("height",i.constheight),i.tintContainer.css("width",i.options.constrainSize),i.zoomTint.css("height",i.constheight),i.zoomTint.css("width",i.options.constrainSize),i.zoomTintImage.css("height",i.constheight),i.zoomTintImage.css("width",i.options.constrainSize))))},doneCallback:function(){this.options.loadingIcon&&this.spinner.hide(),this.nzOffset=this.$elem.offset(),this.nzWidth=this.$elem.width(),this.nzHeight=this.$elem.height(),this.currentZoomLevel=this.options.zoomLevel,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"window"==this.options.zoomType&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.options.zoomWindowWidth<this.options.zoomWindowWidth?lensWidth=this.nzWidth:lensWidth=this.options.zoomWindowWidth/this.widthRatio,this.zoomLens&&(this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var e=this;return e.gallerylist=[],e.options.gallery?t("#"+e.options.gallery+" a").each(function(){var n="";t(this).data("zoom-image")?n=t(this).data("zoom-image"):t(this).data("image")&&(n=t(this).data("image")),n==e.zoomImage?e.gallerylist.unshift({href:""+n,title:t(this).find("img").attr("title")}):e.gallerylist.push({href:""+n,title:t(this).find("img").attr("title")})}):e.gallerylist.push({href:""+e.zoomImage,title:t(this).find("img").attr("title")}),e.gallerylist},changeZoomLevel:function(t){this.scrollingLock=!0,this.newvalue=parseFloat(t).toFixed(2),newvalue=parseFloat(t).toFixed(2),maxheightnewvalue=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight),maxwidthtnewvalue=this.largeWidth/(this.options.zoomWindowWidth/this.nzWidth*this.nzWidth),"inner"!=this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/maxheightnewvalue/this.nzHeight,this.newvalueheight=maxheightnewvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/maxwidthtnewvalue/this.nzWidth,this.newvaluewidth=maxwidthtnewvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1),"lens"==this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.fullwidth=!0,this.newvaluewidth=maxheightnewvalue):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1))),"inner"==this.options.zoomType&&(maxheightnewvalue=parseFloat(this.largeHeight/this.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,newvalue>maxheightnewvalue?this.newvalueheight=maxheightnewvalue:this.newvalueheight=newvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,newvalue>maxheightnewvalue?this.newvalueheight=maxheightnewvalue:this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,newvalue>maxwidthtnewvalue?this.newvaluewidth=maxwidthtnewvalue:this.newvaluewidth=newvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1)),scrcontinue=!1,"inner"==this.options.zoomType&&(this.nzWidth>=this.nzHeight&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullheight=!0,this.fullwidth=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullheight=!0,this.fullwidth=!0))),"inner"!=this.options.zoomType&&(scrcontinue=!0),scrcontinue&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({height:String(this.options.zoomWindowHeight/this.heightRatio)+"px"})),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType||(this.changeBgSize=!0)),this.options.zoomWindowWidth/this.widthRatio<=this.nzWidth&&("inner"!=this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:String(this.options.zoomWindowWidth/this.widthRatio)+"px"})),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType||(this.changeBgSize=!0)),"inner"==this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight&&(this.currentZoomLevel=this.newvaluewidth),this.nzHeight>this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth))),this.setPosition(this.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(t){"enable"==t&&(this.options.zoomEnabled=!0),"disable"==t&&(this.options.zoomEnabled=!1)}};t.fn.elevateZoom=function(e){return this.each(function(){var n=Object.create(r);n.init(e,this),t.data(this,"elevateZoom",n)})},t.fn.elevateZoom.options={imageSrc:null,zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:t.noop,onDestroy:function(){},onZoomedImageLoaded:function(){},onImageSwap:t.noop,onImageSwapComplete:t.noop}}(jQuery,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){"use strict";t.dateRangePickerLanguages={default:{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":["january","february","march","april","may","june","july","august","september","october","november","december"],shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"},de:{selected:"Auswahl:",day:"Tag",days:"Tage",apply:"Schließen","week-1":"mo","week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so","month-name":["januar","februar","märz","april","mai","juni","juli","august","september","oktober","november","dezember"],shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"Nächste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht größer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage auswählen","default-single":"Bitte ein Datum auswählen","default-less":"Bitte weniger als %d Tage auswählen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen auswählen","default-default":"Bitte ein Start- und Enddatum auswählen",Time:"Zeit",hour:"Stunde",minute:"Minute"},es:{selected:"Seleccionado:",day:"Día",days:"Días",apply:"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa","week-7":"do","month-name":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"Año",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"Año","less-than":"El rango no debería ser mayor de %d días","more-than":"El rango no debería ser menor de %d días","default-more":"Por favor selecciona un rango mayor a %d días","default-single":"Por favor selecciona un día","default-less":"Por favor selecciona un rango menor a %d días","default-range":"Por favor selecciona un rango entre %d y %d días","default-default":"Por favor selecciona un rango de fechas."},fr:{selected:"Sélection:",day:"Jour",days:"Jours",apply:"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortcuts:"Raccourcis",past:"Passé",following:"Suivant",previous:"Précédent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Année",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Année","less-than":"L'intervalle ne doit pas être supérieure à %d jours","more-than":"L'intervalle ne doit pas être inférieure à %d jours","default-more":"Merci de choisir une intervalle supérieure à %d jours","default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle inférieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},pt:{selected:"Selecionado:",day:"Dia",days:"Dias",apply:"Fechar","week-1":"seg","week-2":"ter","week-3":"qua","week-4":"qui","week-5":"sex","week-6":"sab","week-7":"dom","week-number":"N","month-name":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],shortcuts:"Atalhos","custom-values":"Valores Personalizados",past:"Passado",following:"Seguinte",previous:"Anterior","prev-week":"Semana","prev-month":"Mês","prev-year":"Ano",next:"Próximo","next-week":"Próxima Semana","next-month":"Próximo Mês","next-year":"Próximo Ano","less-than":"O período selecionado não deve ser maior que %d dias","more-than":"O período selecionado não deve ser menor que %d dias","default-more":"Selecione um período superior a %d dias","default-single":"Selecione uma data","default-less":"Selecione um período inferior a %d dias","default-range":"Selecione um período de %d a %d dias","default-default":"Selecione um período",time:"Tempo",hour:"Hora",minute:"Minuto"}},t.fn.dateRangePicker=function(n){function i(){var i=this;if(t(this).data("date-picker-opened"))O();else{t(this).data("date-picker-opened",!0),(V=function(){var e='<div class="date-picker-wrapper';n.extraClass&&(e+=" "+n.extraClass+" ");n.singleDate&&(e+=" single-date ");e+='">';var i=n.showWeekNumbers?6:5,r='<i class="icon-left-open-mini"></i>';n.customArrowPrevSymbol&&(r=n.customArrowPrevSymbol);var o='<i class="icon-right-open-mini"></i>';n.customArrowNextSymbol&&(o=n.customArrowNextSymbol);e+='<div class="month-wrapper">   <table class="month1" cellspacing="0" border="0" cellpadding="0">       <thead>           <tr class="caption">               <th style="width:27px;">                   <div class="prev">'+r+'                   </div>               </th>               <th colspan="'+i+'" class="month-name">               </th>               <th style="width:27px;">'+(n.singleDate||!n.stickyMonths?'<div class="next">'+o+"</div>":"")+'               </th>           </tr>           <tr class="week-name">'+W()+"       </thead>       <tbody></tbody>   </table>",n.singleMonth||(e+='<div class="gap"></div><table class="month2" cellspacing="0" border="0" cellpadding="0">   <thead>   <tr class="caption">       <th style="width:27px;">'+(n.stickyMonths?"":'<div class="prev">'+r+"</div>")+'       </th>       <th colspan="'+i+'" class="month-name">       </th>       <th style="width:27px;">           <div class="next">'+o+'</div>       </th>   </tr>   <tr class="week-name">'+W()+"   </thead>   <tbody></tbody></table>");e+='<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>',n.singleDate||(e+='<div class="time2"></div>');return e+='</div><div style="clear:both;height:0;font-size:0;"></div></div></div>',t(e)}().hide()).append('<div class="date-range-length-tip"></div>'),t(n.container).append(V),n.inline?V.addClass("inline-wrapper"):r(),n.alwaysOpen&&V.find(".apply-btn").hide();var o=F();if(U(o),n.time.enabled)if(n.startDate&&n.endDate||n.start&&n.end)x(e(n.start||n.startDate).toDate(),"time1"),x(e(n.end||n.endDate).toDate(),"time2");else{var a=n.defaultEndTime?n.defaultEndTime:o;x(o,"time1"),x(a,"time2")}var s="";s=j(n.singleDate?"default-single":n.minDays&&n.maxDays?"default-range":n.minDays?"default-more":n.maxDays?"default-less":"default-default"),V.find(".default-top").html(s.replace(/\%d/,n.minDays).replace(/\%d/,n.maxDays)),n.singleMonth?V.addClass("single-month"):V.addClass("two-months"),setTimeout(function(){u(),B=!0},0),V.click(function(t){t.stopPropagation()}),t(document).bind("click.datepicker",function(e){(function(e,n){return n.contains(e.target)||e.target==n||void 0!=n.childNodes&&t.inArray(e.target,n.childNodes)>=0})(e,i[0])||V.is(":visible")&&O()}),V.find(".next").click(function(){t(i).trigger("datepicker-next-month-clicked"),n.stickyMonths?function(t){var e=P(n.month1),i=P(n.month2);M(i)||!n.singleDate&&D(e,i)>=0||(z(e,"month1"),z(i,"month2"),k())}():function(e){var i=t(e).parents("table").hasClass("month2"),r=i?n.month2:n.month1;r=P(r),!n.singleMonth&&!n.singleDate&&!i&&D(r,n.month2)>=0||M(r)||(z(r,i?"month2":"month1"),T())}(this),t(i).trigger("datepicker-next-month-finish-clicked")}),V.find(".prev").click(function(){t(i).trigger("datepicker-prev-month-clicked"),n.stickyMonths?function(t){var e=I(n.month1),i=I(n.month2);M(e)||!n.singleDate&&D(i,e)<=0||(z(i,"month2"),z(e,"month1"),k())}():function(e){var i=t(e).parents("table").hasClass("month2"),r=i?n.month2:n.month1;r=I(r),i&&D(r,n.month1)<=0||M(r)||(z(r,i?"month2":"month1"),T())}(this),t(i).trigger("datepicker-prev-month-finish-clicked")}),V.attr("unselectable","on").css("user-select","none").bind("selectstart",function(t){return t.preventDefault(),!1}),V.find(".apply-btn").click(function(){O();var e=E(new Date(n.start))+n.separator+E(new Date(n.end));t(i).trigger("datepicker-apply",{value:e,date1:new Date(n.start),date2:new Date(n.end)})}),V.find("[custom]").click(function(){var e=t(this).attr("custom");n.start=!1,n.end=!1,V.find(".day.checked").removeClass("checked"),n.setValue.call(G,e),_(),b(!0),k(),n.autoClose&&O()}),V.find("[shortcut]").click(function(){var e,i=t(this).attr("shortcut"),r=new Date,o=!1;if(-1!=i.indexOf("day")){var a=parseInt(i.split(",",2)[1],10);o=new Date((new Date).getTime()+864e5*a),r=new Date(r.getTime()+864e5*(a>0?1:-1))}else if(-1!=i.indexOf("week")){var s;for(s=1==(e=-1!=i.indexOf("prev,")?-1:1)?"monday"==n.startOfWeek?1:0:"monday"==n.startOfWeek?0:6,r=new Date(r.getTime()-864e5);r.getDay()!=s;)r=new Date(r.getTime()+864e5*e);o=new Date(r.getTime()+864e5*e*6)}else if(-1!=i.indexOf("month"))(o=1==(e=-1!=i.indexOf("prev,")?-1:1)?P(r):I(r)).setDate(1),(r=P(o)).setDate(1),r=new Date(r.getTime()-864e5);else if(-1!=i.indexOf("year"))e=-1!=i.indexOf("prev,")?-1:1,(o=new Date).setFullYear(r.getFullYear()+e),o.setMonth(0),o.setDate(1),r.setFullYear(r.getFullYear()+e),r.setMonth(11),r.setDate(31);else if("custom"==i){var u=t(this).html();if(n.customShortcuts&&n.customShortcuts.length>0)for(var l=0;l<n.customShortcuts.length;l++){var c=n.customShortcuts[l];if(c.name==u){var h=[];if((h=c.dates.call())&&2==h.length&&(o=h[0],r=h[1]),h&&1==h.length){var f=h[0];z(f,"month1"),z(P(f),"month2"),T()}break}}}o&&r&&(S(o,r),_())}),V.find(".time1 input[type=range]").bind("change touchmove",function(e){var n=e.target;h("time1","hour"==n.name?t(n).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==n.name?t(n).val().replace(/^(\d{1})$/,"0$1"):void 0)}),V.find(".time2 input[type=range]").bind("change touchmove",function(e){var n=e.target;h("time2","hour"==n.name?t(n).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==n.name?t(n).val().replace(/^(\d{1})$/,"0$1"):void 0)})}}function r(){if(!n.inline){var e=t(Y).offset();if("relative"==t(n.container).css("position")){var i=t(n.container).offset();V.css({top:e.top-i.top+t(Y).outerHeight()+4,left:e.left-i.left})}else e.left<460?V.css({top:e.top+t(Y).outerHeight()+parseInt(t("body").css("border-top")||0,10),left:e.left}):V.css({top:e.top+t(Y).outerHeight()+parseInt(t("body").css("border-top")||0,10),left:e.left+t(Y).width()-V.width()-16})}}function o(e){r(),R(),a(),n.customOpenAnimation?n.customOpenAnimation.call(V.get(0),function(){t(Y).trigger("datepicker-opened",{relatedTarget:V})}):V.slideDown(e,function(){t(Y).trigger("datepicker-opened",{relatedTarget:V})}),t(Y).trigger("datepicker-open",{relatedTarget:V}),T(),u()}function a(){var t=n.getValue.call(G),i=t?t.split(n.separator):"";if(i&&(1==i.length&&n.singleDate||i.length>=2)){var r=n.format;r.match(/Do/)&&(r=r.replace(/Do/,"D"),i[0]=i[0].replace(/(\d+)(th|nd|st)/,"$1"),i.length>=2&&(i[1]=i[1].replace(/(\d+)(th|nd|st)/,"$1"))),B=!1,i.length>=2?S(s(i[0],r,e.locale(n.language)),s(i[1],r,e.locale(n.language))):1==i.length&&n.singleDate&&C(s(i[0],r,e.locale(n.language))),B=!0}}function s(t,n,i){return e(t,n,i).isValid()?e(t,n,i).toDate():e().toDate()}function u(){var t=V.find(".gap").css("margin-left");t&&(t=parseInt(t));var e=V.find(".month1").width(),i=V.find(".gap").width()+(t?2*t:0),r=V.find(".month2").width();V.find(".month-wrapper").width(e+i+r+(n.singleMonth?0:77))}function l(t,n){V.find("."+t+" input[type=range].hour-range").val(e(n).hours()),V.find("."+t+" input[type=range].minute-range").val(e(n).minutes()),h(t,e(n).format("HH"),e(n).format("mm"))}function c(t,i){n[t]=parseInt(e(parseInt(i)).startOf("day").add(e(n[t+"Time"]).format("HH"),"h").add(e(n[t+"Time"]).format("mm"),"m").valueOf())}function h(t,i,r){function o(t,e){var o=e.format("HH"),a=e.format("mm");n[t]=e.startOf("day").add(i||o,"h").add(r||a,"m").valueOf()}switch(i&&V.find("."+t+" .hour-val").text(i),r&&V.find("."+t+" .minute-val").text(r),t){case"time1":n.start&&o("start",e(n.start)),o("startTime",e(n.startTime||e().valueOf()));break;case"time2":n.end&&o("end",e(n.end)),o("endTime",e(n.endTime||e().valueOf()))}_(),b(),k()}function f(t){var i=t;return"week-range"===n.batchMode?i="monday"===n.startOfWeek?e(parseInt(t)).startOf("isoweek").valueOf():e(parseInt(t)).startOf("week").valueOf():"month-range"===n.batchMode&&(i=e(parseInt(t)).startOf("month").valueOf()),i}function p(t){var i=t;return"week-range"===n.batchMode?i="monday"===n.startOfWeek?e(parseInt(t)).endOf("isoweek").valueOf():e(parseInt(t)).endOf("week").valueOf():"month-range"===n.batchMode&&(i=e(parseInt(t)).endOf("month").valueOf()),i}function d(i){if(!i.hasClass("invalid")){var r=i.attr("time");if(i.addClass("checked"),n.singleDate?(n.start=r,n.end=!1):"week"===n.batchMode?"monday"===n.startOfWeek?(n.start=e(parseInt(r)).startOf("isoweek").valueOf(),n.end=e(parseInt(r)).endOf("isoweek").valueOf()):(n.end=e(parseInt(r)).endOf("week").valueOf(),n.start=e(parseInt(r)).startOf("week").valueOf()):"workweek"===n.batchMode?(n.start=e(parseInt(r)).day(1).valueOf(),n.end=e(parseInt(r)).day(5).valueOf()):"weekend"===n.batchMode?(n.start=e(parseInt(r)).day(6).valueOf(),n.end=e(parseInt(r)).day(7).valueOf()):"month"===n.batchMode?(n.start=e(parseInt(r)).startOf("month").valueOf(),n.end=e(parseInt(r)).endOf("month").valueOf()):n.start&&n.end||!n.start&&!n.end?(n.start=f(r),n.end=!1):n.start&&(n.end=p(r),n.time.enabled&&c("end",n.end)),n.time.enabled&&(n.start&&c("start",n.start),n.end&&c("end",n.end)),!n.singleDate&&n.start&&n.end&&n.start>n.end){var o=n.end;n.end=p(n.start),n.start=f(o),n.time.enabled&&n.swapTime&&(l("time1",n.start),l("time2",n.end))}n.start=parseInt(n.start),n.end=parseInt(n.end),y(),n.start&&!n.end&&(t(Y).trigger("datepicker-first-date-selected",{date1:new Date(n.start)}),v(i)),m(),_(),b(),k(),w()}}function g(t){if(t=parseInt(t,10),n.startDate&&A(t,n.startDate)<0)return!1;if(n.endDate&&A(t,n.endDate)>0)return!1;if(n.start&&!n.end&&!n.singleDate){if(n.maxDays>0&&$(t,n.start)>n.maxDays)return!1;if(n.minDays>0&&$(t,n.start)<n.minDays)return!1;if(n.selectForward&&t<n.start)return!1;if(n.selectBackward&&t>n.start)return!1;if(n.beforeShowDay&&"function"==typeof n.beforeShowDay){for(var e=!0,i=t;$(i,n.start)>1;){if(!n.beforeShowDay(new Date(i))[0]){e=!1;break}if(Math.abs(i-n.start)<864e5)break;i>n.start&&(i-=864e5),i<n.start&&(i+=864e5)}if(!e)return!1}}return!0}function m(){return V.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid"),n.start&&!n.end&&V.find(".day.toMonth.valid").each(function(){g(parseInt(t(this).attr("time"),10))?t(this).addClass("valid tmp").removeClass("invalid"):t(this).addClass("invalid tmp").removeClass("valid")}),!0}function v(e){var i=parseInt(e.attr("time")),r="";if(e.hasClass("has-tooltip")&&e.attr("data-tooltip"))r='<span style="white-space:nowrap">'+e.attr("data-tooltip")+"</span>";else if(!e.hasClass("invalid"))if(n.singleDate)V.find(".day.hovering").removeClass("hovering"),e.addClass("hovering");else if(V.find(".day").each(function(){var e=parseInt(t(this).attr("time"));n.start,n.end;e==i?t(this).addClass("hovering"):t(this).removeClass("hovering"),n.start&&!n.end&&(n.start<e&&i>=e||n.start>e&&i<=e)?t(this).addClass("hovering"):t(this).removeClass("hovering")}),n.start&&!n.end){var o=$(i,n.start);n.hoveringTooltip&&("function"==typeof n.hoveringTooltip?r=n.hoveringTooltip(o,n.start,i):!0===n.hoveringTooltip&&o>1&&(r=o+" "+j("days")))}if(r){var a=e.offset(),s=V.offset(),u=a.left-s.left,l=a.top-s.top;u+=e.width()/2;var c=V.find(".date-range-length-tip"),h=c.css({visibility:"hidden",display:"none"}).html(r).width(),f=c.height();u-=h/2,l-=f,setTimeout(function(){c.css({left:u,top:l,display:"block",visibility:"visible"})},10)}else V.find(".date-range-length-tip").hide()}function y(){V.find(".day.hovering").removeClass("hovering"),V.find(".date-range-length-tip").hide()}function w(){!0===n.singleDate?B&&n.start&&n.autoClose&&O():B&&n.start&&n.end&&n.autoClose&&O()}function _(){var t=Math.ceil((n.end-n.start)/864e5)+1;n.singleDate?n.start&&!n.end?V.find(".drp_top-bar").removeClass("error").addClass("normal"):V.find(".drp_top-bar").removeClass("error").removeClass("normal"):n.maxDays&&t>n.maxDays?(n.start=!1,n.end=!1,V.find(".day").removeClass("checked"),V.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(j("less-than").replace("%d",n.maxDays))):n.minDays&&t<n.minDays?(n.start=!1,n.end=!1,V.find(".day").removeClass("checked"),V.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(j("more-than").replace("%d",n.minDays))):n.start||n.end?V.find(".drp_top-bar").removeClass("error").addClass("normal"):V.find(".drp_top-bar").removeClass("error").removeClass("normal"),n.singleDate&&n.start&&!n.end||!n.singleDate&&n.start&&n.end?V.find(".apply-btn").removeClass("disabled"):V.find(".apply-btn").addClass("disabled"),n.batchMode&&(n.start&&n.startDate&&A(n.start,n.startDate)<0||n.end&&n.endDate&&A(n.end,n.endDate)>0)&&(n.start=!1,n.end=!1,V.find(".day").removeClass("checked"))}function b(e,i){V.find(".start-day").html("..."),V.find(".end-day").html("..."),V.find(".selected-days").hide(),n.start&&V.find(".start-day").html(E(new Date(parseInt(n.start)))),n.end&&V.find(".end-day").html(E(new Date(parseInt(n.end))));var r;n.start&&n.singleDate?(V.find(".apply-btn").removeClass("disabled"),r=E(new Date(n.start)),n.setValue.call(G,r,E(new Date(n.start)),E(new Date(n.end))),B&&!i&&t(Y).trigger("datepicker-change",{value:r,date1:new Date(n.start)})):n.start&&n.end?(V.find(".selected-days").show().find(".selected-days-num").html($(n.end,n.start)),V.find(".apply-btn").removeClass("disabled"),r=E(new Date(n.start))+n.separator+E(new Date(n.end)),n.setValue.call(G,r,E(new Date(n.start)),E(new Date(n.end))),B&&!i&&t(Y).trigger("datepicker-change",{value:r,date1:new Date(n.start),date2:new Date(n.end)})):e?V.find(".apply-btn").removeClass("disabled"):V.find(".apply-btn").addClass("disabled")}function $(t,e){return Math.abs(L(t)-L(e))+1}function S(t,e,i){if(t.getTime()>e.getTime()){var r=e;e=t,t=r,r=null}var o=!0;if(n.startDate&&A(t,n.startDate)<0&&(o=!1),n.endDate&&A(e,n.endDate)>0&&(o=!1),!o)return z(n.startDate,"month1"),z(P(n.startDate),"month2"),void T();n.start=t.getTime(),n.end=e.getTime(),n.time.enabled&&(l("time1",t),l("time2",e)),(n.stickyMonths||A(t,e)>0&&0===D(t,e))&&(n.lookBehind?t=I(e):e=P(t)),n.stickyMonths&&!1!==n.endDate&&D(e,n.endDate)>0&&(t=I(t),e=I(e)),n.stickyMonths||0===D(t,e)&&(n.lookBehind?t=I(e):e=P(t)),z(t,"month1"),z(e,"month2"),T(),_(),b(!1,i),w()}function C(t,e){var i=!0;if(n.startDate&&A(t,n.startDate)<0&&(i=!1),n.endDate&&A(t,n.endDate)>0&&(i=!1),i){if(n.start=t.getTime(),n.time.enabled&&l("time1",t),z(t,"month1"),!0!==n.singleMonth){z(P(t),"month2")}T(),b(!1,e),w()}else z(n.startDate,"month1")}function k(){(n.start||n.end)&&(V.find(".day").each(function(){var i=parseInt(t(this).attr("time")),r=n.start,o=n.end;n.time.enabled&&(i=e(i).startOf("day").valueOf(),r=e(r||e().valueOf()).startOf("day").valueOf(),o=e(o||e().valueOf()).startOf("day").valueOf()),n.start&&n.end&&o>=i&&r<=i||n.start&&!n.end&&e(r).format("YYYY-MM-DD")==e(i).format("YYYY-MM-DD")?t(this).addClass("checked"):t(this).removeClass("checked"),n.start&&e(r).format("YYYY-MM-DD")==e(i).format("YYYY-MM-DD")?t(this).addClass("first-date-selected"):t(this).removeClass("first-date-selected"),n.end&&e(o).format("YYYY-MM-DD")==e(i).format("YYYY-MM-DD")?t(this).addClass("last-date-selected"):t(this).removeClass("last-date-selected")}),V.find(".week-number").each(function(){t(this).attr("data-start-time")==n.startWeek&&t(this).addClass("week-number-selected")}))}function z(i,r){var o=function(t){return j("month-name")[t]}((i=e(i).toDate()).getMonth());V.find("."+r+" .month-name").html(o+" "+i.getFullYear()),V.find("."+r+" tbody").html(function(t){var i=[];t.setDate(1);new Date(t.getTime()-864e5);var r=new Date,o=t.getDay();0===o&&"monday"===n.startOfWeek&&(o=7);var a,s;if(o>0)for(l=o;l>0;l--){f=new Date(t.getTime()-864e5*l);s=g(f.getTime()),n.startDate&&A(f,n.startDate)<0&&(s=!1),n.endDate&&A(f,n.endDate)>0&&(s=!1),i.push({date:f,type:"lastMonth",day:f.getDate(),time:f.getTime(),valid:s})}for(var u=t.getMonth(),l=0;l<40;l++)a=e(t).add(l,"days").toDate(),s=g(a.getTime()),n.startDate&&A(a,n.startDate)<0&&(s=!1),n.endDate&&A(a,n.endDate)>0&&(s=!1),i.push({date:a,type:a.getMonth()==u?"toMonth":"nextMonth",day:a.getDate(),time:a.getTime(),valid:s});for(var c=[],h=0;h<6&&"nextMonth"!=i[7*h].type;h++){c.push("<tr>");for(var f=0;f<7;f++){var p="monday"==n.startOfWeek?f+1:f;a=i[7*h+p];var d=e(a.time).format("L")==e(r).format("L");if(a.extraClass="",a.tooltip="",a.valid&&n.beforeShowDay&&"function"==typeof n.beforeShowDay){var m=n.beforeShowDay(e(a.time).toDate());a.valid=m[0],a.extraClass=m[1]||"",a.tooltip=m[2]||"",""!==a.tooltip&&(a.extraClass+=" has-tooltip ")}var v={time:a.time,"data-tooltip":a.tooltip,class:"day "+a.type+" "+a.extraClass+" "+(a.valid?"valid":"invalid")+" "+(d&&n.highlightToday?"real-today":"")};0===f&&n.showWeekNumbers&&c.push('<td><div class="week-number" data-start-time="'+a.time+'">'+n.getWeekNumber(a.date)+"</div></td>"),c.push("<td "+H({},n.dayTdAttrs,a)+"><div "+H(v,n.dayDivAttrs,a)+">"+function(t,e){return n.showDateFilter&&"function"==typeof n.showDateFilter?n.showDateFilter(t,e):e}(a.time,a.day)+"</div></td>")}c.push("</tr>")}return c.join("")}(i)),n[r]=i,m(),V.find(".day").unbind("click").click(function(e){d(t(this))}),V.find(".day").unbind("mouseenter").mouseenter(function(e){v(t(this))}),V.find(".day").unbind("mouseleave").mouseleave(function(t){V.find(".date-range-length-tip").hide(),n.singleDate&&y()}),V.find(".week-number").unbind("click").click(function(i){!function(t){var i,r,o=parseInt(t.attr("data-start-time"),10);n.startWeek?(V.find(".week-number-selected").removeClass("week-number-selected"),i=new Date(o<n.startWeek?o:n.startWeek),r=new Date(o<n.startWeek?n.startWeek:o),n.startWeek=!1,n.start=e(i).day("monday"==n.startOfWeek?1:0).valueOf(),n.end=e(r).day("monday"==n.startOfWeek?7:6).valueOf()):(n.startWeek=o,t.addClass("week-number-selected"),i=new Date(o),n.start=e(i).day("monday"==n.startOfWeek?1:0).valueOf(),n.end=e(i).day("monday"==n.startOfWeek?7:6).valueOf()),m(),_(),b(),k(),w()}(t(this))})}function x(t,e){V.find("."+e).append("<div><span>"+j("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour"><label>'+j("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute"><label>'+j("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>'),l(e,t)}function E(t){return e(t).format(n.format)}function T(){k();var t=parseInt(e(n.month1).format("YYYYMM")),i=parseInt(e(n.month2).format("YYYYMM")),r=Math.abs(t-i);r>1&&89!=r?V.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible"):V.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden");var o=V.find("table.month1").height(),a=V.find("table.month2").height();0===Math.max(o,a)?V.find(".gap").height(100):V.find(".gap").height(Math.max(o,a)+10)}function O(){if(!n.alwaysOpen){var e=function(){t(Y).data("date-picker-opened",!1),t(Y).trigger("datepicker-closed",{relatedTarget:V})};n.customCloseAnimation?n.customCloseAnimation.call(V.get(0),e):t(V).slideUp(n.duration,e),t(Y).trigger("datepicker-close",{relatedTarget:V})}}function R(){z(n.month1,"month1"),z(n.month2,"month2")}function D(t,n){var i=parseInt(e(t).format("YYYYMM"))-parseInt(e(n).format("YYYYMM"));return i>0?1:0===i?0:-1}function A(t,n){var i=parseInt(e(t).format("YYYYMMDD"))-parseInt(e(n).format("YYYYMMDD"));return i>0?1:0===i?0:-1}function P(t){return e(t).add(1,"months").toDate()}function I(t){return e(t).add(-1,"months").toDate()}function W(){var t=n.showWeekNumbers?"<th>"+j("week-number")+"</th>":"";return"monday"==n.startOfWeek?t+"<th>"+j("week-1")+"</th><th>"+j("week-2")+"</th><th>"+j("week-3")+"</th><th>"+j("week-4")+"</th><th>"+j("week-5")+"</th><th>"+j("week-6")+"</th><th>"+j("week-7")+"</th>":t+"<th>"+j("week-7")+"</th><th>"+j("week-1")+"</th><th>"+j("week-2")+"</th><th>"+j("week-3")+"</th><th>"+j("week-4")+"</th><th>"+j("week-5")+"</th><th>"+j("week-6")+"</th>"}function M(t){return t=e(t),!(!n.startDate||!t.endOf("month").isBefore(n.startDate))||!(!n.endDate||!t.startOf("month").isAfter(n.endDate))}function H(e,n,i){var r=t.extend(!0,{},e);t.each(n,function(t,e){var n=e(i);for(var o in n)r.hasOwnProperty(o)?r[o]+=n[o]:r[o]=n[o]});var o="";for(var a in r)r.hasOwnProperty(a)&&(o+=a+'="'+r[a]+'" ');return o}function L(t){return Math.floor(function(t){e.isMoment(t)&&(t=t.toDate().getTime());"object"==typeof t&&t.getTime&&(t=t.getTime());"string"!=typeof t||t.match(/\d{13}/)||(t=e(t,n.format).toDate().getTime());return t=parseInt(t,10)-60*(new Date).getTimezoneOffset()*1e3}(t)/864e5)}function j(e){var n=e.toLowerCase(),i=e in q?q[e]:n in q?q[n]:null,r=t.dateRangePickerLanguages.default;return null==i&&(i=e in r?r[e]:n in r?r[n]:""),i}function F(){var t=n.defaultTime?n.defaultTime:new Date;return n.lookBehind?(n.startDate&&D(t,n.startDate)<0&&(t=P(e(n.startDate).toDate())),n.endDate&&D(t,n.endDate)>0&&(t=e(n.endDate).toDate())):(n.startDate&&D(t,n.startDate)<0&&(t=e(n.startDate).toDate()),n.endDate&&D(P(t),n.endDate)>0&&(t=I(e(n.endDate).toDate()))),n.singleDate&&(n.startDate&&D(t,n.startDate)<0&&(t=e(n.startDate).toDate()),n.endDate&&D(t,n.endDate)>0&&(t=e(n.endDate).toDate())),t}function U(t){t||(t=F()),n.lookBehind?(z(I(t),"month1"),z(t,"month2")):(z(t,"month1"),z(P(t),"month2")),n.singleDate&&z(t,"month1"),k(),T()}n||(n={}),(n=t.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" - ",language:"auto",startOfWeek:"sunday",getValue:function(){return t(this).val()},setValue:function(e){t(this).attr("readonly")||t(this).is(":disabled")||e==t(this).val()||t(this).val(e)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,highlightToday:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(t,e,n){return t>1?t+" "+j("days"):""},showTopbar:!0,swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(t){return e(t).format("w")},customOpenAnimation:null,customCloseAnimation:null,customArrowPrevSymbol:null,customArrowNextSymbol:null},n)).start=!1,n.end=!1,n.startWeek=!1,n.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints,n.isTouchDevice&&(n.hoveringTooltip=!1),"auto"==n.singleMonth&&(n.singleMonth=t(window).width()<480),n.singleMonth&&(n.stickyMonths=!1),n.showTopbar||(n.autoClose=!0),n.startDate&&"string"==typeof n.startDate&&(n.startDate=e(n.startDate,n.format).toDate()),n.endDate&&"string"==typeof n.endDate&&(n.endDate=e(n.endDate,n.format).toDate());var V,N,q=function(){if("auto"==n.language){var e=navigator.language?navigator.language:navigator.browserLanguage;return e&&(e=e.toLowerCase())in t.dateRangePickerLanguages?t.dateRangePickerLanguages[e]:t.dateRangePickerLanguages.default}return n.language&&n.language in t.dateRangePickerLanguages?t.dateRangePickerLanguages[n.language]:t.dateRangePickerLanguages.default}(),B=!1,Y=this,G=t(Y).get(0);return t(this).unbind(".datepicker").bind("click.datepicker",function(t){V.is(":visible")||o(n.duration)}).bind("change.datepicker",function(t){a()}).bind("keyup.datepicker",function(){try{clearTimeout(N)}catch(t){}N=setTimeout(function(){a()},2e3)}),i.call(this),n.alwaysOpen&&o(0),t(this).data("dateRangePicker",{setStart:function(t,i){return"string"==typeof t&&(t=e(t,n.format).toDate()),n.end=!1,C(t,i),this},setEnd:function(t,i){var r=new Date;return r.setTime(n.start),"string"==typeof t&&(t=e(t,n.format).toDate()),S(r,t,i),this},setDateRange:function(t,i,r){"string"==typeof t&&"string"==typeof i&&(t=e(t,n.format).toDate(),i=e(i,n.format).toDate()),S(t,i,r)},clear:function(){n.start=!1,n.end=!1,V.find(".day.checked").removeClass("checked"),V.find(".day.last-date-selected").removeClass("last-date-selected"),V.find(".day.first-date-selected").removeClass("first-date-selected"),n.setValue.call(G,""),_(),b(),k()},close:O,open:o,redraw:R,getDatePicker:function(){return V},resetMonthsView:U,destroy:function(){t(Y).unbind(".datepicker"),t(Y).data("dateRangePicker",""),t(Y).data("date-picker-opened",null),V.remove(),t(window).unbind("resize.datepicker",r),t(document).unbind("click.datepicker",O)}}),t(window).bind("resize.datepicker",r),this}}),function(t,e){"use strict";function n(t,e,n){if(!t)throw J("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(M(t)&&(t=t.join(" ")),M(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function r(t,e,n){var i="";return t=M(t)?t:t&&U(t)&&t.length?t.split(/\s+/):[],W(t,function(t,r){t&&t.length>0&&(i+=r>0?" ":"",i+=n?e+t:t+e)}),i}function o(t){if(t instanceof N)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===E)return t;break;default:return N(a(t))}if(t.nodeType===E)return N(t)}function a(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===E)return n}}function s(t){return function(e,n){n.addClass&&(!function(t,e,n){W(e,function(e){t.addClass(e,n)})}(t,e,n.addClass),n.addClass=null),n.removeClass&&(!function(t,e,n){W(e,function(e){t.removeClass(e,n)})}(t,e,n.removeClass),n.removeClass=null)}}function u(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||q;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=q},t.$$prepared=!0}return t}function l(t,e){c(t,e),h(t,e)}function c(t,e){e.from&&(t.css(e.from),e.from=null)}function h(t,e){e.to&&(t.css(e.to),e.to=null)}function f(t,e,n){var i=e.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=function(t,e,n){function i(t){U(t)&&(t=t.split(" "));var e={};return W(t,function(t){t.length&&(e[t]=!0)}),e}var r={};t=i(t),e=i(e),W(e,function(t,e){r[e]=1}),n=i(n),W(n,function(t,e){r[e]=1===r[e]?null:-1});var o={addClass:"",removeClass:""};W(r,function(e,n){var i,r;1===e?(i="addClass",r=!t[n]||t[n+O]):-1===e&&(i="removeClass",r=t[n]||t[n+T]),r&&(o[i].length&&(o[i]+=" "),o[i]+=n)});return o}(t.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=v(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var u=i.domOperation!==q?i.domOperation:null;return I(i,r),u&&(i.domOperation=u),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function p(t){return t instanceof N?t[0]:t}function d(t,e){var n=e?"-"+e+"s":"";return m(t,[X,n]),[X,n]}function g(t,e){var n=e?"paused":"",i=z+G;return m(t,[i,n]),[i,n]}function m(t,e){var n=e[0],i=e[1];t.style[n]=i}function v(t,e){return t?e?t+" "+e:t:e}function y(t,e){return[e?Z:X,t+"s"]}function w(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return W(n,function(t,e){var n=r[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=function(t){var e=0,n=t.split(/\s*,\s*/);return W(n,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}(n)),0===n&&(n=null),i[e]=n}}),i}function _(t){return 0===t||null!=t}function b(t,e){var n=C,i=t+"s";return e?n+=B:i+=" linear all",[n,i]}function $(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function S(t,e,n){W(n,function(n){t[n]=H(t[n])?t[n]:e.style.getPropertyValue(n)})}var C,k,z,x,E=1,T="-add",O="-remove",R="ng-",D="ng-animate",A="$$ngAnimateChildren";void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?("-webkit-",C="WebkitTransition",k="webkitTransitionEnd transitionend"):(C="transition",k="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?("-webkit-",z="WebkitAnimation",x="webkitAnimationEnd animationend"):(z="animation",x="animationend");var P,I,W,M,H,L,j,F,U,V,N,q,B="Duration",Y="TimingFunction",G="PlayState",Z=z+"Delay",K=z+B,X=C+"Delay",Q=C+B,J=e.$$minErr("ng"),tt=["$interpolate",function(t){return{link:function(e,n,i){function r(t){t="on"===t||"true"===t,n.data(A,t)}var o=i.ngAnimateChildren;U(o)&&0===o.length?n.data(A,!0):(r(t(o)(e)),i.$observe("ngAnimateChildren",r))}}}],et="$$animateCss",nt=1e3,it=3,rt=1.5,ot={transitionDuration:Q,transitionDelay:X,transitionProperty:C+"Property",animationDuration:K,animationDelay:Z,animationIterationCount:z+"IterationCount"},at={transitionDuration:Q,transitionDelay:X,animationDuration:K,animationDelay:Z},st=["$animateProvider",function(t){var e=$(),n=$();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,i,o,a,f,v,$,E){function D(t,e){var n="$$ngAnimateParentKey",i=t.parentNode;return(i[n]||(i[n]=++L))+"-"+t.getAttribute("class")+"-"+e}function A(t){j.push(t),$.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=f(),i=0;i<j.length;i++)j[i](t);j.length=0})}function I(n,i,r){var o=function(n,i,r,o){var a=e.get(r);return a||"infinite"===(a=w(t,n,o)).animationIterationCount&&(a.animationIterationCount=1),e.put(r,a),a}(n,0,r,ot),a=o.animationDelay,s=o.transitionDelay;return o.maxDelay=a&&s?Math.max(a,s):a||s,o.maxDuration=Math.max(o.animationDuration*o.animationIterationCount,o.transitionDuration),o}var H=s(i),L=0,j=[];return function(s,f){function $(){j()}function L(){j(!0)}function j(t){if(!(X||J&&Q)){X=!0,Q=!1,B.$$skipPreparationClasses||i.removeClass(s,wt),i.removeClass(s,bt),g(Z,!1),d(Z,!1),W(ft,function(t){Z.style[t[0]]=""}),H(s,B),l(s,B),Object.keys(G).length&&W(G,function(t,e){t?Z.style.setProperty(e,t):Z.style.removeProperty(e)}),B.onDone&&B.onDone(),gt&&gt.length&&s.off(gt.join(" "),V);var e=s.data(et);e&&(a.cancel(e[0].timer),s.removeData(et)),tt&&tt.complete(!t)}}function F(t){Pt.blockTransition&&d(Z,t),Pt.blockKeyframeAnimation&&g(Z,!!t)}function U(){return tt=new o({end:$,cancel:L}),A(q),j(),{$$willAnimate:!1,start:function(){return tt},end:$}}function V(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(it));Math.max(n-ht,0)>=ut&&i>=lt&&(J=!0,j())}function N(){function t(){if(!X){if(F(!1),W(ft,function(t){var e=t[0],n=t[1];Z.style[e]=n}),H(s,B),i.addClass(s,bt),Pt.recalculateTimingStyles){if(_t=Z.getAttribute("class")+" "+wt,St=D(Z,_t),Dt=I(Z,0,St),At=Dt.maxDelay,st=Math.max(At,0),0===(lt=Dt.maxDuration))return void j();Pt.hasTransitions=Dt.transitionDuration>0,Pt.hasAnimations=Dt.animationDuration>0}if(Pt.applyAnimationDelay&&(At="boolean"!=typeof B.delay&&_(B.delay)?parseFloat(B.delay):At,st=Math.max(At,0),Dt.animationDelay=At,It=y(At,!0),ft.push(It),Z.style[It[0]]=It[1]),ut=st*nt,ct=lt*nt,B.easing){var t,n=B.easing;Pt.hasTransitions&&(t=C+Y,ft.push([t,n]),Z.style[t]=n),Pt.hasAnimations&&(t=z+Y,ft.push([t,n]),Z.style[t]=n)}Dt.transitionDuration&&gt.push(k),Dt.animationDuration&&gt.push(x),ht=Date.now();var r=ut+rt*ct,o=ht+r,u=s.data(et)||[],l=!0;if(u.length){var c=u[0];(l=o>c.expectedEndTime)?a.cancel(c.timer):u.push(j)}if(l){var f=a(e,r,!1);u[0]={timer:f,expectedEndTime:o},u.push(j),s.data(et,u)}gt.length&&s.on(gt.join(" "),V),B.to&&(B.cleanupStyles&&S(G,Z,Object.keys(B.to)),h(s,B))}}function e(){var t=s.data(et);if(t){for(var e=1;e<t.length;e++)t[e]();s.removeData(et)}}if(!X)if(Z.parentNode){var n=function(t){if(J)Q&&t&&(Q=!1,j());else if(Q=!t,Dt.animationDuration){var e=g(Z,Q);Q?ft.push(e):function(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}(ft,e)}},r=Ot>0&&(Dt.transitionDuration&&0===Ct.transitionDuration||Dt.animationDuration&&0===Ct.animationDuration)&&Math.max(Ct.animationDelay,Ct.transitionDelay);r?a(t,Math.floor(r*Ot*nt),!1):t(),ot.resume=function(){n(!0)},ot.pause=function(){n(!1)}}else j()}var B=f||{};B.$$prepared||(B=u(P(B)));var G={},Z=p(s);if(!Z||!Z.parentNode||!E.enabled())return U();var X,Q,J,tt,ot,st,ut,lt,ct,ht,ft=[],pt=s.attr("class"),dt=function(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}(B),gt=[];if(0===B.duration||!v.animations&&!v.transitions)return U();var mt=B.event&&M(B.event)?B.event.join(" "):B.event,vt="",yt="";mt&&B.structural?vt=r(mt,R,!0):mt&&(vt=mt),B.addClass&&(yt+=r(B.addClass,T)),B.removeClass&&(yt.length&&(yt+=" "),yt+=r(B.removeClass,O)),B.applyClassesEarly&&yt.length&&H(s,B);var wt=[vt,yt].join(" ").trim(),_t=pt+" "+wt,bt=r(wt,"-active"),$t=dt.to&&Object.keys(dt.to).length>0;if(!((B.keyframeStyle||"").length>0)&&!$t&&!wt)return U();var St,Ct;if(B.stagger>0){var kt=parseFloat(B.stagger);Ct={transitionDelay:kt,animationDelay:kt,transitionDuration:0,animationDuration:0}}else St=D(Z,_t),Ct=function(o,a,s,u){var l;if(e.count(s)>0&&!(l=n.get(s))){var c=r(a,"-stagger");i.addClass(o,c),(l=w(t,o,u)).animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),i.removeClass(o,c),n.put(s,l)}return l||{}}(Z,wt,St,at);B.$$skipPreparationClasses||i.addClass(s,wt);var zt;if(B.transitionStyle){var xt=[C,B.transitionStyle];m(Z,xt),ft.push(xt)}if(B.duration>=0){zt=Z.style[C].length>0;var Et=b(B.duration,zt);m(Z,Et),ft.push(Et)}if(B.keyframeStyle){var Tt=[z,B.keyframeStyle];m(Z,Tt),ft.push(Tt)}var Ot=Ct?B.staggerIndex>=0?B.staggerIndex:e.count(St):0,Rt=0===Ot;Rt&&!B.skipBlocking&&d(Z,9999);var Dt=I(Z,0,St),At=Dt.maxDelay;st=Math.max(At,0),lt=Dt.maxDuration;var Pt={};if(Pt.hasTransitions=Dt.transitionDuration>0,Pt.hasAnimations=Dt.animationDuration>0,Pt.hasTransitionAll=Pt.hasTransitions&&"all"===Dt.transitionProperty,Pt.applyTransitionDuration=$t&&(Pt.hasTransitions&&!Pt.hasTransitionAll||Pt.hasAnimations&&!Pt.hasTransitions),Pt.applyAnimationDuration=B.duration&&Pt.hasAnimations,Pt.applyTransitionDelay=_(B.delay)&&(Pt.applyTransitionDuration||Pt.hasTransitions),Pt.applyAnimationDelay=_(B.delay)&&Pt.hasAnimations,Pt.recalculateTimingStyles=yt.length>0,(Pt.applyTransitionDuration||Pt.applyAnimationDuration)&&(lt=B.duration?parseFloat(B.duration):lt,Pt.applyTransitionDuration&&(Pt.hasTransitions=!0,Dt.transitionDuration=lt,zt=Z.style[C+"Property"].length>0,ft.push(b(lt,zt))),Pt.applyAnimationDuration&&(Pt.hasAnimations=!0,Dt.animationDuration=lt,ft.push(function(t){return[K,t+"s"]}(lt)))),0===lt&&!Pt.recalculateTimingStyles)return U();if(null!=B.delay){var It;"boolean"!=typeof B.delay&&(It=parseFloat(B.delay),st=Math.max(It,0)),Pt.applyTransitionDelay&&ft.push(y(It)),Pt.applyAnimationDelay&&ft.push(y(It,!0))}return null==B.duration&&Dt.transitionDuration>0&&(Pt.recalculateTimingStyles=Pt.recalculateTimingStyles||Rt),ut=st*nt,ct=lt*nt,B.skipBlocking||(Pt.blockTransition=Dt.transitionDuration>0,Pt.blockKeyframeAnimation=Dt.animationDuration>0&&Ct.animationDelay>0&&0===Ct.animationDuration),B.from&&(B.cleanupStyles&&S(G,Z,Object.keys(B.from)),c(s,B)),Pt.blockTransition||Pt.blockKeyframeAnimation?F(lt):B.skipBlocking||d(Z,!1),{$$willAnimate:!0,end:$,start:function(){if(!X)return ot={end:$,cancel:L,resume:null,pause:null},tt=new o(ot),A(N),tt}}}}]}],ut=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var e="ng-animate-shim",n="ng-anchor",i="ng-anchor-out",r="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,o,a,s,u,l,c){function h(t){return t.replace(/\bng-\S+\b/g,"")}function f(t,e){return U(t)&&(t=t.split(" ")),U(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function d(o,s,u,l){var c=g(o),d=g(s),v=[];if(W(l,function(o){var s=function(o,s,u){function l(t){var e={},n=p(t).getBoundingClientRect();return W(["width","height","top","left"],function(t){var i=n[t];switch(t){case"top":i+=m.scrollTop;break;case"left":i+=m.scrollLeft}e[t]=Math.floor(i)+"px"}),e}function c(t){return t.attr("class")||""}function d(){var e=h(c(u)),n=f(e,y),o=f(y,e),a=t(v,{to:l(u),addClass:r+" "+n,removeClass:i+" "+o,delay:!0});return a.$$willAnimate?a:null}function g(){v.remove(),s.removeClass(e),u.removeClass(e)}var v=N(p(s).cloneNode(!0)),y=h(c(v));s.addClass(e),u.addClass(e),v.addClass(n),w.append(v);var _,b=function(){var e=t(v,{addClass:i,delay:!0,from:l(s)});return e.$$willAnimate?e:null}();if(!b&&!(_=d()))return g();var $=b||_;return{start:function(){function t(){n&&n.end()}var e,n=$.start();return n.done(function(){if(n=null,!_&&(_=d()))return(n=_.start()).done(function(){n=null,g(),e.complete()}),n;g(),e.complete()}),e=new a({end:t,cancel:t})}}}(0,o.out,o.in);s&&v.push(s)}),c||d||0!==v.length)return{start:function(){function t(){W(e,function(t){t.end()})}var e=[];c&&e.push(c.start()),d&&e.push(d.start()),W(v,function(t){e.push(t.start())});var n=new a({end:t,cancel:t});return a.all(e,function(t){n.complete(t)}),n}}}function g(e){var n=e.element,i=e.options||{};e.structural&&(i.event=e.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===e.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=v(i.event,i.preparationClasses));var r=t(n,i);return r.$$willAnimate?r:null}if(!u.animations&&!u.transitions)return q;var m=c[0].body,y=p(s),w=N(function(t){return t.parentNode&&11===t.parentNode.nodeType}(y)||m.contains(y)?y:m);return function(t){return t.from&&t.to?d(t.from,t.to,t.classes,t.anchors):g(t)}}]}],lt=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,i){var r=s(i);return function(i,o,a,s){function c(){s.domOperation(),r(i,s)}function h(){d=!0,c(),l(i,s)}function f(t,e,i,r,o){var a=[];return W(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,u=function(t){a||(a=!0,(o||q)(t),r.complete(!t))};return r=new n({end:function(){u()},cancel:function(){u(!0)}}),o=function(t,e,i,r,o){var a;switch(i){case"animate":a=[e,r.from,r.to,o];break;case"setClass":a=[e,v,y,o];break;case"addClass":a=[e,v,o];break;case"removeClass":a=[e,y,o];break;default:a=[e,o]}a.push(r);var s=t.apply(t,a);if(s)if(j(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(j(s))return s;return q}(s,t,e,i,function(t){u(!1===t)}),r})}),a}function p(t,e,i,r,o){var a=f(t,e,i,r,o);if(0===a.length){var s,u;"beforeSetClass"===o?(s=f(t,"removeClass",i,r,"beforeRemoveClass"),u=f(t,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=f(t,"removeClass",i,r,"removeClass"),u=f(t,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),u&&(a=a.concat(u))}if(0!==a.length)return function(t){var e=[];return a.length&&W(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){W(e,function(e){t?e.cancel():e.end()})}}}var d=!1;3===arguments.length&&F(a)&&(s=a,a=null),s=u(s),a||(a=i.attr("class")||"",s.addClass&&(a+=" "+s.addClass),s.removeClass&&(a+=" "+s.removeClass));var g,m,v=s.addClass,y=s.removeClass,w=function(n){n=M(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!r[a]&&(i.push(e.get(s)),r[a]=!0)}return i}(a);if(w.length){var _,b;"leave"===o?(b="leave",_="afterLeave"):(b="before"+o.charAt(0).toUpperCase()+o.substr(1),_=o),"enter"!==o&&"move"!==o&&(g=p(i,o,s,w,b)),m=p(i,o,s,w,_)}if(g||m){var $;return{$$willAnimate:!0,end:function(){return $?$.end():(h(),($=new n).complete(!0)),$},start:function(){function t(t){h(),$.complete(t)}function e(e){d||((i||q)(e),t(e))}if($)return $;$=new n;var i,r=[];return g&&r.push(function(t){i=g(t)}),r.length?r.push(function(t){c(),t(!0)}):c(),m&&r.push(function(t){i=m(t)}),$.setHost({end:function(){e()},cancel:function(){e(!0)}}),n.chain(r,t),$}}}}}]}],ct=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,i=e.event,r=e.options,o=e.classes;return t(n,i,o,r)}return function(t){if(t.from&&t.to){var i=n(t.from),r=n(t.to);if(!i&&!r)return;return{start:function(){function t(){return function(){W(n,function(t){t.end()})}}var n=[];i&&n.push(i.start()),r&&n.push(r.start()),e.all(n,function(t){o.complete(t)});var o=new e({end:t(),cancel:t()});return o}}}return n(t)}}]}],ht="data-ng-animate",ft="$ngAnimatePin",pt=["$animateProvider",function(e){function i(t,e){if(t&&e){var n=function(t){if(!t)return null;var e=t.split(m),n=Object.create(null);return W(e,function(t){n[t]=!0}),n}(e);return t.split(m).some(function(t){return n[t]})}}function c(t,e,n){return y[t].some(function(t){return t(e,n)})}function h(t,e){var n=(t.addClass||"").length>0,i=(t.removeClass||"").length>0;return e?n&&i:n||i}var d=1,g=2,m=" ",y=this.rules={skip:[],cancel:[],join:[]};y.join.push(function(t,e){return!t.structural&&h(t)}),y.skip.push(function(t,e){return!t.structural&&!h(t)}),y.skip.push(function(t,e){return"leave"===e.event&&t.structural}),y.skip.push(function(t,e){return e.structural&&e.state===g&&!t.structural}),y.cancel.push(function(t,e){return e.structural&&t.structural}),y.cancel.push(function(t,e){return e.state===g&&t.structural}),y.cancel.push(function(t,e){if(e.structural)return!1;var n=t.addClass,r=t.removeClass,o=e.addClass,a=e.removeClass;return!(V(n)&&V(r)||V(o)&&V(a))&&(i(n,a)||i(r,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,m,y,w,_,b,$,S,C,k,z){function x(t,e){return f(t,e,{})}function D(t,e,n){var i=a(e);return t.filter(function(t){return!(t.node===i&&(!n||t.callback===n))})}function j(t,e){"close"!==t||e.parentNode||at.off(e)}function q(t,e,n){function a(t,e,n,r){I(function(){var t=function(t,e,n){var i=[],r=Q[n];return r&&W(r,function(r){ot.call(r.node,e)?i.push(r.callback):"leave"===n&&ot.call(r.node,t)&&i.push(r.callback)}),i}(k,C,e);t.length?i(function(){W(t,function(t){t(S,n,r)}),j(n,C)}):j(n,C)}),t.progress(e,n,r)}function s(t){!function(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}(S,_),rt(S,_),l(S,_),_.domOperation(),D.complete(!t)}var _=P(n),S=o(t),C=p(S),k=C&&C.parentNode;_=u(_);var D=new $,I=function(){var t=!1;return function(e){t?e():m.$$postDigest(function(){t=!0,e()})}}();if(M(_.addClass)&&(_.addClass=_.addClass.join(" ")),_.addClass&&!U(_.addClass)&&(_.addClass=null),M(_.removeClass)&&(_.removeClass=_.removeClass.join(" ")),_.removeClass&&!U(_.removeClass)&&(_.removeClass=null),_.from&&!F(_.from)&&(_.from=null),_.to&&!F(_.to)&&(_.to=null),!(K&&C&&nt(C,e,n)&&it(C,_)))return s(),D;var L=["enter","move","leave"].indexOf(e)>=0,q=z(),X=q||Z.get(C),J=!X&&G.get(C)||{},tt=!!J.state;if(X||tt&&J.state===d||(X=!function(t,e,n){var i,r=w[0].body,o=p(y),a=t===r||"HTML"===t.nodeName,s=t===o,u=!1,l=Z.get(t),c=N.data(t,ft);c&&(e=p(c));for(;e&&(s||(s=e===o),e.nodeType===E);){var h=G.get(e)||{};if(!u){var f=Z.get(e);if(!0===f&&!1!==l){l=!0;break}!1===f&&(l=!1),u=h.structural}if(V(i)||!0===i){var d=N.data(e,A);H(d)&&(i=d)}if(u&&!1===i)break;if(a||(a=e===r),a&&s)break;e=s||!(c=N.data(e,ft))?e.parentNode:p(c)}return(!u||i)&&!0!==l&&s&&a}(C,k)),X)return q&&a(D,e,"start"),s(),q&&a(D,e,"close"),D;L&&function(t){var e=t.querySelectorAll("["+ht+"]");W(e,function(t){var e=parseInt(t.getAttribute(ht),10),n=G.get(t);if(n)switch(e){case g:n.runner.end();case d:G.delete(t)}})}(C);var et={structural:L,element:S,event:e,addClass:_.addClass,removeClass:_.removeClass,close:s,options:_,runner:D};if(tt){if(c("skip",et,J))return J.state===g?(s(),D):(f(S,J,et),J.runner);if(c("cancel",et,J))if(J.state===g)J.runner.end();else{if(!J.structural)return f(S,J,et),J.runner;J.close()}else{if(c("join",et,J)){if(J.state!==g)return function(t,e,n){var i="";e&&(i=r(e,R,!0)),n.addClass&&(i=v(i,r(n.addClass,T))),n.removeClass&&(i=v(i,r(n.removeClass,O))),i.length&&(n.preparationClasses=i,t.addClass(i))}(S,L?e:null,_),e=et.event=J.event,_=f(S,J,et),J.runner;x(S,et)}}}else x(S,et);var at=et.structural;if(at||(at="animate"===et.event&&Object.keys(et.options.to||{}).length>0||h(et)),!at)return s(),B(C),D;var st=(J.counter||0)+1;return et.counter=st,Y(C,d,et),m.$$postDigest(function(){S=o(t);var n=G.get(C),i=!n;n=n||{};var r=(S.parent()||[]).length>0&&("animate"===n.event||n.structural||h(n));if(i||n.counter!==st||!r)return i&&(rt(S,_),l(S,_)),(i||L&&n.event!==e)&&(_.domOperation(),D.end()),void(r||B(C));e=!n.structural&&h(n,!0)?"setClass":n.event,Y(C,g);var u=b(S,e,n.options);D.setHost(u),a(D,e,"start",{}),u.done(function(t){s(!t);var n=G.get(C);n&&n.counter===st&&B(C),a(D,e,"close",{})})}),D}function B(t){t.removeAttribute(ht),G.delete(t)}function Y(t,e,n){(n=n||{}).state=e,t.setAttribute(ht,e);var i=G.get(t),r=i?I(i,n):n;G.set(t,r)}var G=new _,Z=new _,K=null,X=m.$watch(function(){return 0===S.totalPendingRequests},function(t){t&&(X(),m.$$postDigest(function(){m.$$postDigest(function(){null===K&&(K=!0)})}))}),Q=Object.create(null),J=e.customFilter(),tt=e.classNameFilter(),et=function(){return!0},nt=J||et,it=tt?function(t,e){var n=[t.getAttribute("class"),e.addClass,e.removeClass].join(" ");return tt.test(n)}:et,rt=s(C),ot=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},at={on:function(t,e,n){var i=a(e);Q[t]=Q[t]||[],Q[t].push({node:i,callback:n}),N(e).on("$destroy",function(){G.get(i)||at.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||U(arguments[0])){var i=Q[t];i&&(Q[t]=1===arguments.length?null:D(i,e,n))}else{e=arguments[0];for(var r in Q)Q[r]=D(Q[r],e)}},pin:function(t,e){n(L(t),"element","not an element"),n(L(e),"parentElement","not an element"),t.data(ft,e)},push:function(t,e,n,i){return n=n||{},n.domOperation=i,q(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!K;else{if(L(t)){var i=p(t);1===n?e=!Z.get(i):Z.set(i,!e)}else e=K=!!t}return e}};return at}]}],dt=["$animateProvider",function(t){function e(t){return t.data(o)}var n="ng-animate-ref",r=this.drivers=[],o="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(t,a,c,h,f,d){var g=[],m=s(t);return function(s,v,y){function w(t){var e=[],i={};W(t,function(t,r){var o=p(t.element),a=t.event,s=["enter","move"].indexOf(a)>=0,u=t.structural?function(t){var e="["+n+"]",i=t.hasAttribute(n)?[t]:t.querySelectorAll(e),r=[];return W(i,function(t){var e=t.getAttribute(n);e&&e.length&&r.push(t)}),r}(o):[];if(u.length){var l=s?"to":"from";W(u,function(t){var e=t.getAttribute(n);i[e]=i[e]||{},i[e][l]={animationID:r,element:N(t)}})}else e.push(t)});var r={},o={};return W(i,function(n,i){var a=n.from,s=n.to;if(a&&s){var u=t[a.animationID],l=t[s.animationID],c=a.animationID.toString();if(!o[c]){var h=o[c]={structural:!0,beforeStart:function(){u.beforeStart(),l.beforeStart()},close:function(){u.close(),l.close()},classes:function(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var o=0;o<e.length;o++)if(r===e[o]){n.push(r);break}}return n.join(" ")}(u.classes,l.classes),from:u,to:l,anchors:[]};h.classes.length?e.push(h):(e.push(u),e.push(l))}o[c].anchors.push({out:a.element,in:s.element})}else{var f=a?a.animationID:s.animationID,p=f.toString();r[p]||(r[p]=!0,e.push(t[f]))}}),e}function _(){var t=e(s);!t||"leave"===v&&y.$$domOperationFired||t.end()}function b(e){s.off("$destroy",_),function(t){t.removeData(o)}(s),m(s,y),l(s,y),y.domOperation(),k&&t.removeClass(s,k),s.removeClass(D),S.complete(!e)}y=u(y);var $=["enter","move","leave"].indexOf(v)>=0,S=new h({end:function(){b()},cancel:function(){b(!0)}});if(!r.length)return b(),S;!function(t,e){t.data(o,e)}(s,S);var C=i(s.attr("class"),i(y.addClass,y.removeClass)),k=y.tempClasses;k&&(C+=" "+k,y.tempClasses=null);var z;return $&&(z="ng-"+v+"-prepare",t.addClass(s,z)),g.push({element:s,classes:C,event:v,structural:$,options:y,beforeStart:function(){s.addClass(D),k&&t.addClass(s,k),z&&(t.removeClass(s,z),z=null)},close:b}),s.on("$destroy",_),g.length>1?S:(a.$$postDigest(function(){var t=[];W(g,function(n){e(n.element)?t.push(n):n.close()}),g.length=0;var n=w(t),i=[];W(n,function(t){i.push({domNode:p(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var n,i=t.close;if(e(t.anchors?t.from.element||t.to.element:t.element)){var o=function(t){for(var e=r.length-1;e>=0;e--){var n=r[e],i=c.get(n)(t);if(i)return i}}(t);o&&(n=o.start)}if(n){var a=n();a.done(function(t){i(!t)}),function(t,n){function i(t){var i=e(t);i&&i.setHost(n)}t.from&&t.to?(i(t.from.element),i(t.to.element)):i(t.element)}(t,a)}else i()}})}),d(function(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,o=n.parentNode;r.set(n,t);for(var a;o;){if(a=r.get(o)){a.processed||(a=e(a));break}o=o.parentNode}return(a||i).children.push(t),t}var n,i={children:[]},r=new f;for(n=0;n<t.length;n++){var o=t[n];r.set(o.domNode,t[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<t.length;n++)e(t[n]);return function(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,o=0,a=[];for(e=0;e<i.length;e++){var s=i[e];r<=0&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(t){o++,i.push(t)}),r--}return a.length&&n.push(a),n}(i)}(i))}),S)}}]}];e.module("ngAnimate",[],function(){q=e.noop,P=e.copy,I=e.extend,N=e.element,W=e.forEach,M=e.isArray,U=e.isString,F=e.isObject,V=e.isUndefined,H=e.isDefined,j=e.isFunction,L=e.isElement}).info({angularVersion:"1.6.6"}).directive("ngAnimateSwap",["$animate","$rootScope",function(t,e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,i,r,o){var a,s;e.$watchCollection(i.ngAnimateSwap||i.for,function(i){a&&t.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=e.$new(),o(s,function(e){a=e,t.enter(e,null,n)}))})}}}]).directive("ngAnimateChildren",tt).factory("$$rAFScheduler",["$$rAF",function(t){function e(t){i=i.concat(t),n()}function n(){if(i.length){for(var e=i.shift(),o=0;o<e.length;o++)e[o]();r||t(function(){r||n()})}}var i,r;return i=e.queue=[],e.waitUntilQuiet=function(e){r&&r(),r=t(function(){r=null,e(),n()})},e}]).provider("$$animateQueue",pt).provider("$$animation",dt).provider("$animateCss",st).provider("$$animateCssDriver",ut).provider("$$animateJs",lt).provider("$$animateJsDriver",ct)}(window,window.angular),function(t,e){"use strict";var n=e.module("ngAria",["ng"]).info({angularVersion:"1.6.6"}).provider("$aria",function(){function t(t,e,i,o){return function(a,s,u){var l=u.$normalize(e);!n[l]||r(s,i)||u[l]||a.$watch(u[t],function(t){t=o?!t:!!t,s.attr(e,t)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};this.config=function(t){n=e.extend(n,t)},this.$get=function(){return{config:function(t){return n[t]},$$watchExpr:t}}}),i=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],r=function(t,e){if(-1!==e.indexOf(t[0].nodeName))return!0};n.directive("ngShow",["$aria",function(t){return t.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(t){return t.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(t){return t.$$watchExpr("ngValue","aria-checked",i,!1)}]).directive("ngChecked",["$aria",function(t){return t.$$watchExpr("ngChecked","aria-checked",i,!1)}]).directive("ngReadonly",["$aria",function(t){return t.$$watchExpr("ngReadonly","aria-readonly",i,!1)}]).directive("ngRequired",["$aria",function(t){return t.$$watchExpr("ngRequired","aria-required",i,!1)}]).directive("ngModel",["$aria",function(t){function e(e,n,o,a){return t.config(n)&&!o.attr(e)&&(a||!r(o,i))}function n(t,e){return!e.attr("role")&&e.attr("type")===t&&!r(e,i)}return{restrict:"A",require:"ngModel",priority:200,compile:function(i,r){var o=function(t,e){var n=t.type,i=t.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":""}(r);return{post:function(i,r,a,s){function u(){return s.$modelValue}var l=e("tabindex","tabindex",r,!1);switch(o){case"radio":case"checkbox":n(o,r)&&r.attr("role",o),e("aria-checked","ariaChecked",r,!1)&&i.$watch(u,"radio"===o?function(t){var e=a.value==s.$viewValue;r.attr("aria-checked",e)}:function(){r.attr("aria-checked",!s.$isEmpty(s.$viewValue))}),l&&r.attr("tabindex",0);break;case"range":if(n(o,r)&&r.attr("role","slider"),t.config("ariaValue")){var c=!r.attr("aria-valuemin")&&(a.hasOwnProperty("min")||a.hasOwnProperty("ngMin")),h=!r.attr("aria-valuemax")&&(a.hasOwnProperty("max")||a.hasOwnProperty("ngMax")),f=!r.attr("aria-valuenow");c&&a.$observe("min",function(t){r.attr("aria-valuemin",t)}),h&&a.$observe("max",function(t){r.attr("aria-valuemax",t)}),f&&i.$watch(u,function(t){r.attr("aria-valuenow",t)})}l&&r.attr("tabindex",0)}!a.hasOwnProperty("ngRequired")&&s.$validators.required&&e("aria-required","ariaRequired",r,!1)&&a.$observe("required",function(){r.attr("aria-required",!!a.required)}),e("aria-invalid","ariaInvalid",r,!0)&&i.$watch(function(){return s.$invalid},function(t){r.attr("aria-invalid",!!t)})}}}}}]).directive("ngDisabled",["$aria",function(t){return t.$$watchExpr("ngDisabled","aria-disabled",i,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(t,e,n,i){e.attr("aria-live")||e.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(t,e){return{restrict:"A",compile:function(n,o){var a=e(o.ngClick);return function(e,n,o){r(n,i)||(t.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),t.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!t.config("bindKeydown")||o.ngKeydown||o.ngKeypress||o.ngKeyup||n.on("keydown",function(t){var n=t.which||t.keyCode;32!==n&&13!==n||e.$apply(function(){a(e,{$event:t})})}))}}}}]).directive("ngDblclick",["$aria",function(t){return function(e,n,o){!t.config("tabindex")||n.attr("tabindex")||r(n,i)||n.attr("tabindex",0)}}])}(window,window.angular),function(t,e,n){"use strict";function i(t){return T(t)?t:Object.keys(t).map(function(e){return t[e]})}function r(t){return null===t}function o(t,e){return-1==Object.keys(t).map(function(i){return e[i]!==n&&e[i]==t[i]}).indexOf(!1)}function a(t,e){function n(t,e,n){for(var i=0;e+i<=t.length;){if(t.charAt(e+i)==n)return i;i++}return-1}for(var i=0,r=0;r<=e.length;r++){var o=n(t,i,e.charAt(r));if(-1==o)return!1;i+=o+1}return!0}function s(t,e,n){var i=0;return t.filter(function(t){var r=S(n)?i<e&&n(t):i<e;return i=r?i+1:i,r})}function u(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function l(t,e,n){e=e||[];return Object.keys(t).forEach(function(i){if(E(t[i])&&!T(t[i])){var r=n?n+"."+i:n;l(t[i],e,r||i)}else{var o=n?n+"."+i:i;e.push(o)}}),e}function c(t){return t&&t.$evalAsync&&t.$watch}function h(){return function(t,e){return t>e}}function f(){return function(t,e){return t>=e}}function p(){return function(t,e){return t<e}}function d(){return function(t,e){return t<=e}}function g(){return function(t,e){return t==e}}function m(){return function(t,e){return t!=e}}function v(){return function(t,e){return t===e}}function y(){return function(t,e){return t!==e}}function w(t){return function(e,n){return e=E(e)?i(e):e,!(!T(e)||C(n))&&e.some(function(e){return z(n)&&E(e)||k(n)?t(n)(e):e===n})}}function _(t,e){return(e=e||0)>=t.length?t:T(t[e])?_(t.slice(0,e).concat(t[e],t.slice(e+1)),e):_(t,e+1)}function b(t){return function(e,n){if(e=E(e)?i(e):e,!T(e))return e;var r=[],o=t(n);return C(n)?e.filter(function(t,e,n){return n.indexOf(t)===e}):e.filter(function(t){var e=o(t);return!function(t,e){return!C(e)&&t.some(function(t){return A(t,e)})}(r,e)&&(r.push(e),!0)})}}function $(t,e,n){return e?t+n+$(t,--e,n):t}var S=e.isDefined,C=e.isUndefined,k=e.isFunction,z=e.isString,x=e.isNumber,E=e.isObject,T=e.isArray,O=e.forEach,R=e.extend,D=e.copy,A=e.equals;String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),e.module("a8m.angular",[]).filter("isUndefined",function(){return function(t){return e.isUndefined(t)}}).filter("isDefined",function(){return function(t){return e.isDefined(t)}}).filter("isFunction",function(){return function(t){return e.isFunction(t)}}).filter("isString",function(){return function(t){return e.isString(t)}}).filter("isNumber",function(){return function(t){return e.isNumber(t)}}).filter("isArray",function(){return function(t){return e.isArray(t)}}).filter("isObject",function(){return function(t){return e.isObject(t)}}).filter("isEqual",function(){return function(t,n){return e.equals(t,n)}}),e.module("a8m.conditions",[]).filter({isGreaterThan:h,">":h,isGreaterThanOrEqualTo:f,">=":f,isLessThan:p,"<":p,isLessThanOrEqualTo:d,"<=":d,isEqualTo:g,"==":g,isNotEqualTo:m,"!=":m,isIdenticalTo:v,"===":v,isNotIdenticalTo:y,"!==":y}),e.module("a8m.is-null",[]).filter("isNull",function(){return function(t){return r(t)}}),e.module("a8m.after-where",[]).filter("afterWhere",function(){return function(t,e){if(t=E(t)?i(t):t,!T(t)||C(e))return t;var n=t.map(function(t){return o(e,t)}).indexOf(!0);return t.slice(-1===n?0:n)}}),e.module("a8m.after",[]).filter("after",function(){return function(t,e){return t=E(t)?i(t):t,T(t)?t.slice(e):t}}),e.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(t,e){if(t=E(t)?i(t):t,!T(t)||C(e))return t;var n=t.map(function(t){return o(e,t)}).indexOf(!0);return t.slice(0,-1===n?t.length:++n)}}),e.module("a8m.before",[]).filter("before",function(){return function(t,e){return t=E(t)?i(t):t,T(t)?t.slice(0,e?--e:e):t}}),e.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(t){return function(e,n,i){return t.isMemoized("chunkBy",arguments)||t.memoize("chunkBy",arguments,this,function(t,e,n){return T(t)?t.map(function(t,i,r){return i*=e,t=r.slice(i,i+e),!C(n)&&t.length<e?t.concat(function(t,e){for(var n=[];t--;)n[t]=e;return n}(e-t.length,n)):t}).slice(0,Math.ceil(t.length/e)):t}(e,n,i))}}]),e.module("a8m.concat",[]).filter("concat",[function(){return function(t,e){if(C(e))return t;if(T(t))return E(e)?t.concat(i(e)):t.concat(e);if(E(t)){var n=i(t);return E(e)?n.concat(i(e)):n.concat(e)}return t}}]),e.module("a8m.contains",[]).filter({contains:["$parse",w],some:["$parse",w]}),e.module("a8m.count-by",[]).filter("countBy",["$parse",function(t){return function(e,n){var r,o={},a=t(n);return e=E(e)?i(e):e,!T(e)||C(n)?e:(e.forEach(function(t){r=a(t),o[r]||(o[r]=0),o[r]++}),o)}}]),e.module("a8m.defaults",[]).filter("defaults",["$parse",function(t){return function(e,n){if(e=E(e)?i(e):e,!T(e)||!E(n))return e;var r=l(n);return e.forEach(function(e){r.forEach(function(i){var r=t(i),o=r.assign;C(r(e))&&o(e,r(n))})}),e}}]),e.module("a8m.every",[]).filter("every",["$parse",function(t){return function(e,n){return e=E(e)?i(e):e,!(T(e)&&!C(n))||e.every(function(e){return E(e)||k(n)?t(n)(e):e===n})}}]),e.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(t){return function(e,r,o,a){var s;return o=z(o)||x(o)?String(o).toLowerCase():n,e=E(e)?i(e):e,!T(e)||C(o)?e:e.filter(function(e){return r.some(function(n){if(~n.indexOf("+")){var i=n.replace(/\s+/g,"").split("+");s=i.map(function(n){return t(n)(e)}).join(" ")}else s=t(n)(e);return!(!z(s)&&!x(s))&&(s=String(s).toLowerCase(),a?s===o:s.contains(o))})})}}]),e.module("a8m.first",[]).filter("first",["$parse",function(t){return function(e){var r,o,a;return e=E(e)?i(e):e,T(e)?(a=Array.prototype.slice.call(arguments,1),r=x(a[0])?a[0]:1,o=x(a[0])?x(a[1])?n:a[1]:a[0],a.length?s(e,r,o?t(o):o):e[0]):e}}]),e.module("a8m.flatten",[]).filter("flatten",function(){return function(t,e){return e=e||!1,t=E(t)?i(t):t,T(t)?e?[].concat.apply([],t):_(t,0):t}}),e.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(t){return function(e,n,r,o){var s,u,l=o||!1;return e=E(e)?i(e):e,!T(e)||C(n)||C(r)?e:(u=t(n),e.filter(function(t){return s=u(t),!!z(s)&&(s=l?s:s.toLowerCase(),r=l?r:r.toLowerCase(),!1!==a(s,r))}))}}]),e.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(t,e,n){var r=n||!1;return t=E(t)?i(t):t,!T(t)||C(e)?t:(e=r?e:e.toLowerCase(),t.filter(function(t){return z(t)?(t=r?t:t.toLowerCase(),!1!==a(t,e)):!!E(t)&&function(t,e){var n,i;return 0<Object.keys(t).filter(function(o){return n=t[o],!!i||!!z(n)&&(n=r?n:n.toLowerCase(),i=!1!==a(n,e))}).length}(t,e)}))}}),e.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(t,e){return function(n,i){return!E(n)||C(i)?n:e.isMemoized("groupBy",arguments)||e.memoize("groupBy",arguments,this,function(t,e){var n,i={};return O(t,function(t){n=e(t),i[n]||(i[n]=[]),i[n].push(t)}),i}(n,t(i)))}}]),e.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(t){return E(t)?!i(t).length:!t.length}}),e.module("a8m.join",[]).filter("join",function(){return function(t,e){return C(t)||!T(t)?t:(C(e)&&(e=" "),t.join(e))}}),e.module("a8m.last",[]).filter("last",["$parse",function(t){return function(e){var r,o,a,u=D(e);return u=E(u)?i(u):u,T(u)?(a=Array.prototype.slice.call(arguments,1),r=x(a[0])?a[0]:1,o=x(a[0])?x(a[1])?n:a[1]:a[0],a.length?s(u.reverse(),r,o?t(o):o).reverse():u[u.length-1]):u}}]),e.module("a8m.map",[]).filter("map",["$parse",function(t){return function(e,n){return e=E(e)?i(e):e,!T(e)||C(n)?e:e.map(function(e){return t(n)(e)})}}]),e.module("a8m.omit",[]).filter("omit",["$parse",function(t){return function(e,n){return e=E(e)?i(e):e,!T(e)||C(n)?e:e.filter(function(e){return!t(n)(e)})}}]),e.module("a8m.pick",[]).filter("pick",["$parse",function(t){return function(e,n){return e=E(e)?i(e):e,!T(e)||C(n)?e:e.filter(function(e){return t(n)(e)})}}]),e.module("a8m.range",[]).filter("range",function(){return function(t,e,n,i,r){n=n||0,i=i||1;for(var o=0;o<parseInt(e);o++){var a=n+o*i;t.push(k(r)?r(a):a)}return t}}),e.module("a8m.remove-with",[]).filter("removeWith",function(){return function(t,e){return C(e)?t:(t=E(t)?i(t):t).filter(function(t){return!o(e,t)})}}),e.module("a8m.remove",[]).filter("remove",function(){return function(t){t=E(t)?i(t):t;var e=Array.prototype.slice.call(arguments,1);return T(t)?t.filter(function(t){return!e.some(function(e){return A(e,t)})}):t}}),e.module("a8m.reverse",[]).filter("reverse",[function(){return function(t){return t=E(t)?i(t):t,z(t)?t.split("").reverse().join(""):T(t)?t.slice().reverse():t}}]),e.module("a8m.search-field",[]).filter("searchField",["$parse",function(t){return function(e){var n,r;e=E(e)?i(e):e;var o=Array.prototype.slice.call(arguments,1);return T(e)&&o.length?e.map(function(e){return r=o.map(function(i){return(n=t(i))(e)}).join(" "),R(e,{searchField:r})}):e}}]),e.module("a8m.to-array",[]).filter("toArray",function(){return function(t,e){return E(t)?e?Object.keys(t).map(function(e){return R(t[e],{$key:e})}):i(t):t}}),e.module("a8m.unique",[]).filter({unique:["$parse",b],uniq:["$parse",b]}),e.module("a8m.where",[]).filter("where",function(){return function(t,e){return C(e)?t:(t=E(t)?i(t):t).filter(function(t){return o(e,t)})}}),e.module("a8m.xor",[]).filter("xor",["$parse",function(t){return function(e,n,r){function o(e,n){var i=t(r);return n.some(function(t){return r?A(i(t),i(e)):A(t,e)})}return r=r||!1,e=E(e)?i(e):e,n=E(n)?i(n):n,T(e)&&T(n)?e.concat(n).filter(function(t){return!(o(t,e)&&o(t,n))}):e}}]),e.module("a8m.math.abs",[]).filter("abs",function(){return function(t){return Math.abs(t)}}),e.module("a8m.math.byteFmt",[]).filter("byteFmt",function(){var t=[{str:"B",val:1024}];return["KB","MB","GB","TB","PB","EB","ZB","YB"].forEach(function(e,n){t.push({str:e,val:1024*t[n].val})}),function(e,n){if(x(n)&&isFinite(n)&&n%1==0&&n>=0&&x(e)&&isFinite(e)){for(var i=0;i<t.length-1&&e>=t[i].val;)i++;return e/=i>0?t[i-1].val:1,u(e,n)+" "+t[i].str}return"NaN"}}),e.module("a8m.math.degrees",[]).filter("degrees",function(){return function(t,e){if(x(e)&&isFinite(e)&&e%1==0&&e>=0&&x(t)&&isFinite(t)){var n=180*t/Math.PI;return Math.round(n*Math.pow(10,e))/Math.pow(10,e)}return"NaN"}}),e.module("a8m.math.kbFmt",[]).filter("kbFmt",function(){var t=[{str:"KB",val:1024}];return["MB","GB","TB","PB","EB","ZB","YB"].forEach(function(e,n){t.push({str:e,val:1024*t[n].val})}),function(e,n){if(x(n)&&isFinite(n)&&n%1==0&&n>=0&&x(e)&&isFinite(e)){for(var i=0;i<t.length-1&&e>=t[i].val;)i++;return e/=i>0?t[i-1].val:1,u(e,n)+" "+t[i].str}return"NaN"}}),e.module("a8m.math.max",[]).filter("max",["$parse",function(t){return function(e,n){return T(e)?C(n)?Math.max.apply(Math,e):e[function(e,n){var i=e.map(function(e){return t(n)(e)});return i.indexOf(Math.max.apply(Math,i))}(e,n)]:e}}]),e.module("a8m.math.min",[]).filter("min",["$parse",function(t){return function(e,n){return T(e)?C(n)?Math.min.apply(Math,e):e[function(e,n){var i=e.map(function(e){return t(n)(e)});return i.indexOf(Math.min.apply(Math,i))}(e,n)]:e}}]),e.module("a8m.math.percent",[]).filter("percent",function(){return function(t,e,n){var i=z(t)?Number(t):t;return e=e||100,n=n||!1,!x(i)||isNaN(i)?t:n?Math.round(i/e*100):i/e*100}}),e.module("a8m.math.radians",[]).filter("radians",function(){return function(t,e){if(x(e)&&isFinite(e)&&e%1==0&&e>=0&&x(t)&&isFinite(t)){var n=3.14159265359*t/180;return Math.round(n*Math.pow(10,e))/Math.pow(10,e)}return"NaN"}}),e.module("a8m.math.radix",[]).filter("radix",function(){return function(t,e){return x(t)&&/^[2-9]$|^[1-2]\d$|^3[0-6]$/.test(e)?t.toString(e).toUpperCase():t}}),e.module("a8m.math.shortFmt",[]).filter("shortFmt",function(){return function(t,e){return x(e)&&isFinite(e)&&e%1==0&&e>=0&&x(t)&&isFinite(t)?t<1e3?""+t:t<1e6?u(t/1e3,e)+" K":t<1e9?u(t/1e6,e)+" M":u(t/1e9,e)+" B":"NaN"}}),e.module("a8m.math.sum",[]).filter("sum",function(){return function(t,e){return T(t)?t.reduce(function(t,e){return t+e},e||0):t}}),e.module("a8m.ends-with",[]).filter("endsWith",function(){return function(t,e,n){var i,r=n||!1;return!z(t)||C(e)?t:(t=r?t:t.toLowerCase(),i=t.length-e.length,-1!==t.indexOf(r?e:e.toLowerCase(),i))}}),e.module("a8m.latinize",[]).filter("latinize",[function(){for(var t=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],e={},n=0;n<t.length;n++)for(var i=t[n].letters.split(""),r=0;r<i.length;r++)e[i[r]]=t[n].base;return function(t){return z(t)?function(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return e[t]||t})}(t):t}}]),e.module("a8m.ltrim",[]).filter("ltrim",function(){return function(t,e){var n=e||"\\s";return z(t)?t.replace(new RegExp("^"+n+"+"),""):t}}),e.module("a8m.match",[]).filter("match",function(){return function(t,e,n){var i=new RegExp(e,n);return z(t)?t.match(i):null}}),e.module("a8m.repeat",[]).filter("repeat",[function(){return function(t,e,n){var i=~~e;return z(t)&&i?$(t,--e,n||""):t}}]),e.module("a8m.rtrim",[]).filter("rtrim",function(){return function(t,e){var n=e||"\\s";return z(t)?t.replace(new RegExp(n+"+$"),""):t}}),e.module("a8m.slugify",[]).filter("slugify",[function(){return function(t,e){var n=C(e)?"-":e;return z(t)?t.toLowerCase().replace(/\s+/g,n):t}}]),e.module("a8m.starts-with",[]).filter("startsWith",function(){return function(t,e,n){var i=n||!1;return!z(t)||C(e)?t:!(t=i?t:t.toLowerCase()).indexOf(i?e:e.toLowerCase())}}),e.module("a8m.stringular",[]).filter("stringular",function(){return function(t){var e=Array.prototype.slice.call(arguments,1);return t.replace(/{(\d+)}/g,function(t,n){return C(e[n])?t:e[n]})}}),e.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(t){return z(t)?t.replace(/<\S[^><]*>/g,""):t}}),e.module("a8m.test",[]).filter("test",function(){return function(t,e,n){var i=new RegExp(e,n);return z(t)?i.test(t):t}}),e.module("a8m.trim",[]).filter("trim",function(){return function(t,e){var n=e||"\\s";return z(t)?t.replace(new RegExp("^"+n+"+|"+n+"+$","g"),""):t}}),e.module("a8m.truncate",[]).filter("truncate",function(){return function(t,e,n,i){return e=C(e)?t.length:e,i=i||!1,n=n||"",!z(t)||t.length<=e?t:t.substring(0,i?-1===t.indexOf(" ",e)?t.length:t.indexOf(" ",e):e)+n}}),e.module("a8m.ucfirst",[]).filter("ucfirst",[function(){return function(t){return z(t)?t.split(" ").map(function(t){return t.charAt(0).toUpperCase()+t.substring(1)}).join(" "):t}}]),e.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(t){return function(e){return z(e)?t.encodeURIComponent(e):e}}]),e.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(t){return function(e){return z(e)?t.encodeURI(e):e}}]),e.module("a8m.wrap",[]).filter("wrap",function(){return function(t,e,n){return z(t)&&S(e)?[e,t,n||e].join(""):t}}),e.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(t,e){function n(e,n){return[e,JSON.stringify(n,function(){var e=[];return function(n,i){if(E(i)&&!r(i)){if(~e.indexOf(i))return"[Circular]";e.push(i)}return t==i?"$WINDOW":t.document==i?"$DOCUMENT":c(i)?"$SCOPE":i}}())].join("#").replace(/"/g,"")}function i(t){var e=t.targetScope.$id;O(s[e],function(t){delete a[t]}),delete s[e]}function o(t,r,o,l){var h=n(t,r);return a[h]=l,c(o)?function(t,e){var n=t.$id;C(s[n])&&(t.$on("$destroy",i),s[n]=[]),s[n].push(e)}(o,h):u(function(){e.$$phase||(a={})},2e3),l}var a={},s={},u=t.setTimeout;return{isMemoized:function(t,e){var i=n(t,e);return a[i]},memoize:o}}]}),e.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math.max","a8m.math.min","a8m.math.abs","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular),function(t){var e=function(t){var e=t.module("FBAngular",[]);return e.factory("Fullscreen",["$document","$rootScope",function(e,n){var i=e[0],r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element&&Element.ALLOW_KEYBOARD_INPUT,o=n.$new();e.on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){o.$emit("FBFullscreen.change",a.isEnabled())});var a={$on:t.bind(o,o.$on),all:function(){a.enable(i.documentElement)},enable:function(t){t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?/Version\/[\d]{1,2}(\.[\d]{1,2}){1}(\.(\d){1,2}){0,1} Safari/.test(navigator.userAgent)?t.webkitRequestFullscreen():t.webkitRequestFullscreen(r):t.msRequestFullscreen&&t.msRequestFullscreen()},cancel:function(){i.cancelFullScreen?i.cancelFullScreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.msExitFullscreen&&i.msExitFullscreen()},isEnabled:function(){return!!(i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement||i.msFullscreenElement)},toggleAll:function(){a.isEnabled()?a.cancel():a.all()},isSupported:function(){var t=i.documentElement;return!!(t.requestFullScreen||t.mozRequestFullScreen||t.webkitRequestFullscreen||t.msRequestFullscreen)}};return a}]),e.directive("fullscreen",["Fullscreen",function(t){return{link:function(e,n,i){if(i.fullscreen){e.$watch(i.fullscreen,function(e){var i=t.isEnabled();e&&!i?(t.enable(n[0]),n.addClass("isInFullScreen")):!e&&i&&(t.cancel(),n.removeClass("isInFullScreen"))});var r=t.$on("FBFullscreen.change",function(t,r){r||e.$evalAsync(function(){e.$eval(i.fullscreen+"= false"),n.removeClass("isInFullScreen")})});e.$on("$destroy",function(){r()})}else{if(void 0!==i.onlyWatchedProperty)return;n.on("click",function(e){t.enable(n[0])})}}}}]),e};"function"==typeof define&&define.amd?define("FBAngular",["angular"],function(t){return e(t)}):e(t.angular)}(window),function(t,e){"use strict";function n(){return["$animate",function(t){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(e,n,i,o,a){var s,u=n[0],l=i.ngMessage||i.when,c=i.ngMessageExp||i.whenExp,h=function(t){s=t?r(t)?t:t.split(/[\s,]+/):null,o.reRender()};c?(h(e.$eval(c)),e.$watchCollection(c,h)):h(l);var f,p;o.register(u,p={test:function(t){return function(t,e){if(t)return r(t)?t.indexOf(e)>=0:t.hasOwnProperty(e)}(s,t)},attach:function(){f||a(function(e,i){t.enter(e,null,n);var r=(f=e).$$attachId=o.getAttachId();f.on("$destroy",function(){f&&f.$$attachId===r&&(o.deregister(u),p.detach()),i.$destroy()})})},detach:function(){if(f){var e=f;f=null,t.leave(e)}}})}}}]}var i,r,o,a;e.module("ngMessages",[],function(){i=e.forEach,r=e.isArray,o=e.isString,a=e.element}).info({angularVersion:"1.6.6"}).directive("ngMessages",["$animate",function(t){function e(t,e){return o(e)&&0===e.length||n(t.$eval(e))}function n(t){return o(t)?t.length:!!t}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(r,o,a){function s(t,e){for(var n=e,i=[];n&&n!==t;){var r=n.$$ngMessageNode;if(r&&r.length)return p[r];n.childNodes.length&&-1===i.indexOf(n)?(i.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,i.push(n))}}var u=this,l=0,c=0;this.getAttachId=function(){return c++};var h,f,p=this.messages={};this.render=function(s){h=!1,f=s=s||{};for(var l=e(o,a.ngMessagesMultiple)||e(o,a.multiple),c=[],p={},d=u.head,g=!1,m=0;null!=d;){m++;var v=d.message,y=!1;g||i(s,function(t,e){if(!y&&n(t)&&v.test(e)){if(p[e])return;p[e]=!0,y=!0,v.attach()}}),y?g=!l:c.push(v),d=d.next}i(c,function(t){t.detach()}),c.length!==m?t.setClass(r,"ng-active","ng-inactive"):t.setClass(r,"ng-inactive","ng-active")},o.$watchCollection(a.ngMessages||a.for,u.render),r.on("$destroy",function(){i(p,function(t){t.message.detach()})}),this.reRender=function(){h||(h=!0,o.$evalAsync(function(){h&&f&&u.render(f)}))},this.register=function(t,e){var n=l.toString();p[n]={message:e},function(t,e,n){var i=p[n];if(u.head){var r=s(t,e);r?(i.next=r.next,r.next=i):(i.next=u.head,u.head=i)}else u.head=i}(r[0],t,n),t.$$ngMessageNode=n,l++,u.reRender()},this.deregister=function(t){var e=t.$$ngMessageNode;delete t.$$ngMessageNode,function(t,e,n){var i=p[n],r=s(t,e);r?r.next=i.next:u.head=i.next}(r[0],t,e),delete p[e],u.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(t,e,n){function i(t,i){var r=n.$$createComment?n.$$createComment("ngMessagesInclude",i):e[0].createComment(" ngMessagesInclude: "+i+" "),o=a(r);t.after(o),t.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(e,r,a){var s=a.ngMessagesInclude||a.src;t(s).then(function(t){e.$$destroyed||(o(t)&&!t.trim()?i(r,s):n(t)(e,function(t){r.after(t),i(r,s)}))})}}}]).directive("ngMessage",n()).directive("ngMessageExp",n())}(window,window.angular),function(t,e){"use strict";function n(t,n){if(!function(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&o.test("."+t)}(n))throw r("badmember",'Dotted member path "@{0}" is invalid.',n);for(var i=n.split("."),a=0,s=i.length;a<s&&e.isDefined(t);a++){var u=i[a];t=null!==t?t[u]:void 0}return t}function i(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var i in t)!t.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=t[i]);return n}var r=e.$$minErr("$resource"),o=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).info({angularVersion:"1.6.6"}).provider("$resource",function(){var t=/^https?:\/\/\[[^\]]*][^/]*/,o=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,u,l){function c(t,e){this.template=t,this.defaults=d({},o.defaults,e),this.urlParams={}}function h(t,e,_,b){function $(t){i(t||{},this)}var S=new c(t,b);return _=d({},o.defaults.actions,_),$.prototype.toJSON=function(){var t=d({},this);return delete t.$promise,delete t.$resolved,delete t.$cancelRequest,t},p(_,function(t,o){var c=!0===t.hasBody||!1!==t.hasBody&&/^(POST|PUT|PATCH)$/i.test(t.method),h=t.timeout,_=v(t.cancellable)?t.cancellable:S.defaults.cancellable;h&&!w(h)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete t.timeout,h=null),$[o]=function(s,v,w,b){var C,k,z,x={};switch(arguments.length){case 4:z=b,k=w;case 3:case 2:if(!y(v)){x=s,C=v,k=w;break}if(y(s)){k=s,z=v;break}k=v,z=w;case 1:y(s)?k=s:c?C=s:x=s;break;case 0:break;default:throw r("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var E,T,O=this instanceof $,R=O?C:t.isArray?[]:new $(C),D={},A=t.interceptor&&t.interceptor.response||function(t){return t.resource},P=t.interceptor&&t.interceptor.responseError||void 0,I=!!z,W=!!P;p(t,function(t,e){switch(e){default:D[e]=g(t);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!O&&_&&(E=u.defer(),D.timeout=E.promise,h&&(T=l(E.resolve,h))),c&&(D.data=C),S.setUrlParams(D,d({},function(t,i){var r={};return i=d({},e,i),p(i,function(e,i){y(e)&&(e=e(t)),r[i]=e&&e.charAt&&"@"===e.charAt(0)?n(t,e.substr(1)):e}),r}(C,t.params||{}),x),t.url);var M=a(D).then(function(e){var n=e.data;if(n){if(m(n)!==!!t.isArray)throw r("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",o,t.isArray?"array":"object",m(n)?"array":"object",D.method,D.url);if(t.isArray)R.length=0,p(n,function(t){"object"==typeof t?R.push(new $(t)):R.push(t)});else{var a=R.$promise;i(n,R),R.$promise=a}}return e.resource=R,e},function(t){return t.resource=R,u.reject(t)});return M=M.finally(function(){R.$resolved=!0,!O&&_&&(R.$cancelRequest=f,l.cancel(T),E=T=D.timeout=null)}),M=M.then(function(t){var e=A(t);return(k||f)(e,t.headers,t.status,t.statusText),e},I||W?function(t){return I&&!W&&M.catch(f),I&&z(t),W?P(t):u.reject(t)}:void 0),O?M:(R.$promise=M,R.$resolved=!1,_&&(R.$cancelRequest=function(t){M.catch(f),null!==E&&E.resolve(t)}),R)},$.prototype["$"+o]=function(t,e,n){y(t)&&(n=e,e=t,t={});var i=$[o].call(this,t,this,e,n);return i.$promise||i}}),$.bind=function(n){var i=d({},e,n);return h(t,i,_,b)},$}var f=e.noop,p=e.forEach,d=e.extend,g=e.copy,m=e.isArray,v=e.isDefined,y=e.isFunction,w=e.isNumber,_=e.$$encodeUriQuery,b=e.$$encodeUriSegment;return c.prototype={setUrlParams:function(e,n,i){var o,a,s=this,u=i||s.template,l="",c=s.urlParams=Object.create(null);p(u.split(/\W/),function(t){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(u)&&(c[t]={isQueryParamValue:new RegExp("\\?.*=:"+t+"(?:\\W|$)").test(u)})}),u=u.replace(/\\:/g,":"),u=u.replace(t,function(t){return l=t,""}),n=n||{},p(s.urlParams,function(t,e){o=n.hasOwnProperty(e)?n[e]:s.defaults[e],v(o)&&null!==o?(a=t.isQueryParamValue?_(o,!0):b(o),u=u.replace(new RegExp(":"+e+"(\\W|$)","g"),function(t,e){return a+e})):u=u.replace(new RegExp("(/?):"+e+"(\\W|$)","g"),function(t,e,n){return"/"===n.charAt(0)?n:e+n})}),s.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),e.url=l+u.replace(/\/(\\|%5C)\./,"/."),p(n,function(t,n){s.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},h}]})}(window,window.angular),function(t,e){"use strict";var n,i,r,o,a,s,u,l,c,h=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",function(){function f(t,e){var n,i={},r=t.split(",");for(n=0;n<r.length;n++)i[e?a(r[n]):r[n]]=!0;return i}function p(t){return t.replace(/&/g,"&amp;").replace(v,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(y,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(e){for(;e;){if(e.nodeType===t.Node.ELEMENT_NODE)for(var n=e.attributes,i=0,r=n.length;i<r;i++){var o=n[i],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(e.removeAttributeNode(o),i--,r--)}var s=e.firstChild;s&&d(s),e=g("nextSibling",e)}}function g(t,e){var n=e[t];if(n&&u.call(e,n))throw h("elclob","Failed to sanitize html because the element is clobbered: {0}",e.outerHTML||e.outerText);return n}var m=!1;this.$get=["$$sanitizeUri",function(t){return m&&i(x,k),function(e){var n=[];return l(e,c(n,function(e,n){return!/^unsafe:/.test(t(e,n))})),n.join("")}}],this.enableSvg=function(t){return o(t)?(m=t,this):m},n=e.bind,i=e.extend,r=e.forEach,o=e.isDefined,a=e.lowercase,s=e.noop,l=function(t,e){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t);var n=D(t);if(!n)return"";var i=5;do{if(0===i)throw h("uinput","Failed to sanitize html because the input is unstable");i--,t=n.innerHTML,n=D(t)}while(t!==n.innerHTML);for(var r=n.firstChild;r;){switch(r.nodeType){case 1:e.start(r.nodeName.toLowerCase(),function(t){for(var e={},n=0,i=t.length;n<i;n++){var r=t[n];e[r.name]=r.value}return e}(r.attributes));break;case 3:e.chars(r.textContent)}var o;if(!((o=r.firstChild)||(1===r.nodeType&&e.end(r.nodeName.toLowerCase()),o=g("nextSibling",r))))for(;null==o&&(r=g("parentNode",r))!==n;)o=g("nextSibling",r),1===r.nodeType&&e.end(r.nodeName.toLowerCase());r=o}for(;r=n.firstChild;)n.removeChild(r)},c=function(t,e){var i=!1,o=n(t,t.push);return{start:function(t,n){t=a(t),!i&&z[t]&&(i=t),i||!0!==x[t]||(o("<"),o(t),r(n,function(n,i){var r=a(i),s="img"===t&&"src"===r||"background"===r;!0!==R[r]||!0===E[r]&&!e(n,s)||(o(" "),o(i),o('="'),o(p(n)),o('"'))}),o(">"))},end:function(t){t=a(t),i||!0!==x[t]||!0===w[t]||(o("</"),o(t),o(">")),t==i&&(i=!1)},chars:function(t){i||o(p(t))}}},u=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};var v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^#-~ |!])/g,w=f("area,br,col,hr,img,wbr"),_=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),b=f("rp,rt"),$=i({},b,_),S=i({},_,f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),C=i({},b,f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),k=f("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),z=f("script,style"),x=i({},w,S,C,$),E=f("background,cite,href,longdesc,src,xlink:href"),T=f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),O=f("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),R=i({},E,O,T),D=function(t,e){var n;if(!e||!e.implementation)throw h("noinert","Can't create an inert html document");var i=((n=e.implementation.createHTMLDocument("inert")).documentElement||n.getDocumentElement()).querySelector("body");return i.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',i.querySelector("svg")?(i.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',i.querySelector("svg img")?function(e){e="<remove></remove>"+e;try{var n=(new t.DOMParser).parseFromString(e,"text/html").body;return n.firstChild.remove(),n}catch(t){return}}:function(t){return i.innerHTML=t,e.documentMode&&d(i),i}):function(e){e="<remove></remove>"+e;try{e=encodeURI(e)}catch(t){return}var n=new t.XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+e,!1),n.send(null);var i=n.response.body;return i.firstChild.remove(),i}}(t,t.document)}).info({angularVersion:"1.6.6"}),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,r=e.$$minErr("linky"),o=e.isDefined,a=e.isFunction,u=e.isObject,l=e.isString;return function(e,h,f){function p(t){t&&w.push(function(t){var e=[];return c(e,s).chars(t),e.join("")}(t))}if(null==e||""===e)return e;if(!l(e))throw r("notstring","Expected string but received: {0}",e);for(var d,g,m,v=a(f)?f:u(f)?function(){return f}:function(){return{}},y=e,w=[];d=y.match(n);)g=d[0],d[2]||d[4]||(g=(d[3]?"http://":"mailto:")+g),m=d.index,p(y.substr(0,m)),function(t,e){var n,i=v(t);w.push("<a ");for(n in i)w.push(n+'="'+i[n]+'" ');!o(h)||"target"in i||w.push('target="',h,'" '),w.push('href="',t.replace(/"/g,"&quot;"),'">'),p(e),w.push("</a>")}(g,d[0].replace(i,"")),y=y.substring(m+d[0].length);return p(y),t(w.join(""))}}])}(window,window.angular),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],e):e(t["@uirouter/angularjs"]=t["@uirouter/angularjs"]||{},t.angular)}(this,function(t,e){"use strict";function n(t){function e(n){return n.length>=i?t.apply(null,n):function(){return e(n.concat([].slice.apply(arguments)))}}var n=[].slice.apply(arguments,[1]),i=t.length;return e(n)}function i(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}}function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(null,[].slice.call(arguments).reverse())}function o(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.apply(null,n)&&e.apply(null,n)}}function a(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.apply(null,n)||e.apply(null,n)}}function s(t,e){return function(n){return n[t].apply(n,e)}}function u(t){return function(e){for(var n=0;n<t.length;n++)if(t[n][0](e))return t[n][1](e)}}function l(t){if(Nt(t)&&t.length){var e=t.slice(0,-1),n=t.slice(-1);return!(e.filter(zt(Ut)).length||n.filter(zt(jt)).length)}return jt(t)}function c(t){return t}function h(){}function f(t,e,n,i,r){void 0===r&&(r=!1);var o=function(e){return t()[e].bind(n())};return(i=i||Object.keys(t())).reduce(function(t,n){return t[n]=r?function(t){return function(){return e[t]=o(t),e[t].apply(null,arguments)}}(n):o(n),t},e)}function p(t,e){return-1!==t.indexOf(e)}function d(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),t}function g(t,e){return t.push(e),e}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e.concat({}).reverse(),r=ne.apply(null,i);return ne({},r,y(t||{},Object.keys(r)))}function v(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}function y(t,e){var n={};for(var i in t)-1!==e.indexOf(i)&&(n[i]=t[i]);return n}function w(t,e){return Object.keys(t).filter(zt(oe(e))).reduce(function(e,n){return e[n]=t[n],e},{})}function _(t,e){return S(t,St(e))}function b(t,e){var n=Nt(t),i=n?[]:{},r=n?function(t){return i.push(t)}:function(t,e){return i[e]=t};return ee(t,function(t,n){e(t,n)&&r(t,n)}),i}function $(t,e){var n;return ee(t,function(t,i){n||e(t,i)&&(n=t)}),n}function S(t,e){var n=Nt(t)?[]:{};return ee(t,function(t,i){return n[i]=e(t,i)}),n}function C(t,e){return t.push(e),t}function k(t,e){return void 0===e&&(e="assert failure"),function(n){var i=t(n);if(!i)throw new Error(jt(e)?e(n):e);return i}}function z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return[];var n,i=t.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991),r=[];for(n=0;n<i;n++)switch(t.length){case 1:r.push([t[0][n]]);break;case 2:r.push([t[0][n],t[1][n]]);break;case 3:r.push([t[0][n],t[1][n],t[2][n]]);break;case 4:r.push([t[0][n],t[1][n],t[2][n],t[3][n]]);break;default:r.push(t.map(function(t){return t[n]}))}return r}function x(t,e){var n,i;if(Nt(e)&&(n=e[0],i=e[1]),!Ut(n))throw new Error("invalid parameters to applyPairs");return t[n]=i,t}function E(t){return t.length&&t[t.length-1]||void 0}function T(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var i=Object.keys(n),r=0;r<i.length;r++)t[i[r]]=n[i[r]]}return t}function O(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n=typeof t;if(n!==typeof e||"object"!==n)return!1;var i=[t,e];if(xt(Nt)(i))return function(t,e){return t.length===e.length&&z(t,e).reduce(function(t,e){return t&&O(e[0],e[1])},!0)}(t,e);if(xt(qt)(i))return t.getTime()===e.getTime();if(xt(Bt)(i))return t.toString()===e.toString();if(xt(jt)(i))return!0;if([jt,Nt,qt,Bt].map(Et).reduce(function(t,e){return t||!!e(i)},!1))return!1;var r,o={};for(r in t){if(!O(t[r],e[r]))return!1;o[r]=!0}for(r in e)if(!o[r])return!1;return!0}function R(t){if(!t)return"ui-view (defunct)";var e=t.creationContext?t.creationContext.name||"(root)":"(none)";return"[ui-view#"+t.id+" "+t.$type+":"+t.fqn+" ("+t.name+"@"+e+")]"}function D(e){return Ft(e)?t.Category[e]:t.Category[t.Category[e]]}function A(t,e){var n=Ut(e)?[e]:e;return!!(jt(n)?n:function(t){for(var e=n,i=0;i<e.length;i++){var r=new Dt(e[i]);if(r&&r.matches(t.name)||!r&&e[i]===t.name)return!0}return!1})(t)}function P(t,e,n){function i(t,i,o){void 0===o&&(o={});var a=new Ie(e,n,i,t,o);return r.push(a),function(){a._deregistered=!0,ae(r)(a)}}var r=(t._registeredHooks=t._registeredHooks||{})[n.name]=[];return t[n.name]=i,i}function I(t,e){function n(t){return Nt(t)?t:Mt(t)?[t]:[]}function i(t,i){return function(r){if(Nt(r)&&0===r.length)return r;var o=S(n(r),t);return!0===i?0===b(o,function(t){return!t}).length:function(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}(o)}}var r=this;["encode","decode","equals","$normalize"].forEach(function(e){var o=t[e].bind(t),a="equals"===e?function(t){return function(e,i){var r=n(e),o=n(i);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!t(r[a],o[a]))return!1;return!0}}:i;r[e]=a(o)}),ne(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,inherit:t.inherit,is:i(t.is.bind(t),!0),$arrayMode:e})}function W(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function M(t,e){for(;e.length<t;)e+=" ";return e}function H(t){return t.replace(/^([A-Z])/,function(t){return t.toLowerCase()}).replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function L(t){var e=j(t),n=e.match(/^(function [^ ]+\([^)]*\))/),i=n?n[1]:e,r=t.name||"";return r&&i.match(/function \(/)?"function "+r+i.substr(9):i}function j(t){var e=Nt(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}function F(t){var e=[];return JSON.stringify(t,function(t,n){return function(t){if(Vt(t)){if(-1!==e.indexOf(t))return"[circular ref]";e.push(t)}return en(t)}(n)}).replace(/\\"/g,'"')}function U(t){var e=new RegExp("("+t+")","g");return function(t){return t.split(e).filter(c)}}function V(t,e){return Ut(E(t))&&Ut(e)?t.slice(0,-1).concat(E(t)+e):C(t,e)}function N(t){return t.name}function q(t){return t.self.$$state=function(){return t},t.self}function B(t){return t.parent&&t.parent.data&&(t.data=t.self.data=re(t.parent.data,t.data)),t.data}function Y(t){return t.parent?t.parent.path.concat(t):[t]}function G(t){var e=t.parent?ne({},t.parent.includes):{};return e[t.name]=!0,e}function Z(t){var e=function(t){return t.provide||t.token},n=u([[St("resolveFn"),function(t){return new Ne(e(t),t.resolveFn,t.deps,t.policy)}],[St("useFactory"),function(t){return new Ne(e(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[St("useClass"),function(t){return new Ne(e(t),function(){return new t.useClass},[],t.policy)}],[St("useValue"),function(t){return new Ne(e(t),function(){return t.useValue},[],t.policy,t.useValue)}],[St("useExisting"),function(t){return new Ne(e(t),c,[t.useExisting],t.policy)}]]),i=u([[r(St("val"),Ut),function(t){return new Ne(t.token,c,[t.val],t.policy)}],[r(St("val"),Nt),function(t){return new Ne(t.token,E(t.val),t.val.slice(0,-1),t.policy)}],[r(St("val"),jt),function(t){return new Ne(t.token,t.val,function(t){var e=Kt.$injector;return t.$inject||e&&e.annotate(t,e.strictDi)||"deferred"}(t.val),t.policy)}]]),o=u([[Tt(Ne),function(t){return t}],[function(t){return!(!t.token||!t.resolveFn)},n],[function(t){return!(!t.provide&&!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},n],[function(t){return!!(t&&t.val&&(Ut(t.val)||Nt(t.val)||jt(t.val)))},i],[Rt(!0),function(t){throw new Error("Invalid resolve value: "+F(t))}]]),a=t.resolve;return(Nt(a)?a:function(t,e){return Object.keys(t||{}).map(function(n){return{token:n,val:t[n],deps:void 0,policy:e[n]}})}(a,t.resolvePolicy||{})).map(o)}function K(t,e){var n=["",""],i=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return i;switch(e.squash){case!1:n=["(",")"+(e.isOptional?"?":"")];break;case!0:i=i.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+e.squash+"|",")?"]}return i+n[0]+e.type.pattern.source+n[1]}function X(t){if(!(jt(t)||Ut(t)||Tt(De)(t)||De.isDef(t)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return jt(t)?t:Rt(t)}function Q(t){t.addResolvable({token:On,deps:[],resolveFn:function(){return t.router},data:t.router},""),t.addResolvable({token:Je,deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return t.params()},data:t.params()},""),t.entering().forEach(function(e){t.addResolvable({token:"$state$",deps:[],resolveFn:function(){return e},data:e},e)})}function J(t){return function(e,n){return(0,n.$$state()[t])(e,n)}}function tt(t,e){var n=e.$$state().lazyLoad,i=n._promise;if(!i){i=n._promise=Kt.$q.when(n(t,e)).then(function(e){return e&&Array.isArray(e.states)&&e.states.forEach(function(e){return t.router.stateRegistry.register(e)}),e}).then(function(t){return delete e.lazyLoad,delete e.$$state().lazyLoad,delete n._promise,t},function(t){return delete n._promise,Kt.$q.reject(t)})}return i}function et(t){var e=t._ignoredReason();if(e){Re.traceTransitionIgnored(t);var n=t.router.globals.transition;return"SameAsCurrent"===e&&n&&n.abort(),ze.ignored().toPromise()}}function nt(t){if(!t.valid())throw new Error(t.error())}function it(t){var e=function(t){return t||""},n=Qn(t).map(e),i=n[0],r=n[1],o=Jn(i).map(e);return{path:o[0],search:o[1],hash:r,url:t}}function rt(t,e,n,i){return function(r){var o=r.locationService=new n(r),a=r.locationConfig=new i(r,e);return{name:t,service:o,configuration:a,dispose:function(t){t.dispose(o),t.dispose(a)}}}}function ot(t){return Kt.$injector=Kn,Kt.$q=Bn,{name:"vanilla.services",$q:Bn,$injector:Kn,dispose:function(){return null}}}function at(){var t=null;return function(e,n){return t=t||Kt.$injector.get("$templateFactory"),[new bi(e,n,t)]}}function st(t){if(!t.parent)return{};var e=["component","bindings","componentProvider"],n=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),i=e.concat(n);if(Mt(t.views)&&wi(i,t))throw new Error("State '"+t.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+i.filter(function(e){return Mt(t[e])}).join(", "));var r={},o=t.views||{$default:y(t,i)};return ee(o,function(i,o){if(o=o||"$default",Ut(i)&&(i={component:i}),i=ne({},i),wi(e,i)&&wi(n,i))throw new Error("Cannot combine: "+e.join("|")+" with: "+n.join("|")+" in stateview: '"+o+"@"+t.name+"'");i.resolveAs=i.resolveAs||"$resolve",i.$type="ng1",i.$context=t,i.$name=o;var a=_n.normalizeUIViewTarget(i.$context,i.$name);i.$uiViewName=a.uiViewName,i.$uiViewContextAnchor=a.uiViewContextAnchor,r[o]=i}),r}function ut(t){function e(t,e,i,r,o,a){return n._runtimeServices(r,t,i,e),delete Pi.router,delete Pi.$get,Pi}(Pi=this.router=new On).stateProvider=new ki(Pi.stateRegistry,Pi.stateService),Pi.stateRegistry.decorator("views",st),Pi.stateRegistry.decorator("onExit",zi("onExit")),Pi.stateRegistry.decorator("onRetain",zi("onRetain")),Pi.stateRegistry.decorator("onEnter",zi("onEnter")),Pi.viewService._pluginapi._viewConfigFactory("ng1",at());var n=Pi.locationService=Pi.locationConfig=new xi(t);return xi.monkeyPatchPathParameterType(Pi),Pi.router=Pi,Pi.$get=e,e.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],Pi}function lt(t,e,n){Kt.$injector=t,Kt.$q=e,n.stateRegistry.get().map(function(t){return t.$$state().resolvables}).reduce(de,[]).filter(function(t){return"deferred"===t.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn,t.strictDi)})}function ct(t){t.$watch(function(){Re.approximateDigests++})}function ht(t){var e,n=t.match(/^\s*({[^}]*})\s*$/);if(n&&(t="("+n[1]+")"),!(e=t.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1]||null,paramExpr:e[3]||null}}function ft(t){var e=t.parent().inheritedData("$uiView"),n=kt("$cfg.path")(e);return n?E(n).state.name:void 0}function pt(t,e,n){var i=n.uiState||t.current.name,r=ne(function(t,e){return{relative:ft(t)||e.$current,inherit:!0,source:"sref"}}(e,t),n.uiStateOpts||{}),o=t.href(i,n.uiStateParams,r);return{uiState:i,uiStateParams:n.uiStateParams,uiStateOpts:r,href:o}}function dt(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function gt(t,e,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var u=n(function(){e.go(s.uiState,s.uiStateParams,s.uiStateOpts)});o.preventDefault();var l=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){l--<=0&&n.cancel(u)}}}}function mt(t,e,n,i){var r;i&&(r=i.events),Nt(r)||(r=["click"]);for(var o=t.on?"on":"bind",a=0,s=r;a<s.length;a++){var u=s[a];t[o](u,n)}e.$on("$destroy",function(){for(var e=t.off?"off":"unbind",i=0,o=r;i<o.length;i++){var a=o[i];t[e](a,n)}})}function vt(t){var e=function(e,n,i){return t.is(e,n,i)};return e.$stateful=!0,e}function yt(t){var e=function(e,n,i){return t.includes(e,n,i)};return e.$stateful=!0,e}function wt(t,n,i,r,o,a){var s=kt("viewDecl.controllerAs"),u=kt("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(r){var a=r.html();return r.empty(),function(r,l){var c=l.data("$uiView");if(!c)return l.html(a),void t(l.contents())(r);var h=c.$cfg||{viewDecl:{},getTemplate:e.noop},f=h.path&&new Ke(h.path);l.html(h.getTemplate(l,f)||a),Re.traceUIViewFill(c.$uiView,l.html());var p=t(l.contents()),d=h.controller,g=s(h),m=u(h),v=f&&Mi(f);if(r[m]=v,d){var y=n(d,ne({},v,{$scope:r,$element:l}));g&&(r[g]=y,r[g][m]=v),l.data("$ngControllerController",y),l.children().data("$ngControllerController",y),_t(o,i,y,r,h)}if(Ut(h.viewDecl.component))var w=h.viewDecl.component,_=H(w),b=new RegExp("^(x-|data-)?"+_+"$","i"),$=r.$watch(function(){var t=[].slice.call(l[0].children).filter(function(t){return t&&t.tagName&&b.exec(t.tagName)});return t&&$t.element(t).data("$"+w+"Controller")},function(t){t&&(_t(o,i,t,r,h),$())});p(r)}}}}function _t(t,e,n,i,r){!jt(n.$onInit)||r.viewDecl.component&&Fi||n.$onInit();var o=E(r.path).state.self,a={bind:n};if(jt(n.uiOnParamsChanged)){var s=new Ke(r.path).getResolvable("$transition$").data;i.$on("$destroy",e.onSuccess({},function(t){if(t!==s&&-1===t.exiting().indexOf(o)){var e=t.params("to"),i=t.params("from"),r=t.treeChanges().to.map(function(t){return t.paramSchema}).reduce(de,[]),a=t.treeChanges().from.map(function(t){return t.paramSchema}).reduce(de,[]),u=r.filter(function(t){var n=a.indexOf(t);return-1===n||!a[n].type.equals(e[t.id],i[t.id])});if(u.length){var l=u.map(function(t){return t.id}),c=b(e,function(t,e){return-1!==l.indexOf(e)});n.uiOnParamsChanged(c,t)}}},a))}if(jt(n.uiCanExit)){var u=Ui++,l=function(t){return!!t&&(t._uiCanExitIds&&!0===t._uiCanExitIds[u]||l(t.redirectedFrom()))},c={exiting:o.name};i.$on("$destroy",e.onBefore(c,function(e){var i,r=e._uiCanExitIds=e._uiCanExitIds||{};return l(e)||(i=t.when(n.uiCanExit(e))).then(function(t){return r[u]=!1!==t}),i},a))}}var bt=angular,$t=e&&e.module?e:bt,St=function(t){return function(e){return e&&e[t]}},Ct=n(function(t,e,n){return n&&n[t]===e}),kt=function(t){return r.apply(null,t.split(".").map(St))},zt=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},xt=function(t){return function(e){return e.reduce(function(e,n){return e&&!!t(n)},!0)}},Et=function(t){return function(e){return e.reduce(function(e,n){return e||!!t(n)},!1)}},Tt=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},Ot=function(t){return function(e){return t===e}},Rt=function(t){return function(){return t}},Dt=function(){function t(t){this.text=t,this.glob=t.split(".");var e=this.text.split(".").map(function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t}).join("");this.regexp=new RegExp("^"+e+"$")}return t.prototype.matches=function(t){return this.regexp.test("."+t)},t.is=function(t){return!!/[!,*]+/.exec(t)},t.fromString=function(e){return t.is(e)?new t(e):null},t}(),At=function(){function t(e){return t.create(e||{})}return t.create=function(e){e=t.isStateClass(e)?new e:e;var n=re(re(e,t.prototype));return e.$$state=function(){return n},n.self=e,n.__stateObjectCache={nameGlob:Dt.fromString(n.name)},n},t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){return((t=m(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(he(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||$(he(this.params),Ct("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t.isStateClass=function(t){return jt(t)&&!0===t.__uiRouterState},t.isState=function(t){return Vt(t.__stateObjectCache)},t}(),Pt=Object.prototype.toString,It=function(t){return function(e){return typeof e===t}},Wt=It("undefined"),Mt=zt(Wt),Ht=function(t){return null===t},Lt=a(Ht,Wt),jt=It("function"),Ft=It("number"),Ut=It("string"),Vt=function(t){return null!==t&&"object"==typeof t},Nt=Array.isArray,qt=function(t){return"[object Date]"===Pt.call(t)},Bt=function(t){return"[object RegExp]"===Pt.call(t)},Yt=At.isState,Gt=o(Vt,r(St("then"),jt)),Zt=function(t){return function(){throw new Error(t+"(): No coreservices implementation for UI-Router is loaded.")}},Kt={$q:void 0,$injector:void 0},Xt=("undefined"==typeof window?{}:window).angular||{},Qt=Xt.fromJson||JSON.parse.bind(JSON),Jt=Xt.toJson||JSON.stringify.bind(JSON),te=Xt.copy||function(t,e){return e&&Object.keys(e).forEach(function(t){return delete e[t]}),e||(e={}),ne(e,t)},ee=Xt.forEach||function(t,e,n){if(Nt(t))return t.forEach(e,n);Object.keys(t).forEach(function(n){return e(t[n],n)})},ne=Object.assign||T,ie=Xt.equals||O,re=function(t,e){return ne(Object.create(t),e)},oe=n(p),ae=n(d),se=n(g),ue=function(t){return t.slice().forEach(function(e){"function"==typeof e&&e(),ae(t,e)})},le=function(t,e){return ne(t,e)},ce=S,he=function(t){return Object.keys(t).map(function(e){return t[e]})},fe=function(t,e){return t&&e},pe=function(t,e){return t||e},de=function(t,e){return t.concat(e)},ge=function(t,e){return Nt(e)?t.concat(e.reduce(ge,[])):C(t,e)},me=function(t,e){return oe(t,e)?t:C(t,e)},ve=function(t){return t.reduce(de,[])},ye=function(t){return t.reduce(ge,[])},we=k,_e=k,be=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},$e=function(t){return t.catch(function(t){return 0})&&t},Se=function(t){return $e(Kt.$q.reject(t))},Ce=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&e.shift(),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}();!function(t){t[t.SUPERSEDED=2]="SUPERSEDED",t[t.ABORTED=3]="ABORTED",t[t.INVALID=4]="INVALID",t[t.IGNORED=5]="IGNORED",t[t.ERROR=6]="ERROR"}(t.RejectType||(t.RejectType={}));var ke=0,ze=function(){function e(t,e,n){this.$id=ke++,this.type=t,this.message=e,this.detail=n}return e.prototype.toString=function(){var t=function(t){return t&&t.toString!==Object.prototype.toString?t.toString():F(t)}(this.detail);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+t+")"},e.prototype.toPromise=function(){return ne(Se(this),{_transitionRejection:this})},e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&Tt(e)(t._transitionRejection)},e.superseded=function(n,i){var r=new e(t.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",n);return i&&i.redirected&&(r.redirected=!0),r},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(n){return new e(t.RejectType.INVALID,"This transition is invalid",n)},e.ignored=function(n){return new e(t.RejectType.IGNORED,"The transition was ignored",n)},e.aborted=function(n){return new e(t.RejectType.ABORTED,"The transition has been aborted",n)},e.errored=function(n){return new e(t.RejectType.ERROR,"The transition errored",n)},e.normalize=function(t){return Tt(e)(t)?t:e.errored(t)},e}();!function(t){t[t.RESOLVE=0]="RESOLVE",t[t.TRANSITION=1]="TRANSITION",t[t.HOOK=2]="HOOK",t[t.UIVIEW=3]="UIVIEW",t[t.VIEWCONFIG=4]="VIEWCONFIG"}(t.Category||(t.Category={}));var xe=kt("$id"),Ee=kt("router.$id"),Te=function(t){return"Transition #"+xe(t)+"-"+Ee(t)},Oe=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,n){var i=this;n.length||(n=Object.keys(t.Category).map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)}).map(function(e){return t.Category[e]})),n.map(D).forEach(function(t){return i._enabled[t]=e})},e.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!0,t)},e.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!1,t)},e.prototype.enabled=function(t){return!!this._enabled[D(t)]},e.prototype.traceTransitionStart=function(e){this.enabled(t.Category.TRANSITION)&&console.log(Te(e)+": Started  -> "+F(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(t.Category.TRANSITION)&&console.log(Te(e)+": Ignored  <> "+F(e))},e.prototype.traceHookInvocation=function(e,n,i){if(this.enabled(t.Category.HOOK)){var r=kt("traceData.hookType")(i)||"internal",o=kt("traceData.context.state.name")(i)||kt("traceData.context")(i)||"unknown",a=L(e.registeredHook.callback);console.log(Te(n)+":   Hook -> "+r+" context: "+o+", "+W(200,a))}},e.prototype.traceHookResult=function(e,n,i){this.enabled(t.Category.HOOK)&&console.log(Te(n)+":   <- Hook returned: "+W(200,F(e)))},e.prototype.traceResolvePath=function(e,n,i){this.enabled(t.Category.RESOLVE)&&console.log(Te(i)+":         Resolving "+e+" ("+n+")")},e.prototype.traceResolvableResolved=function(e,n){this.enabled(t.Category.RESOLVE)&&console.log(Te(n)+":               <- Resolved  "+e+" to: "+W(200,F(e.data)))},e.prototype.traceError=function(e,n){this.enabled(t.Category.TRANSITION)&&console.log(Te(n)+": <- Rejected "+F(n)+", reason: "+e)},e.prototype.traceSuccess=function(e,n){this.enabled(t.Category.TRANSITION)&&console.log(Te(n)+": <- Success  "+F(n)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,n,i){void 0===i&&(i=""),this.enabled(t.Category.UIVIEW)&&console.log("ui-view: "+M(30,e)+" "+R(n)+i)},e.prototype.traceUIViewConfigUpdated=function(e,n){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+n+"'")},e.prototype.traceUIViewFill=function(e,n){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+W(200,n))},e.prototype.traceViewSync=function(e){if(this.enabled(t.Category.VIEWCONFIG)){var n=e.map(function(t){var e=t[0],n=t[1];return{"ui-view fqn":e.$type+":"+e.fqn,"state: view name":n&&n.viewDecl.$context.name+": "+n.viewDecl.$name+" ("+n.viewDecl.$type+")"}}).sort(function(t,e){return t["ui-view fqn"].localeCompare(e["ui-view fqn"])});console.table(n)}},e.prototype.traceViewServiceEvent=function(e,n){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+function(t){var e=t.viewDecl,n=e.$context.name||"(root)";return"[View#"+t.$id+" from '"+n+"' state]: target ui-view: '"+e.$uiViewName+"@"+e.$uiViewContextAnchor+"'"}(n))},e.prototype.traceViewServiceUIViewEvent=function(e,n){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+R(n))},e}(),Re=new Oe;!function(t){t[t.CREATE=0]="CREATE",t[t.BEFORE=1]="BEFORE",t[t.RUN=2]="RUN",t[t.SUCCESS=3]="SUCCESS",t[t.ERROR=4]="ERROR"}(t.TransitionHookPhase||(t.TransitionHookPhase={})),function(t){t[t.TRANSITION=0]="TRANSITION",t[t.STATE=1]="STATE"}(t.TransitionHookScope||(t.TransitionHookScope={}));var De=function(){function t(t,e,n,i){void 0===i&&(i={}),this._identifier=t,this._definition=e,this._options=i,this._params=n||{}}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+Jt(this.params())},t.isDef=function(t){return t&&t.state&&(Ut(t.state)||Ut(t.state.name))},t}(),Ae={current:h,transition:null,traceData:{},bind:null},Pe=function(){function e(e,n,i,r){var o=this;this.transition=e,this.stateContext=n,this.registeredHook=i,this.options=r,this.isSuperseded=function(){return o.type.hookPhase===t.TransitionHookPhase.RUN&&!o.options.transition.isActive()},this.options=m(r,Ae),this.type=i.eventType}return e.prototype.logError=function(t){this.transition.router.stateService.defaultErrorHandler()(t)},e.prototype.invokeHook=function(){var t=this,e=this.registeredHook;if(!e._deregistered){var n=this.getNotCurrentRejection();if(n)return n;var i=this.options;Re.traceHookInvocation(this,this.transition,i);var r=function(n){return e.eventType.getErrorHandler(t)(n)},o=function(n){return e.eventType.getResultHandler(t)(n)};try{var a=e.callback.call(i.bind,t.transition,t.stateContext);return!this.type.synchronous&&Gt(a)?a.catch(function(t){return ze.normalize(t).toPromise()}).then(o,r):o(a)}catch(t){return r(ze.normalize(t))}}},e.prototype.handleHookResult=function(t){var e=this,n=this.getNotCurrentRejection();if(n)return n;if(Gt(t))return t.then(function(t){return e.handleHookResult(t)});if(Re.traceHookResult(t,this.transition,this.options),!1===t)return ze.aborted("Hook aborted transition").toPromise();return Tt(De)(t)?ze.redirected(t).toPromise():void 0},e.prototype.getNotCurrentRejection=function(){var t=this.transition.router;return t._disposed?ze.aborted("UIRouter instance #"+t.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?ze.aborted().toPromise():this.isSuperseded()?ze.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var t=this.options,e=this.registeredHook;return(kt("traceData.hookType")(t)||"internal")+" context: "+(kt("traceData.context.state.name")(t)||kt("traceData.context")(t)||"unknown")+", "+W(200,j(e.callback))},e.chain=function(t,e){return t.reduce(function(t,e){return t.then(function(){return e.invokeHook()})},e||Kt.$q.when())},e.invokeHooks=function(t,n){for(var i=0;i<t.length;i++){var r=t[i].invokeHook();if(Gt(r)){var o=t.slice(i+1);return e.chain(o,r).then(n)}}return n()},e.runAllHooks=function(t){t.forEach(function(t){return t.invokeHook()})},e.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},e.LOG_REJECTED_RESULT=function(t){return function(e){Gt(e)&&e.catch(function(e){return t.logError(ze.normalize(e))})}},e.LOG_ERROR=function(t){return function(e){return t.logError(e)}},e.REJECT_ERROR=function(t){return function(t){return Se(t)}},e.THROW_ERROR=function(t){return function(t){throw t}},e}(),Ie=function(){function e(t,e,n,i,r){void 0===r&&(r={}),this.tranSvc=t,this.eventType=e,this.callback=n,this.matchCriteria=i,this.priority=r.priority||0,this.bind=r.bind||null,this._deregistered=!1}return e.prototype._matchingNodes=function(t,e){if(!0===e)return t;var n=t.filter(function(t){return A(t.state,e)});return n.length?n:null},e.prototype._getDefaultMatchCriteria=function(){return S(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e){var n=this,i=ne(this._getDefaultMatchCriteria(),this.matchCriteria);return he(this.tranSvc._pluginapi._getPathTypes()).reduce(function(r,o){var a=o.scope===t.TransitionHookScope.STATE,s=e[o.name]||[],u=a?s:[E(s)];return r[o.name]=n._matchingNodes(u,i[o.name]),r},{})},e.prototype.matches=function(t){var e=this._getMatchingNodes(t);return he(e).every(c)?e:null},e}(),We=function(){function e(t){this.transition=t}return e.prototype.buildHooksForPhase=function(t){var e=this;return this.transition.router.transitionService._pluginapi._getEvents(t).map(function(t){return e.buildHooks(t)}).reduce(de,[]).filter(c)},e.prototype.buildHooks=function(e){var n=this.transition,i=n.treeChanges(),r=this.getMatchingHooks(e,i);if(!r)return[];var o={transition:n,current:n.options().current};return r.map(function(r){return r.matches(i)[e.criteriaMatchPath.name].map(function(i){var a=ne({bind:r.bind,traceData:{hookType:e.name,context:i}},o),s=e.criteriaMatchPath.scope===t.TransitionHookScope.STATE?i.state.self:null,u=new Pe(n,s,r,a);return{hook:r,node:i,transitionHook:u}})}).reduce(de,[]).sort(function(t){return void 0===t&&(t=!1),function(e,n){var i=t?-1:1,r=(e.node.state.path.length-n.node.state.path.length)*i;return 0!==r?r:n.hook.priority-e.hook.priority}}(e.reverseSort)).map(function(t){return t.transitionHook})},e.prototype.getMatchingHooks=function(e,n){var i=e.hookPhase===t.TransitionHookPhase.CREATE,r=this.transition.router.transitionService;return(i?[r]:[this.transition,r]).map(function(t){return t.getHooks(e.name)}).filter(we(Nt,"broken event named: "+e.name)).reduce(de,[]).filter(function(t){return t.matches(n)})},e}(),Me=function(){function t(t){this.pattern=/.*/,this.inherit=!0,ne(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new I(this,t)},t}(),He=Object.prototype.hasOwnProperty,Le=function(t){return 0===["value","type","squash","array","dynamic"].filter(He.bind(t||{})).length};!function(t){t[t.PATH=0]="PATH",t[t.SEARCH=1]="SEARCH",t[t.CONFIG=2]="CONFIG"}(t.DefType||(t.DefType={}));var je=function(){function e(e,n,i,r,o){n=function(e,n,i,r,o){if(e.type&&n&&"string"!==n.name)throw new Error("Param '"+r+"' has two type configurations.");if(e.type&&n&&"string"===n.name&&o.type(e.type))return o.type(e.type);if(n)return n;if(!e.type){var a=i===t.DefType.CONFIG?"any":i===t.DefType.PATH?"path":i===t.DefType.SEARCH?"query":"string";return o.type(a)}return e.type instanceof Me?e.type:o.type(e.type)}(i=function(t){function e(){return t.value}return t=Le(t)&&{value:t}||t,e.__cacheable=!0,ne(t,{$$fn:l(t.value)?t.value:e})}(i),n,r,e,o.paramTypes);var a=function(){var n={array:r===t.DefType.SEARCH&&"auto"},o=e.match(/\[\]$/)?{array:!0}:{};return ne(n,o,i).array}();n=a?n.$asArray(a,r===t.DefType.SEARCH):n;var s=void 0!==i.value||r===t.DefType.SEARCH,u=Mt(i.dynamic)?!!i.dynamic:!!n.dynamic,c=Mt(i.raw)?!!i.raw:!!n.raw,h=function(t,e,n){var i=t.squash;if(!e||!1===i)return!1;if(!Mt(i)||null==i)return n;if(!0===i||Ut(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string")}(i,s,o.defaultSquashPolicy()),f=function(t,e,n,i){var r,o,a=[{from:"",to:n||e?void 0:""},{from:null,to:n||e?void 0:""}];return r=Nt(t.replace)?t.replace:[],Ut(i)&&r.push({from:i,to:void 0}),o=S(r,St("from")),b(a,function(t){return-1===o.indexOf(t.from)}).concat(r)}(i,a,s,h),p=Mt(i.inherit)?!!i.inherit:!!n.inherit;ne(this,{id:e,type:n,location:r,isOptional:s,dynamic:u,raw:c,squash:h,replace:f,inherit:p,array:a,config:i})}return e.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},e.prototype.value=function(t){var e=this;return t=function(t){for(var n=0,i=e.replace;n<i.length;n++){var r=i[n];if(r.from===t)return r.to}return t}(t),Wt(t)?function(){if(e._defaultValueCache)return e._defaultValueCache.defaultValue;if(!Kt.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=Kt.$injector.invoke(e.config.$$fn);if(null!==t&&void 0!==t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return e.config.$$fn.__cacheable&&(e._defaultValueCache={defaultValue:t}),t}():this.type.$normalize(t)},e.prototype.isSearch=function(){return this.location===t.DefType.SEARCH},e.prototype.validates=function(t){if((Wt(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var n=this.type.encode(e);return!(Ut(n)&&!this.type.pattern.exec(n))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e.values=function(t,e){void 0===e&&(e={});for(var n={},i=0,r=t;i<r.length;i++){var o=r[i];n[o.id]=o.value(e[o.id])}return n},e.changed=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),t.filter(function(t){return!t.type.equals(e[t.id],n[t.id])})},e.equals=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),0===e.changed(t,n,i).length},e.validates=function(t,e){return void 0===e&&(e={}),t.map(function(t){return t.validates(e[t.id])}).reduce(fe,!0)},e}(),Fe=function(){function t(e){if(e instanceof t){var n=e;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=ne({},n.paramValues),this.resolvables=n.resolvables.slice(),this.views=n.views&&n.views.slice()}else{var i=e;this.state=i,this.paramSchema=i.parameters({inherit:!1}),this.paramValues={},this.resolvables=i.resolvables.map(function(t){return t.clone()})}}return t.prototype.applyRawParams=function(t){return this.paramValues=this.paramSchema.reduce(function(e,n){return x(e,function(e){return[e.id,e.value(t[e.id])]}(n))},{}),this},t.prototype.parameter=function(t){return $(this.paramSchema,Ct("id",t))},t.prototype.equals=function(t,e){var n=this.diff(t,e);return n&&0===n.length},t.prototype.diff=function(t,e){if(this.state!==t.state)return!1;var n=e?e(this):this.paramSchema;return je.changed(n,this.paramValues,t.paramValues)},t.clone=function(e){return new t(e)},t}(),Ue=function(){function t(){}return t.makeTargetState=function(t){var e=E(t).state;return new De(e,e,t.map(St("paramValues")).reduce(le,{}))},t.buildPath=function(t){var e=t.params();return t.$state().path.map(function(t){return new Fe(t).applyRawParams(e)})},t.buildToPath=function(e,n){var i=t.buildPath(n);return n.options().inherit?t.inheritParams(e,i,Object.keys(n.params())):i},t.applyViewConfigs=function(e,n,i){n.filter(function(t){return oe(i,t.state)}).forEach(function(i){var r=he(i.state.views||{}),o=t.subPath(n,function(t){return t===i}),a=r.map(function(t){return e.createViewConfig(o,t)});i.views=a.reduce(de,[])})},t.inheritParams=function(t,e,n){function i(e){var i=ne({},e&&e.paramValues),o=y(i,n);i=w(i,n);var a=w(function(t,e){var n=$(t,Ct("state",e));return ne({},n&&n.paramValues)}(t,e.state)||{},r),s=ne(i,a,o);return new Fe(e.state).applyRawParams(s)}void 0===n&&(n=[]);var r=t.map(function(t){return t.paramSchema}).reduce(de,[]).filter(function(t){return!t.inherit}).map(St("id"));return e.map(i)},t.treeChanges=function(e,n,i){for(var r=0,o=Math.min(e.length,n.length),a=function(e,n){return e.equals(n,t.nonDynamicParams)};r<o&&e[r].state!==i&&a(e[r],n[r]);)r++;var s,u,l,c,h;u=(s=e).slice(0,r),l=s.slice(r);var f=u.map(function(t,e){var i=Fe.clone(t);return i.paramValues=n[e].paramValues,i});return c=n.slice(r),h=f.concat(c),{from:s,to:h,retained:u,exiting:l,entering:c}},t.matching=function(t,e,n){var i=!1;return z(t,e).reduce(function(t,e){var r=e[0],o=e[1];return(i=i||!r.equals(o,n))?t:t.concat(r)},[])},t.equals=function(e,n,i){return e.length===n.length&&t.matching(e,n,i).length===e.length},t.subPath=function(t,e){var n=$(t,e),i=t.indexOf(n);return-1===i?void 0:t.slice(0,i+1)},t.nonDynamicParams=function(t){return t.state.parameters({inherit:!1}).filter(function(t){return!t.dynamic})},t.paramValues=function(t){return t.reduce(function(t,e){return ne(t,e.paramValues)},{})},t}(),Ve={when:"LAZY",async:"WAIT"},Ne=function(){function t(e,n,i,r,o){if(this.resolved=!1,this.promise=void 0,e instanceof t)ne(this,e);else if(jt(n)){if(Lt(e))throw new Error("new Resolvable(): token argument is required");if(!jt(n))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=r,this.resolveFn=n,this.deps=i||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?Kt.$q.when(this.data):void 0}else if(Vt(e)&&e.token&&jt(e.resolveFn)){var a=e;return new t(a.token,a.resolveFn,a.deps,a.policy,a.data)}}return t.prototype.getPolicy=function(t){var e=this.policy||{},n=t&&t.resolvePolicy||{};return{when:e.when||n.when||Ve.when,async:e.async||n.async||Ve.async}},t.prototype.resolve=function(t,e){var n=this,i=Kt.$q,r=t.findNode(this),o=r&&r.state,a="RXWAIT"===this.getPolicy(o).async?function(t){var e=t.cache(1);return e.take(1).toPromise().then(function(){return e})}:c;return this.promise=i.when().then(function(){return i.all(t.getDependencies(n).map(function(n){return n.get(t,e)}))}).then(function(t){return n.resolveFn.apply(null,t)}).then(a).then(function(t){return n.data=t,n.resolved=!0,Re.traceResolvableResolved(n,e),n.data})},t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},t.prototype.toString=function(){return"Resolvable(token: "+F(this.token)+", requires: ["+this.deps.map(F)+"])"},t.prototype.clone=function(){return new t(this)},t.fromData=function(e,n){return new t(e,function(){return n},null,null,n)},t}(),qe={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},Be=qe.when,Ye=[Be.EAGER,Be.LAZY],Ge=[Be.EAGER],Ze="Native Injector",Ke=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce(function(t,e){return t.concat(e.resolvables.map(function(t){return t.token}))},[]).reduce(me,[])},t.prototype.getResolvable=function(t){return E(this._path.map(function(t){return t.resolvables}).reduce(de,[]).filter(function(e){return e.token===t}))},t.prototype.getPolicy=function(t){var e=this.findNode(t);return t.getPolicy(e.state)},t.prototype.subContext=function(e){return new t(Ue.subPath(this._path,function(t){return t.state===e}))},t.prototype.addResolvables=function(t,e){var n=$(this._path,Ct("state",e)),i=t.map(function(t){return t.token});n.resolvables=n.resolvables.filter(function(t){return-1===i.indexOf(t.token)}).concat(t)},t.prototype.resolvePath=function(t,e){var n=this;void 0===t&&(t="LAZY");var i=(oe(Ye,t)?t:"LAZY")===qe.when.EAGER?Ge:Ye;Re.traceResolvePath(this._path,t,e);var r=function(t,e){return function(i){return oe(t,n.getPolicy(i)[e])}},o=this._path.reduce(function(t,o){var a=o.resolvables.filter(r(i,"when")),s=a.filter(r(["NOWAIT"],"async")),u=a.filter(zt(r(["NOWAIT"],"async"))),l=n.subContext(o.state),c=function(t){return t.get(l,e).then(function(e){return{token:t.token,value:e}})};return s.forEach(c),t.concat(u.map(c))},[]);return Kt.$q.all(o)},t.prototype.injector=function(){return this._injector||(this._injector=new Xe(this))},t.prototype.findNode=function(t){return $(this._path,function(e){return oe(e.resolvables,t)})},t.prototype.getDependencies=function(t){var e=this,n=this.findNode(t),i=(Ue.subPath(this._path,function(t){return t===n})||this._path).reduce(function(t,e){return t.concat(e.resolvables)},[]).filter(function(e){return e!==t});return t.deps.map(function(t){var n=i.filter(function(e){return e.token===t});if(n.length)return E(n);var r=e.injector().getNative(t);if(!r)throw new Error("Could not find Dependency Injection token: "+F(t));return new Ne(t,function(){return r},[],r)})},t}(),Xe=function(){function t(t){this.context=t,this.native=this.get(Ze)||Kt.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if("NOWAIT"===this.context.getPolicy(e).async)return e.get(this.context);if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+F(e.token));return e.data}return this.native&&this.native.get(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):Kt.$q.when(this.native.get(t))},t.prototype.getNative=function(t){return this.native&&this.native.get(t)},t}(),Qe=St("self"),Je=function(){function e(e,n,i){var r=this;if(this._deferred=Kt.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new We(this),this.isActive=function(){return r.router.globals.transition===r},this.router=i,this._targetState=n,!n.valid())throw new Error(n.error());this._options=ne({current:Rt(this)},n.options()),this.$id=i.transitionService._transitionCount++;var o=Ue.buildToPath(e,n);this._treeChanges=Ue.treeChanges(e,o,this._options.reloadState),this.createTransitionHookRegFns();var a=this._hookBuilder.buildHooksForPhase(t.TransitionHookPhase.CREATE);Pe.invokeHooks(a,function(){return null}),this.applyViewConfigs(i)}return e.prototype.onBefore=function(t,e,n){},e.prototype.onStart=function(t,e,n){},e.prototype.onExit=function(t,e,n){},e.prototype.onRetain=function(t,e,n){},e.prototype.onEnter=function(t,e,n){},e.prototype.onFinish=function(t,e,n){},e.prototype.onSuccess=function(t,e,n){},e.prototype.onError=function(t,e,n){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==t.TransitionHookPhase.CREATE}).forEach(function(t){return P(e,e.router.transitionService,t)})},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype.applyViewConfigs=function(t){var e=this._treeChanges.entering.map(function(t){return t.state});Ue.applyViewConfigs(t.transitionService.$view,this._treeChanges.to,e)},e.prototype.$from=function(){return E(this._treeChanges.from).state},e.prototype.$to=function(){return E(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!A(this.$to(),t.to)||t.from&&!A(this.$from(),t.from))},e.prototype.params=function(t){return void 0===t&&(t="to"),Object.freeze(this._treeChanges[t].map(St("paramValues")).reduce(le,{}))},e.prototype.injector=function(t,e){void 0===e&&(e="to");var n=this._treeChanges[e];return t&&(n=Ue.subPath(n,function(e){return e.state===t||e.state.name===t})),new Ke(n).injector()},e.prototype.getResolveTokens=function(t){return void 0===t&&(t="to"),new Ke(this._treeChanges[t]).getTokens()},e.prototype.addResolvable=function(t,e){void 0===e&&(e=""),t=Tt(Ne)(t)?t:new Ne(t);var n="string"==typeof e?e:e.name,i=this._treeChanges.to,r=$(i,function(t){return t.state.name===n});new Ke(i).addResolvables([t],r.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var t=this.redirectedFrom();return t&&t.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return S(this._treeChanges.entering,St("state")).map(Qe)},e.prototype.exiting=function(){return S(this._treeChanges.exiting,St("state")).map(Qe).reverse()},e.prototype.retained=function(){return S(this._treeChanges.retained,St("state")).map(Qe)},e.prototype.views=function(t,e){void 0===t&&(t="entering");var n=this._treeChanges[t];return(n=e?n.filter(Ct("state",e)):n).map(St("views")).filter(c).reduce(de,[])},e.prototype.treeChanges=function(t){return t?this._treeChanges[t]:this._treeChanges},e.prototype.redirect=function(t){for(var e=1,n=this;null!=(n=n.redirectedFrom());)if(++e>20)throw new Error("Too many consecutive Transition redirects (20+)");var i={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==t.options().location&&(i.location="replace");var r=ne({},this.options(),t.options(),i);t=new De(t.identifier(),t.$state(),t.params(),r);var o=this.router.transitionService.create(this._treeChanges.from,t),a=this._treeChanges.entering,s=o._treeChanges.entering;return Ue.matching(s,a,Ue.nonDynamicParams).filter(zt(function(t){return function(e){return t&&e.state.includes[t.name]}}(t.options().reloadState))).forEach(function(t,e){t.resolvables=a[e].resolvables}),o},e.prototype._changedParams=function(){var t=this._treeChanges;if(!this._options.reload&&!t.exiting.length&&!t.entering.length&&t.to.length===t.from.length){if(!z(t.to,t.from).map(function(t){return t[0].state!==t[1].state}).reduce(pe,!1)){var e=t.to.map(function(t){return t.paramSchema}),n=[t.to,t.from].map(function(t){return t.map(function(t){return t.paramValues})});return z(e,n[0],n[1]).map(function(t){var e=t[0],n=t[1],i=t[2];return je.changed(e,n,i)}).reduce(de,[])}}},e.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map(function(t){return t.dynamic}).reduce(pe,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var t=this.router.globals.transition,e=this._options.reloadState,n=function(t,n){if(t.length!==n.length)return!1;var i=Ue.matching(t,n);return t.length===i.filter(function(t){return!e||!t.state.includes[e.name]}).length},i=this.treeChanges(),r=t&&t.treeChanges();return r&&n(r.to,i.to)&&n(r.exiting,i.exiting)?"SameAsPending":0===i.exiting.length&&0===i.entering.length&&n(i.from,i.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,n=Pe.runAllHooks,i=function(t){return e._hookBuilder.buildHooksForPhase(t)},r=i(t.TransitionHookPhase.BEFORE);return Pe.invokeHooks(r,function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),Re.traceTransitionStart(e),Kt.$q.when(void 0)}).then(function(){var e=i(t.TransitionHookPhase.RUN);return Pe.invokeHooks(e,function(){return Kt.$q.when(void 0)})}).then(function(){Re.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),n(i(t.TransitionHookPhase.SUCCESS))},function(r){Re.traceError(r,e),e.success=!1,e._deferred.reject(r),e._error=r,n(i(t.TransitionHookPhase.ERROR))}),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){Wt(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var t=this.$to();if(t.self.abstract)return"Cannot transition to abstract state '"+t.name+"'";var e=t.parameters(),n=this.params(),i=e.filter(function(t){return!t.validates(n[t.id])});return i.length?"Param values not valid for state '"+t.name+"'. Invalid params: [ "+i.map(function(t){return t.id}).join(", ")+" ]":!1===this.success?this._error:void 0},e.prototype.toString=function(){var t=this.from(),e=this.to(),n=function(t){return null!==t["#"]&&void 0!==t["#"]?t:w(t,["#"])};return"Transition#"+this.$id+"( '"+(Vt(t)?t.name:t)+"'"+Jt(n(this._treeChanges.from.map(St("paramValues")).reduce(le,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(Vt(e)?e.name:e)+"'"+Jt(n(this.params()))+" )"},e.diToken=e,e}(),tn=null,en=function(t){var e=ze.isRejectionPromise;return(tn=tn||u([[zt(Mt),Rt("undefined")],[Ht,Rt("null")],[Gt,Rt("[Promise]")],[e,function(t){return t._transitionRejection.toString()}],[Tt(ze),s("toString")],[Tt(Je),s("toString")],[Tt(Ne),s("toString")],[l,L],[Rt(!0),c]]))(t)},nn=function(t){return function(e){if(!e)return["",""];var n=e.indexOf(t);return-1===n?[e,""]:[e.substr(0,n),e.substr(n+1)]}},rn=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=y(t.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=re(S(this.defaultTypes,function(t,e){return new Me(ne({name:e},t))}),{})}return t.prototype.dispose=function(){this.types={}},t.prototype.type=function(t,e,n){if(!Mt(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new Me(ne({name:t},e)),n&&(this.typeQueue.push({name:t,def:n}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");ne(this.types[t.name],Kt.$injector.invoke(t.def))}},t}();!function(){var t=function(t){var e=function(t){return null!=t?t.toString():t},n={encode:e,decode:e,is:Tt(String),pattern:/.*/,equals:function(t,e){return t==e}};return ne({},n,t)};ne(rn.prototype,{string:t({}),path:t({pattern:/[^/]*/}),query:t({}),hash:t({inherit:!1}),int:t({decode:function(t){return parseInt(t,10)},is:function(t){return!Lt(t)&&this.decode(t.toString())===t},pattern:/-?\d+/}),bool:t({encode:function(t){return t&&1||0},decode:function(t){return 0!==parseInt(t,10)},is:Tt(Boolean),pattern:/0|1/}),date:t({encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce(function(n,i){return n&&t[i]()===e[i]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:t({encode:Jt,decode:Qt,is:Tt(Object),equals:ie,pattern:/[^/]*/}),any:t({encode:c,decode:c,is:function(){return!0},equals:ie})})}();var on,an=function(){function t(t){void 0===t&&(t={}),ne(this,t)}return t.prototype.$inherit=function(t,e,n){var i,r=v(e,n),o={},a=[];for(var s in r)if(r[s]&&r[s].params&&(i=Object.keys(r[s].params)).length)for(var u in i)a.indexOf(i[u])>=0||(a.push(i[u]),o[i[u]]=this[i[u]]);return ne({},o,t)},t}(),sn=function(t,e){return function(n){var i=n;i&&i.url&&i.name&&i.name.match(/\.\*\*$/)&&(i.url+="{remainder:any}");var r=function(t){if(!Ut(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}}(i.url),o=n.parent,a=r?t.compile(r.val,{params:n.params||{},paramMap:function(t,e){return!1===i.reloadOnSearch&&e&&(t=ne(t||{},{dynamic:!0})),t}}):i.url;if(!a)return null;if(!t.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+n+"'");return r&&r.root?a:(o&&o.navigable||e()).url.append(a)}},un=function(t){return function(e){return!t(e)&&e.url?e:e.parent?e.parent.navigable:null}},ln=function(t){return function(e){var n=e.url&&e.url.parameters({inherit:!1})||[],i=he(ce(w(e.params||{},n.map(St("id"))),function(e,n){return t.fromConfig(n,null,e)}));return n.concat(i).map(function(t){return[t.id,t]}).reduce(x,{})}},cn=function(){function t(t,e){this.matcher=t;var n=this,i=function(){return t.find("")},r=function(t){return""===t.name};this.builders={name:[N],self:[q],parent:[function(e){return r(e)?null:t.find(n.parentName(e))||i()}],data:[B],url:[sn(e,i)],navigable:[un(r)],params:[ln(e.paramFactory)],views:[],path:[Y],includes:[G],resolvables:[Z]}}return t.prototype.builder=function(t,e){var n=this.builders,i=n[t]||[];return Ut(t)&&!Mt(e)?i.length>1?i:i[0]:Ut(t)&&jt(e)?(n[t]=i,n[t].push(e),function(){return n[t].splice(n[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this.matcher,n=this.builders,i=this.parentName(t);if(i&&!e.find(i,void 0,!1))return null;for(var r in n)if(n.hasOwnProperty(r)){var o=n[r].reduce(function(t,e){return function(n){return e(n,t)}},h);t[r]=o(t)}return t},t.prototype.parentName=function(t){var e=t.name||"",n=e.split(".");if("**"===n.pop()&&n.pop(),n.length){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");return n.join(".")}return t.parent?Ut(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(-1!==e.indexOf(".")||!t.parent)return e;var n=Ut(t.parent)?t.parent:t.parent.name;return n?n+"."+e:e},t}(),hn=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return 0===(t=t||"").indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e,n){if(void 0===n&&(n=!0),t||""===t){var i=Ut(t),r=i?t:t.name;this.isRelative(r)&&(r=this.resolvePath(r,e));var o=this._states[r];if(o&&(i||!(i||o!==t&&o.self!==t)))return o;if(i&&n){var a=he(this._states).filter(function(t){return t.__stateObjectCache.nameGlob&&t.__stateObjectCache.nameGlob.matches(r)});return a.length>1&&console.log("stateMatcher.find: Found multiple matches for "+r+" using glob: ",a.map(function(t){return t.name})),a[0]}}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var n=this.find(e),i=t.split("."),r=0,o=i.length,a=n;r<o;r++)if(""!==i[r]||0!==r){if("^"!==i[r])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=i.slice(r).join(".");return a.name+(a.name&&s?".":"")+s},t}(),fn=function(){function t(t,e,n,i,r){this.$registry=t,this.$urlRouter=e,this.states=n,this.builder=i,this.listeners=r,this.queue=[],this.matcher=t.matcher}return t.prototype.dispose=function(){this.queue=[]},t.prototype.register=function(t){var e=this.queue,n=At.create(t),i=n.name;if(!Ut(i))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(i)||oe(e.map(St("name")),i))throw new Error("State '"+i+"' is already defined");return e.push(n),this.flush(),n},t.prototype.flush=function(){for(var t=this,e=this.queue,n=this.states,i=this.builder,r=[],o=[],a={},s=function(e){return t.states.hasOwnProperty(e)&&t.states[e]};e.length>0;){var u=e.shift(),l=u.name,c=i.build(u),h=o.indexOf(u);if(c){var f=s(l);if(f&&f.name===l)throw new Error("State '"+l+"' is already defined");var p=s(l+".**");p&&this.$registry.deregister(p),n[l]=u,this.attachRoute(u),h>=0&&o.splice(h,1),r.push(u)}else{var d=a[l];if(a[l]=e.length,h>=0&&d===e.length)return e.push(u),n;h<0&&o.push(u),e.push(u)}}return r.length&&this.listeners.forEach(function(t){return t("registered",r.map(function(t){return t.self}))}),n},t.prototype.attachRoute=function(t){!t.abstract&&t.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(t))},t}(),pn=function(){function t(t){this._router=t,this.states={},this.listeners=[],this.matcher=new hn(this.states),this.builder=new cn(this.matcher,t.urlMatcherFactory),this.stateQueue=new fn(this,t.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return t.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},t.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&&t.deregister(e)})},t.prototype.onStatesChanged=function(t){return this.listeners.push(t),function(){ae(this.listeners)(t)}.bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,n=this.get().map(function(t){return t.$$state()}),i=function(t){var e=n.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(i(e))},r=i([t]),o=[t].concat(r).reverse();return o.forEach(function(t){var n=e._router.urlRouter;n.rules().filter(Ct("state",t)).forEach(n.removeRule.bind(n)),delete e.states[t.name]}),o},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var n=this._deregisterTree(e.$$state());return this.listeners.forEach(function(t){return t("deregistered",n.map(function(t){return t.self}))}),n},t.prototype.get=function(t,e){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(t){return n.states[t].self});var i=this.matcher.find(t,e);return i&&i.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}(),dn=U("/"),gn=function(){function e(t,n,i,r){var o=this;this.config=r,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=m(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:c});for(var a,s,u,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f=0,p=[],d=function(n){if(!e.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+t+"'");if($(o._params,Ct("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+t+"'")},g=function(e,i){var r=e[2]||e[3],a=i?e[4]:e[4]||("*"===e[1]?"[\\s\\S]*":null);return{id:r,regexp:a,cfg:o.config.params[r],segment:t.substring(f,e.index),type:a?n.type(a)||function(t){return re(n.type(i?"query":"path"),{pattern:new RegExp(t,o.config.caseInsensitive?"i":void 0)})}(a):null}};(a=l.exec(t))&&!((s=g(a,!1)).segment.indexOf("?")>=0);)d(s.id),this._params.push(i.fromPath(s.id,s.type,this.config.paramMap(s.cfg,!1))),this._segments.push(s.segment),p.push([s.segment,E(this._params)]),f=l.lastIndex;var v=(u=t.substring(f)).indexOf("?");if(v>=0){var y=u.substring(v);if(u=u.substring(0,v),y.length>0)for(f=0;a=h.exec(y);)d((s=g(a,!0)).id),this._params.push(i.fromSearch(s.id,s.type,this.config.paramMap(s.cfg,!0))),f=l.lastIndex}this._segments.push(u),this._compiled=p.map(function(t){return K.apply(null,t)}).concat(K(u))}return e.prototype.append=function(t){return this._children.push(t),t._cache={path:this._cache.path.concat(t),parent:this,pattern:null},t},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(t,e,n,i){function r(t){var e=function(t){return t.split("").reverse().join("")};return S(S(e(t).split(/-(?!\\)/),e),function(t){return t.replace(/\\-/g,"-")}).reverse()}var o=this;void 0===e&&(e={}),void 0===i&&(i={});var a=function(t,e,n){return t[e]=t[e]||n()}(this._cache,"pattern",function(){return new RegExp(["^",ve(o._cache.path.map(St("_compiled"))).join(""),!1===o.config.strict?"/?":"","$"].join(""),o.config.caseInsensitive?"i":void 0)}).exec(t);if(!a)return null;var s=this.parameters(),u=s.filter(function(t){return!t.isSearch()}),l=s.filter(function(t){return t.isSearch()}),c=this._cache.path.map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),h={};if(c!==a.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var f=0;f<c;f++){for(var p=u[f],d=a[f+1],g=0;g<p.replace.length;g++)p.replace[g].from===d&&(d=p.replace[g].to);d&&!0===p.array&&(d=r(d)),Mt(d)&&(d=p.type.decode(d)),h[p.id]=p.value(d)}return l.forEach(function(t){for(var n=e[t.id],i=0;i<t.replace.length;i++)t.replace[i].from===n&&(n=t.replace[i].to);Mt(n)&&(n=t.type.decode(n)),h[t.id]=t.value(n)}),n&&(h["#"]=n),h},e.prototype.parameters=function(t){return void 0===t&&(t={}),!1===t.inherit?this._params:ve(this._cache.path.map(function(t){return t._params}))},e.prototype.parameter=function(t,e){var n=this;void 0===e&&(e={});var i=this._cache.parent;return function(){for(var e=0,i=n._params;e<i.length;e++){var r=i[e];if(r.id===t)return r}}()||!1!==e.inherit&&i&&i.parameter(t,e)||null},e.prototype.validates=function(t){t=t||{};return this.parameters().filter(function(e){return t.hasOwnProperty(e.id)}).map(function(e){return function(t,e){return!t||t.validates(e)}(e,t[e.id])}).reduce(fe,!0)},e.prototype.format=function(t){function n(e){var n=e.value(t[e.id]),i=e.validates(n),r=e.isDefaultValue(n);return{param:e,value:n,isValid:i,isDefaultValue:r,squash:!!r&&e.squash,encoded:e.type.encode(n)}}void 0===t&&(t={});var i=this._cache.path,r=i.map(e.pathSegmentsAndParams).reduce(de,[]).map(function(t){return Ut(t)?t:n(t)}),o=i.map(e.queryParams).reduce(de,[]).map(n);if(r.concat(o).filter(function(t){return!1===t.isValid}).length)return null;var a=r.reduce(function(t,n){if(Ut(n))return t+n;var i=n.squash,r=n.encoded,o=n.param;return!0===i?t.match(/\/$/)?t.slice(0,-1):t:Ut(i)?t+i:!1!==i?t:null==r?t:Nt(r)?t+S(r,e.encodeDashes).join("-"):o.raw?t+r:t+encodeURIComponent(r)},""),s=o.map(function(t){var e=t.param,n=t.squash,i=t.encoded,r=t.isDefaultValue;if(!(null==i||r&&!1!==n)&&(Nt(i)||(i=[i]),0!==i.length))return e.raw||(i=S(i,encodeURIComponent)),i.map(function(t){return e.id+"="+t})}).filter(c).reduce(de,[]).join("&");return a+(s?"?"+s:"")+(t["#"]?"#"+t["#"]:"")},e.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){return z(e._segments,e._params.filter(function(e){return e.location===t.DefType.PATH}).concat(void 0)).reduce(de,[]).filter(function(t){return""!==t&&Mt(t)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===t.DefType.SEARCH})},e.compare=function(t,n){var i=function(t){return t._cache.weights=t._cache.weights||function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(de,[]).reduce(V,[]).map(function(t){return Ut(t)?dn(t):t}).reduce(de,[])}(t).map(function(t){return"/"===t?1:Ut(t)?2:t instanceof je?3:void 0})},r=i(t),o=i(n);!function(t,e,n){for(var i=Math.max(t.length,e.length);t.length<i;)t.push(n);for(;e.length<i;)e.push(n)}(r,o,0);var a,s,u=z(r,o);for(s=0;s<u.length;s++)if(0!=(a=u[s][0]-u[s][1]))return a;return 0},e.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,e}(),mn=function(){function e(){var e=this;this.paramTypes=new rn,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(t){return ne({strict:e._isStrictMode,caseInsensitive:e._isCaseInsensitive},t)},this.paramFactory={fromConfig:function(n,i,r){return new je(n,i,r,t.DefType.CONFIG,e)},fromPath:function(n,i,r){return new je(n,i,r,t.DefType.PATH,e)},fromSearch:function(n,i,r){return new je(n,i,r,t.DefType.SEARCH,e)}},ne(this,{UrlMatcher:gn,Param:je})}return e.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=Mt(t)?t:this._isCaseInsensitive},e.prototype.strictMode=function(t){return this._isStrictMode=Mt(t)?t:this._isStrictMode},e.prototype.defaultSquashPolicy=function(t){if(Mt(t)&&!0!==t&&!1!==t&&!Ut(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=Mt(t)?t:this._defaultSquashPolicy},e.prototype.compile=function(t,e){return new gn(t,this.paramTypes,this.paramFactory,this._getConfig(e))},e.prototype.isMatcher=function(t){if(!Vt(t))return!1;var e=!0;return ee(gn.prototype,function(n,i){jt(n)&&(e=e&&Mt(t[i])&&jt(t[i]))}),e},e.prototype.type=function(t,e,n){var i=this.paramTypes.type(t,e,n);return Mt(e)?this:i},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}(),vn=function(){function t(t){this.router=t}return t.prototype.compile=function(t){return this.router.urlMatcherFactory.compile(t)},t.prototype.create=function(t,e){var n=this,i=u([[Ut,function(t){return i(n.compile(t))}],[Tt(gn),function(t){return n.fromUrlMatcher(t,e)}],[Yt,function(t){return n.fromState(t,n.router)}],[Tt(RegExp),function(t){return n.fromRegExp(t,e)}],[jt,function(t){return new yn(t,e)}]]),r=i(t);if(!r)throw new Error("invalid 'what' in when()");return r},t.prototype.fromUrlMatcher=function(t,e){var n=e;Ut(e)&&(e=this.router.urlMatcherFactory.compile(e)),Tt(gn)(e)&&(n=function(t){return e.format(t)});var i={urlMatcher:t,matchPriority:function(e){var n=t.parameters().filter(function(t){return t.isOptional});return n.length?n.filter(function(t){return e[t.id]}).length/n.length:1e-6},type:"URLMATCHER"};return ne(new yn(function(e){var n=t.exec(e.path,e.search,e.hash);return t.validates(n)&&n},n),i)},t.prototype.fromState=function(t,e){var n={state:t,type:"STATE"};return ne(this.fromUrlMatcher(t.url,function(n){var i=e.stateService,r=e.globals;i.href(t,n)!==i.href(r.current,r.params)&&i.transitionTo(t,n,{inherit:!0,source:"url"})}),n)},t.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=Ut(e)?function(t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}:e,i={regexp:t,type:"REGEXP"};return ne(new yn(function(e){return t.exec(e.path)},n),i)},t.isUrlRule=function(t){return t&&["type","match","handler"].every(function(e){return Mt(t[e])})},t}(),yn=function(){return function(t,e){var n=this;this.match=t,this.type="RAW",this.matchPriority=function(t){return 0-n.$id},this.handler=e||c}}();on=function(t,e){var n=function(t,e){return(e.priority||0)-(t.priority||0)}(t,e);return 0!==n?n:0!==(n=function(t,e){var n={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(n[t.type]||0)-(n[e.type]||0)}(t,e))?n:0!==(n=function(t,e){return t.urlMatcher&&e.urlMatcher?gn.compare(t.urlMatcher,e.urlMatcher):0}(t,e))?n:function(t,e){var n={STATE:!0,URLMATCHER:!0};return n[t.type]&&n[e.type]?0:(t.$id||0)-(e.$id||0)}(t,e)};var wn=function(){function t(e){this._sortFn=on,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=e,this.urlRuleFactory=new vn(e),f(Rt(t.prototype),this,Rt(this))}return t.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},t.prototype.sort=function(t){this._rules=this.stableSort(this._rules,this._sortFn=t||this._sortFn),this._sorted=!0},t.prototype.ensureSorted=function(){this._sorted||this.sort()},t.prototype.stableSort=function(t,e){var n=t.map(function(t,e){return{elem:t,idx:e}});return n.sort(function(t,n){var i=e(t.elem,n.elem);return 0===i?t.idx-n.idx:i}),n.map(function(t){return t.elem})},t.prototype.match=function(t){var e=this;this.ensureSorted(),t=ne({path:"",search:{},hash:""},t);var n=this.rules();this._otherwiseFn&&n.push(this._otherwiseFn);for(var i,r=function(n){var i=n.match(t,e._router);return i&&{match:i,rule:n,weight:n.matchPriority(i)}},o=0;o<n.length&&(!i||0===this._sortFn(n[o],i.rule));o++){var a=r(n[o]);i=!i||a&&a.weight>i.weight?a:i}return i},t.prototype.sync=function(t){if(!t||!t.defaultPrevented){var e=this._router,n=e.urlService,i=e.stateService,r={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(r);u([[Ut,function(t){return n.url(t,!0)}],[De.isDef,function(t){return i.go(t.state,t.params,t.options)}],[Tt(De),function(t){return i.go(t.state(),t.params(),t.options())}]])(o&&o.rule.handler(o.match,r,e))}},t.prototype.listen=function(t){var e=this;if(!1!==t)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(t){return e.sync(t)});this._stopFn&&this._stopFn(),delete this._stopFn},t.prototype.update=function(t){var e=this._router.locationService;t?this.location=e.path():e.path()!==this.location&&e.url(this.location,!0)},t.prototype.push=function(t,e,n){var i=n&&!!n.replace;this._router.urlService.url(t.format(e||{}),i)},t.prototype.href=function(t,e,n){var i=t.format(e);if(null==i)return null;n=n||{absolute:!1};var r=this._router.urlService.config,o=r.html5Mode();if(o||null===i||(i="#"+r.hashPrefix()+i),i=function(t,e,n,i){return"/"===i?t:e?i.slice(0,-1)+t:n?i.slice(1)+t:t}(i,o,n.absolute,r.baseHref()),!n.absolute||!i)return i;var a=!o&&i?"/":"",s=r.port();return s=80===s||443===s?"":":"+s,[r.protocol(),"://",r.host(),s,a,i].join("")},t.prototype.rule=function(t){var e=this;if(!vn.isUrlRule(t))throw new Error("invalid rule");return t.$id=this._id++,t.priority=t.priority||0,this._rules.push(t),this._sorted=!1,function(){return e.removeRule(t)}},t.prototype.removeRule=function(t){ae(this._rules,t)},t.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},t.prototype.otherwise=function(t){var e=X(t);this._otherwiseFn=this.urlRuleFactory.create(Rt(!0),e),this._sorted=!1},t.prototype.initial=function(t){var e=X(t);this.rule(this.urlRuleFactory.create(function(t,e){return 0===e.globals.transitionHistory.size()&&!!/^\/?$/.exec(t.path)},e))},t.prototype.when=function(t,e,n){var i=this.urlRuleFactory.create(t,e);return Mt(n&&n.priority)&&(i.priority=n.priority),this.rule(i),i},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t}(),_n=function(){function t(){var t=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return t._uiViews},_activeViewConfigs:function(){return t._viewConfigs}}}return t.prototype._rootViewContext=function(t){return this._rootContext=t||this._rootContext},t.prototype._viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var n=this._viewConfigFactories[e.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+e.$type);var i=n(t,e);return Nt(i)?i:[i]},t.prototype.deactivateViewConfig=function(t){Re.traceViewServiceEvent("<- Removing",t),ae(this._viewConfigs,t)},t.prototype.activateViewConfig=function(t){Re.traceViewServiceEvent("-> Registering",t),this._viewConfigs.push(t)},t.prototype.sync=function(){function e(t){for(var e=t.viewDecl.$context,n=0;++n&&e.parent;)e=e.parent;return n}var i=this,r=this._uiViews.map(function(t){return[t.fqn,t]}).reduce(x,{}),o=n(function(t,e,n,i){return e*(t(n)-t(i))}),a=this._uiViews.sort(o(function(t){var e=function(t){return t&&t.parent?e(t.parent)+1:1};return 1e4*t.fqn.split(".").length+e(t.creationContext)},1)).map(function(n){var a=i._viewConfigs.filter(t.matches(r,n));return a.length>1&&a.sort(o(e,-1)),[n,a[0]]});Re.traceViewSync(a),a.forEach(function(t){var e=t[0],n=t[1];-1!==i._uiViews.indexOf(e)&&e.configUpdated(n)})},t.prototype.registerUIView=function(t){Re.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews;return e.filter(function(e){return e.fqn===t.fqn&&e.$type===t.$type}).length&&Re.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1!==e.indexOf(t)?(Re.traceViewServiceUIViewEvent("<- Deregistering",t),ae(e)(t)):Re.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t)}},t.prototype.available=function(){return this._uiViews.map(St("fqn"))},t.prototype.active=function(){return this._uiViews.filter(St("$config")).map(St("name"))},t.normalizeUIViewTarget=function(t,e){void 0===e&&(e="");var n=e.split("@"),i=n[0]||"$default",r=Ut(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(i);o&&(r=o[1],i=o[2]),"!"===i.charAt(0)&&(i=i.substr(1),r="");if(/^(\^(?:\.\^)*)$/.exec(r)){r=r.split(".").reduce(function(t,e){return t.parent},t).name}else"."===r&&(r=t.name);return{uiViewName:i,uiViewContextAnchor:r}},t.matches=function(t,e){return function(n){if(e.$type!==n.viewDecl.$type)return!1;var i=n.viewDecl,r=i.$uiViewName.split("."),o=e.fqn.split(".");if(!ie(r,o.slice(0-r.length)))return!1;var a=1-r.length||void 0,s=o.slice(0,a).join("."),u=t[s].creationContext;return i.$uiViewContextAnchor===(u&&u.name)}},t}(),bn=function(){function t(){this.params=new an,this.lastStartedTransitionId=-1,this.transitionHistory=new Ce([],1),this.successfulTransitions=new Ce([],1)}return t.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},t}(),$n=function(t){return t.reduce(function(t,e){return t[e]=Zt(e),t},{dispose:h})},Sn=["url","path","search","hash","onChange"],Cn=["port","protocol","host","baseHref","html5Mode","hashPrefix"],kn=["type","caseInsensitive","strictMode","defaultSquashPolicy"],zn=["sort","when","initial","otherwise","rules","rule","removeRule"],xn=["deferIntercept","listen","sync","match"],En=function(){function t(t,e){void 0===e&&(e=!0),this.router=t,this.rules={},this.config={};var n=function(){return t.locationService};f(n,this,n,Sn,e);var i=function(){return t.locationConfig};f(i,this.config,i,Cn,e);var r=function(){return t.urlMatcherFactory};f(r,this.config,r,kn);var o=function(){return t.urlRouter};f(o,this.rules,o,zn),f(o,this,o,xn)}return t.prototype.url=function(t,e,n){},t.prototype.path=function(){},t.prototype.search=function(){},t.prototype.hash=function(){},t.prototype.onChange=function(t){},t.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},t.prototype.dispose=function(){},t.prototype.sync=function(t){},t.prototype.listen=function(t){},t.prototype.deferIntercept=function(t){},t.prototype.match=function(t){},t.locationServiceStub=$n(Sn),t.locationConfigStub=$n(Cn),t}(),Tn=0,On=function(){function t(t,e){void 0===t&&(t=En.locationServiceStub),void 0===e&&(e=En.locationConfigStub),this.locationService=t,this.locationConfig=e,this.$id=Tn++,this._disposed=!1,this._disposables=[],this.trace=Re,this.viewService=new _n,this.transitionService=new Nn(this),this.globals=new bn,this.urlMatcherFactory=new mn,this.urlRouter=new wn(this),this.stateRegistry=new pn(this),this.stateService=new qn(this),this.urlService=new En(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(t),this.disposable(e)}return t.prototype.disposable=function(t){this._disposables.push(t)},t.prototype.dispose=function(t){var e=this;t&&jt(t.dispose)?t.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(t){try{"function"==typeof t.dispose&&t.dispose(e),ae(e._disposables,t)}catch(t){}}))},t.prototype.plugin=function(t,e){void 0===e&&(e={});var n=new t(this,e);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},t.prototype.getPlugin=function(t){return t?this._plugins[t]:he(this._plugins)},t}(),Rn=function(t){function e(e){if(e)return e instanceof De?e:Ut(e)?i.target(e,t.params(),t.options()):e.state||e.params?i.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}var n=t.to().redirectTo;if(n){var i=t.router.stateService;return jt(n)?Kt.$q.when(n(t)).then(e):e(n)}},Dn=J("onExit"),An=J("onRetain"),Pn=J("onEnter"),In=function(t){return new Ke(t.treeChanges().to).resolvePath("EAGER",t).then(h)},Wn=function(t,e){return new Ke(t.treeChanges().to).subContext(e.$$state()).resolvePath("LAZY",t).then(h)},Mn=function(t){var e=Kt.$q,n=t.views("entering");if(n.length)return e.all(n.map(function(t){return e.when(t.load())})).then(h)},Hn=function(t){var e=t.views("entering"),n=t.views("exiting");if(e.length||n.length){var i=t.router.viewService;n.forEach(function(t){return i.deactivateViewConfig(t)}),e.forEach(function(t){return i.activateViewConfig(t)}),i.sync()}},Ln=function(t){var e=t.router.globals,n=function(){e.transition===t&&(e.transition=null)};t.onSuccess({},function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,te(t.params(),e.params)},{priority:1e4}),t.promise.then(n,n)},jn=function(t){var e=t.options(),n=t.router.stateService,i=t.router.urlRouter;if("url"!==e.source&&e.location&&n.$current.navigable){var r={replace:"replace"===e.location};i.push(n.$current.navigable.url,n.params,r)}i.update(!0)},Fn=function(t){var e=t.router,n=t.entering().filter(function(t){return!!t.$$state().lazyLoad}).map(function(e){return tt(t,e)});return Kt.$q.all(n).then(function(){if("url"!==t.originalTransition().options().source){var n=t.targetState();return e.stateService.target(n.identifier(),n.params(),n.options())}var i=e.urlService,r=i.match(i.parts()),o=r&&r.rule;if(o&&"STATE"===o.type){var a=o.state,s=r.match;return e.stateService.target(a,s,t.options())}e.urlService.sync()})},Un=function(){return function(t,e,n,i,r,o,a,s){void 0===r&&(r=!1),void 0===o&&(o=Pe.HANDLE_RESULT),void 0===a&&(a=Pe.REJECT_ERROR),void 0===s&&(s=!1),this.name=t,this.hookPhase=e,this.hookOrder=n,this.criteriaMatchPath=i,this.reverseSort=r,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s}}(),Vn={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},Nn=function(){function e(t){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=t,this.$view=t.viewService,this._deregisterHookFns={},this._pluginapi=f(Rt(this),{},Rt(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return e.prototype.onCreate=function(t,e,n){},e.prototype.onBefore=function(t,e,n){},e.prototype.onStart=function(t,e,n){},e.prototype.onExit=function(t,e,n){},e.prototype.onRetain=function(t,e,n){},e.prototype.onEnter=function(t,e,n){},e.prototype.onFinish=function(t,e,n){},e.prototype.onSuccess=function(t,e,n){},e.prototype.onError=function(t,e,n){},e.prototype.dispose=function(t){he(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,ae(t,e)})})},e.prototype.create=function(t,e){return new Je(t,e,this._router)},e.prototype._defineCoreEvents=function(){var e=t.TransitionHookPhase,n=Pe,i=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,i.to,!1,n.LOG_REJECTED_RESULT,n.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,i.to),this._defineEvent("onStart",e.RUN,0,i.to),this._defineEvent("onExit",e.RUN,100,i.exiting,!0),this._defineEvent("onRetain",e.RUN,200,i.retained),this._defineEvent("onEnter",e.RUN,300,i.entering),this._defineEvent("onFinish",e.RUN,400,i.to),this._defineEvent("onSuccess",e.SUCCESS,0,i.to,!1,n.LOG_REJECTED_RESULT,n.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,i.to,!1,n.LOG_REJECTED_RESULT,n.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=t.TransitionHookScope.STATE,n=t.TransitionHookScope.TRANSITION;this._definePathType("to",n),this._definePathType("from",n),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(t,e,n,i,r,o,a,s){void 0===r&&(r=!1),void 0===o&&(o=Pe.HANDLE_RESULT),void 0===a&&(a=Pe.REJECT_ERROR),void 0===s&&(s=!1);var u=new Un(t,e,n,i,r,o,a,s);this._eventTypes.push(u),P(this,this,u)},e.prototype._getEvents=function(t){return(Mt(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(t,e){var n=t.hookPhase-e.hookPhase;return 0===n?t.hookOrder-e.hookOrder:n})},e.prototype._definePathType=function(t,e){this._criteriaPaths[t]={name:t,scope:e}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype._registerCoreTransitionHooks=function(){var t=this._deregisterHookFns;t.addCoreResolves=function(t){return t.onCreate({},Q)}(this),t.ignored=function(t){return t.onBefore({},et,{priority:-9999})}(this),t.invalid=function(t){return t.onBefore({},nt,{priority:-1e4})}(this),t.redirectTo=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},Rn)}(this),t.onExit=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},Dn)}(this),t.onRetain=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},An)}(this),t.onEnter=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},Pn)}(this),t.eagerResolve=function(t){return t.onStart({},In,{priority:1e3})}(this),t.lazyResolve=function(t){return t.onEnter({entering:Rt(!0)},Wn,{priority:1e3})}(this),t.loadViews=function(t){return t.onFinish({},Mn)}(this),t.activateViews=function(t){return t.onSuccess({},Hn)}(this),t.updateGlobals=function(t){return t.onCreate({},Ln)}(this),t.updateUrl=function(t){return t.onSuccess({},jn,{priority:9999})}(this),t.lazyLoad=function(t){return t.onBefore({entering:function(t){return!!t.lazyLoad}},Fn)}(this)},e}(),qn=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&&t.stack?(console.error(t),console.error(t.stack)):t instanceof ze?(console.error(t.toString()),t.detail&&t.detail.stack&&console.error(t.detail.stack)):console.error(t)};var n=Object.keys(e.prototype).filter(zt(oe(["current","$current","params","transition"])));f(Rt(e.prototype),this,Rt(this),n)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(h),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(t,e){function n(){var t=u.dequeue();if(void 0===t)return ze.invalid(e.error()).toPromise();return Kt.$q.when(t(e,r,l)).then(c).then(function(t){return t||n()})}var i=this,r=Ue.makeTargetState(t),o=this.router.globals,a=function(){return o.transitionHistory.peekTail()},s=a(),u=new Ce(this.invalidCallbacks.slice()),l=new Ke(t).injector(),c=function(t){if(t instanceof De){var e=t;return(e=i.target(e.identifier(),e.params(),e.options())).valid()?a()!==s?ze.superseded().toPromise():i.transitionTo(e.identifier(),e.params(),e.options()):ze.invalid(e.error()).toPromise()}};return n()},e.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),function(){ae(this.invalidCallbacks)(t)}.bind(this)},e.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!Mt(t)||t,inherit:!1,notify:!1})},e.prototype.go=function(t,e,n){var i=m(n,{relative:this.$current,inherit:!0},Vn);return this.transitionTo(t,e,i)},e.prototype.target=function(t,e,n){if(void 0===n&&(n={}),Vt(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var i=this.router.stateRegistry;if(n.reloadState=!0===n.reload?i.root():i.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(Ut(n.reload)?n.reload:n.reload.name)+"'");var r=i.matcher.find(t,n.relative);return new De(t,r,e,n)},e.prototype.getCurrentPath=function(){var t=this,e=this.router.globals.successfulTransitions.peekTail();return e?e.treeChanges().to:[new Fe(t.router.stateRegistry.root())]},e.prototype.transitionTo=function(e,n,i){var r=this;void 0===n&&(n={}),void 0===i&&(i={});var o=this.router,a=o.globals;i=m(i,Vn);i=ne(i,{current:function(){return a.transition}});var s=this.target(e,n,i),u=this.getCurrentPath();if(!s.exists())return this._handleInvalidTargetState(u,s);if(!s.valid())return Se(s.error());var l=function(e){return function(n){if(n instanceof ze){var i=o.globals.lastStartedTransitionId===e.$id;if(n.type===t.RejectType.IGNORED)return i&&o.urlRouter.update(),Kt.$q.when(a.current);var s=n.detail;if(n.type===t.RejectType.SUPERSEDED&&n.redirected&&s instanceof De){var u=e.redirect(s);return u.run().catch(l(u))}if(n.type===t.RejectType.ABORTED)return i&&o.urlRouter.update(),Kt.$q.reject(n)}return r.defaultErrorHandler()(n),Kt.$q.reject(n)}},c=this.router.transitionService.create(u,s),h=c.run().catch(l(c));return $e(h),ne(h,{transition:c})},e.prototype.is=function(t,e,n){n=m(n,{relative:this.$current});var i=this.router.stateRegistry.matcher.find(t,n.relative);if(Mt(i)){if(this.$current!==i)return!1;if(!e)return!0;var r=i.parameters({inherit:!0,matchingKeys:e});return je.equals(r,je.values(r,e),this.params)}},e.prototype.includes=function(t,e,n){n=m(n,{relative:this.$current});var i=Ut(t)&&Dt.fromString(t);if(i){if(!i.matches(this.$current.name))return!1;t=this.$current.name}var r=this.router.stateRegistry.matcher.find(t,n.relative),o=this.$current.includes;if(Mt(r)){if(!Mt(o[r.name]))return!1;if(!e)return!0;var a=r.parameters({inherit:!0,matchingKeys:e});return je.equals(a,je.values(a,e),this.params)}},e.prototype.href=function(t,e,n){n=m(n,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),e=e||{};var i=this.router.stateRegistry.matcher.find(t,n.relative);if(!Mt(i))return null;n.inherit&&(e=this.params.$inherit(e,this.$current,i));var r=i&&n.lossy?i.navigable:i;return r&&void 0!==r.url&&null!==r.url?this.router.urlRouter.href(r.url,e,{absolute:n.absolute}):null},e.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},e.prototype.get=function(t,e){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(t,e||this.$current)},e.prototype.lazyLoad=function(t,e){var n=this.get(t);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+t);var i=this.getCurrentPath(),r=Ue.makeTargetState(i);return e=e||this.router.transitionService.create(i,r),tt(e,n)},e}(),Bn={when:function(t){return new Promise(function(e,n){return e(t)})},reject:function(t){return new Promise(function(e,n){n(t)})},defer:function(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t},all:function(t){if(Nt(t))return Promise.all(t);if(Vt(t)){var e=Object.keys(t).map(function(e){return t[e].then(function(t){return{key:e,val:t}})});return Bn.all(e).then(function(t){return t.reduce(function(t,e){return t[e.key]=e.val,t},{})})}}},Yn={},Gn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Zn=/([^\s,]+)/g,Kn={get:function(t){return Yn[t]},has:function(t){return null!=Kn.get(t)},invoke:function(t,e,n){var i=ne({},Yn,n||{}),r=Kn.annotate(t),o=we(function(t){return i.hasOwnProperty(t)},function(t){return"DI can't find injectable: '"+t+"'"}),a=r.filter(o).map(function(t){return i[t]});return jt(t)?t.apply(e,a):t.slice(-1)[0].apply(e,a)},annotate:function(t){if(!l(t))throw new Error("Not an injectable function: "+t);if(t&&t.$inject)return t.$inject;if(Nt(t))return t.slice(0,-1);var e=t.toString().replace(Gn,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(Zn)||[]}},Xn=function(t){return function(e){if(!e)return["",""];var n=e.indexOf(t);return-1===n?[e,""]:[e.substr(0,n),e.substr(n+1)]}},Qn=Xn("#"),Jn=Xn("?"),ti=Xn("="),ei=function(t){return t?t.replace(/^#/,""):""},ni=function(t,e){var n=e[0],i=e[1];return t.hasOwnProperty(n)?Nt(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i,t},ii=function(t){return t.split("&").filter(c).map(ti).reduce(ni,{})},ri=function(t){var e=t.path(),n=t.search(),i=t.hash(),r=Object.keys(n).map(function(t){var e=n[t];return(Nt(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(de,[]).join("&");return e+(r?"?"+r:"")+(i?"#"+i:"")},oi=function(){function t(t,e){var n=this;this.fireAfterUpdate=e,this._listener=function(t){return n._listeners.forEach(function(e){return e(t)})},this._listeners=[],this.hash=function(){return it(n._get()).hash},this.path=function(){return it(n._get()).path},this.search=function(){return ii(it(n._get()).search)},this._location=window&&window.location,this._history=window&&window.history}return t.prototype.url=function(t,e){if(void 0===e&&(e=!0),Mt(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate)){var n=ne(new Event("locationchange"),{url:t});this._listeners.forEach(function(t){return t(n)})}return ri(this)},t.prototype.onChange=function(t){var e=this;return this._listeners.push(t),function(){return ae(e._listeners,t)}},t.prototype.dispose=function(t){ue(this._listeners)},t}(),ai=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),si=function(t){function e(e){var n=t.call(this,e,!1)||this;return window.addEventListener("hashchange",n._listener,!1),n}return ai(e,t),e.prototype._get=function(){return ei(this._location.hash)},e.prototype._set=function(t,e,n,i){this._location.hash=n},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("hashchange",this._listener)},e}(oi),ui=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),li=function(t){function e(e){return t.call(this,e,!0)||this}return ui(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(t,e,n,i){this._url=n},e}(oi),ci=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hi=function(t){function e(e){var n=t.call(this,e,!0)||this;return n._config=e.urlService.config,window.addEventListener("popstate",n._listener,!1),n}return ci(e,t),e.prototype._get=function(){var t=this._location,e=t.pathname,n=t.hash,i=t.search;return i=Jn(i)[1],n=Qn(n)[1],e+(i?"?"+i:"")+(n?"$"+i:"")},e.prototype._set=function(t,e,n,i){var r=this._config,o=this._history,a=r.baseHref()+n;i?o.replaceState(t,e,a):o.pushState(t,e,a)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("popstate",this._listener)},e}(oi),fi=function(){return function(){var t=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return Mt(e)?t._hashPrefix=e:t._hashPrefix},this.dispose=h}}(),pi=function(){function t(t,e){void 0===e&&(e=!1),this._isHtml5=e,this._baseHref=void 0,this._hashPrefix=""}return t.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},t.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},t.prototype.host=function(){return location.hostname},t.prototype.html5Mode=function(){return this._isHtml5},t.prototype.hashPrefix=function(t){return Mt(t)?this._hashPrefix=t:this._hashPrefix},t.prototype.baseHref=function(t){return Mt(t)?this._baseHref=t:this._baseHref||this.applyDocumentBaseHref()},t.prototype.applyDocumentBaseHref=function(){var t=document.getElementsByTagName("base");return this._baseHref=t.length?t[0].href.substr(location.origin.length):""},t.prototype.dispose=function(){},t}(),di=rt("vanilla.hashBangLocation",!1,si,pi),gi=rt("vanilla.pushStateLocation",!0,hi,pi),mi=rt("vanilla.memoryLocation",!1,li,fi),vi=function(){function t(){}return t.prototype.dispose=function(t){},t}(),yi=Object.freeze({fromJson:Qt,toJson:Jt,copy:te,forEach:ee,extend:ne,equals:ie,identity:c,noop:h,createProxyFunctions:f,inherit:re,inArray:oe,_inArray:p,removeFrom:ae,_removeFrom:d,pushTo:se,_pushTo:g,deregAll:ue,defaults:m,mergeR:le,ancestors:v,pick:y,omit:w,pluck:_,filter:b,find:$,mapObj:ce,map:S,values:he,allTrueR:fe,anyTrueR:pe,unnestR:de,flattenR:ge,pushR:C,uniqR:me,unnest:ve,flatten:ye,assertPredicate:we,assertMap:_e,assertFn:k,pairs:be,arrayTuples:z,applyPairs:x,tail:E,_extend:T,silenceUncaughtInPromise:$e,silentRejection:Se,notImplemented:Zt,services:Kt,Glob:Dt,curry:n,compose:i,pipe:r,prop:St,propEq:Ct,parse:kt,not:zt,and:o,or:a,all:xt,any:Et,is:Tt,eq:Ot,val:Rt,invoke:s,pattern:u,isUndefined:Wt,isDefined:Mt,isNull:Ht,isNullOrUndefined:Lt,isFunction:jt,isNumber:Ft,isString:Ut,isObject:Vt,isArray:Nt,isDate:qt,isRegExp:Bt,isState:Yt,isInjectable:l,isPromise:Gt,Queue:Ce,maxLength:W,padString:M,kebobString:H,functionToString:L,fnToString:j,stringify:F,beforeAfterSubstr:nn,splitOnDelim:U,joinNeighborsR:V,get Category(){return t.Category},Trace:Oe,trace:Re,get DefType(){return t.DefType},Param:je,ParamTypes:rn,StateParams:an,ParamType:Me,PathNode:Fe,PathUtils:Ue,resolvePolicies:qe,defaultResolvePolicy:Ve,Resolvable:Ne,NATIVE_INJECTOR_TOKEN:Ze,ResolveContext:Ke,resolvablesBuilder:Z,StateBuilder:cn,StateObject:At,StateMatcher:hn,StateQueueManager:fn,StateRegistry:pn,StateService:qn,TargetState:De,get TransitionHookPhase(){return t.TransitionHookPhase},get TransitionHookScope(){return t.TransitionHookScope},HookBuilder:We,matchState:A,RegisteredHook:Ie,makeEvent:P,get RejectType(){return t.RejectType},Rejection:ze,Transition:Je,TransitionHook:Pe,TransitionEventType:Un,defaultTransOpts:Vn,TransitionService:Nn,UrlMatcher:gn,UrlMatcherFactory:mn,UrlRouter:wn,UrlRuleFactory:vn,BaseUrlRule:yn,UrlService:En,ViewService:_n,UIRouterGlobals:bn,UIRouter:On,$q:Bn,$injector:Kn,BaseLocationServices:oi,HashLocationService:si,MemoryLocationService:li,PushStateLocationService:hi,MemoryLocationConfig:fi,BrowserLocationConfig:pi,splitHash:Qn,splitQuery:Jn,splitEqual:ti,trimHashVal:ei,keyValsToObjectR:ni,getParams:ii,parseUrl:it,buildUrl:ri,locationPluginFactory:rt,servicesPlugin:ot,hashLocationPlugin:di,pushStateLocationPlugin:gi,memoryLocationPlugin:mi,UIRouterPluginBase:vi}),wi=function(t,e){return t.reduce(function(t,n){return t||Mt(e[n])},!1)},_i=0,bi=function(){function t(t,e,n){var i=this;this.path=t,this.viewDecl=e,this.factory=n,this.$id=_i++,this.loaded=!1,this.getTemplate=function(t,e){return i.component?i.factory.makeComponentTemplate(t,e,i.component,i.viewDecl.bindings):i.template}}return t.prototype.load=function(){var t=this,e=Kt.$q,n=new Ke(this.path),i=this.path.reduce(function(t,e){return ne(t,e.paramValues)},{}),r={template:e.when(this.factory.fromConfig(this.viewDecl,i,n)),controller:e.when(this.getController(n))};return e.all(r).then(function(e){return Re.traceViewServiceEvent("Loaded",t),t.controller=e.controller,ne(t,e.template),t})},t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;if(!l(e))return this.viewDecl.controller;var n=Kt.$injector.annotate(e),i=Nt(e)?E(e):e;return new Ne("",i,n).get(t)},t}(),$i=function(){function t(){var t=this;this._useHttp=$t.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,n,i){return t.$templateRequest=i.has&&i.has("$templateRequest")&&i.get("$templateRequest"),t.$http=e,t.$templateCache=n,t}]}return t.prototype.useHttpService=function(t){this._useHttp=t},t.prototype.fromConfig=function(t,e,n){var i=function(t){return Kt.$q.when(t).then(function(t){return{template:t}})},r=function(t){return Kt.$q.when(t).then(function(t){return{component:t}})};return Mt(t.template)?i(this.fromString(t.template,e)):Mt(t.templateUrl)?i(this.fromUrl(t.templateUrl,e)):Mt(t.templateProvider)?i(this.fromProvider(t.templateProvider,e,n)):Mt(t.component)?r(t.component):Mt(t.componentProvider)?r(this.fromComponentProvider(t.componentProvider,e,n)):i("<ui-view></ui-view>")},t.prototype.fromString=function(t,e){return jt(t)?t(e):t},t.prototype.fromUrl=function(t,e){return jt(t)&&(t=t(e)),null==t?null:this._useHttp?this.$http.get(t,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(t){return t.data}):this.$templateRequest(t)},t.prototype.fromProvider=function(t,e,n){var i=Kt.$injector.annotate(t),r=Nt(t)?E(t):t;return new Ne("",r,i).get(n)},t.prototype.fromComponentProvider=function(t,e,n){var i=Kt.$injector.annotate(t),r=Nt(t)?E(t):t;return new Ne("",r,i).get(n)},t.prototype.makeComponentTemplate=function(t,e,n,i){i=i||{};var r=$t.version.minor>=3?"::":"",o=function(t){var e=H(t);return/^(x|data)-/.exec(e)?"x-"+e:e},a=function(t){var e=Kt.$injector.get(t+"Directive");if(!e||!e.length)throw new Error("Unable to find component named '"+t+"'");return e.map(Si).reduce(de,[])}(n).map(function(n){var a=n.name,s=n.type,u=o(a);if(t.attr(u)&&!i[a])return u+"='"+t.attr(u)+"'";var l=i[a]||a;if("@"===s)return u+"='{{"+r+"$resolve."+l+"}}'";if("&"===s){var c=e.getResolvable(l),h=c&&c.data,f=h&&Kt.$injector.annotate(h)||[];return u+"='$resolve."+l+(Nt(h)?"["+(h.length-1)+"]":"")+"("+f.join(",")+")'"}return u+"='"+r+"$resolve."+l+"'"}).join(" "),s=o(n);return"<"+s+" "+a+"></"+s+">"},t}(),Si=function(t){return Ci(Vt(t.bindToController)?t.bindToController:t.scope)},Ci=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]}).filter(function(t){return Mt(t)&&Nt(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}})},ki=function(){function t(e,n){this.stateRegistry=e,this.stateService=n,f(Rt(t.prototype),this,Rt(this))}return t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},t.prototype.state=function(t,e){return Vt(t)?e=t:e.name=t,this.stateRegistry.register(e),this},t.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},t}(),zi=function(t){return function(e,n){var i=e[t],r="onExit"===t?"from":"to";return i?function(t,e){var n=new Ke(t.treeChanges(r)),o=ne(Mi(n),{$state$:e,$transition$:t});return Kt.$injector.invoke(i,this,o)}:void 0}},xi=function(){function t(t){this._urlListeners=[],this.$locationProvider=t;var e=Rt(t);f(e,this,e,["hashPrefix"])}return t.prototype.dispose=function(){},t.prototype.onChange=function(t){var e=this;return this._urlListeners.push(t),function(){return ae(e._urlListeners)(t)}},t.prototype.html5Mode=function(){var t=this.$locationProvider.html5Mode();return(t=Vt(t)?t.enabled:t)&&this.$sniffer.history},t.prototype.url=function(t,e,n){return void 0===e&&(e=!1),t&&this.$location.url(t),e&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},t.prototype._runtimeServices=function(t,e,n,i){var r=this;this.$location=e,this.$sniffer=n,t.$on("$locationChangeSuccess",function(t){return r._urlListeners.forEach(function(e){return e(t)})});var o=Rt(e),a=Rt(i);f(o,this,o,["replace","path","search","hash"]),f(o,this,o,["port","protocol","host"]),f(a,this,a,["baseHref"])},t.monkeyPatchPathParameterType=function(t){var e=t.urlMatcherFactory.type("path");e.encode=function(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t},e.decode=function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}},t}(),Ei=function(){function t(t){this._router=t,this._urlRouter=t.urlRouter}return t.prototype.$get=function(){var t=this._urlRouter;return t.update(!0),t.interceptDeferred||t.listen(),t},t.prototype.rule=function(t){var e=this;if(!jt(t))throw new Error("'rule' must be a function");var n=new yn(function(){return t(Kt.$injector,e._router.locationService)},c);return this._urlRouter.rule(n),this},t.prototype.otherwise=function(t){var e=this,n=this._urlRouter;if(Ut(t))n.otherwise(t);else{if(!jt(t))throw new Error("'rule' must be a string or function");n.otherwise(function(){return t(Kt.$injector,e._router.locationService)})}return this},t.prototype.when=function(e,n){return(Nt(n)||jt(n))&&(n=t.injectableHandler(this._router,n)),this._urlRouter.when(e,n),this},t.injectableHandler=function(t,e){return function(n){return Kt.$injector.invoke(e,null,{$match:n,$stateParams:t.globals.params})}},t.prototype.deferIntercept=function(t){this._urlRouter.deferIntercept(t)},t}();$t.module("ui.router.angular1",[]);var Ti=$t.module("ui.router.init",[]),Oi=$t.module("ui.router.util",["ng","ui.router.init"]),Ri=$t.module("ui.router.router",["ui.router.util"]),Di=$t.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),Ai=$t.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),Pi=($t.module("ui.router.compat",["ui.router"]),null);ut.$inject=["$locationProvider"];var Ii=function(t){return["$uiRouterProvider",function(e){var n=e.router[t];return n.$get=function(){return n},n}]};lt.$inject=["$injector","$q","$uiRouter"];ct.$inject=["$rootScope"],Ti.provider("$uiRouter",ut),Ri.provider("$urlRouter",["$uiRouterProvider",function(t){return t.urlRouterProvider=new Ei(t)}]),Oi.provider("$urlService",Ii("urlService")),Oi.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return Pi.urlMatcherFactory}]),Oi.provider("$templateFactory",function(){return new $i}),Di.provider("$stateRegistry",Ii("stateRegistry")),Di.provider("$uiRouterGlobals",Ii("globals")),Di.provider("$transitions",Ii("transitionService")),Di.provider("$state",["$uiRouterProvider",function(){return ne(Pi.stateProvider,{$get:function(){return Pi.stateService}})}]),Di.factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),Ai.factory("$view",function(){return Pi.viewService}),Ai.service("$trace",function(){return Re}),Ai.run(ct),Oi.run(["$urlMatcherFactory",function(t){}]),Di.run(["$state",function(t){}]),Ri.run(["$urlRouter",function(t){}]),Ti.run(lt);var Wi,Mi=function(t){return t.getTokens().filter(Ut).map(function(e){var n=t.getResolvable(e);return[e,"NOWAIT"===t.getPolicy(n).async?n.promise:n.data]}).reduce(x,{})};Wi=["$uiRouter","$timeout",function(t,e){var n=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){function s(){var t=p();h&&h(),c&&(h=c.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(l.attr,t.href)}var u,l=dt(r),c=a[1]||a[0],h=null,f={},p=function(){return pt(n,r,f)},d=ht(o.uiSref);f.uiState=d.state,f.uiStateOpts=o.uiSrefOpts?i.$eval(o.uiSrefOpts):{},d.paramExpr&&(i.$watch(d.paramExpr,function(t){f.uiStateParams=ne({},t),s()},!0),f.uiStateParams=ne({},i.$eval(d.paramExpr))),s(),i.$on("$destroy",t.stateRegistry.onStatesChanged(s)),i.$on("$destroy",t.transitionService.onSuccess({},s)),l.clickable&&(u=gt(r,n,e,l,p),mt(r,i,u,f.uiStateOpts))}}}];var Hi;Hi=["$uiRouter","$timeout",function(t,e){var n=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){function s(){var t=d();f&&f(),c&&(f=c.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(l.attr,t.href)}var u,l=dt(r),c=a[1]||a[0],f=null,p={},d=function(){return pt(n,r,p)},g=["uiState","uiStateParams","uiStateOpts"],m=g.reduce(function(t,e){return t[e]=h,t},{});g.forEach(function(t){p[t]=o[t]?i.$eval(o[t]):null,o.$observe(t,function(e){m[t](),m[t]=i.$watch(e,function(e){p[t]=e,s()},!0)})}),s(),i.$on("$destroy",t.stateRegistry.onStatesChanged(s)),i.$on("$destroy",t.transitionService.onSuccess({},s)),l.clickable&&(u=gt(r,n,e,l,d),mt(r,i,u,p.uiStateOpts))}}}];var Li;Li=["$state","$stateParams","$interpolate","$uiRouter",function(t,e,n,i){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,r,o){function a(t){t.promise.then(u,h)}function s(e,n,i){var o={state:t.get(e,ft(r))||{name:e},params:n,activeClass:i};return p.push(o),function(){ae(p)(o)}}function u(){var n=function(t){return t.split(/\s/).filter(c)},i=function(t){return t.map(function(t){return t.activeClass}).map(n).reduce(de,[])},o=i(p).concat(n(l)).reduce(me,[]),a=i(p.filter(function(e){return t.includes(e.state.name,e.params)})),s=!!p.filter(function(e){return t.is(e.state.name,e.params)}).length?n(l):[],u=a.concat(s).reduce(me,[]),h=o.filter(function(t){return!oe(u,t)});e.$evalAsync(function(){u.forEach(function(t){return r.addClass(t)}),h.forEach(function(t){return r.removeClass(t)})})}var l,f,p=[];l=n(o.uiSrefActiveEq||"",!1)(e);try{f=e.$eval(o.uiSrefActive)}catch(t){}f=f||n(o.uiSrefActive||"",!1)(e),Vt(f)&&ee(f,function(t,n){if(Ut(t)){var i=ht(t);s(i.state,e.$eval(i.paramExpr),n)}}),this.$$addStateInfo=function(t,e){if(!(Vt(f)&&p.length>0)){var n=s(t,e,f);return u(),n}},e.$on("$stateChangeSuccess",u),e.$on("$destroy",i.transitionService.onStart({},a)),i.globals.transition&&a(i.globals.transition),u()}]}}],$t.module("ui.router.state").directive("uiSref",Wi).directive("uiSrefActive",Li).directive("uiSrefActiveEq",Li).directive("uiState",Hi),vt.$inject=["$state"],yt.$inject=["$state"],$t.module("ui.router.state").filter("isState",vt).filter("includedByState",yt);var ji;ji=["$view","$animate","$uiViewScroll","$interpolate","$q",function(t,e,n,i,r){var o={$cfg:{viewDecl:{$context:t._pluginapi._rootViewContext()}},$uiView:{}},a={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(s,u,l){return function(s,u,c){function h(t){var e=s.$new(),i=r.defer(),o=r.defer(),a={$cfg:t,$uiView:$},c={$animEnter:i.promise,$animLeave:o.promise,$$animLeave:o};e.$emit("$viewContentLoading",b);var h=l(e,function(t){t.data("$uiViewAnim",c),t.data("$uiView",a),y.enter(t,u,function(){i.resolve(),d&&d.$emit("$viewContentAnimationEnded"),(Mt(v)&&!v||s.$eval(v))&&n(t)}),function(){if(f&&(Re.traceUIViewEvent("Removing (previous) el",f.data("$uiView")),f.remove(),f=null),d&&(Re.traceUIViewEvent("Destroying scope",$),d.$destroy(),d=null),p){var t=p.data("$uiViewAnim");Re.traceUIViewEvent("Animate out",t),y.leave(p,function(){t.$$animLeave.resolve(),f=null}),f=p,p=null}}()});p=h,(d=e).$emit("$viewContentLoaded",t||w),d.$eval(m)}var f,p,d,g,m=c.onload||"",v=c.autoscroll,y={enter:function(t,n,i){$t.version.minor>2?e.enter(t,null,n).then(i):e.enter(t,null,n,i)},leave:function(t,n){$t.version.minor>2?e.leave(t).then(n):e.leave(t,n)}},w=void 0,_=u.inheritedData("$uiView")||o,b=i(c.uiView||c.name||"")(s)||"$default",$={$type:"ng1",id:a.count++,name:b,fqn:_.$uiView.fqn?_.$uiView.fqn+"."+b:b,config:null,configUpdated:function(t){(!t||t instanceof bi)&&(w===t||(Re.traceUIViewConfigUpdated($,t&&t.viewDecl&&t.viewDecl.$context),w=t,h(t)))},get creationContext(){var t=kt("$cfg.viewDecl.$context")(_),e=kt("$uiView.creationContext")(_);return t||e}};Re.traceUIViewEvent("Linking",$),u.data("$uiView",{$uiView:$}),h(),g=t.registerUIView($),s.$on("$destroy",function(){Re.traceUIViewEvent("Destroying/Unregistering",$),g()})}}};return a}],wt.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var Fi="function"==typeof $t.module("ui.router").component,Ui=0;$t.module("ui.router.state").directive("uiView",ji),$t.module("ui.router.state").directive("uiView",wt),$t.module("ui.router.state").provider("$uiViewScroll",function(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]});t.default="ui.router",t.core=yi,t.watchDigests=ct,t.getLocals=Mi,t.getNg1ViewConfigFactory=at,t.ng1ViewsBuilder=st,t.Ng1ViewConfig=bi,t.StateProvider=ki,t.UrlRouterProvider=Ei,t.fromJson=Qt,t.toJson=Jt,t.copy=te,t.forEach=ee,t.extend=ne,t.equals=ie,t.identity=c,t.noop=h,t.createProxyFunctions=f,t.inherit=re,t.inArray=oe,t._inArray=p,t.removeFrom=ae,t._removeFrom=d,t.pushTo=se,t._pushTo=g,t.deregAll=ue,t.defaults=m,t.mergeR=le,t.ancestors=v,t.pick=y,t.omit=w,t.pluck=_,t.filter=b,t.find=$,t.mapObj=ce,t.map=S,t.values=he,t.allTrueR=fe,t.anyTrueR=pe,t.unnestR=de,t.flattenR=ge,t.pushR=C,t.uniqR=me,t.unnest=ve,t.flatten=ye,t.assertPredicate=we,t.assertMap=_e,t.assertFn=k,t.pairs=be,t.arrayTuples=z,t.applyPairs=x,t.tail=E,t._extend=T,t.silenceUncaughtInPromise=$e,t.silentRejection=Se,t.notImplemented=Zt,t.services=Kt,t.Glob=Dt,t.curry=n,t.compose=i,t.pipe=r,t.prop=St,t.propEq=Ct,t.parse=kt,t.not=zt,t.and=o,t.or=a,t.all=xt,t.any=Et,t.is=Tt,t.eq=Ot,t.val=Rt,t.invoke=s,t.pattern=u,t.isUndefined=Wt,t.isDefined=Mt,t.isNull=Ht,t.isNullOrUndefined=Lt,t.isFunction=jt,t.isNumber=Ft,t.isString=Ut,t.isObject=Vt,t.isArray=Nt,t.isDate=qt,t.isRegExp=Bt,t.isState=Yt,t.isInjectable=l,t.isPromise=Gt,t.Queue=Ce,t.maxLength=W,t.padString=M,t.kebobString=H,t.functionToString=L,t.fnToString=j,t.stringify=F,t.beforeAfterSubstr=nn,t.splitOnDelim=U,t.joinNeighborsR=V,t.Trace=Oe,t.trace=Re,t.Param=je,t.ParamTypes=rn,t.StateParams=an,t.ParamType=Me,t.PathNode=Fe,t.PathUtils=Ue,t.resolvePolicies=qe,t.defaultResolvePolicy=Ve,t.Resolvable=Ne,t.NATIVE_INJECTOR_TOKEN=Ze,t.ResolveContext=Ke,t.resolvablesBuilder=Z,t.StateBuilder=cn,t.StateObject=At,t.StateMatcher=hn,t.StateQueueManager=fn,t.StateRegistry=pn,t.StateService=qn,t.TargetState=De,t.HookBuilder=We,t.matchState=A,t.RegisteredHook=Ie,t.makeEvent=P,t.Rejection=ze,t.Transition=Je,t.TransitionHook=Pe,t.TransitionEventType=Un,t.defaultTransOpts=Vn,t.TransitionService=Nn,t.UrlMatcher=gn,t.UrlMatcherFactory=mn,t.UrlRouter=wn,t.UrlRuleFactory=vn,t.BaseUrlRule=yn,t.UrlService=En,t.ViewService=_n,t.UIRouterGlobals=bn,t.UIRouter=On,t.$q=Bn,t.$injector=Kn,t.BaseLocationServices=oi,t.HashLocationService=si,t.MemoryLocationService=li,t.PushStateLocationService=hi,t.MemoryLocationConfig=fi,t.BrowserLocationConfig=pi,t.splitHash=Qn,t.splitQuery=Jn,t.splitEqual=ti,t.trimHashVal=ei,t.keyValsToObjectR=ni,t.getParams=ii,t.parseUrl=it,t.buildUrl=ri,t.locationPluginFactory=rt,t.servicesPlugin=ot,t.hashLocationPlugin=di,t.pushStateLocationPlugin=gi,t.memoryLocationPlugin=mi,t.UIRouterPluginBase=vi,Object.defineProperty(t,"__esModule",{value:!0})}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(t){return function(e,n){if("__setXHR_"===e){var i=n(this);i instanceof Function&&i(this)}else t.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(t,e,n){function i(i){function r(t){l.notify&&l.notify(t),c.progressFunc&&n(function(){c.progressFunc(t)})}function s(t){return null!=i._start&&a?{loaded:t.loaded+i._start,total:i._file&&i._file.size||t.total,type:t.type,config:i,lengthComputable:!0,target:t.target}:t}function u(){t(i).then(function(t){if(a&&i._chunkSize&&!i._finished&&i._file){var e=i._file&&i._file.size||0;r({loaded:Math.min(i._end,e),total:e,config:i,type:"progress"}),o.upload(i,!0)}else i._finished&&delete i._finished,l.resolve(t)},function(t){l.reject(t)},function(t){l.notify(t)})}i.method=i.method||"POST",i.headers=i.headers||{};var l=i._deferred=i._deferred||e.defer(),c=l.promise;return i.disableProgress||(i.headers.__setXHR_=function(){return function(t){t&&t.upload&&t.upload.addEventListener&&(i.__XHR=t,i.xhrFn&&i.xhrFn(t),t.upload.addEventListener("progress",function(t){t.config=i,r(s(t))},!1),t.upload.addEventListener("load",function(t){t.lengthComputable&&(t.config=i,r(s(t)))},!1))}}),a?i._chunkSize&&i._end&&!i._finished?(i._start=i._end,i._end+=i._chunkSize,u()):i.resumeSizeUrl?t.get(i.resumeSizeUrl).then(function(t){i.resumeSizeResponseReader?i._start=i.resumeSizeResponseReader(t.data):i._start=parseInt((null==t.data.size?t.data:t.data.size).toString()),i._chunkSize&&(i._end=i._start+i._chunkSize),u()},function(t){throw t}):i.resumeSize?i.resumeSize().then(function(t){i._start=t,i._chunkSize&&(i._end=i._start+i._chunkSize),u()},function(t){throw t}):(i._chunkSize&&(i._start=0,i._end=i._start+i._chunkSize),u()):u(),c.success=function(t){return c.then(function(e){t(e.data,e.status,e.headers,i)}),c},c.error=function(t){return c.then(null,function(e){t(e.data,e.status,e.headers,i)}),c},c.progress=function(t){return c.progressFunc=t,c.then(null,null,function(e){t(e)}),c},c.abort=c.pause=function(){return i.__XHR&&n(function(){i.__XHR.abort()}),c},c.xhr=function(t){return i.xhrFn=function(e){return function(){e&&e.apply(c,arguments),t.apply(c,arguments)}}(i.xhrFn),c},o.promisesCount++,c.finally&&c.finally instanceof Function&&c.finally(function(){o.promisesCount--}),c}function r(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var o=this;o.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var a=this.isResumeSupported();this.isUploadInProgress=function(){return o.promisesCount>0},this.rename=function(t,e){return t.ngfName=e,t},this.jsonBlob=function(t){null==t||angular.isString(t)||(t=JSON.stringify(t));var e=new window.Blob([t],{type:"application/json"});return e._ngfBlob=!0,e},this.json=function(t){return angular.toJson(t)},this.isFile=function(t){return null!=t&&(t instanceof window.Blob||t.flashId&&t.name&&t.size)},this.upload=function(t,e){function n(e,i,r){if(void 0!==i)if(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i))e.append(r,i);else if(o.isFile(i)){var s=function(e,n){if(e._ngfBlob)return e;if(t._file=t._file||e,null!=t._start&&a){t._end&&t._end>=e.size&&(t._finished=!0,t._end=e.size);var i=e.slice(t._start,t._end||e.size);return i.name=e.name,i.ngfName=e.ngfName,t._chunkSize&&(n.append("_chunkSize",t._chunkSize),n.append("_currentChunkSize",t._end-t._start),n.append("_chunkNumber",Math.floor(t._start/t._chunkSize)),n.append("_totalSize",t._file.size)),i}return e}(i,e),u=r.split(",");u[1]&&(s.ngfName=u[1].replace(/^\s+|\s+$/g,""),r=u[0]),t._fileKey=t._fileKey||r,e.append(r,s,s.ngfName||s.name)}else if(angular.isObject(i)){if(i.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+r;i.$$ngfCircularDetection=!0;try{for(var l in i)if(i.hasOwnProperty(l)&&"$$ngfCircularDetection"!==l){var c=null==t.objectKey?"[i]":t.objectKey;i.length&&parseInt(l)>-1&&(c=null==t.arrayKey?c:t.arrayKey),n(e,i[l],r+c.replace(/[ik]/g,l))}}finally{delete i.$$ngfCircularDetection}}else e.append(r,i)}return e||(t=r(t)),t._isDigested||(t._isDigested=!0,t._chunkSize=o.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,t.headers=t.headers||{},t.headers["Content-Type"]=void 0,t.transformRequest=t.transformRequest?angular.isArray(t.transformRequest)?t.transformRequest:[t.transformRequest]:[],t.transformRequest.push(function(e){var i,r=new window.FormData;e=e||t.fields||{},t.file&&(e.file=t.file);for(i in e)if(e.hasOwnProperty(i)){var o=e[i];t.formDataAppender?t.formDataAppender(r,i,o):n(r,o,i)}return r})),i(t)},this.http=function(e){return e=r(e),e.transformRequest=e.transformRequest||function(e){return window.ArrayBuffer&&e instanceof window.ArrayBuffer||e instanceof window.Blob?e:t.defaults.transformRequest[0].apply(this,arguments)},e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,i(e)},this.translateScalars=function(t){if(angular.isString(t)){if(t.search(/kb/i)===t.length-2)return parseFloat(1024*t.substring(0,t.length-2));if(t.search(/mb/i)===t.length-2)return parseFloat(1048576*t.substring(0,t.length-2));if(t.search(/gb/i)===t.length-2)return parseFloat(1073741824*t.substring(0,t.length-2));if(t.search(/b/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/s/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/m/i)===t.length-1)return parseFloat(60*t.substring(0,t.length-1));if(t.search(/h/i)===t.length-1)return parseFloat(3600*t.substring(0,t.length-1))}return t},this.urlToBlob=function(n){var i=e.defer();return t({url:n,method:"get",responseType:"arraybuffer"}).then(function(t){var e=new Uint8Array(t.data),r=t.headers("content-type")||"image/WebP",o=new window.Blob([e],{type:r}),a=n.match(/.*\/(.+?)(\?.*)?$/);a.length>1&&(o.name=a[1]),i.resolve(o)},function(t){i.reject(t)}),i.promise},this.setDefaults=function(t){this.defaults=t||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(t,e,n,i,r){function o(t,e,n,r,o){function s(i,s){if(0===i.type.indexOf("image")){if(t.pattern&&!a.validatePattern(i,t.pattern))return;t.resizeIf=function(t,e){return a.attrGetter("ngfResizeIf",n,r,{$width:t,$height:e,$file:i})};var l=a.resize(i,t);u.push(l),l.then(function(t){e.splice(s,1,t)},function(t){i.$error="resize",(i.$errorMessages=i.$errorMessages||{}).resize=!0,i.$errorParam=(t?(t.message?t.message:t)+": ":"")+(i&&i.name),o.$ngfValidations.push({name:"resize",valid:!1}),a.applyModelValidation(o,e)})}}for(var u=[a.emptyPromise()],l=0;l<e.length;l++)s(e[l],l);return i.all(u)}var a=r;return a.getAttrWithDefaults=function(t,e){if(null!=t[e])return t[e];var n=a.defaults[e];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},a.attrGetter=function(e,n,i,r){var o=this.getAttrWithDefaults(n,e);if(!i)return o;try{return r?t(o)(i,r):t(o)(i)}catch(t){if(e.search(/min|max|pattern/i))return o;throw t}},a.shouldUpdateOn=function(t,e,n){var i=a.attrGetter("ngfModelOptions",e,n);return!i||!i.updateOn||i.updateOn.split(" ").indexOf(t)>-1},a.emptyPromise=function(){var t=i.defer(),n=arguments;return e(function(){t.resolve.apply(t,n)}),t.promise},a.rejectPromise=function(){var t=i.defer(),n=arguments;return e(function(){t.reject.apply(t,n)}),t.promise},a.happyPromise=function(t,n){var r=i.defer();return t.then(function(t){r.resolve(t)},function(t){e(function(){throw t}),r.resolve(n)}),r.promise},a.updateModel=function(n,r,s,u,l,c,h){function f(i,o,l,h,f){r.$$ngfPrevValidFiles=i,r.$$ngfPrevInvalidFiles=o;var p=i&&i.length?i[0]:null,d=o&&o.length?o[0]:null;n&&(a.applyModelValidation(n,i),n.$setViewValue(f?p:i)),u&&t(u)(s,{$files:i,$file:p,$newFiles:l,$duplicateFiles:h,$invalidFiles:o,$invalidFile:d,$event:c});var g=a.attrGetter("ngfModelInvalid",r);g&&e(function(){t(g).assign(s,f?d:o)}),e(function(){})}function p(){function t(){e(function(){f(_?g.concat(w):w,_?m.concat(y):y,l,v,b)},S&&S.debounce?S.debounce.change||S.debounce:0)}var u=$?d:w;(function(t,e,n,r){var s=a.attrGetter("ngfResize",e,n);if(!s||!a.isResizeSupported()||!t.length)return a.emptyPromise();if(s instanceof Function){var u=i.defer();return s(t).then(function(i){o(i,t,e,n,r).then(function(t){u.resolve(t)},function(t){u.reject(t)})},function(t){u.reject(t)})}return o(s,t,e,n,r)})(u,r,s,n).then(function(){$?a.validate(d,_?g.length:0,n,r,s).then(function(e){w=e.validsFiles,y=e.invalidsFiles,t()}):t()},function(){for(var e=0;e<u.length;e++){var n=u[e];if("resize"===n.$error){var i=w.indexOf(n);i>-1&&(w.splice(i,1),y.push(n)),t()}}})}var d,g,m,v=[],y=[],w=[];g=r.$$ngfPrevValidFiles||[],m=r.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(g=function(t){return angular.isArray(t)?t:[t]}(n.$modelValue));var _=a.attrGetter("ngfKeep",r,s);d=(l||[]).slice(0),"distinct"!==_&&!0!==a.attrGetter("ngfKeepDistinct",r,s)||function(){function t(t,e){return t.name===e.name&&(t.$ngfOrigSize||t.size)===(e.$ngfOrigSize||e.size)&&t.type===e.type}function e(e){var n;for(n=0;n<g.length;n++)if(t(e,g[n]))return!0;for(n=0;n<m.length;n++)if(t(e,m[n]))return!0;return!1}if(l){d=[],v=[];for(var n=0;n<l.length;n++)e(l[n])?v.push(l[n]):d.push(l[n])}}();var b=!_&&!a.attrGetter("ngfMultiple",r,s)&&!a.attrGetter("multiple",r);if(!_||d.length){a.attrGetter("ngfBeforeModelChange",r,s,{$files:l,$file:l&&l.length?l[0]:null,$newFiles:d,$duplicateFiles:v,$event:c});var $=a.attrGetter("ngfValidateAfterResize",r,s),S=a.attrGetter("ngfModelOptions",r,s);a.validate(d,_?g.length:0,n,r,s).then(function(t){h?f(d,[],l,v,b):(S&&S.allowInvalid||$?w=d:(w=t.validFiles,y=t.invalidFiles),a.attrGetter("ngfFixOrientation",r,s)&&a.isExifSupported()?function(t,e,n){var r=[a.emptyPromise()];return angular.forEach(t,function(i,o){0===i.type.indexOf("image/jpeg")&&a.attrGetter("ngfFixOrientation",e,n,{$file:i})&&r.push(a.happyPromise(a.applyExifRotation(i),i).then(function(e){t.splice(o,1,e)}))}),i.all(r)}(w,r,s).then(function(){p()}):p())})}},a}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(t,e,n,i){function r(t,e,n,r,a,s,u,l){function c(){return"input"===e[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function h(){return v("ngfChange")||v("ngfSelect")}function f(e){if(l.shouldUpdateOn("change",n,t)){var i=e.__files_||e.target&&e.target.files,o=[];if(!i)return;for(var a=0;a<i.length;a++)o.push(i[a]);l.updateModel(r,n,t,h(),o.length?o:null,e)}}function p(){if(c())return e;var t=angular.element('<input type="file">'),i=angular.element("<label>upload</label>");return i.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),function(t,i){function r(e){t.attr("id","ngf-"+e),i.attr("id","ngf-label-"+e)}for(var o=0;o<e[0].attributes.length;o++){var a=e[0].attributes[o];"type"!==a.name&&"class"!==a.name&&"style"!==a.name&&("id"===a.name?(r(a.value),y.push(n.$observe("id",r))):t.attr(a.name,a.value||"required"!==a.name&&"multiple"!==a.name?a.value:a.name))}}(t,i),o.push({el:e,ref:i}),document.body.appendChild(i.append(t)[0]),t}function d(n){if(e.attr("disabled"))return!1;if(!v("ngfSelectDisabled",t)){var r=function(t){var e=t.changedTouches||t.originalEvent&&t.originalEvent.changedTouches;if(e){if("touchstart"===t.type)return _=e[0].clientX,w=e[0].clientY,!0;if("touchend"===t.type){var n=e[0].clientX,i=e[0].clientY;if(Math.abs(n-_)>20||Math.abs(i-w)>20)return t.stopPropagation(),t.preventDefault(),!1}return!0}}(n);if(null!=r)return r;g(n);try{c()||document.body.contains(b[0])||(o.push({el:e,ref:b.parent()}),document.body.appendChild(b.parent()[0]),b.bind("change",f))}catch(t){}return!function(t){var e=t.match(/Android[^\d]*(\d+)\.(\d+)/);if(e&&e.length>2){var n=i.defaults.androidFixMinorVersion||4;return parseInt(e[1])<4||parseInt(e[1])===n&&parseInt(e[2])<n}return-1===t.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(t)}(navigator.userAgent)?b[0].click():setTimeout(function(){b[0].click()},0),!1}}function g(e){l.shouldUpdateOn("click",n,t)&&b.val()&&(b.val(null),l.updateModel(r,n,t,h(),null,e,!0))}function m(t){if(b&&!b.attr("__ngf_ie10_Fix_")){if(!b[0].parentNode)return void(b=null);t.preventDefault(),t.stopPropagation(),b.unbind("click");var e=b.clone();return b.replaceWith(e),(b=e).attr("__ngf_ie10_Fix_","true"),b.bind("change",f),b.bind("click",m),b[0].click(),!1}b.removeAttr("__ngf_ie10_Fix_")}var v=function(t,e){return l.attrGetter(t,n,e)};l.registerModelChangeValidator(r,n,t);var y=[];v("ngfMultiple")&&y.push(t.$watch(v("ngfMultiple"),function(){b.attr("multiple",v("ngfMultiple",t))})),v("ngfCapture")&&y.push(t.$watch(v("ngfCapture"),function(){b.attr("capture",v("ngfCapture",t))})),v("ngfAccept")&&y.push(t.$watch(v("ngfAccept"),function(){b.attr("accept",v("ngfAccept",t))})),y.push(n.$observe("accept",function(){b.attr("accept",v("accept"))}));var w=0,_=0,b=e;c()||(b=p()),b.bind("change",f),c()?e.bind("click",g):e.bind("click touchstart touchend",d),-1!==navigator.appVersion.indexOf("MSIE 10")&&b.bind("click",m),r&&r.$formatters.push(function(t){return null!=t&&0!==t.length||b.val()&&b.val(null),t}),t.$on("$destroy",function(){c()||b.parent().remove(),angular.forEach(y,function(t){t()})}),s(function(){for(var t=0;t<o.length;t++){var e=o[t];document.body.contains(e.el[0])||(o.splice(t,1),e.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(e,b,f)}var o=[];return{restrict:"AEC",require:"?ngModel",link:function(t,n,o,a){r(t,n,o,a,0,e,0,i)}}}]),function(){function t(t,e,n,i,r,o,a,s){function u(o){var a=t.attrGetter("ngfNoObjectUrl",r,n);t.dataUrl(o,a).finally(function(){e(function(){var t=(a?o.$ngfDataUrl:o.$ngfBlobUrl)||o.$ngfDataUrl;s?i.css("background-image","url('"+(t||"")+"')"):i.attr("src",t),t?i.removeClass("ng-hide"):i.addClass("ng-hide")})})}e(function(){var e=n.$watch(r[o],function(e){var l=a;if("ngfThumbnail"===o&&(l||(l={width:i[0].naturalWidth||i[0].clientWidth,height:i[0].naturalHeight||i[0].clientHeight}),0===l.width&&window.getComputedStyle)){var c=getComputedStyle(i[0]);c.width&&c.width.indexOf("px")>-1&&c.height&&c.height.indexOf("px")>-1&&(l={width:parseInt(c.width.slice(0,-2)),height:parseInt(c.height.slice(0,-2))})}if(angular.isString(e))return i.removeClass("ng-hide"),s?i.css("background-image","url('"+e+"')"):i.attr("src",e);!e||!e.type||0!==e.type.search(function(t){return"img"===t.tagName.toLowerCase()?"image":"audio"===t.tagName.toLowerCase()?"audio":"video"===t.tagName.toLowerCase()?"video":/./}(i[0]))||s&&0!==e.type.indexOf("image")?i.addClass("ng-hide"):l&&t.isResizeSupported()?(l.resizeIf=function(i,o){return t.attrGetter("ngfResizeIf",r,n,{$width:i,$height:o,$file:e})},t.resize(e,l).then(function(t){u(t)},function(t){throw t})):u(e)});n.$on("$destroy",function(){e()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(t,e,n){var i=t;return i.base64DataUrl=function(t){if(angular.isArray(t)){var e=n.defer(),r=0;return angular.forEach(t,function(n){i.dataUrl(n,!0).finally(function(){if(++r===t.length){var n=[];angular.forEach(t,function(t){n.push(t.$ngfDataUrl)}),e.resolve(n,t)}})}),e.promise}return i.dataUrl(t,!0)},i.dataUrl=function(t,r){if(!t)return i.emptyPromise(t,t);if(r&&null!=t.$ngfDataUrl||!r&&null!=t.$ngfBlobUrl)return i.emptyPromise(r?t.$ngfDataUrl:t.$ngfBlobUrl,t);var o=r?t.$$ngfDataUrlPromise:t.$$ngfBlobUrlPromise;if(o)return o;var a=n.defer();return e(function(){if(window.FileReader&&t&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||t.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||t.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!r){var o;try{o=n.createObjectURL(t)}catch(n){return void e(function(){t.$ngfBlobUrl="",a.reject()})}e(function(){if(t.$ngfBlobUrl=o,o){a.resolve(o,t),i.blobUrls=i.blobUrls||[],i.blobUrlsTotalSize=i.blobUrlsTotalSize||0,i.blobUrls.push({url:o,size:t.size}),i.blobUrlsTotalSize+=t.size||0;for(var e=i.defaults.blobUrlsMaxMemory||268435456,r=i.defaults.blobUrlsMaxQueueSize||200;(i.blobUrlsTotalSize>e||i.blobUrls.length>r)&&i.blobUrls.length>1;){var s=i.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),i.blobUrlsTotalSize-=s.size}}})}else{var s=new FileReader;s.onload=function(n){e(function(){t.$ngfDataUrl=n.target.result,a.resolve(n.target.result,t),e(function(){delete t.$ngfDataUrl},1e3)})},s.onerror=function(){e(function(){t.$ngfDataUrl="",a.reject()})},s.readAsDataURL(t)}}else e(function(){t[r?"$ngfDataUrl":"$ngfBlobUrl"]="",a.reject()})}),(o=r?t.$$ngfDataUrlPromise=a.promise:t.$$ngfBlobUrlPromise=a.promise).finally(function(){delete t[r?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),o},i}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,r,o){t(e,n,i,r,o,"ngfSrc",e.attrGetter("ngfResize",o,i),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,r,o){t(e,n,i,r,o,"ngfBackground",e.attrGetter("ngfResize",o,i),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,r,o){var a=e.attrGetter("ngfSize",o,i);t(e,n,i,r,o,"ngfThumbnail",a,e.attrGetter("ngfAsBackground",o,i))}}}]),ngFileUpload.config(["$compileProvider",function(t){t.imgSrcSanitizationWhitelist&&t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),t.aHrefSanitizationWhitelist&&t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(t,e){return function(n,i,r){if(angular.isString(n))return e.trustAsResourceUrl(n);var o=n&&((i?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,t.dataUrl(n,i)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?r?e.trustAsResourceUrl(o):o:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(t,e,n){function i(t){var e="",n=[];if(t.length>2&&"/"===t[0]&&"/"===t[t.length-1])e=t.substring(1,t.length-1);else{var r=t.split(",");if(r.length>1)for(var o=0;o<r.length;o++){var a=i(r[o]);a.regexp?(e+="("+a.regexp+")",o<r.length-1&&(e+="|")):n=n.concat(a.excludes)}else 0===t.indexOf("!")?n.push("^((?!"+i(t.substring(1)).regexp+").)*$"):(0===t.indexOf(".")&&(t="*"+t),e=(e="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$").replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:e,excludes:n}}var r=t;return r.validatePattern=function(t,e){if(!e)return!0;var n=i(e),r=!0;if(n.regexp&&n.regexp.length){var o=new RegExp(n.regexp,"i");r=null!=t.type&&o.test(t.type)||null!=t.name&&o.test(t.name)}for(var a=n.excludes.length;a--;){var s=new RegExp(n.excludes[a],"i");r=r&&(null==t.type||s.test(t.type))&&(null==t.name||s.test(t.name))}return r},r.ratioToFloat=function(t){var e=t.toString(),n=e.search(/[x:]/i);return e=n>-1?parseFloat(e.substring(0,n))/parseFloat(e.substring(n+1)):parseFloat(e)},r.registerModelChangeValidator=function(t,e,n){t&&t.$formatters.push(function(i){if(t.$dirty){var o=i;i&&!angular.isArray(i)&&(o=[i]),r.validate(o,0,t,e,n).then(function(){r.applyModelValidation(t,o)})}return i})},r.applyModelValidation=function(t,e){!function(t,e){null==e||t.$dirty||(t.$setDirty?t.$setDirty():t.$dirty=!0)}(t,e),angular.forEach(t.$ngfValidations,function(e){t.$setValidity(e.name,e.valid)})},r.getValidationAttr=function(t,e,n,i,o){var a="ngf"+n[0].toUpperCase()+n.substr(1),s=r.attrGetter(a,t,e,{$file:o});if(null==s&&(s=r.attrGetter("ngfValidate",t,e,{$file:o}))){var u=(i||n).split(".");s=s[u[0]],u.length>1&&(s=s&&s[u[1]])}return s},r.validate=function(t,n,i,o,a){function s(e,n,s){if(t){for(var u=t.length,l=null;u--;){var p=t[u];if(p){var d=r.getValidationAttr(o,a,e,n,p);null!=d&&(s(p,d,u)||(-1===c.indexOf(e)?(p.$error=e,(p.$errorMessages=p.$errorMessages||{})[e]=!0,p.$errorParam=d,-1===f.indexOf(p)&&f.push(p),h||t.splice(u,1),l=!1):t.splice(u,1)))}}null!==l&&i.$ngfValidations.push({name:e,valid:l})}}function u(n,s,u,p,d){function g(e,i,r){function o(o){if(o())if(-1===c.indexOf(n)){if(i.$error=n,(i.$errorMessages=i.$errorMessages||{})[n]=!0,i.$errorParam=r,-1===f.indexOf(i)&&f.push(i),!h){var a=t.indexOf(i);a>-1&&t.splice(a,1)}e.resolve(!1)}else{var s=t.indexOf(i);s>-1&&t.splice(s,1),e.resolve(!0)}else e.resolve(!0)}null!=r?p(i,r).then(function(t){o(function(){return!d(t,r)})},function(){o(function(){return l("ngfValidateForce",{$file:i})})}):e.resolve(!0)}var m=[r.emptyPromise(!0)];t&&(t=void 0===t.length?[t]:t,angular.forEach(t,function(t){var i=e.defer();m.push(i.promise),!u||null!=t.type&&0===t.type.search(u)?"dimensions"===n&&null!=r.attrGetter("ngfDimensions",o)?r.imageDimensions(t).then(function(e){g(i,t,l("ngfDimensions",{$file:t,$width:e.width,$height:e.height}))},function(){i.resolve(!1)}):"duration"===n&&null!=r.attrGetter("ngfDuration",o)?r.mediaDuration(t).then(function(e){g(i,t,l("ngfDuration",{$file:t,$duration:e}))},function(){i.resolve(!1)}):g(i,t,r.getValidationAttr(o,a,n,s,t)):i.resolve(!0)}));var v=e.defer();return e.all(m).then(function(t){for(var e=!0,r=0;r<t.length;r++)if(!t[r]){e=!1;break}i.$ngfValidations.push({name:n,valid:e}),v.resolve(e)}),v.promise}(i=i||{}).$ngfValidations=i.$ngfValidations||[],angular.forEach(i.$ngfValidations,function(t){t.valid=!0});var l=function(t,e){return r.attrGetter(t,o,a,e)},c=(r.attrGetter("ngfIgnoreInvalid",o,a)||"").split(" "),h=r.attrGetter("ngfRunAllValidations",o,a);if(null==t||0===t.length)return r.emptyPromise({validFiles:t,invalidFiles:[]});t=void 0===t.length?[t]:t.slice(0);var f=[];s("pattern",null,r.validatePattern),s("minSize","size.min",function(t,e){return t.size+.1>=r.translateScalars(e)}),s("maxSize","size.max",function(t,e){return t.size-.1<=r.translateScalars(e)});var p=0;if(s("maxTotalSize",null,function(e,n){return!((p+=e.size)>r.translateScalars(n)&&(t.splice(0,t.length),1))}),s("validateFn",null,function(t,e){return!0===e||null===e||""===e}),!t.length)return r.emptyPromise({validFiles:[],invalidFiles:f});var d=e.defer(),g=[];return g.push(u("maxHeight","height.max",/image/,this.imageDimensions,function(t,e){return t.height<=e})),g.push(u("minHeight","height.min",/image/,this.imageDimensions,function(t,e){return t.height>=e})),g.push(u("maxWidth","width.max",/image/,this.imageDimensions,function(t,e){return t.width<=e})),g.push(u("minWidth","width.min",/image/,this.imageDimensions,function(t,e){return t.width>=e})),g.push(u("dimensions",null,/image/,function(t,e){return r.emptyPromise(e)},function(t){return t})),g.push(u("ratio",null,/image/,this.imageDimensions,function(t,e){for(var n=e.toString().split(","),i=!1,o=0;o<n.length;o++)Math.abs(t.width/t.height-r.ratioToFloat(n[o]))<.01&&(i=!0);return i})),g.push(u("maxRatio","ratio.max",/image/,this.imageDimensions,function(t,e){return t.width/t.height-r.ratioToFloat(e)<1e-4})),g.push(u("minRatio","ratio.min",/image/,this.imageDimensions,function(t,e){return t.width/t.height-r.ratioToFloat(e)>-1e-4})),g.push(u("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(t,e){return t<=r.translateScalars(e)})),g.push(u("minDuration","duration.min",/audio|video/,this.mediaDuration,function(t,e){return t>=r.translateScalars(e)})),g.push(u("duration",null,/audio|video/,function(t,e){return r.emptyPromise(e)},function(t){return t})),g.push(u("validateAsyncFn",null,null,function(t,e){return e},function(t){return!0===t||null===t||""===t})),e.all(g).then(function(){if(h)for(var e=0;e<t.length;e++){t[e].$error&&t.splice(e--,1)}h=!1,s("maxFiles",null,function(t,e,i){return n+i<e}),d.resolve({validFiles:t,invalidFiles:f})}),d.promise},r.imageDimensions=function(t){if(t.$ngfWidth&&t.$ngfHeight){var i=e.defer();return n(function(){i.resolve({width:t.$ngfWidth,height:t.$ngfHeight})}),i.promise}if(t.$ngfDimensionPromise)return t.$ngfDimensionPromise;var o=e.defer();return n(function(){0===t.type.indexOf("image")?r.dataUrl(t).then(function(e){function i(){var e=s[0].naturalWidth||s[0].clientWidth,n=s[0].naturalHeight||s[0].clientHeight;s.remove(),t.$ngfWidth=e,t.$ngfHeight=n,o.resolve({width:e,height:n})}function r(){s.remove(),o.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].clientWidth?i():u++>10?r():a())},1e3)}var s=angular.element("<img>").attr("src",e).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",i),s.on("error",r);var u=0;a(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){o.reject("load error")}):o.reject("not image")}),t.$ngfDimensionPromise=o.promise,t.$ngfDimensionPromise.finally(function(){delete t.$ngfDimensionPromise}),t.$ngfDimensionPromise},r.mediaDuration=function(t){if(t.$ngfDuration){var i=e.defer();return n(function(){i.resolve(t.$ngfDuration)}),i.promise}if(t.$ngfDurationPromise)return t.$ngfDurationPromise;var o=e.defer();return n(function(){0===t.type.indexOf("audio")||0===t.type.indexOf("video")?r.dataUrl(t).then(function(e){function i(){var e=s[0].duration;t.$ngfDuration=e,s.remove(),o.resolve(e)}function r(){s.remove(),o.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].duration?i():u>10?r():a())},1e3)}var s=angular.element(0===t.type.indexOf("audio")?"<audio>":"<video>").attr("src",e).css("visibility","none").css("position","fixed");s.on("loadedmetadata",i),s.on("error",r);var u=0;a(),angular.element(document.body).append(s)},function(){o.reject("load error")}):o.reject("not media")}),t.$ngfDurationPromise=o.promise,t.$ngfDurationPromise.finally(function(){delete t.$ngfDurationPromise}),t.$ngfDurationPromise},r}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(t,e){var n=t;return n.dataUrltoBlob=function(t,e,n){for(var i=t.split(","),r=i[0].match(/:(.*?);/)[1],o=atob(i[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var u=new window.Blob([s],{type:r});return u.name=e,u.$ngfOrigSize=n,u},n.isResizeSupported=function(){var t=document.createElement("canvas");return window.atob&&t.getContext&&t.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(t){this.$ngfName=t},configurable:!0}),n.resize=function(t,i){if(0!==t.type.indexOf("image"))return n.emptyPromise(t);var r=e.defer();return n.dataUrl(t,!0).then(function(o){(function(t,i,r,o,a,s,u,l){var c=e.defer(),h=document.createElement("canvas"),f=document.createElement("img");return f.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(f),f.onload=function(){var t=f.width,e=f.height;if(f.parentNode.removeChild(f),null==l||!1!==l(t,e))try{if(s){var p=n.ratioToFloat(s);t/e<p?r=(i=t)/p:i=(r=e)*p}i||(i=t),r||(r=e);var d=function(t,e,n,i,r){var o=r?Math.max(n/t,i/e):Math.min(n/t,i/e);return{width:t*o,height:e*o,marginX:t*o-n,marginY:e*o-i}}(t,e,i,r,u);h.width=Math.min(d.width,i),h.height=Math.min(d.height,r),h.getContext("2d").drawImage(f,Math.min(0,-d.marginX/2),Math.min(0,-d.marginY/2),d.width,d.height),c.resolve(h.toDataURL(a||"image/WebP",o||.934))}catch(t){c.reject(t)}else c.reject("resizeIf")},f.onerror=function(){f.parentNode.removeChild(f),c.reject()},f.src=t,c.promise})(o,i.width,i.height,i.quality,i.type||t.type,i.ratio,i.centerCrop,i.resizeIf).then(function(e){if("image/jpeg"===t.type&&!1!==i.restoreExif)try{e=n.restoreExif(o,e)}catch(t){setTimeout(function(){throw t},1)}try{var a=n.dataUrltoBlob(e,t.name,t.size);r.resolve(a)}catch(t){r.reject(t)}},function(e){"resizeIf"===e&&r.resolve(t),r.reject(e)})},function(t){r.reject(t)}),r.promise},n}]),function(){function t(t,n,i,r,o,a,s,u,l,c){function h(){return n.attr("disabled")||g("ngfDropDisabled",t)}function f(e,n,r){if(e){var o;try{o=e&&e.getData&&e.getData("text/html")}catch(t){}(function(e,n,r,o){function a(t,e){var n=c.defer();if(null!=t)if(t.isDirectory){var i=[u.emptyPromise()];if(f){var r={type:"directory"};r.name=r.path=(e||"")+t.name,p.push(r)}var o=t.createReader(),s=[],g=function(){o.readEntries(function(r){try{r.length?(s=s.concat(Array.prototype.slice.call(r||[],0)),g()):(angular.forEach(s.slice(0),function(n){p.length<=l&&d<=h&&i.push(a(n,(e||"")+t.name+"/"))}),c.all(i).then(function(){n.resolve()},function(t){n.reject(t)}))}catch(t){n.reject(t)}},function(t){n.reject(t)})};g()}else t.file(function(t){try{t.path=(e||"")+t.name,f&&(t=u.rename(t,t.path)),p.push(t),d+=t.size,n.resolve()}catch(t){n.reject(t)}},function(t){n.reject(t)});return n.promise}var l=u.getValidationAttr(i,t,"maxFiles");null==l&&(l=Number.MAX_VALUE);var h=u.getValidationAttr(i,t,"maxTotalSize");null==h&&(h=Number.MAX_VALUE);var f=g("ngfIncludeDir",t),p=[],d=0;var m=[u.emptyPromise()];if(e&&e.length>0&&"file:"!==s.location.protocol)for(var v=0;v<e.length;v++){if(e[v].webkitGetAsEntry&&e[v].webkitGetAsEntry()&&e[v].webkitGetAsEntry().isDirectory){var y=e[v].webkitGetAsEntry();if(y.isDirectory&&!r)continue;null!=y&&m.push(a(y))}else{var w=e[v].getAsFile();null!=w&&(p.push(w),d+=w.size)}if(p.length>l||d>h||!o&&p.length>0)break}else if(null!=n)for(var _=0;_<n.length;_++){var b=n.item(_);if((b.type||b.size>0)&&(p.push(b),d+=b.size),p.length>l||d>h||!o&&p.length>0)break}var $=c.defer();return c.all(m).then(function(){if(o||f||!p.length)$.resolve(p);else{for(var t=0;p[t]&&"directory"===p[t].type;)t++;$.resolve([p[t]])}},function(t){$.reject(t)}),$.promise})(e.items,e.files,!1!==g("ngfAllowDir",t),g("multiple")||g("ngfMultiple",t)).then(function(e){e.length?p(e,n):function(e,n){if(!u.shouldUpdateOn(e,i,t)||"string"!=typeof n)return u.rejectPromise([]);var r=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(t,e,n){r.push(n)});var o=[],a=[];if(r.length){angular.forEach(r,function(t){o.push(u.urlToBlob(t).then(function(t){a.push(t)}))});var s=c.defer();return c.all(o).then(function(){s.resolve(a)},function(t){s.reject(t)}),s.promise}return u.emptyPromise()}(r,o).then(function(t){p(t,n)})})}}function p(e,n){u.updateModel(r,i,t,g("ngfChange")||g("ngfDrop"),e,n)}var d=e(),g=function(t,e,n){return u.attrGetter(t,i,e,n)};if(g("dropAvailable")&&a(function(){t[g("dropAvailable")]?t[g("dropAvailable")].value=d:t[g("dropAvailable")]=d}),d){null==g("ngfSelect")&&u.registerModelChangeValidator(r,i,t);var m,v=null,y=o(g("ngfStopPropagation")),w=1;n[0].addEventListener("dragover",function(e){if(!h()&&u.shouldUpdateOn("drop",i,t)){if(e.preventDefault(),y(t)&&e.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var r=e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy"}a.cancel(v),m||(m="C",function(t,e,n,i){var r=g("ngfDragOverClass",t,{$event:n}),o="dragover";if(angular.isString(r))o=r;else if(r&&(r.delay&&(w=r.delay),r.accept||r.reject)){var a=n.dataTransfer.items;if(null!=a&&a.length)for(var s=r.pattern||g("ngfPattern",t,{$event:n}),l=a.length;l--;){if(!u.validatePattern(a[l],s)){o=r.reject;break}o=r.accept}else o=r.accept}i(o)}(t,0,e,function(i){m=i,n.addClass(m),g("ngfDrag",t,{$isDragging:!0,$class:m,$event:e})}))}},!1),n[0].addEventListener("dragenter",function(e){!h()&&u.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),y(t)&&e.stopPropagation())},!1),n[0].addEventListener("dragleave",function(e){!h()&&u.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),y(t)&&e.stopPropagation(),v=a(function(){m&&n.removeClass(m),m=null,g("ngfDrag",t,{$isDragging:!1,$event:e})},w||100))},!1),n[0].addEventListener("drop",function(e){!h()&&u.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),y(t)&&e.stopPropagation(),m&&n.removeClass(m),m=null,f(e.dataTransfer,e,"dropUrl"))},!1),n[0].addEventListener("paste",function(e){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&g("ngfEnableFirefoxPaste",t)&&e.preventDefault(),!h()&&u.shouldUpdateOn("paste",i,t)&&f(e.clipboardData||e.originalEvent.clipboardData,e,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&g("ngfEnableFirefoxPaste",t)&&(n.attr("contenteditable",!0),n.on("keypress",function(t){t.metaKey||t.ctrlKey||t.preventDefault()}))}else!0===g("ngfHideOnDropNotAvailable",t)&&n.css("display","none")}function e(){var t=document.createElement("div");return"draggable"in t&&"ondrop"in t&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(e,n,i,r,o,a){return{restrict:"AEC",require:"?ngModel",link:function(o,s,u,l){t(o,s,u,l,e,n,i,r,0,a)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(t,n){e()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(t,n,i){return function(r,o,a){if(e()){var s=t(i.attrGetter("ngfDropAvailable",a));n(function(){s(r),s.assign&&s.assign(r,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(t,e){var n=t;return n.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&n.isResizeSupported()},n.readOrientation=function(t){var n=e.defer(),i=new FileReader,r=t.slice?t.slice(0,65536):t;return i.readAsArrayBuffer(r),i.onerror=function(t){return n.reject(t)},i.onload=function(t){var e={orientation:1},i=new DataView(this.result);if(65496!==i.getUint16(0,!1))return n.resolve(e);for(var r=i.byteLength,o=2;o<r;){var a=i.getUint16(o,!1);if(o+=2,65505===a){if(1165519206!==i.getUint32(o+=2,!1))return n.resolve(e);var s=18761===i.getUint16(o+=6,!1);o+=i.getUint32(o+4,s);var u=i.getUint16(o,s);o+=2;for(var l=0;l<u;l++)if(274===i.getUint16(o+12*l,s)){var c=i.getUint16(o+12*l+8,s);return c>=2&&c<=8&&(i.setUint16(o+12*l+8,1,s),e.fixedArrayBuffer=t.target.result),e.orientation=c,n.resolve(e)}}else{if(65280!=(65280&a))break;o+=i.getUint16(o,!1)}}return n.resolve(e)},n.promise},n.applyExifRotation=function(t){if(0!==t.type.indexOf("image/jpeg"))return n.emptyPromise(t);var i=e.defer();return n.readOrientation(t).then(function(e){if(e.orientation<2||e.orientation>8)return i.resolve(t);n.dataUrl(t,!0).then(function(r){var o=document.createElement("canvas"),a=document.createElement("img");a.onload=function(){try{o.width=e.orientation>4?a.height:a.width,o.height=e.orientation>4?a.width:a.height;var r=o.getContext("2d");!function(t,e,n,i){switch(e){case 2:return t.transform(-1,0,0,1,n,0);case 3:return t.transform(-1,0,0,-1,n,i);case 4:return t.transform(1,0,0,-1,0,i);case 5:return t.transform(0,1,1,0,0,0);case 6:return t.transform(0,1,-1,0,i,0);case 7:return t.transform(0,-1,-1,0,i,n);case 8:t.transform(0,-1,1,0,0,n)}}(r,e.orientation,a.width,a.height),r.drawImage(a,0,0);var s=o.toDataURL(t.type||"image/WebP",.934);s=n.restoreExif(function(t){for(var e="",n=new Uint8Array(t),i=n.byteLength,r=0;r<i;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)}(e.fixedArrayBuffer),s);var u=n.dataUrltoBlob(s,t.name);i.resolve(u)}catch(t){return i.reject(t)}},a.onerror=function(){i.reject()},a.src=r},function(t){i.reject(t)})},function(t){i.reject(t)}),i.promise},n.restoreExif=function(t,e){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(t){var e,n,i,r,o,a="",s="",u="",l=0;do{i=(e=t[l++])>>2,r=(3&e)<<4|(n=t[l++])>>4,o=(15&n)<<2|(s=t[l++])>>6,u=63&s,isNaN(n)?o=u=64:isNaN(s)&&(u=64),a=a+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(u),e=n=s="",i=r=o=u=""}while(l<t.length);return a},n.restore=function(t,e){t.match("data:image/jpeg;base64,")&&(t=t.replace("data:image/jpeg;base64,",""));var n=this.decode64(t),i=this.slice2Segments(n),r=this.exifManipulation(e,i);return"data:image/jpeg;base64,"+this.encode64(r)},n.exifManipulation=function(t,e){var n=this.getExifArray(e),i=this.insertExif(t,n);return new Uint8Array(i)},n.getExifArray=function(t){for(var e,n=0;n<t.length;n++)if(255===(e=t[n])[0]&225===e[1])return e;return[]},n.insertExif=function(t,e){var n=t.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),a=i.slice(r),s=o;return s=s.concat(e),s=s.concat(a)},n.slice2Segments=function(t){for(var e=0,n=[];;){if(255===t[e]&218===t[e+1])break;if(255===t[e]&216===t[e+1])e+=2;else{var i=e+(256*t[e+2]+t[e+3])+2,r=t.slice(e,i);n.push(r),e=i}if(e>t.length)break}return n},n.decode64=function(t){var e,n,i,r,o="",a="",s=0,u=[];/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{e=this.KEY_STR.indexOf(t.charAt(s++))<<2|(i=this.KEY_STR.indexOf(t.charAt(s++)))>>4,n=(15&i)<<4|(r=this.KEY_STR.indexOf(t.charAt(s++)))>>2,o=(3&r)<<6|(a=this.KEY_STR.indexOf(t.charAt(s++))),u.push(e),64!==r&&u.push(n),64!==a&&u.push(o),e=n=o="",i=r=a=""}while(s<t.length);return u},n.restore(t,e)},n}]),function(t,e){if("function"==typeof define&&define.amd)define(["module","exports","angular","ws"],e);else if("undefined"!=typeof exports)e(module,exports,require("angular"),require("ws"));else{var n={exports:{}};e(n,n.exports,t.angular,t.ws),t.angularWebsocket=n.exports}}(this,function(t,e,n,i){"use strict";function r(t,e,n,i){function r(e,n,i){i||!g(n)||m(n)||(i=n,n=void 0),this.protocols=n,this.url=e||"Missing URL",this.ssl=/(wss)/i.test(this.url),this.scope=i&&i.scope||t,this.rootScopeFailover=i&&i.rootScopeFailover&&!0,this.useApplyAsync=i&&i.useApplyAsync||!1,this.initialTimeout=i&&i.initialTimeout||500,this.maxTimeout=i&&i.maxTimeout||3e5,this.reconnectIfNotNormalClose=i&&i.reconnectIfNotNormalClose||!1,this.binaryType=i&&i.binaryType||"blob",this._reconnectAttempts=0,this.sendQueue=[],this.onOpenCallbacks=[],this.onMessageCallbacks=[],this.onErrorCallbacks=[],this.onCloseCallbacks=[],c(this._readyStateConstants),e?this._connect():this._setInternalState(0)}return r.prototype._readyStateConstants={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3,RECONNECT_ABORTED:4},r.prototype._normalCloseCode=1e3,r.prototype._reconnectableStatusCodes=[4e3],r.prototype.safeDigest=function(t){t&&!this.scope.$$phase&&this.scope.$digest()},r.prototype.bindToScope=function(e){var n=this;return e&&(this.scope=e,this.rootScopeFailover&&this.scope.$on("$destroy",function(){n.scope=t})),n},r.prototype._connect=function(t){!t&&this.socket&&this.socket.readyState===this._readyStateConstants.OPEN||(this.socket=i.create(this.url,this.protocols),this.socket.onmessage=s.default.bind(this,this._onMessageHandler),this.socket.onopen=s.default.bind(this,this._onOpenHandler),this.socket.onerror=s.default.bind(this,this._onErrorHandler),this.socket.onclose=s.default.bind(this,this._onCloseHandler),this.socket.binaryType=this.binaryType)},r.prototype.fireQueue=function(){for(;this.sendQueue.length&&this.socket.readyState===this._readyStateConstants.OPEN;){var t=this.sendQueue.shift();this.socket.send(f(t.message)||"blob"!=this.binaryType?t.message:JSON.stringify(t.message)),t.deferred.resolve()}},r.prototype.notifyOpenCallbacks=function(t){for(var e=0;e<this.onOpenCallbacks.length;e++)this.onOpenCallbacks[e].call(this,t)},r.prototype.notifyCloseCallbacks=function(t){for(var e=0;e<this.onCloseCallbacks.length;e++)this.onCloseCallbacks[e].call(this,t)},r.prototype.notifyErrorCallbacks=function(t){for(var e=0;e<this.onErrorCallbacks.length;e++)this.onErrorCallbacks[e].call(this,t)},r.prototype.onOpen=function(t){return this.onOpenCallbacks.push(t),this},r.prototype.onClose=function(t){return this.onCloseCallbacks.push(t),this},r.prototype.onError=function(t){return this.onErrorCallbacks.push(t),this},r.prototype.onMessage=function(t,e){if(!p(t))throw new Error("Callback must be a function");if(e&&d(e.filter)&&!f(e.filter)&&!(e.filter instanceof RegExp))throw new Error("Pattern must be a string or regular expression");return this.onMessageCallbacks.push({fn:t,pattern:e?e.filter:void 0,autoApply:!e||e.autoApply}),this},r.prototype._onOpenHandler=function(t){this._reconnectAttempts=0,this.notifyOpenCallbacks(t),this.fireQueue()},r.prototype._onCloseHandler=function(t){var e=this;e.useApplyAsync?e.scope.$applyAsync(function(){e.notifyCloseCallbacks(t)}):(e.notifyCloseCallbacks(t),e.safeDigest(!0)),(this.reconnectIfNotNormalClose&&t.code!==this._normalCloseCode||this._reconnectableStatusCodes.indexOf(t.code)>-1)&&this.reconnect()},r.prototype._onErrorHandler=function(t){var e=this;e.useApplyAsync?e.scope.$applyAsync(function(){e.notifyErrorCallbacks(t)}):(e.notifyErrorCallbacks(t),e.safeDigest(!0))},r.prototype._onMessageHandler=function(t){function e(t,e,n){n=y.call(arguments,2),r.useApplyAsync?r.scope.$applyAsync(function(){t.apply(r,n)}):(t.apply(r,n),r.safeDigest(e))}for(var n,i,r=this,o=0;o<r.onMessageCallbacks.length;o++)(n=(i=r.onMessageCallbacks[o]).pattern)?f(n)&&t.data===n?e(i.fn,i.autoApply,t):n instanceof RegExp&&n.exec(t.data)&&e(i.fn,i.autoApply,t):e(i.fn,i.autoApply,t)},r.prototype.close=function(t){return!t&&this.socket.bufferedAmount||this.socket.close(),this},r.prototype.send=function(t){function n(t){t.cancel=r;var e=t.then;return t.then=function(){return n(e.apply(this,arguments))},t}function r(e){return a.sendQueue.splice(a.sendQueue.indexOf(t),1),o.reject(e),a}var o=e.defer(),a=this,s=n(o.promise);return a.readyState===a._readyStateConstants.RECONNECT_ABORTED?o.reject("Socket connection has been closed"):(a.sendQueue.push({message:t,deferred:o}),a.fireQueue()),i.isMocked&&i.isMocked()&&i.isConnected(this.url)&&this._onMessageHandler(i.mockSend()),s},r.prototype.reconnect=function(){this.close();var t=this._getBackoffDelay(++this._reconnectAttempts),e=t/1e3;return console.log("Reconnecting in "+e+" seconds"),n(s.default.bind(this,this._connect),t),this},r.prototype._getBackoffDelay=function(t){var e=Math.random()+1,n=this.initialTimeout,i=t,r=this.maxTimeout;return Math.floor(Math.min(e*n*Math.pow(2,i),r))},r.prototype._setInternalState=function(t){if(Math.floor(t)!==t||t<0||t>4)throw new Error("state must be an integer between 0 and 4, got: "+t);h||(this.readyState=t||this.socket.readyState),this._internalConnectionState=t,v(this.sendQueue,function(t){t.deferred.reject("Message cancelled due to closed socket connection")})},h&&h(r.prototype,"readyState",{get:function(){return this._internalConnectionState||this.socket.readyState},set:function(){throw new Error("The readyState property is read-only")}}),function(t,e,n){return new r(t,e,n)}}function o(t){this.create=function(t,e){if(!/wss?:\/\//.exec(t))throw new Error("Invalid url provided");return e?new a(t,e):new a(t)},this.createWebSocketBackend=function(e,n){return t.warn("Deprecated: Please use .create(url, protocols)"),this.create(e,n)}}Object.defineProperty(e,"__esModule",{value:!0});var a,s=function(t){return t&&t.__esModule?t:{default:t}}(n),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};if("object"===(void 0===e?"undefined":u(e))&&"function"==typeof require)try{a=i.Client||i.client||i}catch(t){}a=a||window.WebSocket||window.MozWebSocket;var l=s.default.noop,c=Object.freeze?Object.freeze:l,h=Object.defineProperty,f=s.default.isString,p=s.default.isFunction,d=s.default.isDefined,g=s.default.isObject,m=s.default.isArray,v=s.default.forEach,y=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=e);n<e;n++)if(n in this&&this[n]===t)return n;return-1}),s.default.module("ngWebSocket",[]).factory("$websocket",["$rootScope","$q","$timeout","$websocketBackend",r]).factory("WebSocket",["$rootScope","$q","$timeout","WebsocketBackend",r]).service("$websocketBackend",["$log",o]).service("WebSocketBackend",["$log",o]),s.default.module("angular-websocket",["ngWebSocket"]),e.default=s.default.module("ngWebSocket"),t.exports=e.default}),function(){var t="RandExp",e=function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n||t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){function i(t){return t+(97<=t&&t<=122?-32:65<=t&&t<=90?32:0)}function r(t){return t instanceof l?t.index(this.randInt(0,t.length-1)):t[this.randInt(0,t.length-1)]}function o(t){if(t.type===u.types.CHAR)return new l(t.value);if(t.type===u.types.RANGE)return new l(t.from,t.to);for(var e=new l,n=0;n<t.set.length;n++){var r=o.call(this,t.set[n]);if(e.add(r),this.ignoreCase)for(var a=0;a<r.length;a++){var s=r.index(a),c=i(s);s!==c&&e.add(c)}}return t.not?this.defaultRange.clone().subtract(e):e}function a(t,e){"number"==typeof e.max&&(t.max=e.max),e.defaultRange instanceof l&&(t.defaultRange=e.defaultRange),"function"==typeof e.randInt&&(t.randInt=e.randInt)}function s(t,e){var n,a,u,l,h;switch(t.type){case c.ROOT:case c.GROUP:if(t.followedBy||t.notFollowedBy)return"";for(t.remember&&void 0===t.groupNumber&&(t.groupNumber=e.push(null)-1),a="",l=0,h=(n=t.options?r.call(this,t.options):t.stack).length;l<h;l++)a+=s.call(this,n[l],e);return t.remember&&(e[t.groupNumber]=a),a;case c.POSITION:return"";case c.SET:var f=o.call(this,t);return f.length?String.fromCharCode(r.call(this,f)):"";case c.REPETITION:for(u=this.randInt(t.min,t.max===1/0?t.min+this.max:t.max),a="",l=0;l<u;l++)a+=s.call(this,t.value,e);return a;case c.REFERENCE:return e[t.value-1]||"";case c.CHAR:var p=this.ignoreCase&&function(){return!this.randInt(0,1)}.call(this)?i(t.value):t.value;return String.fromCharCode(p)}}var u=t("ret"),l=t("discontinuous-range"),c=u.types,h=e.exports=function(t,e){if(this.defaultRange=this.defaultRange.clone(),t instanceof RegExp)this.ignoreCase=t.ignoreCase,this.multiline=t.multiline,a(this,t),t=t.source;else{if("string"!=typeof t)throw new Error("Expected a regexp or string");this.ignoreCase=e&&-1!==e.indexOf("i"),this.multiline=e&&-1!==e.indexOf("m")}this.tokens=u(t)};h.prototype.max=100,h.prototype.gen=function(){return s.call(this,this.tokens,[])},h.randexp=function(t,e){var n;return void 0===t._randexp?(n=new h(t,e),t._randexp=n):n=t._randexp,a(n,t),n.gen()},h.sugar=function(){RegExp.prototype.gen=function(){return h.randexp(this)}},h.prototype.defaultRange=new l(32,126),h.prototype.randInt=function(t,e){return t+Math.floor(Math.random()*(1+e-t))}},{"discontinuous-range":2,ret:3}],2:[function(t,e,n){function i(t,e){this.low=t,this.high=e,this.length=1+e-t}function r(t,e){return this instanceof r?(this.ranges=[],this.length=0,void(void 0!==t&&this.add(t,e))):new r(t,e)}function o(t){t.length=t.ranges.reduce(function(t,e){return t+e.length},0)}i.prototype.overlaps=function(t){return!(this.high<t.low||this.low>t.high)},i.prototype.touches=function(t){return!(this.high+1<t.low||this.low-1>t.high)},i.prototype.add=function(t){return this.touches(t)&&new i(Math.min(this.low,t.low),Math.max(this.high,t.high))},i.prototype.subtract=function(t){return!!this.overlaps(t)&&(t.low<=this.low&&t.high>=this.high?[]:t.low>this.low&&t.high<this.high?[new i(this.low,t.low-1),new i(t.high+1,this.high)]:t.low<=this.low?[new i(t.high+1,this.high)]:[new i(this.low,t.low-1)])},i.prototype.toString=function(){return this.low==this.high?this.low.toString():this.low+"-"+this.high},i.prototype.clone=function(){return new i(this.low,this.high)},r.prototype.add=function(t,e){function n(t){for(var e=[],n=0;n<a.ranges.length&&!t.touches(a.ranges[n]);)e.push(a.ranges[n].clone()),n++;for(;n<a.ranges.length&&t.touches(a.ranges[n]);)t=t.add(a.ranges[n]),n++;for(e.push(t);n<a.ranges.length;)e.push(a.ranges[n].clone()),n++;a.ranges=e,o(a)}var a=this;return t instanceof r?t.ranges.forEach(n):t instanceof i?n(t):(void 0===e&&(e=t),n(new i(t,e))),this},r.prototype.subtract=function(t,e){function n(t){for(var e=[],n=0;n<a.ranges.length&&!t.overlaps(a.ranges[n]);)e.push(a.ranges[n].clone()),n++;for(;n<a.ranges.length&&t.overlaps(a.ranges[n]);)e=e.concat(a.ranges[n].subtract(t)),n++;for(;n<a.ranges.length;)e.push(a.ranges[n].clone()),n++;a.ranges=e,o(a)}var a=this;return t instanceof r?t.ranges.forEach(n):t instanceof i?n(t):(void 0===e&&(e=t),n(new i(t,e))),this},r.prototype.index=function(t){for(var e=0;e<this.ranges.length&&this.ranges[e].length<=t;)t-=this.ranges[e].length,e++;return e>=this.ranges.length?null:this.ranges[e].low+t},r.prototype.toString=function(){return"[ "+this.ranges.join(", ")+" ]"},r.prototype.clone=function(){return new r(this)},e.exports=r},{}],3:[function(t,e,n){var i=t("./util"),r=t("./types"),o=t("./sets"),a=t("./positions");e.exports=function(t){var e,n,s=0,u={type:r.ROOT,stack:[]},l=u,c=u.stack,h=[],f=function(e){i.error(t,"Nothing to repeat at column "+(e-1))},p=i.strToChars(t);for(e=p.length;s<e;)switch(n=p[s++]){case"\\":switch(n=p[s++]){case"b":c.push(a.wordBoundary());break;case"B":c.push(a.nonWordBoundary());break;case"w":c.push(o.words());break;case"W":c.push(o.notWords());break;case"d":c.push(o.ints());break;case"D":c.push(o.notInts());break;case"s":c.push(o.whitespace());break;case"S":c.push(o.notWhitespace());break;default:/\d/.test(n)?c.push({type:r.REFERENCE,value:parseInt(n,10)}):c.push({type:r.CHAR,value:n.charCodeAt(0)})}break;case"^":c.push(a.begin());break;case"$":c.push(a.end());break;case"[":var d;"^"===p[s]?(d=!0,s++):d=!1;var g=i.tokenizeClass(p.slice(s),t);s+=g[1],c.push({type:r.SET,set:g[0],not:d});break;case".":c.push(o.anyChar());break;case"(":var m={type:r.GROUP,stack:[],remember:!0};"?"===(n=p[s])&&(n=p[s+1],s+=2,"="===n?m.followedBy=!0:"!"===n?m.notFollowedBy=!0:":"!==n&&i.error(t,"Invalid group, character '"+n+"' after '?' at column "+(s-1)),m.remember=!1),c.push(m),h.push(l),l=m,c=m.stack;break;case")":0===h.length&&i.error(t,"Unmatched ) at column "+(s-1)),c=(l=h.pop()).options?l.options[l.options.length-1]:l.stack;break;case"|":l.options||(l.options=[l.stack],delete l.stack);var v=[];l.options.push(v),c=v;break;case"{":var y,w,_=/^(\d+)(,(\d+)?)?\}/.exec(p.slice(s));null!==_?(0===c.length&&f(s),y=parseInt(_[1],10),w=_[2]?_[3]?parseInt(_[3],10):1/0:y,s+=_[0].length,c.push({type:r.REPETITION,min:y,max:w,value:c.pop()})):c.push({type:r.CHAR,value:123});break;case"?":0===c.length&&f(s),c.push({type:r.REPETITION,min:0,max:1,value:c.pop()});break;case"+":0===c.length&&f(s),c.push({type:r.REPETITION,min:1,max:1/0,value:c.pop()});break;case"*":0===c.length&&f(s),c.push({type:r.REPETITION,min:0,max:1/0,value:c.pop()});break;default:c.push({type:r.CHAR,value:n.charCodeAt(0)})}return 0!==h.length&&i.error(t,"Unterminated group"),u},e.exports.types=r},{"./positions":4,"./sets":5,"./types":6,"./util":7}],4:[function(t,e,n){var i=t("./types");n.wordBoundary=function(){return{type:i.POSITION,value:"b"}},n.nonWordBoundary=function(){return{type:i.POSITION,value:"B"}},n.begin=function(){return{type:i.POSITION,value:"^"}},n.end=function(){return{type:i.POSITION,value:"$"}}},{"./types":6}],5:[function(t,e,n){var i=t("./types"),r=function(){return[{type:i.RANGE,from:48,to:57}]},o=function(){return[{type:i.CHAR,value:95},{type:i.RANGE,from:97,to:122},{type:i.RANGE,from:65,to:90}].concat(r())},a=function(){return[{type:i.CHAR,value:9},{type:i.CHAR,value:10},{type:i.CHAR,value:11},{type:i.CHAR,value:12},{type:i.CHAR,value:13},{type:i.CHAR,value:32},{type:i.CHAR,value:160},{type:i.CHAR,value:5760},{type:i.CHAR,value:6158},{type:i.CHAR,value:8192},{type:i.CHAR,value:8193},{type:i.CHAR,value:8194},{type:i.CHAR,value:8195},{type:i.CHAR,value:8196},{type:i.CHAR,value:8197},{type:i.CHAR,value:8198},{type:i.CHAR,value:8199},{type:i.CHAR,value:8200},{type:i.CHAR,value:8201},{type:i.CHAR,value:8202},{type:i.CHAR,value:8232},{type:i.CHAR,value:8233},{type:i.CHAR,value:8239},{type:i.CHAR,value:8287},{type:i.CHAR,value:12288},{type:i.CHAR,value:65279}]};n.words=function(){return{type:i.SET,set:o(),not:!1}},n.notWords=function(){return{type:i.SET,set:o(),not:!0}},n.ints=function(){return{type:i.SET,set:r(),not:!1}},n.notInts=function(){return{type:i.SET,set:r(),not:!0}},n.whitespace=function(){return{type:i.SET,set:a(),not:!1}},n.notWhitespace=function(){return{type:i.SET,set:a(),not:!0}},n.anyChar=function(){return{type:i.SET,set:[{type:i.CHAR,value:10},{type:i.CHAR,value:13},{type:i.CHAR,value:8232},{type:i.CHAR,value:8233}],not:!0}}},{"./types":6}],6:[function(t,e,n){e.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}},{}],7:[function(t,e,n){var i=t("./types"),r=t("./sets"),o={0:0,t:9,n:10,v:11,f:12,r:13};n.strToChars=function(t){return t=t.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z\[\\\]\^?])|([0tnvfr]))/g,function(t,e,n,i,r,a,s,u){if(n)return t;var l=e?8:i?parseInt(i,16):r?parseInt(r,16):a?parseInt(a,8):s?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(s):o[u],c=String.fromCharCode(l);return/[\[\]{}\^$.|?*+()]/.test(c)&&(c="\\"+c),c})},n.tokenizeClass=function(t,e){for(var o,a,s=[],u=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?(.)/g;null!=(o=u.exec(t));)if(o[1])s.push(r.words());else if(o[2])s.push(r.ints());else if(o[3])s.push(r.whitespace());else if(o[4])s.push(r.notWords());else if(o[5])s.push(r.notInts());else if(o[6])s.push(r.notWhitespace());else if(o[7])s.push({type:i.RANGE,from:(o[8]||o[9]).charCodeAt(0),to:o[10].charCodeAt(0)});else{if(!(a=o[12]))return[s,u.lastIndex];s.push({type:i.CHAR,value:a.charCodeAt(0)})}n.error(e,"Unterminated character class")},n.error=function(t,e){throw new SyntaxError("Invalid regular expression: /"+t+"/: "+e)}},{"./sets":5,"./types":6}]},{},[1])(1);"function"==typeof define&&"object"==typeof define.amd?define(t,function(){return e}):"undefined"!=typeof window&&(window[t]=e)}(),angular.module("SER.utils",[]);var KEYS={up:38,down:40,left:37,right:39,escape:27,enter:13,backspace:8,delete:46,shift:16,leftCmd:91,rightCmd:93,ctrl:17,alt:18,tab:9};if(window.onbeforeprint=function(){console.log("Functionality to run before printing: ",window.location.href)},window.onafterprint=function(){console.log("Functionality to run after printing: ",window.location.href)},window.matchMedia){var mediaQueryList=window.matchMedia("print");mediaQueryList.addListener(function(t){t.matches?window.onbeforeprint():window.onafterprint()})}angular.module("SER.auth",[]),angular.module("SER.auth").value("userPermissions",[]),angular.module("SER.auth").value("isSuperuser",!1),angular.module("SER.auth").value("url403",""),angular.module("SER.auth").service("permissionService",["userPermissions","isSuperuser",function(t,e){return{hasPermission:function(n){return!!e||!notValue(n)&&-1!==t.indexOf(n)},atLeastPermissions:function(n){if(e)return!0;if(hasValue(n)){for(var i=0;i<n.length;i++)if(inArray(n[i],t))return!0;return!1}return!0},hasPermissions:function(n){if(e)return!0;for(var i=0;i<n.length;i++)if(notInArray(n[i],t))return!1;return!0}}}]),angular.module("SER.search",[]),angular.module("SER.search").directive("serAutocomplete",["$http","$compile","$document",function(t,e,n){return{restrict:"E",scope:{remoteUrl:"=",keyword:"=?",keywordField:"@",placeholder:"=?",disabled:"=?",selectItem:"&?"},controller:["$scope",function(e){notValue(e.placeholder)&&(e.placeholder=__("search")+"..."),e.results=[],e.focus=!1,e.blur=!0,e.isFetching=!1,e.showResults=!1,e.searchFocus=function(){e.focus=!0,e.showResults=!0,e.blur=!1,n.bind("click",e.checkFocus)},e.searchBlur=function(){e.focus=!1,e.blur=!0},e.selectInternalItem=function(t){angular.isFunction(e.selectItem)&&e.selectItem({newValue:t}),hasValue(e.keywordField)&&(e.keyword=t[e.keywordField]),e.showResults=!1},e.fetch=function(){e.isFetching=!0,e.showResults=!1,e.keyword?t.get(e.remoteUrl+e.keyword).then(function(t){e.results=t.data,e.isFetching=!1,e.showResults=!0}):(e.isFetching=!1,e.showResults=!0,e.results=[])}}],link:function(t,e){var i;t.checkFocus=function(){var i=e[0].contains(event.target),r=e[0]==event.target;i||r||t.$apply(function(){t.showResults=!1,n.unbind("click",t.checkFocus)})},e.on("keyup",function(e){i&&clearTimeout(i),i=setTimeout(function(){t.$apply(function(){t.fetch()})},500)})},template:function(t,e){return'<div class="ser-autocomplete-wrapper" ng-class="{focus: focus, blur: blur}"><div class="input-group">'+function(){var e=t.find("addon").detach();return e.length?'<span class="addon">'+e.html()+"</span>":""}()+'<input placeholder="{{placeholder}}" ng-model="keyword" ng-disabled="disabled" ng-focus="searchFocus()" ng-blur="searchBlur()" /></div><div class="fetching line-loader" ng-show="isFetching"></div><div class="results" ng-show="showResults"><div class="item" ng-repeat="item in results" ng-click="selectInternalItem(item)">'+function(){var e=t.find("ser-item-template").detach();return e.length?e.html():t.html()}()+'</div><div class="not-results" ng-if="(results.length == 0) && keyword">'+function(){var e=t.find("ser-empty-template").detach();return e.length?e.html():'<div class="align-center">'+__("no_results")+"</div>"}()+"</div></div></div>"}}}]),angular.module("SER.datepicker",[]),angular.module("SER.datepicker").directive("weekDay",function(){return{restrict:"E",require:["ngModel"],scope:{ngModel:"="},link:function(t,e,n,i){t.toggleDay=function(e){"multiple"in n?(notValue(t.ngModel)&&(t.ngModel=[]),notInArray(e,t.ngModel)?t.ngModel.push(e):t.ngModel.splice(t.ngModel.indexOf(e),1)):t.ngModel=e!==t.ngModel?e:null},t.isSet=function(e){return"multiple"in n?inArray(e,t.ngModel):e===t.ngModel}},template:function(){return'<div class="wrapper"><div class="day" ng-click="toggleDay(1)" ng-class="{active: isSet(1)}">'+__("LUN")+'</div><div class="day" ng-click="toggleDay(2)" ng-class="{active: isSet(2)}">'+__("MAR")+'</div><div class="day" ng-click="toggleDay(3)" ng-class="{active: isSet(3)}">'+__("MIE")+'</div><div class="day" ng-click="toggleDay(4)" ng-class="{active: isSet(4)}">'+__("JUE")+'</div><div class="day" ng-click="toggleDay(5)" ng-class="{active: isSet(5)}">'+__("VIE")+'</div><div class="day" ng-click="toggleDay(6)" ng-class="{active: isSet(6)}">'+__("SAB")+'</div><div class="day" ng-click="toggleDay(7)" ng-class="{active: isSet(7)}">'+__("DOM")+"</div></div>"}}}),angular.module("SER.datepicker").directive("serDate",["$filter",function(t){return{restrict:"E",require:["ngModel"],scope:{ngModel:"=",config:"="},controller:["$scope",function(t){t.placeholder=__("select_date"),t.clear=function(){t.ngModel=null}}],link:function(t,e){e.find(".value-wrapper").tooltipster({content:e.find(".picker-wrapper"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0});var n=e.find(".date-wrapper").dateRangePicker({inline:!0,container:e.find(".date-wrapper"),alwaysOpen:!0,language:"es",singleDate:!0,singleMonth:!0}).bind("datepicker-change",function(n,i){t.$apply(function(){t.ngModel=i.date1}),e.find(".value-wrapper").tooltipster("close")}).bind("datepicker-next-month-finish-clicked",function(t){e.find(".value-wrapper").tooltipster("reposition")}).bind("datepicker-prev-month-finish-clicked",function(t){e.find(".value-wrapper").tooltipster("reposition")});t.ngModel&&n.data("dateRangePicker").setStart(t.ngModel,!0),t.$watch("ngModel",function(t,e){t&&t!=e&&n.data("dateRangePicker").setStart(t,!0)},!0)},template:function(t,e){return'<div class="ser-date-wrapper" ng-class="{open: open, \'has-value\': blur}"><div ng-class="{\'bttn-group\': ngModel}" class="row center-center"><button type="button" class="bttn value-wrapper">{{ (ngModel | date: \'longDate\') || placeholder }}</button><button type="button" ng-show="ngModel" class="bttn clear" ng-click="clear()">×</button></div><div class="tooltip-templates"><div class="picker-wrapper"><div class="date-wrapper"></div></div></div></div>'}}}]),angular.module("SER.datepicker").directive("serDateRange",["$filter",function(t){return{restrict:"E",require:["ngModel"],scope:{ngModel:"=",config:"="},controller:["$scope",function(t){t.placeholder=__("select_date_range"),t.clear=function(){t.ngModel=null,t.placeholder=__("select_date_range")}}],link:function(e,n){n.find(".value-wrapper").tooltipster({content:n.find(".picker-wrapper"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0});var i=n.find(".date-wrapper").dateRangePicker({inline:!0,container:n.find(".date-wrapper"),alwaysOpen:!0,language:"es"}).bind("datepicker-change",function(i,r){e.$apply(function(){r.date1.setHours(0,0,0,0),r.date2.setHours(23,59,59,0),e.ngModel={FromDate:r.date1,ToDate:r.date2},e.placeholder=t("date")(r.date1,"longDate")+" - "+t("date")(r.date2,"longDate")}),n.find(".value-wrapper").tooltipster("close")}).bind("datepicker-next-month-finish-clicked",function(t){n.find(".value-wrapper").tooltipster("reposition")}).bind("datepicker-prev-month-finish-clicked",function(t){n.find(".value-wrapper").tooltipster("reposition")});e.ngModel&&e.ngModel.FromDate&&e.ngModel.ToDate&&(i.data("dateRangePicker").setStart(e.ngModel.FromDate,!0),i.data("dateRangePicker").setEnd(e.ngModel.ToDate,!0),e.placeholder=t("date")(e.ngModel.FromDate,"longDate")+" - "+t("date")(e.ngModel.ToDate,"longDate")),e.$watch("ngModel",function(t,n){t&&t!=n&&(i.data("dateRangePicker").setStart(e.ngModel.FromDate,!0),i.data("dateRangePicker").setEnd(e.ngModel.ToDate,!0))},!0)},template:function(t,e){return'<div class="ser-date-wrapper" ng-class="{open: open, \'has-value\': blur}"><div ng-class="{\'bttn-group\': ngModel}" class="row center-center"><button type="button" class="bttn value-wrapper">{{ placeholder }}</button><button type="button" ng-show="ngModel" class="bttn clear" ng-click="clear()">×</button></div><div class="tooltip-templates"><div class="picker-wrapper"><div class="date-wrapper"></div></div></div></div>'}}}]),angular.module("SER.filters",[]),angular.module("SER.filters").filter("PascalCase",[function(){return function(t){return t.replace(/([A-Z]+)([A-Z])/g," $1 $2").replace(/([a-z\d])([A-Z])/g,"$1 $2").replace(/([a-zA-Z])(\d)/g,"$1 $2").replace(/^./,function(t){return t.toUpperCase()}).trim()}}]),angular.module("SER.filters").filter("getItem",["$filter",function(t){return function(e,n,i){var r={};r[i]=e;var o=[];return o=t("filter")(n,r,!0),hasValue(o)&&0<o.length?o[0]:null}}]),angular.module("SER.filters").filter("minutesTime",[function(){return function(t,e){var n=parseInt(t/60,10);return(!e&&n>12?24===n?"00":(n-12<10?"0":"")+(n-12):(n<10?"0":"")+n)+":"+(t-60*n<10?"0"+(t-60*n):t-60*n)+(e?":00":n>=12&&24!==n?" pm":" am")}}]),angular.module("SER.filters").filter("timeMinutes",[function(){return function(t){return 60*parseInt(t.split(":")[0])+parseInt(t.split(":")[1])}}]),angular.module("SER.filters").filter("leadingChar",function(){return function(t,e,n){return n=n||"0",hasValue(t)?(t+="").length>=e?t:new Array(e-t.length+1).join(n)+t:""}});var i18n={__DICT:void 0,loadJSON:function(t){this.__DICT=t},__:function(t){if(void 0!==this.__DICT)return t in this.__DICT?this.__DICT[t]:(console.warn("Locale not found for: "+t),t);console.error("Locale JSON file not loaded | Locale not found for: "+t)}},__=function(t){return i18n.__(t)};angular.module("SER.i18n",[]),angular.module("SER.i18n").filter("translate",function(){return function(t){return i18n.__(t)}}),angular.module("SER.image",[]),angular.module("SER.image").directive("callbackImage",function(){return{restrict:"A",link:function(t,e,n){e.on("dragstart",function(t){t.preventDefault()}),e.bind("error",function(){e[0].src=n.callbackImage})}}}),angular.module("SER.image").directive("retryGetImage",function(){return{restrict:"A",scope:{retryGetImage:"@",fallbackRetry:"="},link:function(t,e,n){var i;t.$watch("retryGetImage",function(n){clearTimeout(i),e.unbind("load"),e.unbind("error"),e[0].src=n,e.addClass("hidden"),e.bind("load",function(){e.removeClass("hidden"),t.fallbackRetry=!1,clearTimeout(i),t.$apply()}),e.bind("error",function(){t.fallbackRetry=!0,i=setTimeout(function(){e[0].src=t.retryGetImage},5e3)})})}}}),angular.module("SER.image").directive("imgZoom",["$timeout",function(t){return{restrict:"E",scope:{image:"=",options:"="},link:function(e,n,i){n.find(".target").on("load",function(){n.find(".loader").addClass("ng-hide")}),n.find(".target").on("error",function(){n.find(".loader").addClass("ng-hide"),e.zoomReset()}),e.size="auto";var r={"max-height":"none"};angular.merge(r,e.options),e.zoomIn=function(){e.size=1.1*n.find(".target").width(),n.find(".target").css({"max-height":"none",height:"auto"})},e.zoomOut=function(){e.size=n.find(".target").width()/1.1,n.find(".target").css({"max-height":"none",height:"auto"})},e.zoomReset=function(){e.size="auto",n.find(".target").css({"max-height":r["max-height"],height:"auto"})},e.zoomExpand=function(){e.size="auto",n.find(".target").css({"max-height":r["max-height"],height:n.height()-2})},t(function(){e.zoomExpand()},500)},template:function(){return'<div class="controls"><button class="bttn icon" ng-click="zoomOut()"><i class="icon-zoom-out"></i></button><button class="bttn icon" ng-click="zoomReset()"><i class="icon-zoom-actual"></i></button><button class="bttn icon" ng-click="zoomExpand()"><i class="icon-zoom-expand"></i></button><button class="bttn icon" ng-click="zoomIn()"><i class="icon-zoom-in"></i></button></div><div class="loader dots">'+__("loading")+'</div><img class="target" ng-src="{{ image }}" ng-style="{width: size}" callback-image="/images/'+__("no_image_available.svg")+'" />'}}}]),angular.module("SER.image").directive("zoomImage",function(){return{restrict:"A",link:function(t,e,n){var i={responsive:!0,loadingIcon:!0,tint:!0,scrollZoom:!0,zoomWindowWidth:150,zoomWindowHeight:150,imageSrc:n.ngSrc};angular.merge(i,t.$eval(n.zoomImage)),e.elevateZoom(i)}}}),angular.module("SER.loader",[]).service("afterPromises",[function(){var t=function(t,e){this.callback=e,this.topCount=t,this.counter=0};return t.prototype.notify=function(){this.counter+=1,this.counter==this.topCount&&this.callback()},t}]),angular.module("SER.search").directive("remoteSearch",["$http",function(t){return{restrict:"A",require:["ngModel"],scope:{remoteSearchResults:"=",remoteSearch:"=",model:"=ngModel"},link:function(e,n,i,r){var o;n.on("keyup",function(n){o&&clearTimeout(o),o=setTimeout(function(){e.$apply(function(){e.remoteSearchResults=[]}),e.model&&t.get(e.remoteSearch+e.model).then(function(t){0<t.data.length&&(e.remoteSearchResults=t.data)})},500)})}}}]),angular.module("SER.search").directive("ngEnter",function(){return function(t,e,n){e.bind("keydown keypress",function(i){13===i.which&&(t.$apply(function(){t.$eval(n.ngEnter,{$event:i})}),i.preventDefault(),e.blur())})}}),angular.module("SER.selector",[]).directive("selector",["$rootScope","$filter","$timeout","$window","$http","$q","$templateCache",function(t,e,n,i,r,o,a){return{restrict:"EC",replace:!0,transclude:!0,scope:{value:"=model",disabled:"=?disable",disableSearch:"=?",required:"=?require",multiple:"=?multi",placeholder:"@?",valueAttr:"@",labelAttr:"@?",options:"=?",dropdownClass:"@?",limit:"=?",rtl:"=?",api:"=?",change:"&?",removeButton:"=?",softDelete:"=?",closeAfterSelection:"=?"},link:function(t,i,r,o,a){var s=angular.element(i[0].querySelector(".selector-dropdown")),u=angular.element(i[0].querySelector("select")),l=i.parents(),c="selector-"+Math.round(1e6*Math.random());s.attr("id",c),a(t,function(t,r){var o=e("filter"),a=angular.element(i[0].querySelector(".selector-input input")),h=a.controller("ngModel"),f=i.find("select").controller("ngModel"),p={api:{},search:"",disableSearch:!1,selectedValues:[],highlighted:0,valueAttr:null,labelAttr:"label",options:[],limit:1/0,removeButton:!0,closeAfterSelection:!0};s.detach(),!angular.isDefined(r.value)&&r.multiple&&(r.value=[]);for(var d in p)angular.isDefined(r[d])||(r[d]=p[d]);r.getObjValue=function(t,e){var n;if(!angular.isDefined(t)||!angular.isDefined(e))return t;if(e=angular.isArray(e)?e:e.split("."),(n=e.shift()).indexOf("[")>0){var i=n.match(/(\w+)\[(\d+)\]/);null!==i&&(t=t[i[1]],n=i[2])}return 0===e.length?t[n]:r.getObjValue(t[n],e)},r.setObjValue=function(t,e,n){var i;if(angular.isDefined(t)||(t={}),e=angular.isArray(e)?e:e.split("."),(i=e.shift()).indexOf("[")>0){var o=i.match(/(\w+)\[(\d+)\]/);null!==o&&(t=t[o[1]],i=o[2])}return t[i]=0===e.length?n:r.setObjValue(t[i],e,n),t},r.optionValue=function(t){return null===r.valueAttr?t:r.getObjValue(t,r.valueAttr)},r.optionEquals=function(t,e){return angular.equals(r.optionValue(t),angular.isDefined(e)?e:r.value)},r.setValue=function(t){r.multiple?r.value=null===r.valueAttr?t||[]:(t||[]).map(function(t){return r.getObjValue(t,r.valueAttr)}):r.value=null===r.valueAttr?t:r.getObjValue(t||{},r.valueAttr)},r.hasValue=function(){return r.multiple?(r.value||[]).length>0:!!r.value},r.optionToObject=function(t){var e={},n=angular.element(t);angular.forEach(t.dataset,function(t,n){n.match(/^\$/)||(e[n]=t)}),t.value&&r.setObjValue(e,r.valueAttr||"value",t.value),n.text()&&r.setObjValue(e,r.labelAttr,n.text().trim()),r.options.push(e),!n.attr("selected")||!r.multiple&&r.hasValue()||(r.multiple?(r.value||(r.value=[]),r.value.push(r.optionValue(e))):r.value||(r.value=r.optionValue(e)))},r.fillWithHtml=function(){r.options=[],angular.forEach(t,function(t){"option"===(t.tagName||"").toLowerCase()&&r.optionToObject(t)}),r.updateSelected()},r.initialize=function(){angular.isArray(r.options)&&r.options.length||r.fillWithHtml(),r.hasValue()&&(r.multiple?angular.isArray(r.value)||(r.value=[r.value]):angular.isArray(r.value)&&(r.value=r.value[0]),r.updateSelected(),r.filterOptions(),r.updateValue())},r.$watch("multiple",function(){n(r.setInputWidth)});var g=function(){var t=a.parent()[0],e={top:"",bottom:"",left:t.getBoundingClientRect().left+"px",width:t.offsetWidth+"px"};angular.element(document.body).height()-(t.offsetHeight+t.getBoundingClientRect().top)>=220?(e.top=t.offsetHeight+t.getBoundingClientRect().top,s.removeClass("ontop")):(e.bottom=angular.element(document.body).height()-t.getBoundingClientRect().top,s.addClass("ontop")),s.css(e)};r.showDropdown=function(){g(),angular.element(document.body).append(s),n(function(){angular.element(window).triggerHandler("resize")},50)},r.open=function(){r.multiple&&(r.selectedValues||[]).length>=r.limit||(r.isOpen=!0,r.showDropdown(),n(r.scrollToHighlighted))},r.close=function(){r.isOpen=!1,s.detach(),r.resetInput()};var m=function(t){r.filteredOptions.length&&(r.highlighted=(r.filteredOptions.length+t)%r.filteredOptions.length)};r.set=function(t){r.multiple&&(r.selectedValues||[]).length>=r.limit||(r.multiple?(r.selectedValues||(r.selectedValues=[]),r.selectedValues.indexOf(t)<0&&r.selectedValues.push(t)):r.selectedValues=[t],!r.multiple&&r.closeAfterSelection&&a.blur(),m(r.options.indexOf(t)),r.resetInput(),f.$setDirty())},r.unset=function(t){r.multiple?r.selectedValues.splice(angular.isDefined(t)?t:r.selectedValues.length-1,1):r.selectedValues=[],r.resetInput(),f.$setDirty()},r.keydown=function(t){switch(t.keyCode){case KEYS.up:if(!r.isOpen)break;m(r.highlighted-1),t.preventDefault();break;case KEYS.down:r.isOpen?m(r.highlighted+1):r.open(),t.preventDefault();break;case KEYS.escape:m(0),r.close();break;case KEYS.enter:r.isOpen&&(r.filteredOptions.length&&r.set(),t.preventDefault());break;case KEYS.backspace:if(!a.val()){var e=r.getObjValue(r.selectedValues.slice(-1)[0]||{},r.labelAttr||"");r.unset(),r.open(),r.softDelete&&!r.disableSearch&&n(function(){r.search=e}),t.preventDefault()}break;case KEYS.left:case KEYS.right:case KEYS.shift:case KEYS.ctrl:case KEYS.alt:case KEYS.tab:case KEYS.leftCmd:case KEYS.rightCmd:break;default:!r.multiple&&r.hasValue()?t.preventDefault():(r.open(),m(0))}},r.inOptions=function(t,e){return t.indexOf(e)>=0},r.filterOptions=function(){if(r.filteredOptions=o(r.options||[],r.search),angular.isArray(r.selectedValues)||(r.selectedValues=[]),r.multiple)r.filteredOptions=r.filteredOptions.filter(function(t){return!r.inOptions(r.selectedValues,t)});else{var t=r.filteredOptions.indexOf(r.selectedValues[0]);t>=0&&m(t)}},r.measureWidth=function(){var t,e=getStyles(a[0]),n=angular.element('<span class="selector-shadow"></span>');return n.text(a.val()||(r.hasValue()?"":r.placeholder)||""),angular.element(document.body).append(n),angular.forEach(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(t){n.css(t,e[t])}),t=n[0].offsetWidth,n.remove(),t},r.setInputWidth=function(){var t=r.measureWidth()+1;a.css("width",t+"px")},r.resetInput=function(){a.val(""),r.setInputWidth(),n(function(){r.search=""})},r.$watch("[search, options, value]",function(){r.filterOptions(),n(function(){r.setInputWidth(),r.isOpen&&r.showDropdown()})},!0),r.updateValue=function(t){angular.isDefined(t)||(t=r.selectedValues||[]),r.setValue(r.multiple?t:t[0])},r.$watch("selectedValues",function(t,e){angular.equals(t,e)||(r.updateValue(),angular.isFunction(r.change)&&r.change(r.multiple?{newValue:t,oldValue:e}:{newValue:(t||[])[0],oldValue:(e||[])[0]}))},!0),r.$watchCollection("options",function(t,e){angular.equals(t,e)||r.updateSelected()}),r.updateSelected=function(){r.multiple?r.selectedValues=(r.value||[]).map(function(t){return o(r.options,function(e){return r.optionEquals(e,t)})[0]}).filter(function(t){return angular.isDefined(t)}).slice(0,r.limit):r.selectedValues=(r.options||[]).filter(function(t){return r.optionEquals(t)}).slice(0,1)},r.$watch("value",function(t,e){angular.equals(t,e)||r.updateSelected()},!0),a=angular.element(i[0].querySelector(".selector-input input")).on("focus",function(){n(function(){r.$apply(r.open)})}).on("blur",function(){r.close()}).on("keydown",function(t){r.$apply(function(){r.keydown(t)})}).on("input",function(){r.setInputWidth()}),s.on("mousedown",function(t){t.preventDefault()}),l.each(function(t,e){angular.element(e).on("scroll."+c,function(t){g()})}),r.$watch(function(){return h.$pristine},function(t){f[t?"$setPristine":"$setDirty"]()}),r.$watch(function(){return h.$touched},function(t){f[t?"$setTouched":"$setUntouched"]()}),angular.forEach(["open","close"],function(t){r.api[t]=r[t]}),r.api.focus=function(){a[0].focus()},r.api.set=function(t){return r.value=t},r.api.unset=function(t){var e=t?(r.selectedValues||[]).filter(function(e){return r.optionEquals(e,t)}):r.selectedValues,n=r.selectedValues.map(function(t,n){return r.inOptions(e,t)?n:-1}).filter(function(t){return t>=0});angular.forEach(n,function(t,e){r.unset(t-e)})},r.isDirty=function(){return u.hasClass("ng-dirty")},r.isInvalid=function(){return u.hasClass("ng-invalid")},r.initialize()}),t.$on("$destroy",function(){s.remove(),s.off("mousedown"),angular.element(i[0].querySelector(".selector-input input")).off("focus blur keydown input "),angular.element(document.body).off("resize."+c),l.each(function(t,e){$(e).off("scroll."+c+" resize."+c)}),l=null})},template:function(t,e){var n,i=a.get(e.viewItemTemplate)?a.get(e.viewItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>';n=e.labelAttr?'<span ng-bind="getObjValue(option, labelAttr) || option"></span>':a.get(e.viewItemTemplate)?a.get(e.viewItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>',e.dropdownItemTemplate&&(n=a.get(e.dropdownItemTemplate)?a.get(e.dropdownItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>');var r="";e.name&&(r='name="'+e.name+'"');return a.get("selector/Base")?a.get("selector/Base"):"<div class=\"selector-container\" ng-attr-dir=\"{{rtl ? 'rtl' : 'ltr'}}\" ng-class=\"{open: isOpen, empty: !filteredOptions.length && !search, 'ng-dirty': isDirty(), 'ng-invalid': isInvalid(),multiple: multiple, 'has-value': hasValue(), rtl: rtl, 'remove-button': removeButton, disabled: disabled}\"><select "+r+' ng-required="required && !hasValue()" class="not-styled" ng-model="selectedValues" multiple style="display: none;"></select><label class="selector-input"><ul class="selector-values"><li ng-repeat="(index, option) in selectedValues track by index"><div>'+i+'</div><div ng-if="multiple" class="selector-helper" ng-click="!disabled && unset(index)"><span class="selector-icon"></span></div></li></ul><input ng-model="search" class="selector-search-input not-styled" placeholder="{{!hasValue() ? placeholder : \'\'}}"ng-disabled="disabled" ng-readonly="disableSearch" ng-required="required && !hasValue()" autocomplete="off"><div ng-if="!multiple" class="selector-helper selector-global-helper" ng-click="!disabled && removeButton && unset()"><span class="selector-icon"></span></div></label><ul md-virtual-repeat-container md-auto-shrink md-top-index="highlighted" class="selector-dropdown '+e.dropdownClass+'"><li md-virtual-repeat="option in filteredOptions" ng-class="{active: highlighted == $index}" class="selector-option" ng-click="set(option)">'+n+"</li></ul></div>"}}}]),angular.module("SER.tooltipster",[]),angular.module("SER.tooltipster").directive("tooltipster",function(){return{restrict:"A",link:function(t,e,n){var i={content:n.tooltipster,maxWidth:300,delay:0,contentAsHTML:!0,positionTracker:!0,trigger:"hover",theme:"tooltipster-borderless"};angular.merge(i,t.$eval(n.tooltipsterOptions)),e.tooltipster(i)}}}),angular.module("SER.tooltipster").directive("tooltipsterMenu",function(){return{restrict:"A",link:function(t,e,n){var i={content:e.find(".tooltip-content"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0};angular.merge(i,t.$eval(n.tooltipsterMenu)),e.tooltipster(i),t.closeTooltip=function(){e.tooltipster("close")},e.find(".action").on("click",function(){t.closeTooltip()})}}}),angular.module("SER.tooltipster").directive("tooltipsterHtml",function(){return{restrict:"A",link:function(t,e,n){var i={content:e.find(".tooltip-content"),delay:0,positionTracker:!0,trigger:"hover",theme:"tooltipster-borderless",position:"top"};angular.merge(i,t.$eval(n.tooltipsterHtml)),e.tooltipster(i)}}}),angular.module("SER.match",[]).directive("match",["$parse",function(t){return{require:"?ngModel",restrict:"A",link:function(e,n,i,r){function o(){var t=a(e);return angular.isObject(t)&&t.hasOwnProperty("$viewValue")&&(t=t.$viewValue),t}if(r&&i.match){var a=t(i.match),s=t(i.matchCaseless),u=t(i.notMatch),l=t(i.matchIgnoreEmpty);e.$watch(o,function(){r.$$parseAndValidate()}),r.$validators.match=function(t,n){var i,r=t||n,a=o(),c=u(e);return!(!l(e)||n)||(i=s(e)?angular.lowercase(r)===angular.lowercase(a):r===a,!!(i^=c))}}}}}]),angular.module("SER.barcode",[]),angular.module("SER.barcode").directive("barcode",function(){return{restrict:"EA",scope:{model:"=",options:"="},link:function(t,e,n){var i={format:"CODE128",lineColor:"#000000",width:3,height:110,displayValue:!0};angular.merge(i,t.options),t.$watch("model",function(t){JsBarcode(e[0],t,i)})}}}),angular.module("SER.diff",[]),angular.module("SER.diff").factory("ObjectDiff",["$sce",function(t){function e(t,i,r,o){if(t===i)return n(t);var a={},s=!0;for(var u in t)if(!o&&u in i||o&&void 0!==i&&i.hasOwnProperty(u))if(t[u]===i[u])a[u]=n(t[u]);else if(!r&&function(t,e){var n=typeof t,i=typeof e;return t&&e&&("object"==n||"function"==n)&&("object"==i||"function"==i)}(t[u],i[u])){var l=e(t[u],i[u],r,o);"equal"==l.changed?a[u]=n(t[u]):(s=!1,a[u]=l)}else s=!1,a[u]={changed:"primitive change",removed:t[u],added:i[u]};else s=!1,a[u]={changed:"removed",value:t[u]};for(u in i)(o||u in t)&&(!o||void 0===t||t.hasOwnProperty(u))||(s=!1,a[u]={changed:"added",value:i[u]});return s?n(t):{changed:"object change",value:a}}function n(t){return{changed:"equal",value:t}}return{diff:e,getPatchChanges:function(t,n,i,r){var o=angular.fromJson(angular.toJson(n)),a=e(angular.fromJson(angular.toJson(t)),o,i,r),s=[];return"equal"!==a.changed&&angular.forEach(a.value,function(t,e){"equal"!==t.changed&&s.push({op:"replace",path:"/"+e,value:o[e]})}),s}}}]),angular.module("SER",["ngAnimate","ngMessages","ngSanitize","ngResource","ngMaterial","ui.router","ngFileUpload","angular.filter","SER.i18n","SER.auth","SER.selector","SER.match","SER.image","SER.search","SER.tooltipster","SER.datepicker","SER.loader","SER.filters","SER.barcode","SER.diff"]),function(t){var e=new Image;e.onload=function(){var e=["font-size: 1px;","line-height: "+this.height+"px;","padding: "+.5*this.height+"px "+.5*this.width+"px;","background-size: "+this.width+"px "+this.height+"px;","background: url("+t+");"].join(" ");console.log(""),console.log(""),console.log("%c",e),console.log("https://www.sersoluciones.com"),console.log(""),console.log("")},e.src=t}("https://s3.amazonaws.com/ser-ui/images/powered.jpg"),angular.module("SER").config(["$urlRouterProvider","$urlMatcherFactoryProvider","$compileProvider","$resourceProvider","$httpProvider",function(t,e,n,i,r){r.defaults.paramSerialize="$httpParamSerializerJQLike",i.defaults.stripTrailingSlashes=!0,n.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|skype|tel|chrome-extension):/),t.rule(function(t,e){var n=e.path();if("/"===n[n.length-1])return n.substr(0,n.length-1)});var o=/^[a-f\d]{8}-([a-f\d]{4}-){3}[a-f\d]{12}$/i;e.type("guid",{encode:angular.identity,decode:angular.identity,is:function(t){return o.test(t)}})}]),angular.module("SER").run(["$rootScope","$sce",function(t,e){t.backHistory=function(){$window.history.back()},t.__=__,t.isArray=angular.isArray,t.isObject=angular.isObject,t.isString=angular.isString,t.isUndefined=angular.isUndefined,t.isNumber=angular.isNumber,t.isDefined=angular.isDefined,t.isDate=angular.isDate,t.hasProperty=hasProperty,t.hasValue=hasValue,t.notValue=notValue,t.inArray=inArray,t.getObjectByValue=getObjectByValue,t.isEmptyObject=$.isEmptyObject,t.bodyHeight=function(){return angular.element("body").height()},t.browserWidth=browserWidth,t.trustAsHtml=function(t){return e.trustAsHtml(t)}}]);
//# sourceMappingURL=ser-ui.min.js.map
