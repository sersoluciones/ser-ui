function getStyles(t){return t instanceof HTMLElement?t.ownerDocument&&t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t):window.getComputedStyle(t):{}}function arrayGroupBy(t,e){for(var n={},i=0;i<t.length;++i)void 0===n[t[i][e]]&&(n[t[i][e]]=[]),n[t[i][e]].push(t[i]);return n}function hasValue(t){return angular.isArray(t)?0<t.length:!!angular.isDate(t)||(angular.isObject(t)?!angular.element.isEmptyObject(t):-1===["",null,void 0,NaN].indexOf(t))}function notValue(t){return angular.isArray(t)?0===t.length:!angular.isDate(t)&&(angular.isObject(t)?angular.element.isEmptyObject(t):["",null,void 0,NaN].indexOf(t)>-1)}function hasProperty(t,e){return!!t&&t.hasOwnProperty(e)}function inArray(t,e){return!!e&&-1!==e.indexOf(t)}function notInArray(t,e){return!!e&&-1===e.indexOf(t)}function getObjectByValue(t,e,n){for(var i=0;i<t.length;i++)if(t[i].hasOwnProperty(e)){if(t[i][e]===n)return t[i];for(var r in t[i][e])if(t[i][e][r]===n)return t[i]}}function browserWidth(){return 0<window.innerWidth?window.innerWidth:screen.width}function hasPdfViewer(){for(var t=0;t<window.navigator.plugins.length;t++)if(window.navigator.plugins[t].name.toLowerCase().indexOf("pdf")>-1)return!0;return!1}function getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}!function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var n=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(n){function i(e,r,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=t({path:"/"},i.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(t){}r=n.write?n.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var u="";for(var l in o)o[l]&&(u+="; "+l,!0!==o[l]&&(u+="="+o[l]));return document.cookie=e+"="+r+u}e||(a={});for(var c=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,p=0;p<c.length;p++){var h=c[p].split("="),d=h.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{var g=h[0].replace(f,decodeURIComponent);if(d=n.read?n.read(d,g):n(d,g)||d.replace(f,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(t){}if(e===g){a=d;break}e||(a[g]=d)}catch(t){}}return a}}return i.set=i,i.get=function(t){return i.call(i,t)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,n){i(e,"",t(n,{expires:-1}))},i.withConverter=e,i}return e(function(){})}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){function e(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function n(e,n){var i=!0;return t.each(e,function(t,r){if(void 0===n[t]||e[t]!==n[t])return i=!1,!1}),i}function i(e){var n=e.attr("id"),i=n?a.window.document.getElementById(n):null;return i?i===e[0]:t.contains(a.window.document.body,e[0])}var r={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:"body",plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},o="undefined"!=typeof window?window:null,a={hasTouchCapability:!(!o||!("ontouchstart"in o||o.DocumentTouch&&o.document instanceof o.DocumentTouch||o.navigator.maxTouchPoints)),hasTransitions:function(){if(!o)return!1;var t=(o.document.body||o.document.documentElement).style,e="transition",n=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var i=0;i<n.length;i++)if("string"==typeof t[n[i]+e])return!0;return!1}(),IE:!1,semVer:"4.1.7",window:o},s=function(){this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__instancesLatestArr=[],this.__plugins={},this._env=a};s.prototype={__bridge:function(e,n,i){if(!n[i]){var o=function(){};o.prototype=e;var a=new o;a.__init&&a.__init(n),t.each(e,function(t,e){0!=t.indexOf("__")&&(n[t]?r.debug&&console.log("The "+t+" method of the "+i+" plugin conflicts with another plugin or native methods"):(n[t]=function(){return a[t].apply(a,Array.prototype.slice.apply(arguments))},n[t].bridged=a))}),n[i]=a}return this},__setWindow:function(t){return a.window=t,this},_getRuler:function(t){return new e(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(e){var n=this;if("string"==typeof e){var i=e,r=null;return i.indexOf(".")>0?r=n.__plugins[i]:t.each(n.__plugins,function(t,e){if(e.name.substring(e.name.length-i.length-1)=="."+i)return r=e,!1}),r}if(e.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return n.__plugins[e.name]=e,e.core&&n.__bridge(e.core,n,e.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(e){var n=[];return t(e||".tooltipstered").each(function(){var e=t(this),i=e.data("tooltipster-ns");i&&t.each(i,function(t,i){n.push(e.data(i))})}),n},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(e){return t((e?e+" ":"")+".tooltipstered").toArray()},setDefaults:function(e){return t.extend(r,e),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.tooltipster=new s,t.Tooltipster=function(e,n){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__destroying=!1,this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(e,n)},t.Tooltipster.prototype={__init:function(e,n){var i=this;if(i._$origin=t(e),i.__options=t.extend(!0,{},r,n),i.__optionsFormat(),!a.IE||a.IE>=i.__options.IEmin){var o=null;if(void 0===i._$origin.data("tooltipster-initialTitle")&&(void 0===(o=i._$origin.attr("title"))&&(o=null),i._$origin.data("tooltipster-initialTitle",o)),null!==i.__options.content)i.__contentSet(i.__options.content);else{var s,u=i._$origin.attr("data-tooltip-content");u&&(s=t(u)),s&&s[0]?i.__contentSet(s.first()):i.__contentSet(o)}i._$origin.removeAttr("title").addClass("tooltipstered"),i.__prepareOrigin(),i.__prepareGC(),t.each(i.__options.plugins,function(t,e){i._plug(e)}),a.hasTouchCapability&&t("body").on("touchmove."+i.__namespace+"-triggerOpen",function(t){i._touchRecordEvent(t)}),i._on("created",function(){i.__prepareTooltip()})._on("repositioned",function(t){i.__lastPosition=t.position})}else i.__options.disabled=!0},__contentInsert:function(){var t=this,e=t._$tooltip.find(".tooltipster-content"),n=t.__Content;return t._trigger({type:"format",content:t.__Content,format:function(t){n=t}}),t.__options.functionFormat&&(n=t.__options.functionFormat.call(t,t,{origin:t._$origin[0]},t.__Content)),"string"!=typeof n||t.__options.contentAsHTML?e.empty().append(n):e.text(n),t},__contentSet:function(e){return e instanceof t&&this.__options.contentCloning&&(e=e.clone(!0)),this.__Content=e,this._trigger({type:"updated",content:e}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var e=this,n=e._$origin,i=e._$origin.is("area");if(i){var r=e._$origin.parent().attr("name");n=t('img[usemap="#'+r+'"]')}var o=n[0].getBoundingClientRect(),s=t(a.window.document),u=t(a.window),l=n,c={available:{document:null,window:null},document:{size:{height:s.height(),width:s.width()}},window:{scroll:{left:a.window.scrollX||a.window.document.documentElement.scrollLeft,top:a.window.scrollY||a.window.document.documentElement.scrollTop},size:{height:u.height(),width:u.width()}},origin:{fixedLineage:!1,offset:{},size:{height:o.bottom-o.top,width:o.right-o.left},usemapImage:i?n[0]:null,windowOffset:{bottom:o.bottom,left:o.left,right:o.right,top:o.top}}};if(i){var f=e._$origin.attr("shape"),p=e._$origin.attr("coords");if(p&&(p=p.split(","),t.map(p,function(t,e){p[e]=parseInt(t)})),"default"!=f)switch(f){case"circle":var h=p[0],d=p[1],g=p[2],m=d-g,v=h-g;c.origin.size.height=2*g,c.origin.size.width=c.origin.size.height,c.origin.windowOffset.left+=v,c.origin.windowOffset.top+=m;break;case"rect":var y=p[0],w=p[1],_=p[2],b=p[3];c.origin.size.height=b-w,c.origin.size.width=_-y,c.origin.windowOffset.left+=y,c.origin.windowOffset.top+=w;break;case"poly":for(var $=0,S=0,C=0,k=0,z="even",x=0;x<p.length;x++){var T=p[x];"even"==z?(T>C&&(C=T,0===x&&($=C)),T<$&&($=T),z="odd"):(T>k&&(k=T,1==x&&(S=k)),T<S&&(S=T),z="even")}c.origin.size.height=k-S,c.origin.size.width=C-$,c.origin.windowOffset.left+=$,c.origin.windowOffset.top+=S}}for(e._trigger({type:"geometry",edit:function(t){c.origin.size.height=t.height,c.origin.windowOffset.left=t.left,c.origin.windowOffset.top=t.top,c.origin.size.width=t.width},geometry:{height:c.origin.size.height,left:c.origin.windowOffset.left,top:c.origin.windowOffset.top,width:c.origin.size.width}}),c.origin.windowOffset.right=c.origin.windowOffset.left+c.origin.size.width,c.origin.windowOffset.bottom=c.origin.windowOffset.top+c.origin.size.height,c.origin.offset.left=c.origin.windowOffset.left+c.window.scroll.left,c.origin.offset.top=c.origin.windowOffset.top+c.window.scroll.top,c.origin.offset.bottom=c.origin.offset.top+c.origin.size.height,c.origin.offset.right=c.origin.offset.left+c.origin.size.width,c.available.document={bottom:{height:c.document.size.height-c.origin.offset.bottom,width:c.document.size.width},left:{height:c.document.size.height,width:c.origin.offset.left},right:{height:c.document.size.height,width:c.document.size.width-c.origin.offset.right},top:{height:c.origin.offset.top,width:c.document.size.width}},c.available.window={bottom:{height:Math.max(c.window.size.height-Math.max(c.origin.windowOffset.bottom,0),0),width:c.window.size.width},left:{height:c.window.size.height,width:Math.max(c.origin.windowOffset.left,0)},right:{height:c.window.size.height,width:Math.max(c.window.size.width-Math.max(c.origin.windowOffset.right,0),0)},top:{height:Math.max(c.origin.windowOffset.top,0),width:c.window.size.width}};"html"!=l[0].tagName.toLowerCase();){if("fixed"==l.css("position")){c.origin.fixedLineage=!0;break}l=l.parent()}return c},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),"string"==typeof this.__options.parent&&(this.__options.parent=t(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var e=this;return e.__options.selfDestruction?e.__garbageCollector=setInterval(function(){var n=(new Date).getTime();e.__touchEvents=t.grep(e.__touchEvents,function(t,e){return n-t.time>6e4}),i(e._$origin)||e.destroy()},2e4):clearInterval(e.__garbageCollector),e},__prepareOrigin:function(){var t=this;if(t._$origin.off("."+t.__namespace+"-triggerOpen"),a.hasTouchCapability&&t._$origin.on("touchstart."+t.__namespace+"-triggerOpen touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen",function(e){t._touchRecordEvent(e)}),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&a.hasTouchCapability){e="";t.__options.triggerOpen.click&&(e+="click."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.tap&&a.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&t._open(e)})}if(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&a.hasTouchCapability){e="";t.__options.triggerOpen.mouseenter&&(e+="mouseenter."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.touchstart&&a.hasTouchCapability&&(e+="touchstart."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){!t._touchIsTouchEvent(e)&&t._touchIsEmulatedEvent(e)||(t.__pointerIsOverOrigin=!0,t._openShortly(e))})}if(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&a.hasTouchCapability){var e="";t.__options.triggerClose.mouseleave&&(e+="mouseleave."+t.__namespace+"-triggerOpen "),t.__options.triggerClose.touchleave&&a.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&(t.__pointerIsOverOrigin=!1)})}return t},__prepareTooltip:function(){var e=this,n=e.__options.interactive?"auto":"";return e._$tooltip.attr("id",e.__namespace).css({"pointer-events":n,zIndex:e.__options.zIndex}),t.each(e.__previousThemes,function(t,n){e._$tooltip.removeClass(n)}),t.each(e.__options.theme,function(t,n){e._$tooltip.addClass(n)}),e.__previousThemes=t.merge([],e.__options.theme),e},__scrollHandler:function(e){var n=this;if(n.__options.triggerClose.scroll)n._close(e);else if(i(n._$origin)&&i(n._$tooltip)){if(e.target===a.window.document)n.__Geometry.origin.fixedLineage||n.__options.repositionOnScroll&&n.reposition(e);else{var r=n.__geometry(),o=!1;if("fixed"!=n._$origin.css("position")&&n.__$originParents.each(function(e,n){var i=t(n),a=i.css("overflow-x"),s=i.css("overflow-y");if("visible"!=a||"visible"!=s){var u=n.getBoundingClientRect();if("visible"!=a&&(r.origin.windowOffset.left<u.left||r.origin.windowOffset.right>u.right))return o=!0,!1;if("visible"!=s&&(r.origin.windowOffset.top<u.top||r.origin.windowOffset.bottom>u.bottom))return o=!0,!1}if("fixed"==i.css("position"))return!1}),o)n._$tooltip.css("visibility","hidden");else if(n._$tooltip.css("visibility","visible"),n.__options.repositionOnScroll)n.reposition(e);else{var s=r.origin.offset.left-n.__Geometry.origin.offset.left,u=r.origin.offset.top-n.__Geometry.origin.offset.top;n._$tooltip.css({left:n.__lastPosition.coord.left+s,top:n.__lastPosition.coord.top+u})}}n._trigger({type:"scroll",event:e})}return n},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,t.each(this.__timeouts.close,function(t,e){clearTimeout(e)}),this.__timeouts.close=[],this},__trackerStart:function(){var t=this,e=t._$tooltip.find(".tooltipster-content");return t.__options.trackTooltip&&(t.__contentBcr=e[0].getBoundingClientRect()),t.__tracker=setInterval(function(){if(i(t._$origin)&&i(t._$tooltip)){if(t.__options.trackOrigin){var r=t.__geometry(),o=!1;n(r.origin.size,t.__Geometry.origin.size)&&(t.__Geometry.origin.fixedLineage?n(r.origin.windowOffset,t.__Geometry.origin.windowOffset)&&(o=!0):n(r.origin.offset,t.__Geometry.origin.offset)&&(o=!0)),o||(t.__options.triggerClose.mouseleave?t._close():t.reposition())}if(t.__options.trackTooltip){var a=e[0].getBoundingClientRect();a.height===t.__contentBcr.height&&a.width===t.__contentBcr.width||(t.reposition(),t.__contentBcr=a)}}else t._close()},t.__options.trackerInterval),t},_close:function(e,n){var i=this,r=!0;if(i._trigger({type:"close",event:e,stop:function(){r=!1}}),r||i.__destroying){n&&i.__callbacks.close.push(n),i.__callbacks.open=[],i.__timeoutsClear();var o=function(){t.each(i.__callbacks.close,function(t,n){n.call(i,i,{event:e,origin:i._$origin[0]})}),i.__callbacks.close=[]};if("closed"!=i.__state){var s=!0,u=(new Date).getTime()+i.__options.animationDuration[1];if("disappearing"==i.__state&&u>i.__closingTime&&(s=!1),s){i.__closingTime=u,"disappearing"!=i.__state&&i.__stateSet("disappearing");var l=function(){clearInterval(i.__tracker),i._trigger({type:"closing",event:e}),i._$tooltip.off("."+i.__namespace+"-triggerClose").removeClass("tooltipster-dying"),t(a.window).off("."+i.__namespace+"-triggerClose"),i.__$originParents.each(function(e,n){t(n).off("scroll."+i.__namespace+"-triggerClose")}),i.__$originParents=null,t("body").off("."+i.__namespace+"-triggerClose"),i._$origin.off("."+i.__namespace+"-triggerClose"),i._off("dismissable"),i.__stateSet("closed"),i._trigger({type:"after",event:e}),i.__options.functionAfter&&i.__options.functionAfter.call(i,i,{event:e,origin:i._$origin[0]}),o()};a.hasTransitions?(i._$tooltip.css({"-moz-animation-duration":i.__options.animationDuration[1]+"ms","-ms-animation-duration":i.__options.animationDuration[1]+"ms","-o-animation-duration":i.__options.animationDuration[1]+"ms","-webkit-animation-duration":i.__options.animationDuration[1]+"ms","animation-duration":i.__options.animationDuration[1]+"ms","transition-duration":i.__options.animationDuration[1]+"ms"}),i._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),i.__options.animationDuration[1]>0&&i._$tooltip.delay(i.__options.animationDuration[1]),i._$tooltip.queue(l)):i._$tooltip.stop().fadeOut(i.__options.animationDuration[1],l)}}else o()}return i},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(e,n){var r=this;if(!r.__destroying&&i(r._$origin)&&r.__enabled){var o=!0;if("closed"==r.__state&&(r._trigger({type:"before",event:e,stop:function(){o=!1}}),o&&r.__options.functionBefore&&(o=r.__options.functionBefore.call(r,r,{event:e,origin:r._$origin[0]}))),!1!==o&&null!==r.__Content){n&&r.__callbacks.open.push(n),r.__callbacks.close=[],r.__timeoutsClear();var s,u=function(){"stable"!=r.__state&&r.__stateSet("stable"),t.each(r.__callbacks.open,function(t,e){e.call(r,r,{origin:r._$origin[0],tooltip:r._$tooltip[0]})}),r.__callbacks.open=[]};if("closed"!==r.__state)s=0,"disappearing"===r.__state?(r.__stateSet("appearing"),a.hasTransitions?(r._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),r.__options.animationDuration[0]>0&&r._$tooltip.delay(r.__options.animationDuration[0]),r._$tooltip.queue(u)):r._$tooltip.stop().fadeIn(u)):"stable"==r.__state&&u();else{if(r.__stateSet("appearing"),s=r.__options.animationDuration[0],r.__contentInsert(),r.reposition(e,!0),a.hasTransitions?(r._$tooltip.addClass("tooltipster-"+r.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":r.__options.animationDuration[0]+"ms","-ms-animation-duration":r.__options.animationDuration[0]+"ms","-o-animation-duration":r.__options.animationDuration[0]+"ms","-webkit-animation-duration":r.__options.animationDuration[0]+"ms","animation-duration":r.__options.animationDuration[0]+"ms","transition-duration":r.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=r.__state&&(r._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),r.__options.animationDuration[0]>0&&r._$tooltip.delay(r.__options.animationDuration[0]),r._$tooltip.queue(u))},0)):r._$tooltip.css("display","none").fadeIn(r.__options.animationDuration[0],u),r.__trackerStart(),t(a.window).on("resize."+r.__namespace+"-triggerClose",function(e){var n=t(document.activeElement);(n.is("input")||n.is("textarea"))&&t.contains(r._$tooltip[0],n[0])||r.reposition(e)}).on("scroll."+r.__namespace+"-triggerClose",function(t){r.__scrollHandler(t)}),r.__$originParents=r._$origin.parents(),r.__$originParents.each(function(e,n){t(n).on("scroll."+r.__namespace+"-triggerClose",function(t){r.__scrollHandler(t)})}),r.__options.triggerClose.mouseleave||r.__options.triggerClose.touchleave&&a.hasTouchCapability){r._on("dismissable",function(t){t.dismissable?t.delay?(p=setTimeout(function(){r._close(t.event)},t.delay),r.__timeouts.close.push(p)):r._close(t):clearTimeout(p)});var l=r._$origin,c="",f="",p=null;r.__options.interactive&&(l=l.add(r._$tooltip)),r.__options.triggerClose.mouseleave&&(c+="mouseenter."+r.__namespace+"-triggerClose ",f+="mouseleave."+r.__namespace+"-triggerClose "),r.__options.triggerClose.touchleave&&a.hasTouchCapability&&(c+="touchstart."+r.__namespace+"-triggerClose",f+="touchend."+r.__namespace+"-triggerClose touchcancel."+r.__namespace+"-triggerClose"),l.on(f,function(t){if(r._touchIsTouchEvent(t)||!r._touchIsEmulatedEvent(t)){var e="mouseleave"==t.type?r.__options.delay:r.__options.delayTouch;r._trigger({delay:e[1],dismissable:!0,event:t,type:"dismissable"})}}).on(c,function(t){!r._touchIsTouchEvent(t)&&r._touchIsEmulatedEvent(t)||r._trigger({dismissable:!1,event:t,type:"dismissable"})})}r.__options.triggerClose.originClick&&r._$origin.on("click."+r.__namespace+"-triggerClose",function(t){r._touchIsTouchEvent(t)||r._touchIsEmulatedEvent(t)||r._close(t)}),(r.__options.triggerClose.click||r.__options.triggerClose.tap&&a.hasTouchCapability)&&setTimeout(function(){if("closed"!=r.__state){var e="";r.__options.triggerClose.click&&(e+="click."+r.__namespace+"-triggerClose "),r.__options.triggerClose.tap&&a.hasTouchCapability&&(e+="touchend."+r.__namespace+"-triggerClose"),t("body").on(e,function(e){r._touchIsMeaningfulEvent(e)&&(r._touchRecordEvent(e),r.__options.interactive&&t.contains(r._$tooltip[0],e.target)||r._close(e))}),r.__options.triggerClose.tap&&a.hasTouchCapability&&t("body").on("touchstart."+r.__namespace+"-triggerClose",function(t){r._touchRecordEvent(t)})}},0),r._trigger("ready"),r.__options.functionReady&&r.__options.functionReady.call(r,r,{origin:r._$origin[0],tooltip:r._$tooltip[0]})}if(r.__options.timer>0){p=setTimeout(function(){r._close()},r.__options.timer+s);r.__timeouts.close.push(p)}}}return r},_openShortly:function(t){var e=this,n=!0;if("stable"!=e.__state&&"appearing"!=e.__state&&!e.__timeouts.open&&(e._trigger({type:"start",event:t,stop:function(){n=!1}}),n)){var i=0==t.type.indexOf("touch")?e.__options.delayTouch:e.__options.delay;i[0]?e.__timeouts.open=setTimeout(function(){e.__timeouts.open=null,e.__pointerIsOverOrigin&&e._touchIsMeaningfulEvent(t)?(e._trigger("startend"),e._open(t)):e._trigger("startcancel")},i[0]):(e._trigger("startend"),e._open(t))}return e},_optionsExtract:function(e,n){var i=this,r=t.extend(!0,{},n),o=i.__options[e];return o||(o={},t.each(n,function(t,e){var n=i.__options[t];void 0!==n&&(o[t]=n)})),t.each(r,function(e,n){void 0!==o[e]&&("object"!=typeof n||n instanceof Array||null==n||"object"!=typeof o[e]||o[e]instanceof Array||null==o[e]?r[e]=o[e]:t.extend(r[e],o[e]))}),r},_plug:function(e){var n=t.tooltipster._plugin(e);if(!n)throw new Error('The "'+e+'" plugin is not defined');return n.instance&&t.tooltipster.__bridge(n.instance,this,n.name),this},_touchIsEmulatedEvent:function(t){for(var e=!1,n=(new Date).getTime(),i=this.__touchEvents.length-1;i>=0;i--){var r=this.__touchEvents[i];if(!(n-r.time<500))break;r.target===t.target&&(e=!0)}return e},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var e=!1,n=this.__touchEvents.length-1;n>=0;n--){var i=this.__touchEvents[n];if("touchmove"==i.type){e=!0;break}if("touchstart"==i.type&&t===i.target)break}return e},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),e[0].instance=this,e[0].origin=this._$origin?this._$origin[0]:null,e[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),t.tooltipster._trigger.apply(t.tooltipster,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},_unplug:function(e){var n=this;if(n[e]){var i=t.tooltipster._plugin(e);i.instance&&t.each(i.instance,function(t,i){n[t]&&n[t].bridged===n[e]&&delete n[t]}),n[e].__destroy&&n[e].__destroy(),delete n[e]}return n},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var e=this;if(void 0===t)return e.__Content;if(e.__destroyed)e.__destroyError();else if(e.__contentSet(t),null!==e.__Content){if("closed"!==e.__state&&(e.__contentInsert(),e.reposition(),e.__options.updateAnimation))if(a.hasTransitions){var n=e.__options.updateAnimation;e._$tooltip.addClass("tooltipster-update-"+n),setTimeout(function(){"closed"!=e.__state&&e._$tooltip.removeClass("tooltipster-update-"+n)},1e3)}else e._$tooltip.fadeTo(200,.5,function(){"closed"!=e.__state&&e._$tooltip.fadeTo(200,1)})}else e._close();return e},destroy:function(){var e=this;return e.__destroyed?e.__destroyError():e.__destroying||(e.__destroying=!0,e._close(null,function(){e._trigger("destroy"),e.__destroying=!1,e.__destroyed=!0,e._$origin.removeData(e.__namespace).off("."+e.__namespace+"-triggerOpen"),t("body").off("."+e.__namespace+"-triggerOpen");var n=e._$origin.data("tooltipster-ns");if(n)if(1===n.length){var i=null;"previous"==e.__options.restoration?i=e._$origin.data("tooltipster-initialTitle"):"current"==e.__options.restoration&&(i="string"==typeof e.__Content?e.__Content:t("<div></div>").append(e.__Content).html()),i&&e._$origin.attr("title",i),e._$origin.removeClass("tooltipstered"),e._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,function(t,n){return t!==e.__namespace}),e._$origin.data("tooltipster-ns",n);e._trigger("destroyed"),e._off(),e.off(),e.__Content=null,e.__$emitterPrivate=null,e.__$emitterPublic=null,e.__options.parent=null,e._$origin=null,e._$tooltip=null,t.tooltipster.__instancesLatestArr=t.grep(t.tooltipster.__instancesLatestArr,function(t,n){return e!==t}),clearInterval(e.__garbageCollector)})),e},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed||this.__destroying?this.__destroyError():this._open(null,t),this},option:function(e,n){return void 0===n?this.__options[e]:(this.__destroyed?this.__destroyError():(this.__options[e]=n,this.__optionsFormat(),t.inArray(e,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===e&&this.__prepareGC()),this)},reposition:function(t,e){var n=this;return n.__destroyed?n.__destroyError():"closed"!=n.__state&&i(n._$origin)&&(e||i(n._$tooltip))&&(e||n._$tooltip.detach(),n.__Geometry=n.__geometry(),n._trigger({type:"reposition",event:t,helper:{geo:n.__Geometry}})),n},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.fn.tooltipster=function(){var e=Array.prototype.slice.apply(arguments),n="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof e[0]){var i="#*$~&";return this.each(function(){var r=t(this).data("tooltipster-ns"),o=r?t(this).data(r[0]):null;if(!o)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof o[e[0]])throw new Error('Unknown method "'+e[0]+'"');this.length>1&&"content"==e[0]&&(e[1]instanceof t||"object"==typeof e[1]&&null!=e[1]&&e[1].tagName)&&!o.__options.contentCloning&&o.__options.debug&&console.log(n);var a=o[e[0]](e[1],e[2]);if(a!==o||"instance"===e[0])return i=a,!1}),"#*$~&"!==i?i:this}t.tooltipster.__instancesLatestArr=[];var o=e[0]&&void 0!==e[0].multiple,a=o&&e[0].multiple||!o&&r.multiple,s=e[0]&&void 0!==e[0].content,u=s&&e[0].content||!s&&r.content,l=e[0]&&void 0!==e[0].contentCloning,c=l&&e[0].contentCloning||!l&&r.contentCloning,f=e[0]&&void 0!==e[0].debug,p=f&&e[0].debug||!f&&r.debug;return this.length>1&&(u instanceof t||"object"==typeof u&&null!=u&&u.tagName)&&!c&&p&&console.log(n),this.each(function(){var n=!1,i=t(this),r=i.data("tooltipster-ns"),o=null;r?a?n=!0:p&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):n=!0,n&&(o=new t.Tooltipster(this,e[0]),r||(r=[]),r.push(o.__namespace),i.data("tooltipster-ns",r),i.data(o.__namespace,o),o.__options.functionInit&&o.__options.functionInit.call(o,o,{origin:this}),o._trigger("init")),t.tooltipster.__instancesLatestArr.push(o)}),this},e.prototype={__init:function(e){this.__$tooltip=e,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=t('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo("body")},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,e){return this.constraints={width:t,height:e},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),e={size:{height:t.height||t.bottom,width:t.width||t.right}};if(this.constraints){var n=this.__$tooltip.find(".tooltipster-content"),i=this.__$tooltip.outerHeight(),r=n[0].getBoundingClientRect(),o={height:i<=this.constraints.height,width:t.width<=this.constraints.width&&r.width>=n[0].scrollWidth-1};e.fits=o.height&&o.width}return a.IE&&a.IE<=11&&e.size.width!==a.window.document.documentElement.clientWidth&&(e.size.width=Math.ceil(e.size.width)+1),e}};var u=navigator.userAgent.toLowerCase();-1!=u.indexOf("msie")?a.IE=parseInt(u.split("msie")[1]):-1!==u.toLowerCase().indexOf("trident")&&-1!==u.indexOf(" rv:11")?a.IE=11:-1!=u.toLowerCase().indexOf("edge/")&&(a.IE=parseInt(u.toLowerCase().split("edge/")[1]));return t.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var e=this;e.__instance=t,e.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),e.__previousState="closed",e.__options,e.__optionsFormat(),e.__instance._on("state."+e.__namespace,function(t){"closed"==t.state?e.__close():"appearing"==t.state&&"closed"==e.__previousState&&e.__create(),e.__previousState=t.state}),e.__instance._on("options."+e.__namespace,function(){e.__optionsFormat()}),e.__instance._on("reposition."+e.__namespace,function(t){e.__reposition(t.event,t.helper)})},__close:function(){this.__instance.content()instanceof t&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var e=t('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||e.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&e.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&e.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=e,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var e=this;if(e.__options=e.__instance._optionsExtract("tooltipster.sideTip",e.__defaults()),e.__options.position&&(e.__options.side=e.__options.position),"object"!=typeof e.__options.distance&&(e.__options.distance=[e.__options.distance]),e.__options.distance.length<4&&(void 0===e.__options.distance[1]&&(e.__options.distance[1]=e.__options.distance[0]),void 0===e.__options.distance[2]&&(e.__options.distance[2]=e.__options.distance[0]),void 0===e.__options.distance[3]&&(e.__options.distance[3]=e.__options.distance[1]),e.__options.distance={top:e.__options.distance[0],right:e.__options.distance[1],bottom:e.__options.distance[2],left:e.__options.distance[3]}),"string"==typeof e.__options.side){var n={top:"bottom",right:"left",bottom:"top",left:"right"};e.__options.side=[e.__options.side,n[e.__options.side]],"left"==e.__options.side[0]||"right"==e.__options.side[0]?e.__options.side.push("top","bottom"):e.__options.side.push("right","left")}6===t.tooltipster._env.IE&&!0!==e.__options.arrow&&(e.__options.arrow=!1)},__reposition:function(e,n){var i,r=this,o=r.__targetFind(n),a=[];r.__instance._$tooltip.detach();var s=r.__instance._$tooltip.clone(),u=t.tooltipster._getRuler(s),l=!1,c=r.__instance.option("animation");switch(c&&s.removeClass("tooltipster-"+c),t.each(["window","document"],function(i,c){var f=null;if(r.__instance._trigger({container:c,helper:n,satisfied:l,takeTest:function(t){f=t},results:a,type:"positionTest"}),1==f||0!=f&&0==l&&("window"!=c||r.__options.viewportAware))for(var i=0;i<r.__options.side.length;i++){var p={horizontal:0,vertical:0},h=r.__options.side[i];"top"==h||"bottom"==h?p.vertical=r.__options.distance[h]:p.horizontal=r.__options.distance[h],r.__sideChange(s,h),t.each(["natural","constrained"],function(t,i){if(f=null,r.__instance._trigger({container:c,event:e,helper:n,mode:i,results:a,satisfied:l,side:h,takeTest:function(t){f=t},type:"positionTest"}),1==f||0!=f&&0==l){var s={container:c,distance:p,fits:null,mode:i,outerSize:null,side:h,size:null,target:o[h],whole:null},d=("natural"==i?u.free():u.constrain(n.geo.available[c][h].width-p.horizontal,n.geo.available[c][h].height-p.vertical)).measure();if(s.size=d.size,s.outerSize={height:d.size.height+p.vertical,width:d.size.width+p.horizontal},"natural"==i?n.geo.available[c][h].width>=s.outerSize.width&&n.geo.available[c][h].height>=s.outerSize.height?s.fits=!0:s.fits=!1:s.fits=d.fits,"window"==c&&(s.fits?s.whole="top"==h||"bottom"==h?n.geo.origin.windowOffset.right>=r.__options.minIntersection&&n.geo.window.size.width-n.geo.origin.windowOffset.left>=r.__options.minIntersection:n.geo.origin.windowOffset.bottom>=r.__options.minIntersection&&n.geo.window.size.height-n.geo.origin.windowOffset.top>=r.__options.minIntersection:s.whole=!1),a.push(s),s.whole)l=!0;else if("natural"==s.mode&&(s.fits||s.size.width<=n.geo.available[c][h].width))return!1}})}}),r.__instance._trigger({edit:function(t){a=t},event:e,helper:n,results:a,type:"positionTested"}),a.sort(function(t,e){if(t.whole&&!e.whole)return-1;if(!t.whole&&e.whole)return 1;if(t.whole&&e.whole)return(n=r.__options.side.indexOf(t.side))<(i=r.__options.side.indexOf(e.side))?-1:n>i?1:"natural"==t.mode?-1:1;if(t.fits&&!e.fits)return-1;if(!t.fits&&e.fits)return 1;if(t.fits&&e.fits){var n=r.__options.side.indexOf(t.side),i=r.__options.side.indexOf(e.side);return n<i?-1:n>i?1:"natural"==t.mode?-1:1}return"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1}),i=a[0],i.coord={},i.side){case"left":case"right":i.coord.top=Math.floor(i.target-i.size.height/2);break;case"bottom":case"top":i.coord.left=Math.floor(i.target-i.size.width/2)}switch(i.side){case"left":i.coord.left=n.geo.origin.windowOffset.left-i.outerSize.width;break;case"right":i.coord.left=n.geo.origin.windowOffset.right+i.distance.horizontal;break;case"top":i.coord.top=n.geo.origin.windowOffset.top-i.outerSize.height;break;case"bottom":i.coord.top=n.geo.origin.windowOffset.bottom+i.distance.vertical}"window"==i.container?"top"==i.side||"bottom"==i.side?i.coord.left<0?n.geo.origin.windowOffset.right-this.__options.minIntersection>=0?i.coord.left=0:i.coord.left=n.geo.origin.windowOffset.right-this.__options.minIntersection-1:i.coord.left>n.geo.window.size.width-i.size.width&&(n.geo.origin.windowOffset.left+this.__options.minIntersection<=n.geo.window.size.width?i.coord.left=n.geo.window.size.width-i.size.width:i.coord.left=n.geo.origin.windowOffset.left+this.__options.minIntersection+1-i.size.width):i.coord.top<0?n.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?i.coord.top=0:i.coord.top=n.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:i.coord.top>n.geo.window.size.height-i.size.height&&(n.geo.origin.windowOffset.top+this.__options.minIntersection<=n.geo.window.size.height?i.coord.top=n.geo.window.size.height-i.size.height:i.coord.top=n.geo.origin.windowOffset.top+this.__options.minIntersection+1-i.size.height):(i.coord.left>n.geo.window.size.width-i.size.width&&(i.coord.left=n.geo.window.size.width-i.size.width),i.coord.left<0&&(i.coord.left=0)),r.__sideChange(s,i.side),n.tooltipClone=s[0],n.tooltipParent=r.__instance.option("parent").parent[0],n.mode=i.mode,n.whole=i.whole,n.origin=r.__instance._$origin[0],n.tooltip=r.__instance._$tooltip[0],delete i.container,delete i.fits,delete i.mode,delete i.outerSize,delete i.whole,i.distance=i.distance.horizontal||i.distance.vertical;var f=t.extend(!0,{},i);if(r.__instance._trigger({edit:function(t){i=t},event:e,helper:n,position:f,type:"position"}),r.__options.functionPosition){var p=r.__options.functionPosition.call(r,r.__instance,n,f);p&&(i=p)}u.destroy();var h,d;"top"==i.side||"bottom"==i.side?(h={prop:"left",val:i.target-i.coord.left},d=i.size.width-this.__options.minIntersection):(h={prop:"top",val:i.target-i.coord.top},d=i.size.height-this.__options.minIntersection),h.val<this.__options.minIntersection?h.val=this.__options.minIntersection:h.val>d&&(h.val=d);var g;g=n.geo.origin.fixedLineage?n.geo.origin.windowOffset:{left:n.geo.origin.windowOffset.left+n.geo.window.scroll.left,top:n.geo.origin.windowOffset.top+n.geo.window.scroll.top},i.coord={left:g.left+(i.coord.left-n.geo.origin.windowOffset.left),top:g.top+(i.coord.top-n.geo.origin.windowOffset.top)},r.__sideChange(r.__instance._$tooltip,i.side),n.geo.origin.fixedLineage?r.__instance._$tooltip.css("position","fixed"):r.__instance._$tooltip.css("position",""),r.__instance._$tooltip.css({left:i.coord.left,top:i.coord.top,height:i.size.height,width:i.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(h.prop,h.val),r.__instance._$tooltip.appendTo(r.__instance.option("parent")),r.__instance._trigger({type:"repositioned",event:e,position:i})},__sideChange:function(t,e){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+e)},__targetFind:function(t){var e={},n=this.__instance._$origin[0].getClientRects();if(n.length>1&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),n=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)),n.length<2)e.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),e.bottom=e.top,e.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),e.right=e.left;else{var i=n[0];e.top=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil(n.length/2)-1]:n[0],e.right=Math.floor(i.top+(i.bottom-i.top)/2),i=n[n.length-1],e.bottom=Math.floor(i.left+(i.right-i.left)/2),i=n.length>2?n[Math.ceil((n.length+1)/2)-1]:n[n.length-1],e.left=Math.floor(i.top+(i.bottom-i.top)/2)}return e}}}),t}),function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},r=n.prototype,o=i.prototype,a=t.FileReaderSync,s=function(t){this.code=this[this.name=t]},u="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),l=u.length,c=t.URL||t.webkitURL||t,f=c.createObjectURL,p=c.revokeObjectURL,h=c,d=t.btoa,g=t.atob,m=t.ArrayBuffer,v=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;l--;)s.prototype[u[l]]=l+1;return c.createObjectURL||(h=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(y),n.origin=e&&e[1])),n}),h.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof i?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):d?e+";base64,"+d(t.data):e+","+encodeURIComponent(t.data)):f?f.call(c,t):void 0},h.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&p&&p.call(c,t)},r.append=function(t){var n=this.data;if(v&&(t instanceof m||t instanceof v)){for(var r="",o=new v(t),u=0,l=o.length;u<l;u++)r+=String.fromCharCode(o[u]);n.push(r)}else if("Blob"===e(t)||"File"===e(t)){if(!a)throw new s("NOT_READABLE_ERR");var c=new a;n.push(c.readAsBinaryString(t))}else t instanceof i?"base64"===t.encoding&&g?n.push(g(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new i(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(t,r>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,n){var i=n?n.type||"":"",r=new e;if(t)for(var o=0,a=t.length;o<a;o++)Uint8Array&&t[o]instanceof Uint8Array?r.append(t[o].buffer):r.append(t[o]);var s=r.getBlob(i);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=n(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(t){var e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n={},i="",r=function(){var e=l.apply(this);""==e&&(this.get(0)==t(document).get(0)?e=document.location.href:this.is("[href]")?e=this.attr("href"):this.is("[src]")&&(e=this.attr("src")),""!=e&&(e=g(e),this.data("href",e)))},o=function(){if(this.get(0)!=t(document).get(0)&&null==this.attr("href")&&null==this.attr("src")&&null!=this.html()&&0==this.hasClass("jurlp-span")){for(var e=[],n=!1,i="",r=/((((mailto|spotify|skype)\:([a-zA-Z0-9\.\-\:@\?\=\%]*))|((ftp|git|irc|ircs|irc6|pop|rss|ssh|svn|udp|feed|imap|ldap|nntp|rtmp|sftp|snmp|xmpp|http|https|telnet|ventrilo|webcal|view\-source)\:[\/]{2})?(([a-zA-Z0-9\.\-]+)\:([a-zA-Z0-9\.&;%\$\-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|localhost|([a-zA-Z0-9\-]+\.)*[a-zA-Z0-9\-]+\.(aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|[a-zA-Z]{2}))(\:[0-9]+)*(\/($|[a-zA-Z0-9\.\,\?\'\\\+&;%\$\=~_\-]+)?(#\w*)?)*))/i,o=this.html();i=r.exec(o);)o=o.replace(i[0],"$"+e.length),e.push(i[0]),n=!0;for(var a=0;a<e.length;a++){var s=o.indexOf("$"+a),u=o.substring(s-6,s-1);o="href="==u||" src="==u||">"==o.substring(s-1,s)?o.replace("$"+a,e[a]):o.replace("$"+a,'<a href="[url]" class="jurlp-no-watch">[url]</a>'.replace(/\[url\]/g,e[a]))}if(0!=n)return this.addClass("jurlp-span"),this.html(o),this.find("a[href]").each(function(){var e=l.apply(t(this));p.apply(t(this),[e])})}return null},a=function(t,e){0!=this.is("["+t+"]")&&(null==this.data("original-"+t)&&this.data("original-"+t,this.attr(t)),this.attr(t,e))},s=function(t){null!=this.data("original-"+t)&&(this.attr(t,this.data("original-"+t)),this.removeData("original-"+t))},u=function(){this.removeData("href"),s.apply(this,["href"]),s.apply(this,["src"]),this.removeData("jurlp-no-watch"),this.removeData("is-watched"),L.unwatch.apply(this)},l=function(){return this.href||this.data("href")||this.attr("href")||this.attr("src")||""},c=function(t,e){p.apply(this,[m(l.apply(this),t,e)])},f=function(t){c.apply(this,[t[0],t[1]])},p=function(e){"object"==typeof e&&(e=d(e)),e=g(e),null==this.href?this.get(0)==t(document).get(0)?this.data("href",e):(a.apply(this,["href",e]),a.apply(this,["src",e])):this.href=e},h=function(t){if(null==t)return{scheme:"",user:"",password:"",host:"",port:"",path:"",query:"",fragment:""};var n={user:"",password:""};if("//"==t.substring(0,2)&&(t="http:"+t),""!=t&&-1==t.indexOf("://")&&(t="http://"+t),-1!=t.indexOf("@")){var i=t.match(e);i[4]&&(n.user=i[4]),i[5]&&(n.password=i[5])}var r=document.createElement("a");r.href=t;try{r.protocol}catch(e){if(-2146697202==e.number){var o="";""!=n.user&&(o+=n.user,""!=n.password&&(o+=":"+n.password),o+="@",r.href=t.replace(o,""))}}var a=r.protocol;-1==r.protocol.indexOf("//")&&(a+="//");var s=r.pathname;"/"!=s[0]&&(s="/"+s);var u=r.port+"";return("21"==u&&-1==t.indexOf(":21")||"80"==u&&-1==t.indexOf(":80")||"443"==u&&-1==t.indexOf(":443")||"0"==u)&&(u=""),{scheme:a,user:n.user,password:n.password,host:r.hostname,port:u,path:s,query:r.search,fragment:r.hash}},d=function(t){var e=t.scheme;return null!=t.user&&""!=t.user&&(e+=t.user,null!=t.password&&""!=t.password&&(e+=":"+t.password),e+="@"),e+t.host+(""!=t.port?":"+t.port:"")+t.path+t.query+t.fragment},g=function(t){return H.parse(t).toString()},m=function(t,e,n){var i=H.parse(t);return i[e]=n,d(i)},v=function(t){return"string"==typeof t?H.parse(t):t},y=function(t){return v(t).fragment},w=function(t){var e=v(t).query;return"?"==e[0]?e.slice(1):e},_=function(e){var n={},i=$(l.apply(this));"string"==typeof e?("?"==e[0]&&(i={},e=e.substring(1)),n=b(e)):n=e,0==t.isEmptyObject(n)?n=t.extend(i,n):i={},c.apply(this,["query",S.apply(n)])},b=function(t){var e={};if(""!=t)for(var n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");e[r[0]]=r[1]}return e},$=function(t){return b(w(t))},S=function(){var t="";for(var e in this)"toString"!=e&&null!=this[e]&&(t+="&"+e+"="+this[e]);return"&"==t[0]&&(t="?"+t.slice(1)),t},C=function(t){var e=v(t).path;return"/"==e[0]?e.slice(1):e},k=function(t){var e=C(t);return""!=e?e.split("/"):[]},z=function(t){var e=v(l.apply(this)).path.split("/"),n=t.split("/"),i=0;""==n[0]&&(e=[],i++),e.splice(0,1);for(var r=n.length;i<r;i++)".."==n[i]?e.length>0&&e.splice(e.length-1,1):"."==n[i]||e.push(n[i]);c.apply(this,["path",x.apply(e)])},x=function(){return this.length>0?"/"+this.join("/"):"/"},T=function(t){return v(t).port},E=function(t){return v(t).host},O=function(t){return v(t).password},R=function(t){return v(t).user},D=function(t){return v(t).scheme},A=function(t,e,r){1!=t.data("is-watched")&&n[i]&&n[i].push([e,r])},P=function(e,n){return null!=this.href?(e.apply(this,[n]),this):(A(this,e,[n]),this.each(function(){e.apply(t(this),[n])}))},I=function(e,n){if(null!=this.href)return e.apply(this,[n]);var i=[];return this.each(function(){i.push(e.apply(t(this),[n]))}),i},W=function(t,e,n){return 0==n.length?t.apply(this):e.apply(this,n)},M=function(t){return null!=L[t]?L[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"==typeof t||null==t?L.initialise.apply(this,Array.prototype.slice.call(arguments,1)):this},H={toString:{http:function(){return d(this)},mailto:function(){return this.password="",this.path="",this.port="",d(this)},javascript:function(){return"javascript:"+this.javascript},generic:function(){return this.scheme+this.url}},parsers:{http:function(e){return t.extend(h(e),{toString:H.toString.http})},mailto:function(e){return t.extend(h(e.substring(7)),{scheme:"mailto:",toString:H.toString.mailto})},javascript:function(e){return t.extend(h(document.location.href),{javascript:e.substring(11),toString:H.toString.javascript})},generic:function(e,n){return"//"==n.substring(0,2)?t.extend(h(n.substring(2)),{scheme:e+"://",toString:H.toString.http}):{scheme:e+":",url:n,toString:H.toString.generic}}},parse:function(t){if("string"!=typeof t)return t;var e=t.indexOf(":");if(-1!=e){var n=t.substring(0,e).toLowerCase();return null!=this.parsers[n]?this.parsers[n](t):this.parsers.generic(n,t.substring(e+1))}return this.parsers.http(t)}},j={getUrl:function(){return I.apply(this,[l,null])},setUrl:function(t){p.apply(this,[t])},parseUrl:function(){return I.apply(this,[function(){return H.parse(l.apply(this))},null])},getFragment:function(){return I.apply(this,[function(){return y(l.apply(this))},null])},setFragment:function(t){return"#"!=t[0]&&(t="#"+t),P.apply(this,[f,["fragment",t]])},getQuery:function(){return I.apply(this,[function(){return t.extend($(l.apply(this)),{toString:S})},null])},setQuery:function(t){return P.apply(this,[_,t])},getPath:function(){return I.apply(this,[function(){return t.extend(k(l.apply(this)),{toString:x})},null])},setPath:function(t){return P.apply(this,[z,t])},getPort:function(){return I.apply(this,[function(){return T(l.apply(this))},null])},setPort:function(t){return P.apply(this,[f,["port",t]])},getHost:function(){return I.apply(this,[function(){return E(l.apply(this))},null])},setHost:function(t){return P.apply(this,[f,["host",t]])},getPassword:function(){return I.apply(this,[function(){return O(l.apply(this))},null])},setPassword:function(t){return P.apply(this,[f,["password",t]])},getUser:function(){return I.apply(this,[function(){return R(l.apply(this))},null])},setUser:function(t){return P.apply(this,[f,["user",t]])},getScheme:function(){return I.apply(this,[function(){return D(l.apply(this))},null])},setScheme:function(t){return P.apply(this,[f,["scheme",t]])},filters:{"=":function(t,e){return t==e},"!=":function(t,e){return t!=e},"<":function(t,e){return t<e},">":function(t,e){return t>e},"<=":function(t,e){return t<=e},">=":function(t,e){return t>=e},"*=":function(t,e){return-1!=t.indexOf(e)},"^=":function(t,e){return t.length>=e.length&&t.substring(0,e.length)==e},"$=":function(t,e){return t.length>=e.length&&t.substring(t.length-e.length)==e},regex:function(t,e){return t.match(e)}}},L={url:function(t){return W.apply(this,[j.parseUrl,j.setUrl,arguments])},fragment:function(t){return W.apply(this,[j.getFragment,j.setFragment,arguments])},query:function(t){return W.apply(this,[j.getQuery,j.setQuery,arguments])},path:function(t){return W.apply(this,[j.getPath,j.setPath,arguments])},port:function(t){return W.apply(this,[j.getPort,j.setPort,arguments])},host:function(t){return W.apply(this,[j.getHost,j.setHost,arguments])},password:function(t){return W.apply(this,[j.getPassword,j.setPassword,arguments])},user:function(t){return W.apply(this,[j.getUser,j.setUser,arguments])},scheme:function(t){return W.apply(this,[j.getScheme,j.setScheme,arguments])},initialise:function(){var e=this,n=[];return n=o.apply(t(this)),null!=n?P.apply(this.filter(function(){return t(this).get(0)!=t(e).get(0)}).add(n),[r]):P.apply(e,[r])},restore:function(){return P.apply(this,[u])},goto:function(){document.location.href=l.apply(this)},proxy:function(t,e){var n=l.apply(this),i={};p.apply(this,[d(v(t))]),i[e]=n,j.setQuery.apply(this,[i])},watch:function(e){var r=this.selector;return null==n[i]&&(n[i]=[],t(document).bind("DOMNodeInserted",function i(o){if(null!=n[r]){var a=t(o.target).filter(r);if(null==a.get(0)&&(a=t(o.target).find(r)),a.length>0&&0==a.is(".jurlp-no-watch")){var s=!1;a.data("is-watched",!0);for(var u=0,l=n[r].length;u<l;u++){var c=n[r][u][0].apply(a,n[r][u][1]);if(null!=c&&0==c.length){s=!0;break}}0==s&&"function"==typeof e&&a.each(function(){e(t(this),r)})}}else t(document).unbind("DOMNodeInserted",i)})),this},unwatch:function(){n[this.selector]=null},filter:function(e,n,i){var r=H.parse(l.apply(this));return"=="==n&&(n="="),"url"!=e&&null==r[e]||null==j.filters[n]?this:(A(this,L.filter,[e,n,i]),this.filter(function(){var r=l.apply(t(this)),o="";return o="url"!=e?H.parse(r)[e]:r,"port"==e&&(o=parseInt(o,10),i=parseInt(i,10)),j.filters[n].apply(t(this),[o,i])}))},interface:function(){return L}};t.fn.jurlp=function(t){return-1==this.selector.indexOf(".filter")&&(i=this.selector),P.apply(this,[r]),M.apply(this,arguments)},t.jurlp=function(e){return{href:e||document.location.href,url:L.url,scheme:L.scheme,user:L.user,password:L.password,host:L.host,port:L.port,path:L.path,query:L.query,fragment:L.fragment,proxy:L.proxy,goto:L.goto,watch:function(e){var n=this.host();return t('[href*="'+n+'"],[src*="'+n+'"]').jurlp("watch",e)},unwatch:function(){var e=this.host();return t('[href*="'+e+'"],[src*="'+e+'"]').jurlp("unwatch")}}}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,n,i){var r={init:function(e,n){var i=this;i.elem=n,i.$elem=t(n),i.options=t.extend({},t.fn.elevateZoom.options,e),i.options.imageSrc?i.imageSrc=i.options.imageSrc:i.$elem.data("zoom-image")?i.imageSrc=i.$elem.data("zoom-image"):i.imageSrc=i.$elem.attr("src"),i.options.tint&&(i.options.lensColour="none",i.options.lensOpacity="1"),"inner"==i.options.zoomType&&(i.options.showLens=!1),i.$elem.parent().removeAttr("title").removeAttr("alt"),i.zoomImage=i.imageSrc,i.refresh(1),t("#"+i.options.gallery+" a").click(function(e){return i.options.galleryActiveClass&&(t("#"+i.options.gallery+" a").removeClass(i.options.galleryActiveClass),t(this).addClass(i.options.galleryActiveClass)),e.preventDefault(),t(this).data("zoom-image")?i.zoomImagePre=t(this).data("zoom-image"):i.zoomImagePre=t(this).data("image"),i.swaptheimage(t(this).data("image"),i.zoomImagePre),!1})},refresh:function(t){var e=this;setTimeout(function(){e.fetch(e.imageSrc)},t||e.options.refresh)},fetch:function(t){var e=this,n=new Image;n.onload=function(){e.largeWidth=n.width,e.largeHeight=n.height,e.startZoom(),e.currentImage=e.imageSrc,e.options.onZoomedImageLoaded(e.$elem)},n.src=t},startZoom:function(){var e=this;if(e.nzWidth=e.$elem.width(),e.nzHeight=e.$elem.height(),e.isWindowActive=!1,e.isLensActive=!1,e.isTintActive=!1,e.overWindow=!1,e.options.imageCrossfade&&(e.zoomWrap=e.$elem.wrap('<div style="height:'+e.nzHeight+"px;width:"+e.nzWidth+'px;" class="zoomWrapper" />'),e.$elem.css("position","absolute")),e.zoomLock=1,e.scrollingLock=!1,e.changeBgSize=!1,e.currentZoomLevel=e.options.zoomLevel,e.nzOffset=e.$elem.offset(),e.widthRatio=e.largeWidth/e.currentZoomLevel/e.nzWidth,e.heightRatio=e.largeHeight/e.currentZoomLevel/e.nzHeight,"window"==e.options.zoomType&&(e.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(e.options.zoomWindowBgColour)+";width: "+String(e.options.zoomWindowWidth)+"px;height: "+String(e.options.zoomWindowHeight)+"px;float: left;background-size: "+e.largeWidth/e.currentZoomLevel+"px "+e.largeHeight/e.currentZoomLevel+"px;display: none;z-index:100;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==e.options.zoomType){var n=e.$elem.css("border-left-width");e.zoomWindowStyle="overflow: hidden;margin-left: "+String(n)+";margin-top: "+String(n)+";background-position: 0px 0px;width: "+String(e.nzWidth)+"px;height: "+String(e.nzHeight)+"px;px;float: left;display: none;cursor:"+e.options.cursor+";px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==e.options.zoomType&&(e.nzHeight<e.options.zoomWindowWidth/e.widthRatio?lensHeight=e.nzHeight:lensHeight=String(e.options.zoomWindowHeight/e.heightRatio),e.largeWidth<e.options.zoomWindowWidth?lensWidth=e.nzWidth:lensWidth=e.options.zoomWindowWidth/e.widthRatio,e.lensStyle="background-position: 0px 0px;width: "+String(e.options.zoomWindowWidth/e.widthRatio)+"px;height: "+String(e.options.zoomWindowHeight/e.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+e.options.lensOpacity+";filter: alpha(opacity = "+100*e.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+e.options.lensColour+";cursor:"+e.options.cursor+";border: "+e.options.lensBorderSize+"px solid "+e.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),e.tintStyle="display: block;position: absolute;background-color: "+e.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+e.nzWidth+"px;height: "+e.nzHeight+"px;",e.lensRound="","lens"==e.options.zoomType&&(e.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";width:"+String(e.options.lensSize)+"px;height:"+String(e.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==e.options.lensShape&&(e.lensRound="border-top-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-top-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;"),e.zoomContainer=t('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:fixed;left:'+e.nzOffset.left+"px;top:"+e.nzOffset.top+"px;height:"+e.nzHeight+"px;width:"+e.nzWidth+'px;"></div>'),e.$elem.after(e.zoomContainer),e.options.containLensZoom&&"lens"==e.options.zoomType&&e.zoomContainer.css("overflow","hidden"),"inner"!=e.options.zoomType&&(e.zoomLens=t("<div class='zoomLens' style='"+e.lensStyle+e.lensRound+"'>&nbsp;</div>").appendTo(e.zoomContainer).click(function(){e.$elem.trigger("click")}),e.options.tint&&(e.tintContainer=t("<div/>").addClass("tintContainer"),e.zoomTint=t("<div class='zoomTint' style='"+e.tintStyle+"'></div>"),e.zoomLens.wrap(e.tintContainer),e.zoomTintcss=e.zoomLens.after(e.zoomTint),e.zoomTintImage=t('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+e.nzWidth+"px; height: "+e.nzHeight+'px;" src="'+e.imageSrc+'">').appendTo(e.zoomLens).click(function(){e.$elem.trigger("click")}))),isNaN(e.options.zoomWindowPosition)?e.zoomWindow=t("<div style='z-index:999;left:"+e.windowOffsetLeft+"px;top:"+e.windowOffsetTop+"px;"+e.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){e.$elem.trigger("click")}):e.zoomWindow=t("<div style='z-index:999;left:"+e.windowOffsetLeft+"px;top:"+e.windowOffsetTop+"px;"+e.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(e.zoomContainer).click(function(){e.$elem.trigger("click")}),e.zoomWindowContainer=t("<div/>").addClass("zoomWindowContainer").css("width",e.options.zoomWindowWidth),e.zoomWindow.wrap(e.zoomWindowContainer),"lens"==e.options.zoomType&&e.zoomLens.css({backgroundImage:"url('"+e.imageSrc+"')"}),"window"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+e.imageSrc+"')"}),"inner"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+e.imageSrc+"')"}),e.$elem.bind("touchmove",function(t){t.preventDefault();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(n)}),e.zoomContainer.bind("touchmove",function(t){"inner"==e.options.zoomType&&e.showHideWindow("show"),t.preventDefault();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(n)}),e.zoomContainer.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")}),e.$elem.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")}),e.options.showLens&&(e.zoomLens.bind("touchmove",function(t){t.preventDefault();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(n)}),e.zoomLens.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")})),e.$elem.bind("mousemove",function(t){0==e.overWindow&&e.setElements("show"),e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.zoomContainer.bind("mousemove",function(t){0==e.overWindow&&e.setElements("show"),e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),"inner"!=e.options.zoomType&&e.zoomLens.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.options.tint&&"inner"!=e.options.zoomType&&e.zoomTint.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),"inner"==e.options.zoomType&&e.zoomWindow.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.zoomContainer.add(e.$elem).mouseenter(function(){0==e.overWindow&&e.setElements("show")}).mouseleave(function(){e.scrollLock||(e.setElements("hide"),e.options.onDestroy(e.$elem))}),"inner"!=e.options.zoomType&&e.zoomWindow.mouseenter(function(){e.overWindow=!0,e.setElements("hide")}).mouseleave(function(){e.overWindow=!1}),e.options.zoomLevel,e.options.minZoomLevel?e.minZoomLevel=e.options.minZoomLevel:e.minZoomLevel=2*e.options.scrollZoomIncrement,e.options.scrollZoom&&e.zoomContainer.add(e.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(n){e.scrollLock=!0,clearTimeout(t.data(this,"timer")),t.data(this,"timer",setTimeout(function(){e.scrollLock=!1},250));var i=n.originalEvent.wheelDelta||-1*n.originalEvent.detail;return n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault(),i/120>0?e.currentZoomLevel>=e.minZoomLevel&&e.changeZoomLevel(e.currentZoomLevel-e.options.scrollZoomIncrement):e.options.maxZoomLevel?e.currentZoomLevel<=e.options.maxZoomLevel&&e.changeZoomLevel(parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement):e.changeZoomLevel(parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement),!1})},setElements:function(t){var e=this;if(!e.options.zoomEnabled)return!1;"show"==t&&e.isWindowSet&&("inner"==e.options.zoomType&&e.showHideWindow("show"),"window"==e.options.zoomType&&e.showHideWindow("show"),e.options.showLens&&e.showHideLens("show"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("show")),"hide"==t&&("window"==e.options.zoomType&&e.showHideWindow("hide"),e.options.tint||e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&e.showHideTint("hide"))},setPosition:function(t){var e=this;if(!e.options.zoomEnabled)return!1;e.nzHeight=e.$elem.height(),e.nzWidth=e.$elem.width(),e.nzOffset=e.$elem.offset(),e.options.tint&&"inner"!=e.options.zoomType&&(e.zoomTint.css({top:0}),e.zoomTint.css({left:0})),e.options.responsive&&!e.options.scrollZoom&&e.options.showLens&&(e.nzHeight<e.options.zoomWindowWidth/e.widthRatio?lensHeight=e.nzHeight:lensHeight=String(e.options.zoomWindowHeight/e.heightRatio),e.largeWidth<e.options.zoomWindowWidth?lensWidth=e.nzWidth:lensWidth=e.options.zoomWindowWidth/e.widthRatio,e.widthRatio=e.largeWidth/e.nzWidth,e.heightRatio=e.largeHeight/e.nzHeight,"lens"!=e.options.zoomType&&(e.nzHeight<e.options.zoomWindowWidth/e.widthRatio?lensHeight=e.nzHeight:lensHeight=String(e.options.zoomWindowHeight/e.heightRatio),e.nzWidth<e.options.zoomWindowHeight/e.heightRatio?lensWidth=e.nzWidth:lensWidth=String(e.options.zoomWindowWidth/e.widthRatio),e.zoomLens.css("width",lensWidth),e.zoomLens.css("height",lensHeight),e.options.tint&&(e.zoomTintImage.css("width",e.nzWidth),e.zoomTintImage.css("height",e.nzHeight))),"lens"==e.options.zoomType&&e.zoomLens.css({width:String(e.options.lensSize)+"px",height:String(e.options.lensSize)+"px"})),e.zoomContainer.css({top:e.nzOffset.top}),e.zoomContainer.css({left:e.nzOffset.left}),e.mouseLeft=parseInt(t.pageX-e.nzOffset.left),e.mouseTop=parseInt(t.pageY-e.nzOffset.top),"window"==e.options.zoomType&&(e.Etoppos=e.mouseTop<e.zoomLens.height()/2,e.Eboppos=e.mouseTop>e.nzHeight-e.zoomLens.height()/2-2*e.options.lensBorderSize,e.Eloppos=e.mouseLeft<0+e.zoomLens.width()/2,e.Eroppos=e.mouseLeft>e.nzWidth-e.zoomLens.width()/2-2*e.options.lensBorderSize),"inner"==e.options.zoomType&&(e.Etoppos=e.mouseTop<e.nzHeight/2/e.heightRatio,e.Eboppos=e.mouseTop>e.nzHeight-e.nzHeight/2/e.heightRatio,e.Eloppos=e.mouseLeft<0+e.nzWidth/2/e.widthRatio,e.Eroppos=e.mouseLeft>e.nzWidth-e.nzWidth/2/e.widthRatio-2*e.options.lensBorderSize),e.mouseLeft<0||e.mouseTop<0||e.mouseLeft>e.nzWidth||e.mouseTop>e.nzHeight?e.setElements("hide"):(e.options.showLens&&(e.lensLeftPos=String(Math.floor(e.mouseLeft-e.zoomLens.width()/2)),e.lensTopPos=String(Math.floor(e.mouseTop-e.zoomLens.height()/2))),e.Etoppos&&(e.lensTopPos=0),e.Eloppos&&(e.windowLeftPos=0,e.lensLeftPos=0,e.tintpos=0),"window"==e.options.zoomType&&(e.Eboppos&&(e.lensTopPos=Math.max(e.nzHeight-e.zoomLens.height()-2*e.options.lensBorderSize,0)),e.Eroppos&&(e.lensLeftPos=e.nzWidth-e.zoomLens.width()-2*e.options.lensBorderSize)),"inner"==e.options.zoomType&&(e.Eboppos&&(e.lensTopPos=Math.max(e.nzHeight-2*e.options.lensBorderSize,0)),e.Eroppos&&(e.lensLeftPos=e.nzWidth-e.nzWidth-2*e.options.lensBorderSize)),"lens"==e.options.zoomType&&(e.windowLeftPos=String(-1*((t.pageX-e.nzOffset.left)*e.widthRatio-e.zoomLens.width()/2)),e.windowTopPos=String(-1*((t.pageY-e.nzOffset.top)*e.heightRatio-e.zoomLens.height()/2)),e.zoomLens.css({backgroundPosition:e.windowLeftPos+"px "+e.windowTopPos+"px"}),e.changeBgSize&&(e.nzHeight>e.nzWidth?("lens"==e.options.zoomType&&e.zoomLens.css({"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"}),e.zoomWindow.css({"background-size":e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"})):("lens"==e.options.zoomType&&e.zoomLens.css({"background-size":e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"}),e.zoomWindow.css({"background-size":e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"})),e.changeBgSize=!1),e.setWindowPostition(t)),e.options.tint&&"inner"!=e.options.zoomType&&e.setTintPosition(t),"window"==e.options.zoomType&&e.setWindowPostition(t),"inner"==e.options.zoomType&&e.setWindowPostition(t),e.options.showLens&&(e.fullwidth&&"lens"!=e.options.zoomType&&(e.lensLeftPos=0),e.zoomLens.css({left:e.lensLeftPos+"px",top:e.lensTopPos+"px"})))},showHideWindow:function(t){var e=this;"show"==t&&(e.isWindowActive||(e.options.zoomWindowFadeIn?e.zoomWindow.stop(!0,!0,!1).fadeIn(e.options.zoomWindowFadeIn):e.zoomWindow.show(),e.isWindowActive=!0)),"hide"==t&&e.isWindowActive&&(e.options.zoomWindowFadeOut?e.zoomWindow.stop(!0,!0).fadeOut(e.options.zoomWindowFadeOut,function(){e.loop&&(clearInterval(e.loop),e.loop=!1)}):e.zoomWindow.hide(),e.isWindowActive=!1)},showHideLens:function(t){var e=this;"show"==t&&(e.isLensActive||(e.options.lensFadeIn?e.zoomLens.stop(!0,!0,!1).fadeIn(e.options.lensFadeIn):e.zoomLens.show(),e.isLensActive=!0)),"hide"==t&&e.isLensActive&&(e.options.lensFadeOut?e.zoomLens.stop(!0,!0).fadeOut(e.options.lensFadeOut):e.zoomLens.hide(),e.isLensActive=!1)},showHideTint:function(t){var e=this;"show"==t&&(e.isTintActive||(e.options.zoomTintFadeIn?e.zoomTint.css({opacity:e.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(e.zoomTint.css({opacity:e.options.tintOpacity}).animate(),e.zoomTint.show()),e.isTintActive=!0)),"hide"==t&&e.isTintActive&&(e.options.zoomTintFadeOut?e.zoomTint.stop(!0,!0).fadeOut(e.options.zoomTintFadeOut):e.zoomTint.hide(),e.isTintActive=!1)},setLensPostition:function(t){},setWindowPostition:function(e){var n=this;if(isNaN(n.options.zoomWindowPosition))n.externalContainer=t("#"+n.options.zoomWindowPosition),n.externalContainerWidth=n.externalContainer.width(),n.externalContainerHeight=n.externalContainer.height(),n.externalContainerOffset=n.externalContainer.offset(),n.windowOffsetTop=n.externalContainerOffset.top,n.windowOffsetLeft=n.externalContainerOffset.left;else switch(n.options.zoomWindowPosition){case 1:n.windowOffsetTop=n.options.zoomWindowOffety,n.windowOffsetLeft=+n.nzWidth;break;case 2:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=-1*(n.options.zoomWindowHeight/2-n.nzHeight/2),n.windowOffsetLeft=n.nzWidth);break;case 3:n.windowOffsetTop=n.nzHeight-n.zoomWindow.height()-2*n.options.borderSize,n.windowOffsetLeft=n.nzWidth;break;case 4:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=n.nzWidth;break;case 5:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=n.nzWidth-n.zoomWindow.width()-2*n.options.borderSize;break;case 6:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=-1*(n.options.zoomWindowWidth/2-n.nzWidth/2+2*n.options.borderSize));break;case 7:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=0;break;case 8:n.windowOffsetTop=n.nzHeight,n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 9:n.windowOffsetTop=n.nzHeight-n.zoomWindow.height()-2*n.options.borderSize,n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 10:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=-1*(n.options.zoomWindowHeight/2-n.nzHeight/2),n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize));break;case 11:n.windowOffsetTop=n.options.zoomWindowOffety,n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 12:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=-1*(n.zoomWindow.width()+2*n.options.borderSize);break;case 13:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=0;break;case 14:n.options.zoomWindowHeight>n.nzHeight&&(n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=-1*(n.options.zoomWindowWidth/2-n.nzWidth/2+2*n.options.borderSize));break;case 15:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=n.nzWidth-n.zoomWindow.width()-2*n.options.borderSize;break;case 16:n.windowOffsetTop=-1*(n.zoomWindow.height()+2*n.options.borderSize),n.windowOffsetLeft=n.nzWidth;break;default:n.windowOffsetTop=n.options.zoomWindowOffety,n.windowOffsetLeft=n.nzWidth}n.isWindowSet=!0,n.windowOffsetTop=n.windowOffsetTop+n.options.zoomWindowOffety,n.windowOffsetLeft=n.windowOffsetLeft+n.options.zoomWindowOffetx,n.zoomWindow.css({top:n.windowOffsetTop}),n.zoomWindow.css({left:n.windowOffsetLeft}),"inner"==n.options.zoomType&&(n.zoomWindow.css({top:0}),n.zoomWindow.css({left:0})),n.windowLeftPos=String(-1*((e.pageX-n.nzOffset.left)*n.widthRatio-n.zoomWindow.width()/2)),n.windowTopPos=String(-1*((e.pageY-n.nzOffset.top)*n.heightRatio-n.zoomWindow.height()/2)),n.Etoppos&&(n.windowTopPos=0),n.Eloppos&&(n.windowLeftPos=0),n.Eboppos&&(n.windowTopPos=-1*(n.largeHeight/n.currentZoomLevel-n.zoomWindow.height())),n.Eroppos&&(n.windowLeftPos=-1*(n.largeWidth/n.currentZoomLevel-n.zoomWindow.width())),n.fullheight&&(n.windowTopPos=0),n.fullwidth&&(n.windowLeftPos=0),"window"!=n.options.zoomType&&"inner"!=n.options.zoomType||(1==n.zoomLock&&(n.widthRatio<=1&&(n.windowLeftPos=0),n.heightRatio<=1&&(n.windowTopPos=0)),"window"==n.options.zoomType&&(n.largeHeight<n.options.zoomWindowHeight&&(n.windowTopPos=0),n.largeWidth<n.options.zoomWindowWidth&&(n.windowLeftPos=0)),n.options.easing?(n.xp||(n.xp=0),n.yp||(n.yp=0),n.loop||(n.loop=setInterval(function(){n.xp+=(n.windowLeftPos-n.xp)/n.options.easingAmount,n.yp+=(n.windowTopPos-n.yp)/n.options.easingAmount,n.scrollingLock?(clearInterval(n.loop),n.xp=n.windowLeftPos,n.yp=n.windowTopPos,n.xp=-1*((e.pageX-n.nzOffset.left)*n.widthRatio-n.zoomWindow.width()/2),n.yp=-1*((e.pageY-n.nzOffset.top)*n.heightRatio-n.zoomWindow.height()/2),n.changeBgSize&&(n.nzHeight>n.nzWidth?("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})):("lens"!=n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"})),n.changeBgSize=!1),n.zoomWindow.css({backgroundPosition:n.windowLeftPos+"px "+n.windowTopPos+"px"}),n.scrollingLock=!1,n.loop=!1):Math.round(Math.abs(n.xp-n.windowLeftPos)+Math.abs(n.yp-n.windowTopPos))<1?(clearInterval(n.loop),n.zoomWindow.css({backgroundPosition:n.windowLeftPos+"px "+n.windowTopPos+"px"}),n.loop=!1):(n.changeBgSize&&(n.nzHeight>n.nzWidth?("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})):("lens"!=n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"})),n.changeBgSize=!1),n.zoomWindow.css({backgroundPosition:n.xp+"px "+n.yp+"px"}))},16))):(n.changeBgSize&&(n.nzHeight>n.nzWidth?("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"}),n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})):("lens"==n.options.zoomType&&n.zoomLens.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"}),n.largeHeight/n.newvaluewidth<n.options.zoomWindowHeight?n.zoomWindow.css({"background-size":n.largeWidth/n.newvaluewidth+"px "+n.largeHeight/n.newvaluewidth+"px"}):n.zoomWindow.css({"background-size":n.largeWidth/n.newvalueheight+"px "+n.largeHeight/n.newvalueheight+"px"})),n.changeBgSize=!1),n.zoomWindow.css({backgroundPosition:n.windowLeftPos+"px "+n.windowTopPos+"px"})))},setTintPosition:function(t){var e=this;e.nzOffset=e.$elem.offset(),e.tintpos=String(-1*(t.pageX-e.nzOffset.left-e.zoomLens.width()/2)),e.tintposy=String(-1*(t.pageY-e.nzOffset.top-e.zoomLens.height()/2)),e.Etoppos&&(e.tintposy=0),e.Eloppos&&(e.tintpos=0),e.Eboppos&&(e.tintposy=-1*(e.nzHeight-e.zoomLens.height()-2*e.options.lensBorderSize)),e.Eroppos&&(e.tintpos=-1*(e.nzWidth-e.zoomLens.width()-2*e.options.lensBorderSize)),e.options.tint&&(e.fullheight&&(e.tintposy=0),e.fullwidth&&(e.tintpos=0),e.zoomTintImage.css({left:e.tintpos+"px"}),e.zoomTintImage.css({top:e.tintposy+"px"}))},swaptheimage:function(e,n){var i=this,r=new Image;i.options.loadingIcon&&(i.spinner=t("<div style=\"background: url('"+i.options.loadingIcon+"') no-repeat center;height:"+i.nzHeight+"px;width:"+i.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),i.$elem.after(i.spinner)),i.options.onImageSwap(i.$elem),r.onload=function(){i.largeWidth=r.width,i.largeHeight=r.height,i.zoomImage=n,i.zoomWindow.css({"background-size":i.largeWidth+"px "+i.largeHeight+"px"}),i.swapAction(e,n)},r.src=n},swapAction:function(e,n){var i=this,r=new Image;if(r.onload=function(){i.nzHeight=r.height,i.nzWidth=r.width,i.options.onImageSwapComplete(i.$elem),i.doneCallback()},r.src=e,i.currentZoomLevel=i.options.zoomLevel,i.options.maxZoomLevel=!1,"lens"==i.options.zoomType&&i.zoomLens.css({backgroundImage:"url('"+n+"')"}),"window"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+n+"')"}),"inner"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+n+"')"}),i.currentImage=n,i.options.imageCrossfade){var o=i.$elem,a=o.clone();if(i.$elem.attr("src",e),i.$elem.after(a),a.stop(!0).fadeOut(i.options.imageCrossfade,function(){t(this).remove()}),i.$elem.width("auto").removeAttr("width"),i.$elem.height("auto").removeAttr("height"),o.fadeIn(i.options.imageCrossfade),i.options.tint&&"inner"!=i.options.zoomType){var s=i.zoomTintImage,u=s.clone();i.zoomTintImage.attr("src",n),i.zoomTintImage.after(u),u.stop(!0).fadeOut(i.options.imageCrossfade,function(){t(this).remove()}),s.fadeIn(i.options.imageCrossfade),i.zoomTint.css({height:i.$elem.height()}),i.zoomTint.css({width:i.$elem.width()})}i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width()),"inner"==i.options.zoomType&&(i.options.constrainType||(i.zoomWrap.parent().css("height",i.$elem.height()),i.zoomWrap.parent().css("width",i.$elem.width()),i.zoomWindow.css("height",i.$elem.height()),i.zoomWindow.css("width",i.$elem.width()))),i.options.imageCrossfade&&(i.zoomWrap.css("height",i.$elem.height()),i.zoomWrap.css("width",i.$elem.width()))}else i.$elem.attr("src",e),i.options.tint&&(i.zoomTintImage.attr("src",n),i.zoomTintImage.attr("height",i.$elem.height()),i.zoomTintImage.css({height:i.$elem.height()}),i.zoomTint.css({height:i.$elem.height()})),i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width()),i.options.imageCrossfade&&(i.zoomWrap.css("height",i.$elem.height()),i.zoomWrap.css("width",i.$elem.width()));i.options.constrainType&&("height"==i.options.constrainType&&(i.zoomContainer.css("height",i.options.constrainSize),i.zoomContainer.css("width","auto"),i.options.imageCrossfade?(i.zoomWrap.css("height",i.options.constrainSize),i.zoomWrap.css("width","auto"),i.constwidth=i.zoomWrap.width()):(i.$elem.css("height",i.options.constrainSize),i.$elem.css("width","auto"),i.constwidth=i.$elem.width()),"inner"==i.options.zoomType&&(i.zoomWrap.parent().css("height",i.options.constrainSize),i.zoomWrap.parent().css("width",i.constwidth),i.zoomWindow.css("height",i.options.constrainSize),i.zoomWindow.css("width",i.constwidth)),i.options.tint&&(i.tintContainer.css("height",i.options.constrainSize),i.tintContainer.css("width",i.constwidth),i.zoomTint.css("height",i.options.constrainSize),i.zoomTint.css("width",i.constwidth),i.zoomTintImage.css("height",i.options.constrainSize),i.zoomTintImage.css("width",i.constwidth))),"width"==i.options.constrainType&&(i.zoomContainer.css("height","auto"),i.zoomContainer.css("width",i.options.constrainSize),i.options.imageCrossfade?(i.zoomWrap.css("height","auto"),i.zoomWrap.css("width",i.options.constrainSize),i.constheight=i.zoomWrap.height()):(i.$elem.css("height","auto"),i.$elem.css("width",i.options.constrainSize),i.constheight=i.$elem.height()),"inner"==i.options.zoomType&&(i.zoomWrap.parent().css("height",i.constheight),i.zoomWrap.parent().css("width",i.options.constrainSize),i.zoomWindow.css("height",i.constheight),i.zoomWindow.css("width",i.options.constrainSize)),i.options.tint&&(i.tintContainer.css("height",i.constheight),i.tintContainer.css("width",i.options.constrainSize),i.zoomTint.css("height",i.constheight),i.zoomTint.css("width",i.options.constrainSize),i.zoomTintImage.css("height",i.constheight),i.zoomTintImage.css("width",i.options.constrainSize))))},doneCallback:function(){var t=this;t.options.loadingIcon&&t.spinner.hide(),t.nzOffset=t.$elem.offset(),t.nzWidth=t.$elem.width(),t.nzHeight=t.$elem.height(),t.currentZoomLevel=t.options.zoomLevel,t.widthRatio=t.largeWidth/t.nzWidth,t.heightRatio=t.largeHeight/t.nzHeight,"window"==t.options.zoomType&&(t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?lensHeight=t.nzHeight:lensHeight=String(t.options.zoomWindowHeight/t.heightRatio),t.options.zoomWindowWidth<t.options.zoomWindowWidth?lensWidth=t.nzWidth:lensWidth=t.options.zoomWindowWidth/t.widthRatio,t.zoomLens&&(t.zoomLens.css("width",lensWidth),t.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var e=this;return e.gallerylist=[],e.options.gallery?t("#"+e.options.gallery+" a").each(function(){var n="";t(this).data("zoom-image")?n=t(this).data("zoom-image"):t(this).data("image")&&(n=t(this).data("image")),n==e.zoomImage?e.gallerylist.unshift({href:""+n,title:t(this).find("img").attr("title")}):e.gallerylist.push({href:""+n,title:t(this).find("img").attr("title")})}):e.gallerylist.push({href:""+e.zoomImage,title:t(this).find("img").attr("title")}),e.gallerylist},changeZoomLevel:function(t){var e=this;e.scrollingLock=!0,e.newvalue=parseFloat(t).toFixed(2),newvalue=parseFloat(t).toFixed(2),maxheightnewvalue=e.largeHeight/(e.options.zoomWindowHeight/e.nzHeight*e.nzHeight),maxwidthtnewvalue=e.largeWidth/(e.options.zoomWindowWidth/e.nzWidth*e.nzWidth),"inner"!=e.options.zoomType&&(maxheightnewvalue<=newvalue?(e.heightRatio=e.largeHeight/maxheightnewvalue/e.nzHeight,e.newvalueheight=maxheightnewvalue,e.fullheight=!0):(e.heightRatio=e.largeHeight/newvalue/e.nzHeight,e.newvalueheight=newvalue,e.fullheight=!1),maxwidthtnewvalue<=newvalue?(e.widthRatio=e.largeWidth/maxwidthtnewvalue/e.nzWidth,e.newvaluewidth=maxwidthtnewvalue,e.fullwidth=!0):(e.widthRatio=e.largeWidth/newvalue/e.nzWidth,e.newvaluewidth=newvalue,e.fullwidth=!1),"lens"==e.options.zoomType&&(maxheightnewvalue<=newvalue?(e.fullwidth=!0,e.newvaluewidth=maxheightnewvalue):(e.widthRatio=e.largeWidth/newvalue/e.nzWidth,e.newvaluewidth=newvalue,e.fullwidth=!1))),"inner"==e.options.zoomType&&(maxheightnewvalue=parseFloat(e.largeHeight/e.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(e.largeWidth/e.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(e.heightRatio=e.largeHeight/newvalue/e.nzHeight,newvalue>maxheightnewvalue?e.newvalueheight=maxheightnewvalue:e.newvalueheight=newvalue,e.fullheight=!0):(e.heightRatio=e.largeHeight/newvalue/e.nzHeight,newvalue>maxheightnewvalue?e.newvalueheight=maxheightnewvalue:e.newvalueheight=newvalue,e.fullheight=!1),maxwidthtnewvalue<=newvalue?(e.widthRatio=e.largeWidth/newvalue/e.nzWidth,newvalue>maxwidthtnewvalue?e.newvaluewidth=maxwidthtnewvalue:e.newvaluewidth=newvalue,e.fullwidth=!0):(e.widthRatio=e.largeWidth/newvalue/e.nzWidth,e.newvaluewidth=newvalue,e.fullwidth=!1)),scrcontinue=!1,"inner"==e.options.zoomType&&(e.nzWidth>=e.nzHeight&&(e.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,e.fullheight=!0,e.fullwidth=!0)),e.nzHeight>e.nzWidth&&(e.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,e.fullheight=!0,e.fullwidth=!0))),"inner"!=e.options.zoomType&&(scrcontinue=!0),scrcontinue&&(e.zoomLock=0,e.changeZoom=!0,e.options.zoomWindowHeight/e.heightRatio<=e.nzHeight&&(e.currentZoomLevel=e.newvalueheight,"lens"!=e.options.zoomType&&"inner"!=e.options.zoomType&&(e.changeBgSize=!0,e.zoomLens.css({height:String(e.options.zoomWindowHeight/e.heightRatio)+"px"})),"lens"!=e.options.zoomType&&"inner"!=e.options.zoomType||(e.changeBgSize=!0)),e.options.zoomWindowWidth/e.widthRatio<=e.nzWidth&&("inner"!=e.options.zoomType&&e.newvaluewidth>e.newvalueheight&&(e.currentZoomLevel=e.newvaluewidth),"lens"!=e.options.zoomType&&"inner"!=e.options.zoomType&&(e.changeBgSize=!0,e.zoomLens.css({width:String(e.options.zoomWindowWidth/e.widthRatio)+"px"})),"lens"!=e.options.zoomType&&"inner"!=e.options.zoomType||(e.changeBgSize=!0)),"inner"==e.options.zoomType&&(e.changeBgSize=!0,e.nzWidth>e.nzHeight&&(e.currentZoomLevel=e.newvaluewidth),e.nzHeight>e.nzWidth&&(e.currentZoomLevel=e.newvaluewidth))),e.setPosition(e.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(t){var e=this;"enable"==t&&(e.options.zoomEnabled=!0),"disable"==t&&(e.options.zoomEnabled=!1)}};t.fn.elevateZoom=function(e){return this.each(function(){var n=Object.create(r);n.init(e,this),t.data(this,"elevateZoom",n)})},t.fn.elevateZoom.options={imageSrc:null,zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:t.noop,onDestroy:function(){},onZoomedImageLoaded:function(){},onImageSwap:t.noop,onImageSwapComplete:t.noop}}(jQuery,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){"use strict";t.dateRangePickerLanguages={default:{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":["january","february","march","april","may","june","july","august","september","october","november","december"],shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"},de:{selected:"Auswahl:",day:"Tag",days:"Tage",apply:"Schließen","week-1":"mo","week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so","month-name":["januar","februar","märz","april","mai","juni","juli","august","september","oktober","november","dezember"],shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"Nächste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht größer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage auswählen","default-single":"Bitte ein Datum auswählen","default-less":"Bitte weniger als %d Tage auswählen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen auswählen","default-default":"Bitte ein Start- und Enddatum auswählen",Time:"Zeit",hour:"Stunde",minute:"Minute"},es:{selected:"Seleccionado:",day:"Día",days:"Días",apply:"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa","week-7":"do","month-name":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"Año",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"Año","less-than":"El rango no debería ser mayor de %d días","more-than":"El rango no debería ser menor de %d días","default-more":"Por favor selecciona un rango mayor a %d días","default-single":"Por favor selecciona un día","default-less":"Por favor selecciona un rango menor a %d días","default-range":"Por favor selecciona un rango entre %d y %d días","default-default":"Por favor selecciona un rango de fechas."},fr:{selected:"Sélection:",day:"Jour",days:"Jours",apply:"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortcuts:"Raccourcis",past:"Passé",following:"Suivant",previous:"Précédent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Année",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Année","less-than":"L'intervalle ne doit pas être supérieure à %d jours","more-than":"L'intervalle ne doit pas être inférieure à %d jours","default-more":"Merci de choisir une intervalle supérieure à %d jours","default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle inférieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},pt:{selected:"Selecionado:",day:"Dia",days:"Dias",apply:"Fechar","week-1":"seg","week-2":"ter","week-3":"qua","week-4":"qui","week-5":"sex","week-6":"sab","week-7":"dom","week-number":"N","month-name":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],shortcuts:"Atalhos","custom-values":"Valores Personalizados",past:"Passado",following:"Seguinte",previous:"Anterior","prev-week":"Semana","prev-month":"Mês","prev-year":"Ano",next:"Próximo","next-week":"Próxima Semana","next-month":"Próximo Mês","next-year":"Próximo Ano","less-than":"O período selecionado não deve ser maior que %d dias","more-than":"O período selecionado não deve ser menor que %d dias","default-more":"Selecione um período superior a %d dias","default-single":"Selecione uma data","default-less":"Selecione um período inferior a %d dias","default-range":"Selecione um período de %d a %d dias","default-default":"Selecione um período",time:"Tempo",hour:"Hora",minute:"Minuto"}},t.fn.dateRangePicker=function(n){function i(e,n){return n.contains(e.target)||e.target==n||void 0!=n.childNodes&&t.inArray(e.target,n.childNodes)>=0}function r(){if(!n.inline){var e=t(it).offset();if("relative"==t(n.container).css("position")){var i=t(n.container).offset();J.css({top:e.top-i.top+t(it).outerHeight()+4,left:e.left-i.left})}else e.left<460?J.css({top:e.top+t(it).outerHeight()+parseInt(t("body").css("border-top")||0,10),left:e.left}):J.css({top:e.top+t(it).outerHeight()+parseInt(t("body").css("border-top")||0,10),left:e.left+t(it).width()-J.width()-16})}}function o(e){r(),I(),a(),n.customOpenAnimation?n.customOpenAnimation.call(J.get(0),function(){t(it).trigger("datepicker-opened",{relatedTarget:J})}):J.slideDown(e,function(){t(it).trigger("datepicker-opened",{relatedTarget:J})}),t(it).trigger("datepicker-open",{relatedTarget:J}),A(),u()}function a(){var t=n.getValue.call(rt),i=t?t.split(n.separator):"";if(i&&(1==i.length&&n.singleDate||i.length>=2)){var r=n.format;r.match(/Do/)&&(r=r.replace(/Do/,"D"),i[0]=i[0].replace(/(\d+)(th|nd|st)/,"$1"),i.length>=2&&(i[1]=i[1].replace(/(\d+)(th|nd|st)/,"$1"))),nt=!1,i.length>=2?k(s(i[0],r,e.locale(n.language)),s(i[1],r,e.locale(n.language))):1==i.length&&n.singleDate&&z(s(i[0],r,e.locale(n.language))),nt=!0}}function s(t,n,i){return e(t,n,i).isValid()?e(t,n,i).toDate():e().toDate()}function u(){var t=J.find(".gap").css("margin-left");t&&(t=parseInt(t));var e=J.find(".month1").width(),i=J.find(".gap").width()+(t?2*t:0),r=J.find(".month2").width();J.find(".month-wrapper").width(e+i+r+(n.singleMonth?0:77))}function l(t,n){J.find("."+t+" input[type=range].hour-range").val(e(n).hours()),J.find("."+t+" input[type=range].minute-range").val(e(n).minutes()),p(t,e(n).format("HH"),e(n).format("mm"))}function c(t,i){n[t]=parseInt(e(parseInt(i)).startOf("day").add(e(n[t+"Time"]).format("HH"),"h").add(e(n[t+"Time"]).format("mm"),"m").valueOf())}function f(){l("time1",n.start),l("time2",n.end)}function p(t,i,r){function o(t,e){var o=e.format("HH"),a=e.format("mm");n[t]=e.startOf("day").add(i||o,"h").add(r||a,"m").valueOf()}switch(i&&J.find("."+t+" .hour-val").text(i),r&&J.find("."+t+" .minute-val").text(r),t){case"time1":n.start&&o("start",e(n.start)),o("startTime",e(n.startTime||e().valueOf()));break;case"time2":n.end&&o("end",e(n.end)),o("endTime",e(n.endTime||e().valueOf()))}$(),S(),x()}function h(t){var i=t;return"week-range"===n.batchMode?i="monday"===n.startOfWeek?e(parseInt(t)).startOf("isoweek").valueOf():e(parseInt(t)).startOf("week").valueOf():"month-range"===n.batchMode&&(i=e(parseInt(t)).startOf("month").valueOf()),i}function d(t){var i=t;return"week-range"===n.batchMode?i="monday"===n.startOfWeek?e(parseInt(t)).endOf("isoweek").valueOf():e(parseInt(t)).endOf("week").valueOf():"month-range"===n.batchMode&&(i=e(parseInt(t)).endOf("month").valueOf()),i}function g(i){if(!i.hasClass("invalid")){var r=i.attr("time");if(i.addClass("checked"),n.singleDate?(n.start=r,n.end=!1):"week"===n.batchMode?"monday"===n.startOfWeek?(n.start=e(parseInt(r)).startOf("isoweek").valueOf(),n.end=e(parseInt(r)).endOf("isoweek").valueOf()):(n.end=e(parseInt(r)).endOf("week").valueOf(),n.start=e(parseInt(r)).startOf("week").valueOf()):"workweek"===n.batchMode?(n.start=e(parseInt(r)).day(1).valueOf(),n.end=e(parseInt(r)).day(5).valueOf()):"weekend"===n.batchMode?(n.start=e(parseInt(r)).day(6).valueOf(),n.end=e(parseInt(r)).day(7).valueOf()):"month"===n.batchMode?(n.start=e(parseInt(r)).startOf("month").valueOf(),n.end=e(parseInt(r)).endOf("month").valueOf()):n.start&&n.end||!n.start&&!n.end?(n.start=h(r),n.end=!1):n.start&&(n.end=d(r),n.time.enabled&&c("end",n.end)),n.time.enabled&&(n.start&&c("start",n.start),n.end&&c("end",n.end)),!n.singleDate&&n.start&&n.end&&n.start>n.end){var o=n.end;n.end=d(n.start),n.start=h(o),n.time.enabled&&n.swapTime&&f()}n.start=parseInt(n.start),n.end=parseInt(n.end),_(),n.start&&!n.end&&(t(it).trigger("datepicker-first-date-selected",{date1:new Date(n.start)}),w(i)),y(r),$(),S(),x(),b()}}function m(t){var i,r,o=parseInt(t.attr("data-start-time"),10);n.startWeek?(J.find(".week-number-selected").removeClass("week-number-selected"),i=new Date(o<n.startWeek?o:n.startWeek),r=new Date(o<n.startWeek?n.startWeek:o),n.startWeek=!1,n.start=e(i).day("monday"==n.startOfWeek?1:0).valueOf(),n.end=e(r).day("monday"==n.startOfWeek?7:6).valueOf()):(n.startWeek=o,t.addClass("week-number-selected"),i=new Date(o),n.start=e(i).day("monday"==n.startOfWeek?1:0).valueOf(),n.end=e(i).day("monday"==n.startOfWeek?7:6).valueOf()),y(),$(),S(),x(),b()}function v(t){if(t=parseInt(t,10),n.startDate&&M(t,n.startDate)<0)return!1;if(n.endDate&&M(t,n.endDate)>0)return!1;if(n.start&&!n.end&&!n.singleDate){if(n.maxDays>0&&C(t,n.start)>n.maxDays)return!1;if(n.minDays>0&&C(t,n.start)<n.minDays)return!1;if(n.selectForward&&t<n.start)return!1;if(n.selectBackward&&t>n.start)return!1;if(n.beforeShowDay&&"function"==typeof n.beforeShowDay){for(var e=!0,i=t;C(i,n.start)>1;){if(!n.beforeShowDay(new Date(i))[0]){e=!1;break}if(Math.abs(i-n.start)<864e5)break;i>n.start&&(i-=864e5),i<n.start&&(i+=864e5)}if(!e)return!1}}return!0}function y(){return J.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid"),n.start&&!n.end&&J.find(".day.toMonth.valid").each(function(){v(parseInt(t(this).attr("time"),10))?t(this).addClass("valid tmp").removeClass("invalid"):t(this).addClass("invalid tmp").removeClass("valid")}),!0}function w(e){var i=parseInt(e.attr("time")),r="";if(e.hasClass("has-tooltip")&&e.attr("data-tooltip"))r='<span style="white-space:nowrap">'+e.attr("data-tooltip")+"</span>";else if(!e.hasClass("invalid"))if(n.singleDate)J.find(".day.hovering").removeClass("hovering"),e.addClass("hovering");else if(J.find(".day").each(function(){var e=parseInt(t(this).attr("time"));n.start,n.end;e==i?t(this).addClass("hovering"):t(this).removeClass("hovering"),n.start&&!n.end&&(n.start<e&&i>=e||n.start>e&&i<=e)?t(this).addClass("hovering"):t(this).removeClass("hovering")}),n.start&&!n.end){var o=C(i,n.start);n.hoveringTooltip&&("function"==typeof n.hoveringTooltip?r=n.hoveringTooltip(o,n.start,i):!0===n.hoveringTooltip&&o>1&&(r=o+" "+K("days")))}if(r){var a=e.offset(),s=J.offset(),u=a.left-s.left,l=a.top-s.top;u+=e.width()/2;var c=J.find(".date-range-length-tip"),f=c.css({visibility:"hidden",display:"none"}).html(r).width(),p=c.height();u-=f/2,l-=p,setTimeout(function(){c.css({left:u,top:l,display:"block",visibility:"visible"})},10)}else J.find(".date-range-length-tip").hide()}function _(){J.find(".day.hovering").removeClass("hovering"),J.find(".date-range-length-tip").hide()}function b(){!0===n.singleDate?nt&&n.start&&n.autoClose&&P():nt&&n.start&&n.end&&n.autoClose&&P()}function $(){var t=Math.ceil((n.end-n.start)/864e5)+1;n.singleDate?n.start&&!n.end?J.find(".drp_top-bar").removeClass("error").addClass("normal"):J.find(".drp_top-bar").removeClass("error").removeClass("normal"):n.maxDays&&t>n.maxDays?(n.start=!1,n.end=!1,J.find(".day").removeClass("checked"),J.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(K("less-than").replace("%d",n.maxDays))):n.minDays&&t<n.minDays?(n.start=!1,n.end=!1,J.find(".day").removeClass("checked"),J.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(K("more-than").replace("%d",n.minDays))):n.start||n.end?J.find(".drp_top-bar").removeClass("error").addClass("normal"):J.find(".drp_top-bar").removeClass("error").removeClass("normal"),n.singleDate&&n.start&&!n.end||!n.singleDate&&n.start&&n.end?J.find(".apply-btn").removeClass("disabled"):J.find(".apply-btn").addClass("disabled"),n.batchMode&&(n.start&&n.startDate&&M(n.start,n.startDate)<0||n.end&&n.endDate&&M(n.end,n.endDate)>0)&&(n.start=!1,n.end=!1,J.find(".day").removeClass("checked"))}function S(e,i){J.find(".start-day").html("..."),J.find(".end-day").html("..."),J.find(".selected-days").hide(),n.start&&J.find(".start-day").html(D(new Date(parseInt(n.start)))),n.end&&J.find(".end-day").html(D(new Date(parseInt(n.end))));var r;n.start&&n.singleDate?(J.find(".apply-btn").removeClass("disabled"),r=D(new Date(n.start)),n.setValue.call(rt,r,D(new Date(n.start)),D(new Date(n.end))),nt&&!i&&t(it).trigger("datepicker-change",{value:r,date1:new Date(n.start)})):n.start&&n.end?(J.find(".selected-days").show().find(".selected-days-num").html(C(n.end,n.start)),J.find(".apply-btn").removeClass("disabled"),r=D(new Date(n.start))+n.separator+D(new Date(n.end)),n.setValue.call(rt,r,D(new Date(n.start)),D(new Date(n.end))),nt&&!i&&t(it).trigger("datepicker-change",{value:r,date1:new Date(n.start),date2:new Date(n.end)})):e?J.find(".apply-btn").removeClass("disabled"):J.find(".apply-btn").addClass("disabled")}function C(t,e){return Math.abs(B(t)-B(e))+1}function k(t,e,i){if(t.getTime()>e.getTime()){var r=e;e=t,t=r,r=null}var o=!0;if(n.startDate&&M(t,n.startDate)<0&&(o=!1),n.endDate&&M(e,n.endDate)>0&&(o=!1),!o)return T(n.startDate,"month1"),T(H(n.startDate),"month2"),void A();n.start=t.getTime(),n.end=e.getTime(),n.time.enabled&&(l("time1",t),l("time2",e)),(n.stickyMonths||M(t,e)>0&&0===W(t,e))&&(n.lookBehind?t=j(e):e=H(t)),n.stickyMonths&&!1!==n.endDate&&W(e,n.endDate)>0&&(t=j(t),e=j(e)),n.stickyMonths||0===W(t,e)&&(n.lookBehind?t=j(e):e=H(t)),T(t,"month1"),T(e,"month2"),A(),$(),S(!1,i),b()}function z(t,e){var i=!0;n.startDate&&M(t,n.startDate)<0&&(i=!1),n.endDate&&M(t,n.endDate)>0&&(i=!1),i?(n.start=t.getTime(),n.time.enabled&&l("time1",t),T(t,"month1"),!0!==n.singleMonth&&T(H(t),"month2"),A(),S(!1,e),b()):T(n.startDate,"month1")}function x(){(n.start||n.end)&&(J.find(".day").each(function(){var i=parseInt(t(this).attr("time")),r=n.start,o=n.end;n.time.enabled&&(i=e(i).startOf("day").valueOf(),r=e(r||e().valueOf()).startOf("day").valueOf(),o=e(o||e().valueOf()).startOf("day").valueOf()),n.start&&n.end&&o>=i&&r<=i||n.start&&!n.end&&e(r).format("YYYY-MM-DD")==e(i).format("YYYY-MM-DD")?t(this).addClass("checked"):t(this).removeClass("checked"),n.start&&e(r).format("YYYY-MM-DD")==e(i).format("YYYY-MM-DD")?t(this).addClass("first-date-selected"):t(this).removeClass("first-date-selected"),n.end&&e(o).format("YYYY-MM-DD")==e(i).format("YYYY-MM-DD")?t(this).addClass("last-date-selected"):t(this).removeClass("last-date-selected")}),J.find(".week-number").each(function(){t(this).attr("data-start-time")==n.startWeek&&t(this).addClass("week-number-selected")}))}function T(t,i){var r=R((t=e(t).toDate()).getMonth());J.find("."+i+" .month-name").html(r+" "+t.getFullYear()),J.find("."+i+" tbody").html(G(t)),n[i]=t,y(),E()}function E(){J.find(".day").unbind("click").click(function(e){g(t(this))}),J.find(".day").unbind("mouseenter").mouseenter(function(e){w(t(this))}),J.find(".day").unbind("mouseleave").mouseleave(function(t){J.find(".date-range-length-tip").hide(),n.singleDate&&_()}),J.find(".week-number").unbind("click").click(function(e){m(t(this))})}function O(t,e){J.find("."+e).append(L()),l(e,t)}function R(t){return K("month-name")[t]}function D(t){return e(t).format(n.format)}function A(){x();var t=parseInt(e(n.month1).format("YYYYMM")),i=parseInt(e(n.month2).format("YYYYMM")),r=Math.abs(t-i);r>1&&89!=r?J.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible"):J.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden");var o=J.find("table.month1").height(),a=J.find("table.month2").height();0===Math.max(o,a)?J.find(".gap").height(100):J.find(".gap").height(Math.max(o,a)+10)}function P(){if(!n.alwaysOpen){var e=function(){t(it).data("date-picker-opened",!1),t(it).trigger("datepicker-closed",{relatedTarget:J})};n.customCloseAnimation?n.customCloseAnimation.call(J.get(0),e):t(J).slideUp(n.duration,e),t(it).trigger("datepicker-close",{relatedTarget:J})}}function I(){T(n.month1,"month1"),T(n.month2,"month2")}function W(t,n){var i=parseInt(e(t).format("YYYYMM"))-parseInt(e(n).format("YYYYMM"));return i>0?1:0===i?0:-1}function M(t,n){var i=parseInt(e(t).format("YYYYMMDD"))-parseInt(e(n).format("YYYYMMDD"));return i>0?1:0===i?0:-1}function H(t){return e(t).add(1,"months").toDate()}function j(t){return e(t).add(-1,"months").toDate()}function L(){return"<div><span>"+K("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour"><label>'+K("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute"><label>'+K("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>'}function F(){var e='<div class="date-picker-wrapper';n.extraClass&&(e+=" "+n.extraClass+" "),n.singleDate&&(e+=" single-date "),e+='">';var i=n.showWeekNumbers?6:5,r='<i class="icon-left-open-mini"></i>';n.customArrowPrevSymbol&&(r=n.customArrowPrevSymbol);var o='<i class="icon-right-open-mini"></i>';return n.customArrowNextSymbol&&(o=n.customArrowNextSymbol),e+='<div class="month-wrapper">   <table class="month1" cellspacing="0" border="0" cellpadding="0">       <thead>           <tr class="caption">               <th style="width:27px;">                   <div class="prev">'+r+'                   </div>               </th>               <th colspan="'+i+'" class="month-name">               </th>               <th style="width:27px;">'+(n.singleDate||!n.stickyMonths?'<div class="next">'+o+"</div>":"")+'               </th>           </tr>           <tr class="week-name">'+U()+"       </thead>       <tbody></tbody>   </table>",N()&&(e+='<div class="gap"></div><table class="month2" cellspacing="0" border="0" cellpadding="0">   <thead>   <tr class="caption">       <th style="width:27px;">'+(n.stickyMonths?"":'<div class="prev">'+r+"</div>")+'       </th>       <th colspan="'+i+'" class="month-name">       </th>       <th style="width:27px;">           <div class="next">'+o+'</div>       </th>   </tr>   <tr class="week-name">'+U()+"   </thead>   <tbody></tbody></table>"),e+='<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>',n.singleDate||(e+='<div class="time2"></div>'),e+='</div><div style="clear:both;height:0;font-size:0;"></div></div></div>',t(e)}function U(){var t=n.showWeekNumbers?"<th>"+K("week-number")+"</th>":"";return"monday"==n.startOfWeek?t+"<th>"+K("week-1")+"</th><th>"+K("week-2")+"</th><th>"+K("week-3")+"</th><th>"+K("week-4")+"</th><th>"+K("week-5")+"</th><th>"+K("week-6")+"</th><th>"+K("week-7")+"</th>":t+"<th>"+K("week-7")+"</th><th>"+K("week-1")+"</th><th>"+K("week-2")+"</th><th>"+K("week-3")+"</th><th>"+K("week-4")+"</th><th>"+K("week-5")+"</th><th>"+K("week-6")+"</th>"}function V(t){return t=e(t),!(!n.startDate||!t.endOf("month").isBefore(n.startDate))||!(!n.endDate||!t.startOf("month").isAfter(n.endDate))}function N(){return!n.singleMonth}function q(e,n,i){var r=t.extend(!0,{},e);t.each(n,function(t,e){var n=e(i);for(var o in n)r.hasOwnProperty(o)?r[o]+=n[o]:r[o]=n[o]});var o="";for(var a in r)r.hasOwnProperty(a)&&(o+=a+'="'+r[a]+'" ');return o}function B(t){return Math.floor(Y(t)/864e5)}function Y(t){return e.isMoment(t)&&(t=t.toDate().getTime()),"object"==typeof t&&t.getTime&&(t=t.getTime()),"string"!=typeof t||t.match(/\d{13}/)||(t=e(t,n.format).toDate().getTime()),t=parseInt(t,10)-60*(new Date).getTimezoneOffset()*1e3}function G(t){var i=[];t.setDate(1);new Date(t.getTime()-864e5);var r=new Date,o=t.getDay();0===o&&"monday"===n.startOfWeek&&(o=7);var a,s;if(o>0)for(l=o;l>0;l--)s=v((p=new Date(t.getTime()-864e5*l)).getTime()),n.startDate&&M(p,n.startDate)<0&&(s=!1),n.endDate&&M(p,n.endDate)>0&&(s=!1),i.push({date:p,type:"lastMonth",day:p.getDate(),time:p.getTime(),valid:s});for(var u=t.getMonth(),l=0;l<40;l++)s=v((a=e(t).add(l,"days").toDate()).getTime()),n.startDate&&M(a,n.startDate)<0&&(s=!1),n.endDate&&M(a,n.endDate)>0&&(s=!1),i.push({date:a,type:a.getMonth()==u?"toMonth":"nextMonth",day:a.getDate(),time:a.getTime(),valid:s});for(var c=[],f=0;f<6&&"nextMonth"!=i[7*f].type;f++){c.push("<tr>");for(var p=0;p<7;p++){a=i[7*f+("monday"==n.startOfWeek?p+1:p)];var h=e(a.time).format("L")==e(r).format("L");if(a.extraClass="",a.tooltip="",a.valid&&n.beforeShowDay&&"function"==typeof n.beforeShowDay){var d=n.beforeShowDay(e(a.time).toDate());a.valid=d[0],a.extraClass=d[1]||"",a.tooltip=d[2]||"",""!==a.tooltip&&(a.extraClass+=" has-tooltip ")}var g={time:a.time,"data-tooltip":a.tooltip,class:"day "+a.type+" "+a.extraClass+" "+(a.valid?"valid":"invalid")+" "+(h&&n.highlightToday?"real-today":"")};0===p&&n.showWeekNumbers&&c.push('<td><div class="week-number" data-start-time="'+a.time+'">'+n.getWeekNumber(a.date)+"</div></td>"),c.push("<td "+q({},n.dayTdAttrs,a)+"><div "+q(g,n.dayDivAttrs,a)+">"+Z(a.time,a.day)+"</div></td>")}c.push("</tr>")}return c.join("")}function Z(t,e){return n.showDateFilter&&"function"==typeof n.showDateFilter?n.showDateFilter(t,e):e}function K(e){var n=e.toLowerCase(),i=e in et?et[e]:n in et?et[n]:null,r=t.dateRangePickerLanguages.default;return null==i&&(i=e in r?r[e]:n in r?r[n]:""),i}function X(){var t=n.defaultTime?n.defaultTime:new Date;return n.lookBehind?(n.startDate&&W(t,n.startDate)<0&&(t=H(e(n.startDate).toDate())),n.endDate&&W(t,n.endDate)>0&&(t=e(n.endDate).toDate())):(n.startDate&&W(t,n.startDate)<0&&(t=e(n.startDate).toDate()),n.endDate&&W(H(t),n.endDate)>0&&(t=j(e(n.endDate).toDate()))),n.singleDate&&(n.startDate&&W(t,n.startDate)<0&&(t=e(n.startDate).toDate()),n.endDate&&W(t,n.endDate)>0&&(t=e(n.endDate).toDate())),t}function Q(t){t||(t=X()),n.lookBehind?(T(j(t),"month1"),T(t,"month2")):(T(t,"month1"),T(H(t),"month2")),n.singleDate&&T(t,"month1"),x(),A()}n||(n={}),(n=t.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" - ",language:"auto",startOfWeek:"sunday",getValue:function(){return t(this).val()},setValue:function(e){t(this).attr("readonly")||t(this).is(":disabled")||e==t(this).val()||t(this).val(e)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,highlightToday:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(t,e,n){return t>1?t+" "+K("days"):""},showTopbar:!0,swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(t){return e(t).format("w")},customOpenAnimation:null,customCloseAnimation:null,customArrowPrevSymbol:null,customArrowNextSymbol:null},n)).start=!1,n.end=!1,n.startWeek=!1,n.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints,n.isTouchDevice&&(n.hoveringTooltip=!1),"auto"==n.singleMonth&&(n.singleMonth=t(window).width()<480),n.singleMonth&&(n.stickyMonths=!1),n.showTopbar||(n.autoClose=!0),n.startDate&&"string"==typeof n.startDate&&(n.startDate=e(n.startDate,n.format).toDate()),n.endDate&&"string"==typeof n.endDate&&(n.endDate=e(n.endDate,n.format).toDate());var J,tt,et=function(){if("auto"==n.language){var e=navigator.language?navigator.language:navigator.browserLanguage;return e?(e=e.toLowerCase(),e in t.dateRangePickerLanguages?t.dateRangePickerLanguages[e]:t.dateRangePickerLanguages.default):t.dateRangePickerLanguages.default}return n.language&&n.language in t.dateRangePickerLanguages?t.dateRangePickerLanguages[n.language]:t.dateRangePickerLanguages.default}(),nt=!1,it=this,rt=t(it).get(0);return t(this).unbind(".datepicker").bind("click.datepicker",function(t){J.is(":visible")||o(n.duration)}).bind("change.datepicker",function(t){a()}).bind("keyup.datepicker",function(){try{clearTimeout(tt)}catch(t){}tt=setTimeout(function(){a()},2e3)}),function(){function o(e){var i=t(e).parents("table").hasClass("month2"),r=i?n.month2:n.month1;r=H(r),!n.singleMonth&&!n.singleDate&&!i&&W(r,n.month2)>=0||V(r)||(T(r,i?"month2":"month1"),A())}function a(t){var e=H(n.month1),i=H(n.month2);V(i)||!n.singleDate&&W(e,i)>=0||(T(e,"month1"),T(i,"month2"),x())}function s(e){var i=t(e).parents("table").hasClass("month2"),r=i?n.month2:n.month1;r=j(r),i&&W(r,n.month1)<=0||V(r)||(T(r,i?"month2":"month1"),A())}function l(t){var e=j(n.month1),i=j(n.month2);V(e)||!n.singleDate&&W(i,e)<=0||(T(i,"month2"),T(e,"month1"),x())}var c=this;if(t(this).data("date-picker-opened"))P();else{t(this).data("date-picker-opened",!0),(J=F().hide()).append('<div class="date-range-length-tip"></div>'),t(n.container).append(J),n.inline?J.addClass("inline-wrapper"):r(),n.alwaysOpen&&J.find(".apply-btn").hide();var f=X();if(Q(f),n.time.enabled)if(n.startDate&&n.endDate||n.start&&n.end)O(e(n.start||n.startDate).toDate(),"time1"),O(e(n.end||n.endDate).toDate(),"time2");else{var h=n.defaultEndTime?n.defaultEndTime:f;O(f,"time1"),O(h,"time2")}var d="";d=K(n.singleDate?"default-single":n.minDays&&n.maxDays?"default-range":n.minDays?"default-more":n.maxDays?"default-less":"default-default"),J.find(".default-top").html(d.replace(/\%d/,n.minDays).replace(/\%d/,n.maxDays)),n.singleMonth?J.addClass("single-month"):J.addClass("two-months"),setTimeout(function(){u(),nt=!0},0),J.click(function(t){t.stopPropagation()}),t(document).bind("click.datepicker",function(t){i(t,c[0])||J.is(":visible")&&P()}),J.find(".next").click(function(){t(c).trigger("datepicker-next-month-clicked"),n.stickyMonths?a(this):o(this),t(c).trigger("datepicker-next-month-finish-clicked")}),J.find(".prev").click(function(){t(c).trigger("datepicker-prev-month-clicked"),n.stickyMonths?l(this):s(this),t(c).trigger("datepicker-prev-month-finish-clicked")}),J.attr("unselectable","on").css("user-select","none").bind("selectstart",function(t){return t.preventDefault(),!1}),J.find(".apply-btn").click(function(){P();var e=D(new Date(n.start))+n.separator+D(new Date(n.end));t(c).trigger("datepicker-apply",{value:e,date1:new Date(n.start),date2:new Date(n.end)})}),J.find("[custom]").click(function(){var e=t(this).attr("custom");n.start=!1,n.end=!1,J.find(".day.checked").removeClass("checked"),n.setValue.call(rt,e),$(),S(!0),x(),n.autoClose&&P()}),J.find("[shortcut]").click(function(){var e,i=t(this).attr("shortcut"),r=new Date,o=!1;if(-1!=i.indexOf("day")){var a=parseInt(i.split(",",2)[1],10);o=new Date((new Date).getTime()+864e5*a),r=new Date(r.getTime()+864e5*(a>0?1:-1))}else if(-1!=i.indexOf("week")){var s;for(s=1==(e=-1!=i.indexOf("prev,")?-1:1)?"monday"==n.startOfWeek?1:0:"monday"==n.startOfWeek?0:6,r=new Date(r.getTime()-864e5);r.getDay()!=s;)r=new Date(r.getTime()+864e5*e);o=new Date(r.getTime()+864e5*e*6)}else if(-1!=i.indexOf("month"))(o=1==(e=-1!=i.indexOf("prev,")?-1:1)?H(r):j(r)).setDate(1),(r=H(o)).setDate(1),r=new Date(r.getTime()-864e5);else if(-1!=i.indexOf("year"))e=-1!=i.indexOf("prev,")?-1:1,(o=new Date).setFullYear(r.getFullYear()+e),o.setMonth(0),o.setDate(1),r.setFullYear(r.getFullYear()+e),r.setMonth(11),r.setDate(31);else if("custom"==i){var u=t(this).html();if(n.customShortcuts&&n.customShortcuts.length>0)for(var l=0;l<n.customShortcuts.length;l++){var c=n.customShortcuts[l];if(c.name==u){var f=[];if((f=c.dates.call())&&2==f.length&&(o=f[0],r=f[1]),f&&1==f.length){var p=f[0];T(p,"month1"),T(H(p),"month2"),A()}break}}}o&&r&&(k(o,r),$())}),J.find(".time1 input[type=range]").bind("change touchmove",function(e){var n=e.target;p("time1","hour"==n.name?t(n).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==n.name?t(n).val().replace(/^(\d{1})$/,"0$1"):void 0)}),J.find(".time2 input[type=range]").bind("change touchmove",function(e){var n=e.target;p("time2","hour"==n.name?t(n).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==n.name?t(n).val().replace(/^(\d{1})$/,"0$1"):void 0)})}}.call(this),n.alwaysOpen&&o(0),t(this).data("dateRangePicker",{setStart:function(t,i){return"string"==typeof t&&(t=e(t,n.format).toDate()),n.end=!1,z(t,i),this},setEnd:function(t,i){var r=new Date;return r.setTime(n.start),"string"==typeof t&&(t=e(t,n.format).toDate()),k(r,t,i),this},setDateRange:function(t,i,r){"string"==typeof t&&"string"==typeof i&&(t=e(t,n.format).toDate(),i=e(i,n.format).toDate()),k(t,i,r)},clear:function(){n.start=!1,n.end=!1,J.find(".day.checked").removeClass("checked"),J.find(".day.last-date-selected").removeClass("last-date-selected"),J.find(".day.first-date-selected").removeClass("first-date-selected"),n.setValue.call(rt,""),$(),S(),x()},close:P,open:o,redraw:I,getDatePicker:function(){return J},resetMonthsView:Q,destroy:function(){t(it).unbind(".datepicker"),t(it).data("dateRangePicker",""),t(it).data("date-picker-opened",null),J.remove(),t(window).unbind("resize.datepicker",r),t(document).unbind("click.datepicker",P)}}),t(window).bind("resize.datepicker",r),this}}),function(t,e){"use strict";function n(t,e,n){if(!t)throw ut("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(B(t)&&(t=t.join(" ")),B(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function r(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function o(t,e,n){var i="";return t=B(t)?t:t&&X(t)&&t.length?t.split(/\s+/):[],q(t,function(t,r){t&&t.length>0&&(i+=r>0?" ":"",i+=n?e+t:t+e)}),i}function a(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function s(t){if(t instanceof J)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===M)return t;break;default:return J(u(t))}if(t.nodeType===M)return J(t)}function u(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===M)return n}}function l(t,e,n){q(e,function(e){t.addClass(e,n)})}function c(t,e,n){q(e,function(e){t.removeClass(e,n)})}function f(t){return function(e,n){n.addClass&&(l(t,e,n.addClass),n.addClass=null),n.removeClass&&(c(t,e,n.removeClass),n.removeClass=null)}}function p(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||tt;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=tt},t.$$prepared=!0}return t}function h(t,e){d(t,e),g(t,e)}function d(t,e){e.from&&(t.css(e.from),e.from=null)}function g(t,e){e.to&&(t.css(e.to),e.to=null)}function m(t,e,n){var i=e.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=v(t.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=C(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var u=i.domOperation!==tt?i.domOperation:null;return N(i,r),u&&(i.domOperation=u),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function v(t,e,n){function i(t){X(t)&&(t=t.split(" "));var e={};return q(t,function(t){t.length&&(e[t]=!0)}),e}var r={};t=i(t),e=i(e),q(e,function(t,e){r[e]=1}),n=i(n),q(n,function(t,e){r[e]=1===r[e]?null:-1});var o={addClass:"",removeClass:""};return q(r,function(e,n){var i,r;1===e?(i="addClass",r=!t[n]||t[n+j]):-1===e&&(i="removeClass",r=t[n]||t[n+H]),r&&(o[i].length&&(o[i]+=" "),o[i]+=n)}),o}function y(t){return t instanceof J?t[0]:t}function w(t,e,n){var i="";e&&(i=o(e,L,!0)),n.addClass&&(i=C(i,o(n.addClass,H))),n.removeClass&&(i=C(i,o(n.removeClass,j))),i.length&&(n.preparationClasses=i,t.addClass(i))}function _(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}function b(t,e){var n=e?"-"+e+"s":"";return S(t,[at,n]),[at,n]}function $(t,e){var n=e?"paused":"",i=I+it;return S(t,[i,n]),[i,n]}function S(t,e){var n=e[0],i=e[1];t.style[n]=i}function C(t,e){return t?e?t+" "+e:t:e}function k(t){return[ot,t+"s"]}function z(t,e){return[e?rt:at,t+"s"]}function x(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return q(n,function(t,e){var n=r[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=T(n)),0===n&&(n=null),i[e]=n}}),i}function T(t){var e=0,n=t.split(/\s*,\s*/);return q(n,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function E(t){return 0===t||null!=t}function O(t,e){var n=A,i=t+"s";return e?n+=et:i+=" linear all",[n,i]}function R(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function D(t,e,n){q(n,function(n){t[n]=Y(t[n])?t[n]:e.style.getPropertyValue(n)})}var A,P,I,W,M=1,H="-add",j="-remove",L="ng-",F="ng-animate",U="$$ngAnimateChildren";void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?("-webkit-",A="WebkitTransition",P="webkitTransitionEnd transitionend"):(A="transition",P="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?("-webkit-",I="WebkitAnimation",W="webkitAnimationEnd animationend"):(I="animation",W="animationend");var V,N,q,B,Y,G,Z,K,X,Q,J,tt,et="Duration",nt="TimingFunction",it="PlayState",rt=I+"Delay",ot=I+et,at=A+"Delay",st=A+et,ut=e.$$minErr("ng"),lt=["$$rAF",function(t){function e(t){i=i.concat(t),n()}function n(){if(i.length){for(var e=i.shift(),o=0;o<e.length;o++)e[o]();r||t(function(){r||n()})}}var i,r;return i=e.queue=[],e.waitUntilQuiet=function(e){r&&r(),r=t(function(){r=null,e(),n()})},e}],ct=["$interpolate",function(t){return{link:function(e,n,i){function r(t){t="on"===t||"true"===t,n.data(U,t)}var o=i.ngAnimateChildren;X(o)&&0===o.length?n.data(U,!0):(r(t(o)(e)),i.$observe("ngAnimateChildren",r))}}}],ft="$$animateCss",pt=1e3,ht=3,dt=1.5,gt={transitionDuration:st,transitionDelay:at,transitionProperty:A+"Property",animationDuration:ot,animationDelay:rt,animationIterationCount:I+"IterationCount"},mt={transitionDuration:st,transitionDelay:at,animationDuration:ot,animationDelay:rt},vt=["$animateProvider",function(t){var e=R(),n=R();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,i,s,u,l,c,m,v){function w(t,e){var n="$$ngAnimateParentKey",i=t.parentNode;return(i[n]||(i[n]=++F))+"-"+t.getAttribute("class")+"-"+e}function _(n,i,r,o){var a=e.get(r);return a||"infinite"===(a=x(t,n,o)).animationIterationCount&&(a.animationIterationCount=1),e.put(r,a),a}function C(r,a,s,u){var l;if(e.count(s)>0&&!(l=n.get(s))){var c=o(a,"-stagger");i.addClass(r,c),(l=x(t,r,u)).animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),i.removeClass(r,c),n.put(s,l)}return l||{}}function T(t){U.push(t),m.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=l(),i=0;i<U.length;i++)U[i](t);U.length=0})}function R(t,e,n){var i=_(t,e,n,gt),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var M=f(i),F=0,U=[];return function(t,n){function l(){m()}function f(){m(!0)}function m(e){if(!(Z||X&&K)){Z=!0,K=!1,N.$$skipPreparationClasses||i.removeClass(t,wt),i.removeClass(t,bt),$(G,!1),b(G,!1),q(st,function(t){G.style[t[0]]=""}),M(t,N),h(t,N),Object.keys(Y).length&&q(Y,function(t,e){t?G.style.setProperty(e,t):G.style.removeProperty(e)}),N.onDone&&N.onDone(),ct&&ct.length&&t.off(ct.join(" "),F);var n=t.data(ft);n&&(u.cancel(n[0].timer),t.removeData(ft)),Q&&Q.complete(!e)}}function _(t){Pt.blockTransition&&b(G,t),Pt.blockKeyframeAnimation&&$(G,!!t)}function x(){return Q=new s({end:l,cancel:f}),T(tt),m(),{$$willAnimate:!1,start:function(){return Q},end:l}}function F(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(ht));Math.max(n-at,0)>=it&&i>=rt&&(X=!0,m())}function U(){function e(){if(!Z){if(_(!1),q(st,function(t){var e=t[0],n=t[1];G.style[e]=n}),M(t,N),i.addClass(t,bt),Pt.recalculateTimingStyles){if(_t=G.getAttribute("class")+" "+wt,St=w(G,_t),Dt=R(G,_t,St),At=Dt.maxDelay,et=Math.max(At,0),0===(rt=Dt.maxDuration))return void m();Pt.hasTransitions=Dt.transitionDuration>0,Pt.hasAnimations=Dt.animationDuration>0}if(Pt.applyAnimationDelay&&(At="boolean"!=typeof N.delay&&E(N.delay)?parseFloat(N.delay):At,et=Math.max(At,0),Dt.animationDelay=At,It=z(At,!0),st.push(It),G.style[It[0]]=It[1]),it=et*pt,ot=rt*pt,N.easing){var e,r=N.easing;Pt.hasTransitions&&(e=A+nt,st.push([e,r]),G.style[e]=r),Pt.hasAnimations&&(e=I+nt,st.push([e,r]),G.style[e]=r)}Dt.transitionDuration&&ct.push(P),Dt.animationDuration&&ct.push(W),at=Date.now();var o=it+dt*ot,a=at+o,s=t.data(ft)||[],l=!0;if(s.length){var c=s[0];(l=a>c.expectedEndTime)?u.cancel(c.timer):s.push(m)}if(l){var f=u(n,o,!1);s[0]={timer:f,expectedEndTime:a},s.push(m),t.data(ft,s)}ct.length&&t.on(ct.join(" "),F),N.to&&(N.cleanupStyles&&D(Y,G,Object.keys(N.to)),g(t,N))}}function n(){var e=t.data(ft);if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData(ft)}}if(!Z)if(G.parentNode){var r=function(t){if(X)K&&t&&(K=!1,m());else if(K=!t,Dt.animationDuration){var e=$(G,K);K?st.push(e):a(st,e)}},o=Ot>0&&(Dt.transitionDuration&&0===Ct.transitionDuration||Dt.animationDuration&&0===Ct.animationDuration)&&Math.max(Ct.animationDelay,Ct.transitionDelay);o?u(e,Math.floor(o*Ot*pt),!1):e(),J.resume=function(){r(!0)},J.pause=function(){r(!1)}}else m()}var N=n||{};N.$$prepared||(N=p(V(N)));var Y={},G=y(t);if(!G||!G.parentNode||!v.enabled())return x();var Z,K,X,Q,J,et,it,rt,ot,at,st=[],ut=t.attr("class"),lt=r(N),ct=[];if(0===N.duration||!c.animations&&!c.transitions)return x();var gt=N.event&&B(N.event)?N.event.join(" "):N.event,vt="",yt="";gt&&N.structural?vt=o(gt,L,!0):gt&&(vt=gt),N.addClass&&(yt+=o(N.addClass,H)),N.removeClass&&(yt.length&&(yt+=" "),yt+=o(N.removeClass,j)),N.applyClassesEarly&&yt.length&&M(t,N);var wt=[vt,yt].join(" ").trim(),_t=ut+" "+wt,bt=o(wt,"-active"),$t=lt.to&&Object.keys(lt.to).length>0;if(!((N.keyframeStyle||"").length>0)&&!$t&&!wt)return x();var St,Ct;if(N.stagger>0){var kt=parseFloat(N.stagger);Ct={transitionDelay:kt,animationDelay:kt,transitionDuration:0,animationDuration:0}}else St=w(G,_t),Ct=C(G,wt,St,mt);N.$$skipPreparationClasses||i.addClass(t,wt);var zt;if(N.transitionStyle){var xt=[A,N.transitionStyle];S(G,xt),st.push(xt)}if(N.duration>=0){zt=G.style[A].length>0;var Tt=O(N.duration,zt);S(G,Tt),st.push(Tt)}if(N.keyframeStyle){var Et=[I,N.keyframeStyle];S(G,Et),st.push(Et)}var Ot=Ct?N.staggerIndex>=0?N.staggerIndex:e.count(St):0,Rt=0===Ot;Rt&&!N.skipBlocking&&b(G,9999);var Dt=R(G,_t,St),At=Dt.maxDelay;et=Math.max(At,0),rt=Dt.maxDuration;var Pt={};if(Pt.hasTransitions=Dt.transitionDuration>0,Pt.hasAnimations=Dt.animationDuration>0,Pt.hasTransitionAll=Pt.hasTransitions&&"all"===Dt.transitionProperty,Pt.applyTransitionDuration=$t&&(Pt.hasTransitions&&!Pt.hasTransitionAll||Pt.hasAnimations&&!Pt.hasTransitions),Pt.applyAnimationDuration=N.duration&&Pt.hasAnimations,Pt.applyTransitionDelay=E(N.delay)&&(Pt.applyTransitionDuration||Pt.hasTransitions),Pt.applyAnimationDelay=E(N.delay)&&Pt.hasAnimations,Pt.recalculateTimingStyles=yt.length>0,(Pt.applyTransitionDuration||Pt.applyAnimationDuration)&&(rt=N.duration?parseFloat(N.duration):rt,Pt.applyTransitionDuration&&(Pt.hasTransitions=!0,Dt.transitionDuration=rt,zt=G.style[A+"Property"].length>0,st.push(O(rt,zt))),Pt.applyAnimationDuration&&(Pt.hasAnimations=!0,Dt.animationDuration=rt,st.push(k(rt)))),0===rt&&!Pt.recalculateTimingStyles)return x();if(null!=N.delay){var It;"boolean"!=typeof N.delay&&(It=parseFloat(N.delay),et=Math.max(It,0)),Pt.applyTransitionDelay&&st.push(z(It)),Pt.applyAnimationDelay&&st.push(z(It,!0))}return null==N.duration&&Dt.transitionDuration>0&&(Pt.recalculateTimingStyles=Pt.recalculateTimingStyles||Rt),it=et*pt,ot=rt*pt,N.skipBlocking||(Pt.blockTransition=Dt.transitionDuration>0,Pt.blockKeyframeAnimation=Dt.animationDuration>0&&Ct.animationDelay>0&&0===Ct.animationDuration),N.from&&(N.cleanupStyles&&D(Y,G,Object.keys(N.from)),d(t,N)),Pt.blockTransition||Pt.blockKeyframeAnimation?_(rt):N.skipBlocking||b(G,!1),{$$willAnimate:!0,end:l,start:function(){if(!Z)return J={end:l,cancel:f,resume:null,pause:null},Q=new s(J),T(U),Q}}}}]}],yt=["$$animationProvider",function(t){function e(t){return t.parentNode&&11===t.parentNode.nodeType}t.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor",r="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,a,s,u,l,c,f){function p(t){return t.replace(/\bng-\S+\b/g,"")}function h(t,e){return X(t)&&(t=t.split(" ")),X(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function d(e,a,u){function l(t){var e={},n=y(t).getBoundingClientRect();return q(["width","height","top","left"],function(t){var i=n[t];switch(t){case"top":i+=v.scrollTop;break;case"left":i+=v.scrollLeft}e[t]=Math.floor(i)+"px"}),e}function c(t){return t.attr("class")||""}function f(){var e=p(c(u)),n=h(e,m),i=h(m,e),a=t(g,{to:l(u),addClass:o+" "+n,removeClass:r+" "+i,delay:!0});return a.$$willAnimate?a:null}function d(){g.remove(),a.removeClass(n),u.removeClass(n)}var g=J(y(a).cloneNode(!0)),m=p(c(g));a.addClass(n),u.addClass(n),g.addClass(i),_.append(g);var w,b=function(){var e=t(g,{addClass:r,delay:!0,from:l(a)});return e.$$willAnimate?e:null}();if(!b&&!(w=f()))return d();var $=b||w;return{start:function(){function t(){n&&n.end()}var e,n=$.start();return n.done(function(){if(n=null,!w&&(w=f()))return(n=w.start()).done(function(){n=null,d(),e.complete()}),n;d(),e.complete()}),e=new s({end:t,cancel:t})}}}function g(t,e,n,i){var r=m(t),o=m(e),a=[];if(q(i,function(t){var e=t.out,i=t.in,r=d(n,e,i);r&&a.push(r)}),r||o||0!==a.length)return{start:function(){function t(){q(e,function(t){t.end()})}var e=[];r&&e.push(r.start()),o&&e.push(o.start()),q(a,function(t){e.push(t.start())});var n=new s({end:t,cancel:t});return s.all(e,function(t){n.complete(t)}),n}}}function m(e){var n=e.element,i=e.options||{};e.structural&&(i.event=e.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===e.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=C(i.event,i.preparationClasses));var r=t(n,i);return r.$$willAnimate?r:null}if(!l.animations&&!l.transitions)return tt;var v=f[0].body,w=y(u),_=J(e(w)||v.contains(w)?w:v);return function(t){return t.from&&t.to?g(t.from,t.to,t.classes,t.anchors):m(t)}}]}],wt=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,i){function r(n){n=B(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!r[a]&&(i.push(e.get(s)),r[a]=!0)}return i}var o=f(i);return function(t,e,i,a){function s(){a.domOperation(),o(t,a)}function u(){d=!0,s(),h(t,a)}function l(t,e,i,r,o){var a;switch(i){case"animate":a=[e,r.from,r.to,o];break;case"setClass":a=[e,v,y,o];break;case"addClass":a=[e,v,o];break;case"removeClass":a=[e,y,o];break;default:a=[e,o]}a.push(r);var s=t.apply(t,a);if(s)if(Z(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(Z(s))return s;return tt}function c(t,e,i,r,o){var a=[];return q(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,u=function(t){a||(a=!0,(o||tt)(t),r.complete(!t))};return r=new n({end:function(){u()},cancel:function(){u(!0)}}),o=l(s,t,e,i,function(t){u(!1===t)}),r})}),a}function f(t,e,i,r,o){var a=c(t,e,i,r,o);if(0===a.length){var s,u;"beforeSetClass"===o?(s=c(t,"removeClass",i,r,"beforeRemoveClass"),u=c(t,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=c(t,"removeClass",i,r,"removeClass"),u=c(t,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),u&&(a=a.concat(u))}if(0!==a.length)return function(t){var e=[];return a.length&&q(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){q(e,function(e){t?e.cancel():e.end()})}}}var d=!1;3===arguments.length&&K(i)&&(a=i,i=null),a=p(a),i||(i=t.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var g,m,v=a.addClass,y=a.removeClass,w=r(i);if(w.length){var _,b;"leave"===e?(b="leave",_="afterLeave"):(b="before"+e.charAt(0).toUpperCase()+e.substr(1),_=e),"enter"!==e&&"move"!==e&&(g=f(t,e,a,w,b)),m=f(t,e,a,w,_)}if(g||m){var $;return{$$willAnimate:!0,end:function(){return $?$.end():(u(),($=new n).complete(!0)),$},start:function(){function t(t){u(t),$.complete(t)}function e(e){d||((i||tt)(e),t(e))}if($)return $;$=new n;var i,r=[];return g&&r.push(function(t){i=g(t)}),r.length?r.push(function(t){s(),t(!0)}):s(),m&&r.push(function(t){i=m(t)}),$.setHost({end:function(){e()},cancel:function(){e(!0)}}),n.chain(r,t),$}}}}}]}],_t=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,i=e.event,r=e.options,o=e.classes;return t(n,i,o,r)}return function(t){if(t.from&&t.to){var i=n(t.from),r=n(t.to);if(!i&&!r)return;return{start:function(){function t(){return function(){q(n,function(t){t.end()})}}var n=[];i&&n.push(i.start()),r&&n.push(r.start()),e.all(n,function(t){o.complete(t)});var o=new e({end:t(),cancel:t()});return o}}}return n(t)}}]}],bt="data-ng-animate",$t="$ngAnimatePin",St=["$animateProvider",function(e){function i(t){if(!t)return null;var e=t.split(d),n=Object.create(null);return q(e,function(t){n[t]=!0}),n}function r(t,e){if(t&&e){var n=i(e);return t.split(d).some(function(t){return n[t]})}}function o(t,e,n){return g[t].some(function(t){return t(e,n)})}function a(t,e){var n=(t.addClass||"").length>0,i=(t.removeClass||"").length>0;return e?n&&i:n||i}var l=1,c=2,d=" ",g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(t,e){return!t.structural&&a(t)}),g.skip.push(function(t,e){return!t.structural&&!a(t)}),g.skip.push(function(t,e){return"leave"===e.event&&t.structural}),g.skip.push(function(t,e){return e.structural&&e.state===c&&!t.structural}),g.cancel.push(function(t,e){return e.structural&&t.structural}),g.cancel.push(function(t,e){return e.state===c&&t.structural}),g.cancel.push(function(t,e){if(e.structural)return!1;var n=t.addClass,i=t.removeClass,o=e.addClass,a=e.removeClass;return!(Q(n)&&Q(i)||Q(o)&&Q(a))&&(r(n,a)||r(i,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,r,d,g,v,b,$,S,C,k,z){function x(){var t=!1;return function(e){t?e():r.$$postDigest(function(){t=!0,e()})}}function T(t,e){return m(t,e,{})}function E(t,e,n){var i=[],r=Z[n];return r&&q(r,function(r){at.call(r.node,e)?i.push(r.callback):"leave"===n&&at.call(r.node,t)&&i.push(r.callback)}),i}function O(t,e,n){var i=u(e);return t.filter(function(t){return!(t.node===i&&(!n||t.callback===n))})}function R(t,e){"close"!==t||e.parentNode||st.off(e)}function D(t,e,n){function u(t,e,n,r){k(function(){var t=E(S,v,e);t.length?i(function(){q(t,function(t){t(g,n,r)}),R(n,v)}):R(n,v)}),t.progress(e,n,r)}function f(t){_(g,d),ot(g,d),h(g,d),d.domOperation(),C.complete(!t)}var d=V(n),g=s(t),v=y(g),S=v&&v.parentNode;d=p(d);var C=new $,k=x();if(B(d.addClass)&&(d.addClass=d.addClass.join(" ")),d.addClass&&!X(d.addClass)&&(d.addClass=null),B(d.removeClass)&&(d.removeClass=d.removeClass.join(" ")),d.removeClass&&!X(d.removeClass)&&(d.removeClass=null),d.from&&!K(d.from)&&(d.from=null),d.to&&!K(d.to)&&(d.to=null),!(L&&v&&it(v,e,n)&&rt(v,d)))return f(),C;var O=["enter","move","leave"].indexOf(e)>=0,D=z(),M=D||j.get(v),F=!M&&H.get(v)||{},U=!!F.state;if(M||U&&F.state===l||(M=!I(v,S,e)),M)return D&&u(C,e,"start"),f(),D&&u(C,e,"close"),C;O&&A(v);var N={structural:O,element:g,event:e,addClass:d.addClass,removeClass:d.removeClass,close:f,options:d,runner:C};if(U){if(o("skip",N,F))return F.state===c?(f(),C):(m(g,F,N),F.runner);if(o("cancel",N,F))if(F.state===c)F.runner.end();else{if(!F.structural)return m(g,F,N),F.runner;F.close()}else if(o("join",N,F)){if(F.state!==c)return w(g,O?e:null,d),e=N.event=F.event,d=m(g,F,N),F.runner;T(g,N)}}else T(g,N);var Y=N.structural;if(Y||(Y="animate"===N.event&&Object.keys(N.options.to||{}).length>0||a(N)),!Y)return f(),P(v),C;var G=(F.counter||0)+1;return N.counter=G,W(v,l,N),r.$$postDigest(function(){g=s(t);var n=H.get(v),i=!n;n=n||{};var r=(g.parent()||[]).length>0&&("animate"===n.event||n.structural||a(n));if(i||n.counter!==G||!r)return i&&(ot(g,d),h(g,d)),(i||O&&n.event!==e)&&(d.domOperation(),C.end()),void(r||P(v));e=!n.structural&&a(n,!0)?"setClass":n.event,W(v,c);var o=b(g,e,n.options);C.setHost(o),u(C,e,"start",{}),o.done(function(t){f(!t);var n=H.get(v);n&&n.counter===G&&P(v),u(C,e,"close",{})})}),C}function A(t){var e=t.querySelectorAll("["+bt+"]");q(e,function(t){var e=parseInt(t.getAttribute(bt),10),n=H.get(t);if(n)switch(e){case c:n.runner.end();case l:H.delete(t)}})}function P(t){t.removeAttribute(bt),H.delete(t)}function I(t,e,n){var i,r=g[0].body,o=y(d),a=t===r||"HTML"===t.nodeName,s=t===o,u=!1,l=j.get(t),c=J.data(t,$t);for(c&&(e=y(c));e&&(s||(s=e===o),e.nodeType===M);){var f=H.get(e)||{};if(!u){var p=j.get(e);if(!0===p&&!1!==l){l=!0;break}!1===p&&(l=!1),u=f.structural}if(Q(i)||!0===i){var h=J.data(e,U);Y(h)&&(i=h)}if(u&&!1===i)break;if(a||(a=e===r),a&&s)break;e=s||!(c=J.data(e,$t))?e.parentNode:y(c)}return(!u||i)&&!0!==l&&s&&a}function W(t,e,n){(n=n||{}).state=e,t.setAttribute(bt,e);var i=H.get(t),r=i?N(i,n):n;H.set(t,r)}var H=new v,j=new v,L=null,F=r.$watch(function(){return 0===S.totalPendingRequests},function(t){t&&(F(),r.$$postDigest(function(){r.$$postDigest(function(){null===L&&(L=!0)})}))}),Z=Object.create(null),tt=e.customFilter(),et=e.classNameFilter(),nt=function(){return!0},it=tt||nt,rt=et?function(t,e){var n=[t.getAttribute("class"),e.addClass,e.removeClass].join(" ");return et.test(n)}:nt,ot=f(C),at=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},st={on:function(t,e,n){var i=u(e);Z[t]=Z[t]||[],Z[t].push({node:i,callback:n}),J(e).on("$destroy",function(){H.get(i)||st.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||X(arguments[0])){var i=Z[t];i&&(Z[t]=1===arguments.length?null:O(i,e,n))}else{e=arguments[0];for(var r in Z)Z[r]=O(Z[r],e)}},pin:function(t,e){n(G(t),"element","not an element"),n(G(e),"parentElement","not an element"),t.data($t,e)},push:function(t,e,n,i){return n=n||{},n.domOperation=i,D(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!L;else if(G(t)){var i=y(t);1===n?e=!j.get(i):j.set(i,!e)}else e=L=!!t;return e}};return st}]}],Ct=["$animateProvider",function(t){function e(t,e){t.data(s,e)}function n(t){t.removeData(s)}function r(t){return t.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(t,s,u,l,c,d){function g(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,o=n.parentNode;r.set(n,t);for(var a;o;){if(a=r.get(o)){a.processed||(a=e(a));break}o=o.parentNode}return(a||i).children.push(t),t}var n,i={children:[]},r=new c;for(n=0;n<t.length;n++){var o=t[n];r.set(o.domNode,t[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<t.length;n++)e(t[n]);return function(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,o=0,a=[];for(e=0;e<i.length;e++){var s=i[e];r<=0&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(t){o++,i.push(t)}),r--}return a.length&&n.push(a),n}(i)}var m=[],v=f(t);return function(c,f,w){function _(t){var e="["+o+"]",n=t.hasAttribute(o)?[t]:t.querySelectorAll(e),i=[];return q(n,function(t){var e=t.getAttribute(o);e&&e.length&&i.push(t)}),i}function b(t){var e=[],n={};q(t,function(t,i){var r=y(t.element),a=t.event,s=["enter","move"].indexOf(a)>=0,u=t.structural?_(r):[];if(u.length){var l=s?"to":"from";q(u,function(t){var e=t.getAttribute(o);n[e]=n[e]||{},n[e][l]={animationID:i,element:J(t)}})}else e.push(t)});var i={},r={};return q(n,function(n,o){var a=n.from,s=n.to;if(a&&s){var u=t[a.animationID],l=t[s.animationID],c=a.animationID.toString();if(!r[c]){var f=r[c]={structural:!0,beforeStart:function(){u.beforeStart(),l.beforeStart()},close:function(){u.close(),l.close()},classes:$(u.classes,l.classes),from:u,to:l,anchors:[]};f.classes.length?e.push(f):(e.push(u),e.push(l))}r[c].anchors.push({out:a.element,in:s.element})}else{var p=a?a.animationID:s.animationID,h=p.toString();i[h]||(i[h]=!0,e.push(t[p]))}}),e}function $(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var o=0;o<e.length;o++)if(r===e[o]){n.push(r);break}}return n.join(" ")}function S(t){for(var e=a.length-1;e>=0;e--){var n=a[e],i=u.get(n)(t);if(i)return i}}function C(t,e){function n(t){var n=r(t);n&&n.setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function k(){var t=r(c);!t||"leave"===f&&w.$$domOperationFired||t.end()}function z(e){c.off("$destroy",k),n(c),v(c,w),h(c,w),w.domOperation(),O&&t.removeClass(c,O),c.removeClass(F),T.complete(!e)}w=p(w);var x=["enter","move","leave"].indexOf(f)>=0,T=new l({end:function(){z()},cancel:function(){z(!0)}});if(!a.length)return z(),T;e(c,T);var E=i(c.attr("class"),i(w.addClass,w.removeClass)),O=w.tempClasses;O&&(E+=" "+O,w.tempClasses=null);var R;return x&&(R="ng-"+f+"-prepare",t.addClass(c,R)),m.push({element:c,classes:E,event:f,structural:x,options:w,beforeStart:function(){c.addClass(F),O&&t.addClass(c,O),R&&(t.removeClass(c,R),R=null)},close:z}),c.on("$destroy",k),m.length>1?T:(s.$$postDigest(function(){var t=[];q(m,function(e){r(e.element)?t.push(e):e.close()}),m.length=0;var e=b(t),n=[];q(e,function(t){n.push({domNode:y(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,n=t.close;if(r(t.anchors?t.from.element||t.to.element:t.element)){var i=S(t);i&&(e=i.start)}if(e){var o=e();o.done(function(t){n(!t)}),C(t,o)}else n()}})}),d(g(n))}),T)}}]}],kt=["$animate","$rootScope",function(t,e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,i,r,o){var a,s;e.$watchCollection(i.ngAnimateSwap||i.for,function(i){a&&t.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=e.$new(),o(s,function(e){a=e,t.enter(e,null,n)}))})}}}];e.module("ngAnimate",[],function(){tt=e.noop,V=e.copy,N=e.extend,J=e.element,q=e.forEach,B=e.isArray,X=e.isString,K=e.isObject,Q=e.isUndefined,Y=e.isDefined,Z=e.isFunction,G=e.isElement}).info({angularVersion:"1.6.6"}).directive("ngAnimateSwap",kt).directive("ngAnimateChildren",ct).factory("$$rAFScheduler",lt).provider("$$animateQueue",St).provider("$$animation",Ct).provider("$animateCss",vt).provider("$$animateCssDriver",yt).provider("$$animateJs",wt).provider("$$animateJsDriver",_t)}(window,window.angular),function(t,e){"use strict";var n=e.module("ngAria",["ng"]).info({angularVersion:"1.6.6"}).provider("$aria",function(){function t(t,e,i,o){return function(a,s,u){var l=u.$normalize(e);!n[l]||r(s,i)||u[l]||a.$watch(u[t],function(t){t=o?!t:!!t,s.attr(e,t)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};this.config=function(t){n=e.extend(n,t)},this.$get=function(){return{config:function(t){return n[t]},$$watchExpr:t}}}),i=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],r=function(t,e){if(-1!==e.indexOf(t[0].nodeName))return!0};n.directive("ngShow",["$aria",function(t){return t.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(t){return t.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(t){return t.$$watchExpr("ngValue","aria-checked",i,!1)}]).directive("ngChecked",["$aria",function(t){return t.$$watchExpr("ngChecked","aria-checked",i,!1)}]).directive("ngReadonly",["$aria",function(t){return t.$$watchExpr("ngReadonly","aria-readonly",i,!1)}]).directive("ngRequired",["$aria",function(t){return t.$$watchExpr("ngRequired","aria-required",i,!1)}]).directive("ngModel",["$aria",function(t){function e(e,n,o,a){return t.config(n)&&!o.attr(e)&&(a||!r(o,i))}function n(t,e){return!e.attr("role")&&e.attr("type")===t&&!r(e,i)}function o(t,e){var n=t.type,i=t.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(i,r){var a=o(r,i);return{post:function(i,r,o,s){function u(){return s.$modelValue}var l=e("tabindex","tabindex",r,!1);switch(a){case"radio":case"checkbox":n(a,r)&&r.attr("role",a),e("aria-checked","ariaChecked",r,!1)&&i.$watch(u,"radio"===a?function(t){var e=o.value==s.$viewValue;r.attr("aria-checked",e)}:function(){r.attr("aria-checked",!s.$isEmpty(s.$viewValue))}),l&&r.attr("tabindex",0);break;case"range":if(n(a,r)&&r.attr("role","slider"),t.config("ariaValue")){var c=!r.attr("aria-valuemin")&&(o.hasOwnProperty("min")||o.hasOwnProperty("ngMin")),f=!r.attr("aria-valuemax")&&(o.hasOwnProperty("max")||o.hasOwnProperty("ngMax")),p=!r.attr("aria-valuenow");c&&o.$observe("min",function(t){r.attr("aria-valuemin",t)}),f&&o.$observe("max",function(t){r.attr("aria-valuemax",t)}),p&&i.$watch(u,function(t){r.attr("aria-valuenow",t)})}l&&r.attr("tabindex",0)}!o.hasOwnProperty("ngRequired")&&s.$validators.required&&e("aria-required","ariaRequired",r,!1)&&o.$observe("required",function(){r.attr("aria-required",!!o.required)}),e("aria-invalid","ariaInvalid",r,!0)&&i.$watch(function(){return s.$invalid},function(t){r.attr("aria-invalid",!!t)})}}}}}]).directive("ngDisabled",["$aria",function(t){return t.$$watchExpr("ngDisabled","aria-disabled",i,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(t,e,n,i){e.attr("aria-live")||e.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(t,e){return{restrict:"A",compile:function(n,o){var a=e(o.ngClick);return function(e,n,o){r(n,i)||(t.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),t.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!t.config("bindKeydown")||o.ngKeydown||o.ngKeypress||o.ngKeyup||n.on("keydown",function(t){var n=t.which||t.keyCode;32!==n&&13!==n||e.$apply(function(){a(e,{$event:t})})}))}}}}]).directive("ngDblclick",["$aria",function(t){return function(e,n,o){!t.config("tabindex")||n.attr("tabindex")||r(n,i)||n.attr("tabindex",0)}}])}(window,window.angular),function(t,e,n){"use strict";function i(t){return E(t)?t:Object.keys(t).map(function(e){return t[e]})}function r(t){return null===t}function o(t,e){return-1==Object.keys(t).map(function(i){return e[i]!==n&&e[i]==t[i]}).indexOf(!1)}function a(t,e){for(var n=0,i=0;i<=e.length;i++){var r=function(t,e,n){for(var i=0;e+i<=t.length;){if(t.charAt(e+i)==n)return i;i++}return-1}(t,n,e.charAt(i));if(-1==r)return!1;n+=r+1}return!0}function s(t,e,n){var i=0;return t.filter(function(t){var r=S(n)?i<e&&n(t):i<e;return i=r?i+1:i,r})}function u(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function l(t,e,n){return e=e||[],Object.keys(t).forEach(function(i){if(T(t[i])&&!E(t[i])){var r=n?n+"."+i:n;l(t[i],e,r||i)}else{var o=n?n+"."+i:i;e.push(o)}}),e}function c(t){return t&&t.$evalAsync&&t.$watch}function f(){return function(t,e){return t>e}}function p(){return function(t,e){return t>=e}}function h(){return function(t,e){return t<e}}function d(){return function(t,e){return t<=e}}function g(){return function(t,e){return t==e}}function m(){return function(t,e){return t!=e}}function v(){return function(t,e){return t===e}}function y(){return function(t,e){return t!==e}}function w(t){return function(e,n){return e=T(e)?i(e):e,!(!E(e)||C(n))&&e.some(function(e){return z(n)&&T(e)||k(n)?t(n)(e):e===n})}}function _(t,e){return e=e||0,e>=t.length?t:E(t[e])?_(t.slice(0,e).concat(t[e],t.slice(e+1)),e):_(t,e+1)}function b(t){return function(e,n){function r(t,e){return!C(e)&&t.some(function(t){return A(t,e)})}if(e=T(e)?i(e):e,!E(e))return e;var o=[],a=t(n);return C(n)?e.filter(function(t,e,n){return n.indexOf(t)===e}):e.filter(function(t){var e=a(t);return!r(o,e)&&(o.push(e),!0)})}}function $(t,e,n){return e?t+n+$(t,--e,n):t}var S=e.isDefined,C=e.isUndefined,k=e.isFunction,z=e.isString,x=e.isNumber,T=e.isObject,E=e.isArray,O=e.forEach,R=e.extend,D=e.copy,A=e.equals;String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),e.module("a8m.angular",[]).filter("isUndefined",function(){return function(t){return e.isUndefined(t)}}).filter("isDefined",function(){return function(t){return e.isDefined(t)}}).filter("isFunction",function(){return function(t){return e.isFunction(t)}}).filter("isString",function(){return function(t){return e.isString(t)}}).filter("isNumber",function(){return function(t){return e.isNumber(t)}}).filter("isArray",function(){return function(t){return e.isArray(t)}}).filter("isObject",function(){return function(t){return e.isObject(t)}}).filter("isEqual",function(){return function(t,n){return e.equals(t,n)}}),e.module("a8m.conditions",[]).filter({isGreaterThan:f,">":f,isGreaterThanOrEqualTo:p,">=":p,isLessThan:h,"<":h,isLessThanOrEqualTo:d,"<=":d,isEqualTo:g,"==":g,isNotEqualTo:m,"!=":m,isIdenticalTo:v,"===":v,isNotIdenticalTo:y,"!==":y}),e.module("a8m.is-null",[]).filter("isNull",function(){return function(t){return r(t)}}),e.module("a8m.after-where",[]).filter("afterWhere",function(){return function(t,e){if(t=T(t)?i(t):t,!E(t)||C(e))return t;var n=t.map(function(t){return o(e,t)}).indexOf(!0);return t.slice(-1===n?0:n)}}),e.module("a8m.after",[]).filter("after",function(){return function(t,e){return t=T(t)?i(t):t,E(t)?t.slice(e):t}}),e.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(t,e){if(t=T(t)?i(t):t,!E(t)||C(e))return t;var n=t.map(function(t){return o(e,t)}).indexOf(!0);return t.slice(0,-1===n?t.length:++n)}}),e.module("a8m.before",[]).filter("before",function(){return function(t,e){return t=T(t)?i(t):t,E(t)?t.slice(0,e?--e:e):t}}),e.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(t){return function(e,n,i){function r(t,e){for(var n=[];t--;)n[t]=e;return n}return t.isMemoized("chunkBy",arguments)||t.memoize("chunkBy",arguments,this,function(t,e,n){return E(t)?t.map(function(t,i,o){return i*=e,t=o.slice(i,i+e),!C(n)&&t.length<e?t.concat(r(e-t.length,n)):t}).slice(0,Math.ceil(t.length/e)):t}(e,n,i))}}]),e.module("a8m.concat",[]).filter("concat",[function(){return function(t,e){if(C(e))return t;if(E(t))return T(e)?t.concat(i(e)):t.concat(e);if(T(t)){var n=i(t);return T(e)?n.concat(i(e)):n.concat(e)}return t}}]),e.module("a8m.contains",[]).filter({contains:["$parse",w],some:["$parse",w]}),e.module("a8m.count-by",[]).filter("countBy",["$parse",function(t){return function(e,n){var r,o={},a=t(n);return e=T(e)?i(e):e,!E(e)||C(n)?e:(e.forEach(function(t){r=a(t),o[r]||(o[r]=0),o[r]++}),o)}}]),e.module("a8m.defaults",[]).filter("defaults",["$parse",function(t){return function(e,n){if(e=T(e)?i(e):e,!E(e)||!T(n))return e;var r=l(n);return e.forEach(function(e){r.forEach(function(i){var r=t(i),o=r.assign;C(r(e))&&o(e,r(n))})}),e}}]),e.module("a8m.every",[]).filter("every",["$parse",function(t){return function(e,n){return e=T(e)?i(e):e,!(E(e)&&!C(n))||e.every(function(e){return T(e)||k(n)?t(n)(e):e===n})}}]),e.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(t){return function(e,r,o,a){var s;return o=z(o)||x(o)?String(o).toLowerCase():n,e=T(e)?i(e):e,!E(e)||C(o)?e:e.filter(function(e){return r.some(function(n){if(~n.indexOf("+")){var i=n.replace(/\s+/g,"").split("+");s=i.map(function(n){return t(n)(e)}).join(" ")}else s=t(n)(e);return!(!z(s)&&!x(s))&&(s=String(s).toLowerCase(),a?s===o:s.contains(o))})})}}]),e.module("a8m.first",[]).filter("first",["$parse",function(t){return function(e){var r,o,a;return e=T(e)?i(e):e,E(e)?(a=Array.prototype.slice.call(arguments,1),r=x(a[0])?a[0]:1,o=x(a[0])?x(a[1])?n:a[1]:a[0],a.length?s(e,r,o?t(o):o):e[0]):e}}]),e.module("a8m.flatten",[]).filter("flatten",function(){return function(t,e){return e=e||!1,t=T(t)?i(t):t,E(t)?e?[].concat.apply([],t):_(t,0):t}}),e.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(t){return function(e,n,r,o){var s,u,l=o||!1;return e=T(e)?i(e):e,!E(e)||C(n)||C(r)?e:(u=t(n),e.filter(function(t){return s=u(t),!!z(s)&&(s=l?s:s.toLowerCase(),r=l?r:r.toLowerCase(),!1!==a(s,r))}))}}]),e.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(t,e,n){function r(t,e){var n,i;return 0<Object.keys(t).filter(function(r){return n=t[r],!!i||!!z(n)&&(n=o?n:n.toLowerCase(),i=!1!==a(n,e))}).length}var o=n||!1;return t=T(t)?i(t):t,!E(t)||C(e)?t:(e=o?e:e.toLowerCase(),t.filter(function(t){return z(t)?(t=o?t:t.toLowerCase(),!1!==a(t,e)):!!T(t)&&r(t,e)}))}}),e.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(t,e){return function(n,i){return!T(n)||C(i)?n:e.isMemoized("groupBy",arguments)||e.memoize("groupBy",arguments,this,function(t,e){var n,i={};return O(t,function(t){n=e(t),i[n]||(i[n]=[]),i[n].push(t)}),i}(n,t(i)))}}]),e.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(t){return T(t)?!i(t).length:!t.length}}),e.module("a8m.join",[]).filter("join",function(){return function(t,e){return C(t)||!E(t)?t:(C(e)&&(e=" "),t.join(e))}}),e.module("a8m.last",[]).filter("last",["$parse",function(t){return function(e){var r,o,a,u=D(e);return u=T(u)?i(u):u,E(u)?(a=Array.prototype.slice.call(arguments,1),r=x(a[0])?a[0]:1,o=x(a[0])?x(a[1])?n:a[1]:a[0],a.length?s(u.reverse(),r,o?t(o):o).reverse():u[u.length-1]):u}}]),e.module("a8m.map",[]).filter("map",["$parse",function(t){return function(e,n){return e=T(e)?i(e):e,!E(e)||C(n)?e:e.map(function(e){return t(n)(e)})}}]),e.module("a8m.omit",[]).filter("omit",["$parse",function(t){return function(e,n){return e=T(e)?i(e):e,!E(e)||C(n)?e:e.filter(function(e){return!t(n)(e)})}}]),e.module("a8m.pick",[]).filter("pick",["$parse",function(t){return function(e,n){return e=T(e)?i(e):e,!E(e)||C(n)?e:e.filter(function(e){return t(n)(e)})}}]),e.module("a8m.range",[]).filter("range",function(){return function(t,e,n,i,r){n=n||0,i=i||1;for(var o=0;o<parseInt(e);o++){var a=n+o*i;t.push(k(r)?r(a):a)}return t}}),e.module("a8m.remove-with",[]).filter("removeWith",function(){return function(t,e){return C(e)?t:(t=T(t)?i(t):t).filter(function(t){return!o(e,t)})}}),e.module("a8m.remove",[]).filter("remove",function(){return function(t){t=T(t)?i(t):t;var e=Array.prototype.slice.call(arguments,1);return E(t)?t.filter(function(t){return!e.some(function(e){return A(e,t)})}):t}}),e.module("a8m.reverse",[]).filter("reverse",[function(){return function(t){return t=T(t)?i(t):t,z(t)?t.split("").reverse().join(""):E(t)?t.slice().reverse():t}}]),e.module("a8m.search-field",[]).filter("searchField",["$parse",function(t){return function(e){var n,r;e=T(e)?i(e):e;var o=Array.prototype.slice.call(arguments,1);return E(e)&&o.length?e.map(function(e){return r=o.map(function(i){return(n=t(i))(e)}).join(" "),R(e,{searchField:r})}):e}}]),e.module("a8m.to-array",[]).filter("toArray",function(){return function(t,e){return T(t)?e?Object.keys(t).map(function(e){return R(t[e],{$key:e})}):i(t):t}}),e.module("a8m.unique",[]).filter({unique:["$parse",b],uniq:["$parse",b]}),e.module("a8m.where",[]).filter("where",function(){return function(t,e){return C(e)?t:(t=T(t)?i(t):t).filter(function(t){return o(e,t)})}}),e.module("a8m.xor",[]).filter("xor",["$parse",function(t){return function(e,n,r){function o(e,n){var i=t(r);return n.some(function(t){return r?A(i(t),i(e)):A(t,e)})}return r=r||!1,e=T(e)?i(e):e,n=T(n)?i(n):n,E(e)&&E(n)?e.concat(n).filter(function(t){return!(o(t,e)&&o(t,n))}):e}}]),e.module("a8m.math.abs",[]).filter("abs",function(){return function(t){return Math.abs(t)}}),e.module("a8m.math.byteFmt",[]).filter("byteFmt",function(){var t=[{str:"B",val:1024}];return["KB","MB","GB","TB","PB","EB","ZB","YB"].forEach(function(e,n){t.push({str:e,val:1024*t[n].val})}),function(e,n){if(x(n)&&isFinite(n)&&n%1==0&&n>=0&&x(e)&&isFinite(e)){for(var i=0;i<t.length-1&&e>=t[i].val;)i++;return e/=i>0?t[i-1].val:1,u(e,n)+" "+t[i].str}return"NaN"}}),e.module("a8m.math.degrees",[]).filter("degrees",function(){return function(t,e){if(x(e)&&isFinite(e)&&e%1==0&&e>=0&&x(t)&&isFinite(t)){var n=180*t/Math.PI;return Math.round(n*Math.pow(10,e))/Math.pow(10,e)}return"NaN"}}),e.module("a8m.math.kbFmt",[]).filter("kbFmt",function(){var t=[{str:"KB",val:1024}];return["MB","GB","TB","PB","EB","ZB","YB"].forEach(function(e,n){t.push({str:e,val:1024*t[n].val})}),function(e,n){if(x(n)&&isFinite(n)&&n%1==0&&n>=0&&x(e)&&isFinite(e)){for(var i=0;i<t.length-1&&e>=t[i].val;)i++;return e/=i>0?t[i-1].val:1,u(e,n)+" "+t[i].str}return"NaN"}}),e.module("a8m.math.max",[]).filter("max",["$parse",function(t){function e(e,n){var i=e.map(function(e){return t(n)(e)});return i.indexOf(Math.max.apply(Math,i))}return function(t,n){return E(t)?C(n)?Math.max.apply(Math,t):t[e(t,n)]:t}}]),e.module("a8m.math.min",[]).filter("min",["$parse",function(t){function e(e,n){var i=e.map(function(e){return t(n)(e)});return i.indexOf(Math.min.apply(Math,i))}return function(t,n){return E(t)?C(n)?Math.min.apply(Math,t):t[e(t,n)]:t}}]),e.module("a8m.math.percent",[]).filter("percent",function(){return function(t,e,n){var i=z(t)?Number(t):t;return e=e||100,n=n||!1,!x(i)||isNaN(i)?t:n?Math.round(i/e*100):i/e*100}}),e.module("a8m.math.radians",[]).filter("radians",function(){return function(t,e){if(x(e)&&isFinite(e)&&e%1==0&&e>=0&&x(t)&&isFinite(t)){var n=3.14159265359*t/180;return Math.round(n*Math.pow(10,e))/Math.pow(10,e)}return"NaN"}}),e.module("a8m.math.radix",[]).filter("radix",function(){return function(t,e){var n=/^[2-9]$|^[1-2]\d$|^3[0-6]$/;return x(t)&&n.test(e)?t.toString(e).toUpperCase():t}}),e.module("a8m.math.shortFmt",[]).filter("shortFmt",function(){return function(t,e){return x(e)&&isFinite(e)&&e%1==0&&e>=0&&x(t)&&isFinite(t)?t<1e3?""+t:t<1e6?u(t/1e3,e)+" K":t<1e9?u(t/1e6,e)+" M":u(t/1e9,e)+" B":"NaN"}}),e.module("a8m.math.sum",[]).filter("sum",function(){return function(t,e){return E(t)?t.reduce(function(t,e){return t+e},e||0):t}}),e.module("a8m.ends-with",[]).filter("endsWith",function(){return function(t,e,n){var i,r=n||!1;return!z(t)||C(e)?t:(t=r?t:t.toLowerCase(),i=t.length-e.length,-1!==t.indexOf(r?e:e.toLowerCase(),i))}}),e.module("a8m.latinize",[]).filter("latinize",[function(){function t(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return n[t]||t})}for(var e=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],n={},i=0;i<e.length;i++)for(var r=e[i].letters.split(""),o=0;o<r.length;o++)n[r[o]]=e[i].base;return function(e){return z(e)?t(e):e}}]),e.module("a8m.ltrim",[]).filter("ltrim",function(){return function(t,e){var n=e||"\\s";return z(t)?t.replace(new RegExp("^"+n+"+"),""):t}}),e.module("a8m.match",[]).filter("match",function(){return function(t,e,n){var i=new RegExp(e,n);return z(t)?t.match(i):null}}),e.module("a8m.repeat",[]).filter("repeat",[function(){return function(t,e,n){var i=~~e;return z(t)&&i?$(t,--e,n||""):t}}]),e.module("a8m.rtrim",[]).filter("rtrim",function(){return function(t,e){var n=e||"\\s";return z(t)?t.replace(new RegExp(n+"+$"),""):t}}),e.module("a8m.slugify",[]).filter("slugify",[function(){return function(t,e){var n=C(e)?"-":e;return z(t)?t.toLowerCase().replace(/\s+/g,n):t}}]),e.module("a8m.starts-with",[]).filter("startsWith",function(){return function(t,e,n){var i=n||!1;return!z(t)||C(e)?t:!(t=i?t:t.toLowerCase()).indexOf(i?e:e.toLowerCase())}}),e.module("a8m.stringular",[]).filter("stringular",function(){return function(t){var e=Array.prototype.slice.call(arguments,1);return t.replace(/{(\d+)}/g,function(t,n){return C(e[n])?t:e[n]})}}),e.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(t){return z(t)?t.replace(/<\S[^><]*>/g,""):t}}),e.module("a8m.test",[]).filter("test",function(){return function(t,e,n){var i=new RegExp(e,n);return z(t)?i.test(t):t}}),e.module("a8m.trim",[]).filter("trim",function(){return function(t,e){var n=e||"\\s";return z(t)?t.replace(new RegExp("^"+n+"+|"+n+"+$","g"),""):t}}),e.module("a8m.truncate",[]).filter("truncate",function(){return function(t,e,n,i){return e=C(e)?t.length:e,i=i||!1,n=n||"",!z(t)||t.length<=e?t:t.substring(0,i?-1===t.indexOf(" ",e)?t.length:t.indexOf(" ",e):e)+n}}),e.module("a8m.ucfirst",[]).filter("ucfirst",[function(){return function(t){return z(t)?t.split(" ").map(function(t){return t.charAt(0).toUpperCase()+t.substring(1)}).join(" "):t}}]),e.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(t){return function(e){return z(e)?t.encodeURIComponent(e):e}}]),e.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(t){return function(e){return z(e)?t.encodeURI(e):e}}]),e.module("a8m.wrap",[]).filter("wrap",function(){return function(t,e,n){return z(t)&&S(e)?[e,t,n||e].join(""):t}}),e.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(t,e){function n(e,n){return[e,JSON.stringify(n,function(){var e=[];return function(n,i){if(T(i)&&!r(i)){if(~e.indexOf(i))return"[Circular]";e.push(i)}return t==i?"$WINDOW":t.document==i?"$DOCUMENT":c(i)?"$SCOPE":i}}())].join("#").replace(/"/g,"")}function i(t){var e=t.targetScope.$id;O(u[e],function(t){delete s[t]}),delete u[e]}function o(){l(function(){e.$$phase||(s={})},2e3)}function a(t,e){var n=t.$id;return C(u[n])&&(t.$on("$destroy",i),u[n]=[]),u[n].push(e)}var s={},u={},l=t.setTimeout;return{isMemoized:function(t,e){var i=n(t,e);return s[i]},memoize:function(t,e,i,r){var u=n(t,e);return s[u]=r,c(i)?a(i,u):o(),r}}}]}),e.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math.max","a8m.math.min","a8m.math.abs","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular),function(t){var e=function(t){var e=t.module("FBAngular",[]);return e.factory("Fullscreen",["$document","$rootScope",function(e,n){var i=e[0],r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element&&Element.ALLOW_KEYBOARD_INPUT,o=n.$new();e.on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){o.$emit("FBFullscreen.change",a.isEnabled())});var a={$on:t.bind(o,o.$on),all:function(){a.enable(i.documentElement)},enable:function(t){t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?/Version\/[\d]{1,2}(\.[\d]{1,2}){1}(\.(\d){1,2}){0,1} Safari/.test(navigator.userAgent)?t.webkitRequestFullscreen():t.webkitRequestFullscreen(r):t.msRequestFullscreen&&t.msRequestFullscreen()},cancel:function(){i.cancelFullScreen?i.cancelFullScreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.msExitFullscreen&&i.msExitFullscreen()},isEnabled:function(){return!!(i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement||i.msFullscreenElement)},toggleAll:function(){a.isEnabled()?a.cancel():a.all()},isSupported:function(){var t=i.documentElement;return!!(t.requestFullScreen||t.mozRequestFullScreen||t.webkitRequestFullscreen||t.msRequestFullscreen)}};return a}]),e.directive("fullscreen",["Fullscreen",function(t){return{link:function(e,n,i){if(i.fullscreen){e.$watch(i.fullscreen,function(e){var i=t.isEnabled();e&&!i?(t.enable(n[0]),n.addClass("isInFullScreen")):!e&&i&&(t.cancel(),n.removeClass("isInFullScreen"))});var r=t.$on("FBFullscreen.change",function(t,r){r||e.$evalAsync(function(){e.$eval(i.fullscreen+"= false"),n.removeClass("isInFullScreen")})});e.$on("$destroy",function(){r()})}else{if(void 0!==i.onlyWatchedProperty)return;n.on("click",function(e){t.enable(n[0])})}}}}]),e};"function"==typeof define&&define.amd?define("FBAngular",["angular"],function(t){return e(t)}):e(t.angular)}(window),function(t,e){"use strict";function n(){function t(t,e){if(t)return r(t)?t.indexOf(e)>=0:t.hasOwnProperty(e)}return["$animate",function(e){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(n,i,o,a,s){var u,l=i[0],c=o.ngMessage||o.when,f=o.ngMessageExp||o.whenExp,p=function(t){u=t?r(t)?t:t.split(/[\s,]+/):null,a.reRender()};f?(p(n.$eval(f)),n.$watchCollection(f,p)):p(c);var h,d;a.register(l,d={test:function(e){return t(u,e)},attach:function(){h||s(function(t,n){e.enter(t,null,i);var r=(h=t).$$attachId=a.getAttachId();h.on("$destroy",function(){h&&h.$$attachId===r&&(a.deregister(l),d.detach()),n.$destroy()})})},detach:function(){if(h){var t=h;h=null,e.leave(t)}}})}}}]}var i,r,o,a;e.module("ngMessages",[],function(){i=e.forEach,r=e.isArray,o=e.isString,a=e.element}).info({angularVersion:"1.6.6"}).directive("ngMessages",["$animate",function(t){function e(t,e){return o(e)&&0===e.length||n(t.$eval(e))}function n(t){return o(t)?t.length:!!t}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(r,o,a){function s(t,e){for(var n=e,i=[];n&&n!==t;){var r=n.$$ngMessageNode;if(r&&r.length)return g[r];n.childNodes.length&&-1===i.indexOf(n)?(i.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,i.push(n))}}function u(t,e,n){var i=g[n];if(c.head){var r=s(t,e);r?(i.next=r.next,r.next=i):(i.next=c.head,c.head=i)}else c.head=i}function l(t,e,n){var i=g[n],r=s(t,e);r?r.next=i.next:c.head=i.next}var c=this,f=0,p=0;this.getAttachId=function(){return p++};var h,d,g=this.messages={};this.render=function(s){h=!1,d=s=s||{};for(var u=e(o,a.ngMessagesMultiple)||e(o,a.multiple),l=[],f={},p=c.head,g=!1,m=0;null!=p;){m++;var v=p.message,y=!1;g||i(s,function(t,e){if(!y&&n(t)&&v.test(e)){if(f[e])return;f[e]=!0,y=!0,v.attach()}}),y?g=!u:l.push(v),p=p.next}i(l,function(t){t.detach()}),l.length!==m?t.setClass(r,"ng-active","ng-inactive"):t.setClass(r,"ng-inactive","ng-active")},o.$watchCollection(a.ngMessages||a.for,c.render),r.on("$destroy",function(){i(g,function(t){t.message.detach()})}),this.reRender=function(){h||(h=!0,o.$evalAsync(function(){h&&d&&c.render(d)}))},this.register=function(t,e){var n=f.toString();g[n]={message:e},u(r[0],t,n),t.$$ngMessageNode=n,f++,c.reRender()},this.deregister=function(t){var e=t.$$ngMessageNode;delete t.$$ngMessageNode,l(r[0],t,e),delete g[e],c.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(t,e,n){function i(t,i){var r=n.$$createComment?n.$$createComment("ngMessagesInclude",i):e[0].createComment(" ngMessagesInclude: "+i+" "),o=a(r);t.after(o),t.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(e,r,a){var s=a.ngMessagesInclude||a.src;t(s).then(function(t){e.$$destroyed||(o(t)&&!t.trim()?i(r,s):n(t)(e,function(t){r.after(t),i(r,s)}))})}}}]).directive("ngMessage",n()).directive("ngMessageExp",n())}(window,window.angular),function(t,e){"use strict";function n(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&a.test("."+t)}function i(t,i){if(!n(i))throw o("badmember",'Dotted member path "@{0}" is invalid.',i);for(var r=i.split("."),a=0,s=r.length;a<s&&e.isDefined(t);a++){var u=r[a];t=null!==t?t[u]:void 0}return t}function r(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var i in t)!t.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=t[i]);return n}var o=e.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).info({angularVersion:"1.6.6"}).provider("$resource",function(){var t=/^https?:\/\/\[[^\]]*][^/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,u,l){function c(t,e){this.template=t,this.defaults=d({},n.defaults,e),this.urlParams={}}function f(t,e,_,b){function $(t,n){var r={};return n=d({},e,n),h(n,function(e,n){y(e)&&(e=e(t)),r[n]=e&&e.charAt&&"@"===e.charAt(0)?i(t,e.substr(1)):e}),r}function S(t){return t.resource}function C(t){r(t||{},this)}var k=new c(t,b);return _=d({},n.defaults.actions,_),C.prototype.toJSON=function(){var t=d({},this);return delete t.$promise,delete t.$resolved,delete t.$cancelRequest,t},h(_,function(t,e){var n=!0===t.hasBody||!1!==t.hasBody&&/^(POST|PUT|PATCH)$/i.test(t.method),i=t.timeout,c=v(t.cancellable)?t.cancellable:k.defaults.cancellable;i&&!w(i)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete t.timeout,i=null),C[e]=function(s,f,v,w){var _,b,z,x={};switch(arguments.length){case 4:z=w,b=v;case 3:case 2:if(!y(f)){x=s,_=f,b=v;break}if(y(s)){b=s,z=f;break}b=f,z=v;case 1:y(s)?b=s:n?_=s:x=s;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var T,E,O=this instanceof C,R=O?_:t.isArray?[]:new C(_),D={},A=t.interceptor&&t.interceptor.response||S,P=t.interceptor&&t.interceptor.responseError||void 0,I=!!z,W=!!P;h(t,function(t,e){switch(e){default:D[e]=g(t);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!O&&c&&(T=u.defer(),D.timeout=T.promise,i&&(E=l(T.resolve,i))),n&&(D.data=_),k.setUrlParams(D,d({},$(_,t.params||{}),x),t.url);var M=a(D).then(function(n){var i=n.data;if(i){if(m(i)!==!!t.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",e,t.isArray?"array":"object",m(i)?"array":"object",D.method,D.url);if(t.isArray)R.length=0,h(i,function(t){"object"==typeof t?R.push(new C(t)):R.push(t)});else{var a=R.$promise;r(i,R),R.$promise=a}}return n.resource=R,n},function(t){return t.resource=R,u.reject(t)});return M=M.finally(function(){R.$resolved=!0,!O&&c&&(R.$cancelRequest=p,l.cancel(E),T=E=D.timeout=null)}),M=M.then(function(t){var e=A(t);return(b||p)(e,t.headers,t.status,t.statusText),e},I||W?function(t){return I&&!W&&M.catch(p),I&&z(t),W?P(t):u.reject(t)}:void 0),O?M:(R.$promise=M,R.$resolved=!1,c&&(R.$cancelRequest=function(t){M.catch(p),null!==T&&T.resolve(t)}),R)},C.prototype["$"+e]=function(t,n,i){y(t)&&(i=n,n=t,t={});var r=C[e].call(this,t,this,n,i);return r.$promise||r}}),C.bind=function(n){var i=d({},e,n);return f(t,i,_,b)},C}var p=e.noop,h=e.forEach,d=e.extend,g=e.copy,m=e.isArray,v=e.isDefined,y=e.isFunction,w=e.isNumber,_=e.$$encodeUriQuery,b=e.$$encodeUriSegment;return c.prototype={setUrlParams:function(e,n,i){var r,a,s=this,u=i||s.template,l="",c=s.urlParams=Object.create(null);h(u.split(/\W/),function(t){if("hasOwnProperty"===t)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(u)&&(c[t]={isQueryParamValue:new RegExp("\\?.*=:"+t+"(?:\\W|$)").test(u)})}),u=u.replace(/\\:/g,":"),u=u.replace(t,function(t){return l=t,""}),n=n||{},h(s.urlParams,function(t,e){r=n.hasOwnProperty(e)?n[e]:s.defaults[e],v(r)&&null!==r?(a=t.isQueryParamValue?_(r,!0):b(r),u=u.replace(new RegExp(":"+e+"(\\W|$)","g"),function(t,e){return a+e})):u=u.replace(new RegExp("(/?):"+e+"(\\W|$)","g"),function(t,e,n){return"/"===n.charAt(0)?n:e+n})}),s.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),e.url=l+u.replace(/\/(\\|%5C)\./,"/."),h(n,function(t,n){s.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},f}]})}(window,window.angular),function(t,e){"use strict";function n(t){var e=[];return f(e,u).chars(t),e.join("")}var i,r,o,a,s,u,l,c,f,p=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",function(){function n(t,e){var n,i={},r=t.split(",");for(n=0;n<r.length;n++)i[e?s(r[n]):r[n]]=!0;return i}function h(t){for(var e={},n=0,i=t.length;n<i;n++){var r=t[n];e[r.name]=r.value}return e}function d(t){return t.replace(/&/g,"&amp;").replace(y,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(w,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(e){for(;e;){if(e.nodeType===t.Node.ELEMENT_NODE)for(var n=e.attributes,i=0,r=n.length;i<r;i++){var o=n[i],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(e.removeAttributeNode(o),i--,r--)}var s=e.firstChild;s&&g(s),e=m("nextSibling",e)}}function m(t,e){var n=e[t];if(n&&l.call(e,n))throw p("elclob","Failed to sanitize html because the element is clobbered: {0}",e.outerHTML||e.outerText);return n}var v=!1;this.$get=["$$sanitizeUri",function(t){return v&&r(T,z),function(e){var n=[];return c(e,f(n,function(e,n){return!/^unsafe:/.test(t(e,n))})),n.join("")}}],this.enableSvg=function(t){return a(t)?(v=t,this):v},i=e.bind,r=e.extend,o=e.forEach,a=e.isDefined,s=e.lowercase,u=e.noop,c=function(t,e){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t);var n=A(t);if(!n)return"";var i=5;do{if(0===i)throw p("uinput","Failed to sanitize html because the input is unstable");i--,t=n.innerHTML,n=A(t)}while(t!==n.innerHTML);for(var r=n.firstChild;r;){switch(r.nodeType){case 1:e.start(r.nodeName.toLowerCase(),h(r.attributes));break;case 3:e.chars(r.textContent)}var o;if(!((o=r.firstChild)||(1===r.nodeType&&e.end(r.nodeName.toLowerCase()),o=m("nextSibling",r))))for(;null==o&&(r=m("parentNode",r))!==n;)o=m("nextSibling",r),1===r.nodeType&&e.end(r.nodeName.toLowerCase());r=o}for(;r=n.firstChild;)n.removeChild(r)},f=function(t,e){var n=!1,r=i(t,t.push);return{start:function(t,i){t=s(t),!n&&x[t]&&(n=t),n||!0!==T[t]||(r("<"),r(t),o(i,function(n,i){var o=s(i),a="img"===t&&"src"===o||"background"===o;!0!==D[o]||!0===E[o]&&!e(n,a)||(r(" "),r(i),r('="'),r(d(n)),r('"'))}),r(">"))},end:function(t){t=s(t),n||!0!==T[t]||!0===_[t]||(r("</"),r(t),r(">")),t==n&&(n=!1)},chars:function(t){n||r(d(t))}}},l=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};var y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^#-~ |!])/g,_=n("area,br,col,hr,img,wbr"),b=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$=n("rp,rt"),S=r({},$,b),C=r({},b,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),k=r({},$,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),z=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),x=n("script,style"),T=r({},_,C,k,S),E=n("background,cite,href,longdesc,src,xlink:href"),O=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),R=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),D=r({},E,R,O),A=function(t,e){var n;if(!e||!e.implementation)throw p("noinert","Can't create an inert html document");var i=((n=e.implementation.createHTMLDocument("inert")).documentElement||n.getDocumentElement()).querySelector("body");return i.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',i.querySelector("svg")?(i.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',i.querySelector("svg img")?function(e){e="<remove></remove>"+e;try{var n=(new t.DOMParser).parseFromString(e,"text/html").body;return n.firstChild.remove(),n}catch(t){return}}:function(t){return i.innerHTML=t,e.documentMode&&g(i),i}):function(e){e="<remove></remove>"+e;try{e=encodeURI(e)}catch(t){return}var n=new t.XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+e,!1),n.send(null);var i=n.response.body;return i.firstChild.remove(),i}}(t,t.document)}).info({angularVersion:"1.6.6"}),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=e.$$minErr("linky"),a=e.isDefined,s=e.isFunction,u=e.isObject,l=e.isString;return function(e,c,f){function p(t){t&&y.push(n(t))}if(null==e||""===e)return e;if(!l(e))throw o("notstring","Expected string but received: {0}",e);for(var h,d,g,m=s(f)?f:u(f)?function(){return f}:function(){return{}},v=e,y=[];h=v.match(i);)d=h[0],h[2]||h[4]||(d=(h[3]?"http://":"mailto:")+d),g=h.index,p(v.substr(0,g)),function(t,e){var n,i=m(t);y.push("<a ");for(n in i)y.push(n+'="'+i[n]+'" ');!a(c)||"target"in i||y.push('target="',c,'" '),y.push('href="',t.replace(/"/g,"&quot;"),'">'),p(e),y.push("</a>")}(d,h[0].replace(r,"")),v=v.substring(g+h[0].length);return p(v),t(y.join(""))}}])}(window,window.angular),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],e):e(t["@uirouter/angularjs"]=t["@uirouter/angularjs"]||{},t.angular)}(this,function(t,e){"use strict";function n(t){function e(n){return n.length>=i?t.apply(null,n):function(){return e(n.concat([].slice.apply(arguments)))}}var n=[].slice.apply(arguments,[1]),i=t.length;return e(n)}function i(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}}function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(null,[].slice.call(arguments).reverse())}function o(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.apply(null,n)&&e.apply(null,n)}}function a(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.apply(null,n)||e.apply(null,n)}}function s(t,e){return function(n){return n[t].apply(n,e)}}function u(t){return function(e){for(var n=0;n<t.length;n++)if(t[n][0](e))return t[n][1](e)}}function l(t){if(Jt(t)&&t.length){var e=t.slice(0,-1),n=t.slice(-1);return!(e.filter(It(Xt)).length||n.filter(It(Zt)).length)}return Zt(t)}function c(t){return t}function f(){}function p(t,e,n,i,r){void 0===r&&(r=!1);var o=function(e){return t()[e].bind(n())},a=function(t){return function(){return e[t]=o(t),e[t].apply(null,arguments)}};return(i=i||Object.keys(t())).reduce(function(t,e){return t[e]=r?a(e):o(e),t},e)}function h(t,e){return-1!==t.indexOf(e)}function d(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),t}function g(t,e){return t.push(e),e}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e.concat({}).reverse(),r=fe.apply(null,i);return fe({},r,y(t||{},Object.keys(r)))}function v(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}function y(t,e){var n={};for(var i in t)-1!==e.indexOf(i)&&(n[i]=t[i]);return n}function w(t,e){return Object.keys(t).filter(It(de(e))).reduce(function(e,n){return e[n]=t[n],e},{})}function _(t,e){return S(t,Dt(e))}function b(t,e){var n=Jt(t),i=n?[]:{},r=n?function(t){return i.push(t)}:function(t,e){return i[e]=t};return ce(t,function(t,n){e(t,n)&&r(t,n)}),i}function $(t,e){var n;return ce(t,function(t,i){n||e(t,i)&&(n=t)}),n}function S(t,e){var n=Jt(t)?[]:{};return ce(t,function(t,i){return n[i]=e(t,i)}),n}function C(t,e){return t.push(e),t}function k(t,e){return void 0===e&&(e="assert failure"),function(n){var i=t(n);if(!i)throw new Error(Zt(e)?e(n):e);return i}}function z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return[];var n,i=t.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991),r=[];for(n=0;n<i;n++)switch(t.length){case 1:r.push([t[0][n]]);break;case 2:r.push([t[0][n],t[1][n]]);break;case 3:r.push([t[0][n],t[1][n],t[2][n]]);break;case 4:r.push([t[0][n],t[1][n],t[2][n],t[3][n]]);break;default:r.push(t.map(function(t){return t[n]}))}return r}function x(t,e){var n,i;if(Jt(e)&&(n=e[0],i=e[1]),!Xt(n))throw new Error("invalid parameters to applyPairs");return t[n]=i,t}function T(t){return t.length&&t[t.length-1]||void 0}function E(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var i=Object.keys(n),r=0;r<i.length;r++)t[i[r]]=n[i[r]]}return t}function O(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n=typeof t;if(n!==typeof e||"object"!==n)return!1;var i=[t,e];if(Wt(Jt)(i))return R(t,e);if(Wt(te)(i))return t.getTime()===e.getTime();if(Wt(ee)(i))return t.toString()===e.toString();if(Wt(Zt)(i))return!0;if([Zt,Jt,te,ee].map(Mt).reduce(function(t,e){return t||!!e(i)},!1))return!1;var r,o={};for(r in t){if(!O(t[r],e[r]))return!1;o[r]=!0}for(r in e)if(!o[r])return!1;return!0}function R(t,e){return t.length===e.length&&z(t,e).reduce(function(t,e){return t&&O(e[0],e[1])},!0)}function D(t){if(!t)return"ui-view (defunct)";var e=t.creationContext?t.creationContext.name||"(root)":"(none)";return"[ui-view#"+t.id+" "+t.$type+":"+t.fqn+" ("+t.name+"@"+e+")]"}function A(e){return Kt(e)?t.Category[e]:t.Category[t.Category[e]]}function P(t,e){var n=Xt(e)?[e]:e;return!!(Zt(n)?n:function(t){for(var e=n,i=0;i<e.length;i++){var r=new Ft(e[i]);if(r&&r.matches(t.name)||!r&&e[i]===t.name)return!0}return!1})(t)}function I(t,e,n){function i(t,i,o){void 0===o&&(o={});var a=new qe(e,n,i,t,o);return r.push(a),function(){a._deregistered=!0,ge(r)(a)}}var r=(t._registeredHooks=t._registeredHooks||{})[n.name]=[];return t[n.name]=i,i}function W(t){return void 0===t&&(t=!1),function(e,n){var i=t?-1:1,r=(e.node.state.path.length-n.node.state.path.length)*i;return 0!==r?r:n.hook.priority-e.hook.priority}}function M(t,e){function n(t){return Jt(t)?t:Bt(t)?[t]:[]}function i(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}function r(t,e){return function(r){if(Jt(r)&&0===r.length)return r;var o=S(n(r),t);return!0===e?0===b(o,function(t){return!t}).length:i(o)}}function o(t){return function(e,i){var r=n(e),o=n(i);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!t(r[a],o[a]))return!1;return!0}}var a=this;["encode","decode","equals","$normalize"].forEach(function(e){var n=t[e].bind(t),i="equals"===e?o:r;a[e]=i(n)}),fe(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,inherit:t.inherit,is:r(t.is.bind(t),!0),$arrayMode:e})}function H(t){function e(){return t.value}return t=Ze(t)&&{value:t}||t,e.__cacheable=!0,fe(t,{$$fn:l(t.value)?t.value:e})}function j(e,n,i,r,o){if(e.type&&n&&"string"!==n.name)throw new Error("Param '"+r+"' has two type configurations.");if(e.type&&n&&"string"===n.name&&o.type(e.type))return o.type(e.type);if(n)return n;if(!e.type){var a=i===t.DefType.CONFIG?"any":i===t.DefType.PATH?"path":i===t.DefType.SEARCH?"query":"string";return o.type(a)}return e.type instanceof Ye?e.type:o.type(e.type)}function L(t,e,n){var i=t.squash;if(!e||!1===i)return!1;if(!Bt(i)||null==i)return n;if(!0===i||Xt(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string")}function F(t,e,n,i){var r,o,a=[{from:"",to:n||e?void 0:""},{from:null,to:n||e?void 0:""}];return r=Jt(t.replace)?t.replace:[],Xt(i)&&r.push({from:i,to:void 0}),o=S(r,Dt("from")),b(a,function(t){return-1===o.indexOf(t.from)}).concat(r)}function U(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function V(t,e){for(;e.length<t;)e+=" ";return e}function N(t){return t.replace(/^([A-Z])/,function(t){return t.toLowerCase()}).replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function q(t){var e=B(t),n=e.match(/^(function [^ ]+\([^)]*\))/),i=n?n[1]:e,r=t.name||"";return r&&i.match(/function \(/)?"function "+r+i.substr(9):i}function B(t){var e=Jt(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}function Y(t){function e(t){if(Qt(t)){if(-1!==n.indexOf(t))return"[circular ref]";n.push(t)}return pn(t)}var n=[];return JSON.stringify(t,function(t,n){return e(n)}).replace(/\\"/g,'"')}function G(t){var e=new RegExp("("+t+")","g");return function(t){return t.split(e).filter(c)}}function Z(t,e){return Xt(T(t))&&Xt(e)?t.slice(0,-1).concat(T(t)+e):C(t,e)}function K(t){return t.name}function X(t){return t.self.$$state=function(){return t},t.self}function Q(t){return t.parent&&t.parent.data&&(t.data=t.self.data=he(t.parent.data,t.data)),t.data}function J(t){return t.parent?t.parent.path.concat(t):[t]}function tt(t){var e=t.parent?fe({},t.parent.includes):{};return e[t.name]=!0,e}function et(t){var e=function(t){var e=oe.$injector;return t.$inject||e&&e.annotate(t,e.strictDi)||"deferred"},n=function(t){return t.provide||t.token},i=u([[Dt("resolveFn"),function(t){return new tn(n(t),t.resolveFn,t.deps,t.policy)}],[Dt("useFactory"),function(t){return new tn(n(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[Dt("useClass"),function(t){return new tn(n(t),function(){return new t.useClass},[],t.policy)}],[Dt("useValue"),function(t){return new tn(n(t),function(){return t.useValue},[],t.policy,t.useValue)}],[Dt("useExisting"),function(t){return new tn(n(t),c,[t.useExisting],t.policy)}]]),o=u([[r(Dt("val"),Xt),function(t){return new tn(t.token,c,[t.val],t.policy)}],[r(Dt("val"),Jt),function(t){return new tn(t.token,T(t.val),t.val.slice(0,-1),t.policy)}],[r(Dt("val"),Zt),function(t){return new tn(t.token,t.val,e(t.val),t.policy)}]]),a=u([[Ht(tn),function(t){return t}],[function(t){return!(!t.token||!t.resolveFn)},i],[function(t){return!(!t.provide&&!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},i],[function(t){return!!(t&&t.val&&(Xt(t.val)||Jt(t.val)||Zt(t.val)))},o],[Lt(!0),function(t){throw new Error("Invalid resolve value: "+Y(t))}]]),s=t.resolve;return(Jt(s)?s:function(t,e){return Object.keys(t||{}).map(function(n){return{token:n,val:t[n],deps:void 0,policy:e[n]}})}(s,t.resolvePolicy||{})).map(a)}function nt(t,e){var n=["",""],i=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return i;switch(e.squash){case!1:n=["(",")"+(e.isOptional?"?":"")];break;case!0:i=i.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+e.squash+"|",")?"]}return i+n[0]+e.type.pattern.source+n[1]}function it(t,e,n,i){return"/"===i?t:e?i.slice(0,-1)+t:n?i.slice(1)+t:t}function rt(t){if(!(Zt(t)||Xt(t)||Ht(Ue)(t)||Ue.isDef(t)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return Zt(t)?t:Lt(t)}function ot(t){t.addResolvable({token:Bn,deps:[],resolveFn:function(){return t.router},data:t.router},""),t.addResolvable({token:cn,deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return t.params()},data:t.params()},""),t.entering().forEach(function(e){t.addResolvable({token:"$state$",deps:[],resolveFn:function(){return e},data:e},e)})}function at(t){return function(e,n){return(0,n.$$state()[t])(e,n)}}function st(t,e){var n=e.$$state().lazyLoad,i=n._promise;if(!i){i=n._promise=oe.$q.when(n(t,e)).then(function(e){return e&&Array.isArray(e.states)&&e.states.forEach(function(e){return t.router.stateRegistry.register(e)}),e}).then(function(t){return delete e.lazyLoad,delete e.$$state().lazyLoad,delete n._promise,t},function(t){return delete n._promise,oe.$q.reject(t)})}return i}function ut(t){var e=t._ignoredReason();if(e){Fe.traceTransitionIgnored(t);var n=t.router.globals.transition;return"SameAsCurrent"===e&&n&&n.abort(),Ie.ignored().toPromise()}}function lt(t){if(!t.valid())throw new Error(t.error())}function ct(t){var e=function(t){return t||""},n=Ti(t).map(e),i=n[0],r=n[1],o=Ei(i).map(e);return{path:o[0],search:o[1],hash:r,url:t}}function ft(t,e,n,i){return function(r){var o=r.locationService=new n(r),a=r.locationConfig=new i(r,e);return{name:t,service:o,configuration:a,dispose:function(t){t.dispose(o),t.dispose(a)}}}}function pt(t){return oe.$injector=zi,oe.$q=$i,{name:"vanilla.services",$q:$i,$injector:zi,dispose:function(){return null}}}function ht(){var t=null;return function(e,n){return t=t||oe.$injector.get("$templateFactory"),[new Xi(e,n,t)]}}function dt(t){if(!t.parent)return{};var e=["controller","controllerProvider","controllerAs","resolveAs"],n=["component","bindings","componentProvider"],i=["templateProvider","templateUrl","template","notify","async"].concat(e),r=n.concat(i);if(Bt(t.views)&&Zi(r,t))throw new Error("State '"+t.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+r.filter(function(e){return Bt(t[e])}).join(", "));var o={},a=t.views||{$default:y(t,r)};return ce(a,function(e,r){if(r=r||"$default",Xt(e)&&(e={component:e}),e=fe({},e),Zi(n,e)&&Zi(i,e))throw new Error("Cannot combine: "+n.join("|")+" with: "+i.join("|")+" in stateview: '"+r+"@"+t.name+"'");e.resolveAs=e.resolveAs||"$resolve",e.$type="ng1",e.$context=t,e.$name=r;var a=Wn.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=a.uiViewName,e.$uiViewContextAnchor=a.uiViewContextAnchor,o[r]=e}),o}function gt(t){var e=oe.$injector.get(t+"Directive");if(!e||!e.length)throw new Error("Unable to find component named '"+t+"'");return e.map(Ji).reduce(Se,[])}function mt(t){function e(t,e,i,r,o,a){return n._runtimeServices(r,t,i,e),delete cr.router,delete cr.$get,cr}(cr=this.router=new Bn).stateProvider=new er(cr.stateRegistry,cr.stateService),cr.stateRegistry.decorator("views",dt),cr.stateRegistry.decorator("onExit",nr("onExit")),cr.stateRegistry.decorator("onRetain",nr("onRetain")),cr.stateRegistry.decorator("onEnter",nr("onEnter")),cr.viewService._pluginapi._viewConfigFactory("ng1",ht());var n=cr.locationService=cr.locationConfig=new ir(t);return ir.monkeyPatchPathParameterType(cr),cr.router=cr,cr.$get=e,e.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],cr}function vt(t,e,n){oe.$injector=t,oe.$q=e,n.stateRegistry.get().map(function(t){return t.$$state().resolvables}).reduce(Se,[]).filter(function(t){return"deferred"===t.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn,t.strictDi)})}function yt(t){t.$watch(function(){Fe.approximateDigests++})}function wt(t){var e,n=t.match(/^\s*({[^}]*})\s*$/);if(n&&(t="("+n[1]+")"),!(e=t.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1]||null,paramExpr:e[3]||null}}function _t(t){var e=t.parent().inheritedData("$uiView"),n=Pt("$cfg.path")(e);return n?T(n).state.name:void 0}function bt(t,e,n){var i=n.uiState||t.current.name,r=fe(Ct(e,t),n.uiStateOpts||{}),o=t.href(i,n.uiStateParams,r);return{uiState:i,uiStateParams:n.uiStateParams,uiStateOpts:r,href:o}}function $t(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function St(t,e,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var u=n(function(){e.go(s.uiState,s.uiStateParams,s.uiStateOpts)});o.preventDefault();var l=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){l--<=0&&n.cancel(u)}}}}function Ct(t,e){return{relative:_t(t)||e.$current,inherit:!0,source:"sref"}}function kt(t,e,n,i){var r;i&&(r=i.events),Jt(r)||(r=["click"]);for(var o=t.on?"on":"bind",a=0,s=r;a<s.length;a++){var u=s[a];t[o](u,n)}e.$on("$destroy",function(){for(var e=t.off?"off":"unbind",i=0,o=r;i<o.length;i++){var a=o[i];t[e](a,n)}})}function zt(t){var e=function(e,n,i){return t.is(e,n,i)};return e.$stateful=!0,e}function xt(t){var e=function(e,n,i){return t.includes(e,n,i)};return e.$stateful=!0,e}function Tt(t,n,i,r,o,a){var s=Pt("viewDecl.controllerAs"),u=Pt("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(r){var a=r.html();return r.empty(),function(r,l){var c=l.data("$uiView");if(!c)return l.html(a),void t(l.contents())(r);var f=c.$cfg||{viewDecl:{},getTemplate:e.noop},p=f.path&&new sn(f.path);l.html(f.getTemplate(l,p)||a),Fe.traceUIViewFill(c.$uiView,l.html());var h=t(l.contents()),d=f.controller,g=s(f),m=u(f),v=p&&hr(p);if(r[m]=v,d){var y=n(d,fe({},v,{$scope:r,$element:l}));g&&(r[g]=y,r[g][m]=v),l.data("$ngControllerController",y),l.children().data("$ngControllerController",y),Et(o,i,y,r,f)}if(Xt(f.viewDecl.component))var w=f.viewDecl.component,_=N(w),b=new RegExp("^(x-|data-)?"+_+"$","i"),$=r.$watch(function(){var t=[].slice.call(l[0].children).filter(function(t){return t&&t.tagName&&b.exec(t.tagName)});return t&&Rt.element(t).data("$"+w+"Controller")},function(t){t&&(Et(o,i,t,r,f),$())});h(r)}}}}function Et(t,e,n,i,r){!Zt(n.$onInit)||r.viewDecl.component&&vr||n.$onInit();var o=T(r.path).state.self,a={bind:n};if(Zt(n.uiOnParamsChanged)){var s=new sn(r.path).getResolvable("$transition$").data;i.$on("$destroy",e.onSuccess({},function(t){if(t!==s&&-1===t.exiting().indexOf(o)){var e=t.params("to"),i=t.params("from"),r=t.treeChanges().to.map(function(t){return t.paramSchema}).reduce(Se,[]),a=t.treeChanges().from.map(function(t){return t.paramSchema}).reduce(Se,[]),u=r.filter(function(t){var n=a.indexOf(t);return-1===n||!a[n].type.equals(e[t.id],i[t.id])});if(u.length){var l=u.map(function(t){return t.id}),c=b(e,function(t,e){return-1!==l.indexOf(e)});n.uiOnParamsChanged(c,t)}}},a))}if(Zt(n.uiCanExit)){var u=yr++,l=function(t){return!!t&&(t._uiCanExitIds&&!0===t._uiCanExitIds[u]||l(t.redirectedFrom()))},c={exiting:o.name};i.$on("$destroy",e.onBefore(c,function(e){var i,r=e._uiCanExitIds=e._uiCanExitIds||{};return l(e)||(i=t.when(n.uiCanExit(e))).then(function(t){return r[u]=!1!==t}),i},a))}}var Ot=angular,Rt=e&&e.module?e:Ot,Dt=function(t){return function(e){return e&&e[t]}},At=n(function(t,e,n){return n&&n[t]===e}),Pt=function(t){return r.apply(null,t.split(".").map(Dt))},It=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},Wt=function(t){return function(e){return e.reduce(function(e,n){return e&&!!t(n)},!0)}},Mt=function(t){return function(e){return e.reduce(function(e,n){return e||!!t(n)},!1)}},Ht=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},jt=function(t){return function(e){return t===e}},Lt=function(t){return function(){return t}},Ft=function(){function t(t){this.text=t,this.glob=t.split(".");var e=this.text.split(".").map(function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t}).join("");this.regexp=new RegExp("^"+e+"$")}return t.prototype.matches=function(t){return this.regexp.test("."+t)},t.is=function(t){return!!/[!,*]+/.exec(t)},t.fromString=function(e){return t.is(e)?new t(e):null},t}(),Ut=function(){function t(e){return t.create(e||{})}return t.create=function(e){e=t.isStateClass(e)?new e:e;var n=he(he(e,t.prototype));return e.$$state=function(){return n},n.self=e,n.__stateObjectCache={nameGlob:Ft.fromString(n.name)},n},t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){return((t=m(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(_e(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||$(_e(this.params),At("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t.isStateClass=function(t){return Zt(t)&&!0===t.__uiRouterState},t.isState=function(t){return Qt(t.__stateObjectCache)},t}(),Vt=Object.prototype.toString,Nt=function(t){return function(e){return typeof e===t}},qt=Nt("undefined"),Bt=It(qt),Yt=function(t){return null===t},Gt=a(Yt,qt),Zt=Nt("function"),Kt=Nt("number"),Xt=Nt("string"),Qt=function(t){return null!==t&&"object"==typeof t},Jt=Array.isArray,te=function(t){return"[object Date]"===Vt.call(t)},ee=function(t){return"[object RegExp]"===Vt.call(t)},ne=Ut.isState,ie=o(Qt,r(Dt("then"),Zt)),re=function(t){return function(){throw new Error(t+"(): No coreservices implementation for UI-Router is loaded.")}},oe={$q:void 0,$injector:void 0},ae=("undefined"==typeof window?{}:window).angular||{},se=ae.fromJson||JSON.parse.bind(JSON),ue=ae.toJson||JSON.stringify.bind(JSON),le=ae.copy||function(t,e){return e&&Object.keys(e).forEach(function(t){return delete e[t]}),e||(e={}),fe(e,t)},ce=ae.forEach||function(t,e,n){if(Jt(t))return t.forEach(e,n);Object.keys(t).forEach(function(n){return e(t[n],n)})},fe=Object.assign||E,pe=ae.equals||O,he=function(t,e){return fe(Object.create(t),e)},de=n(h),ge=n(d),me=n(g),ve=function(t){return t.slice().forEach(function(e){"function"==typeof e&&e(),ge(t,e)})},ye=function(t,e){return fe(t,e)},we=S,_e=function(t){return Object.keys(t).map(function(e){return t[e]})},be=function(t,e){return t&&e},$e=function(t,e){return t||e},Se=function(t,e){return t.concat(e)},Ce=function(t,e){return Jt(e)?t.concat(e.reduce(Ce,[])):C(t,e)},ke=function(t,e){return de(t,e)?t:C(t,e)},ze=function(t){return t.reduce(Se,[])},xe=function(t){return t.reduce(Ce,[])},Te=k,Ee=k,Oe=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},Re=function(t){return t.catch(function(t){return 0})&&t},De=function(t){return Re(oe.$q.reject(t))},Ae=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&e.shift(),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}();!function(t){t[t.SUPERSEDED=2]="SUPERSEDED",t[t.ABORTED=3]="ABORTED",t[t.INVALID=4]="INVALID",t[t.IGNORED=5]="IGNORED",t[t.ERROR=6]="ERROR"}(t.RejectType||(t.RejectType={}));var Pe=0,Ie=function(){function e(t,e,n){this.$id=Pe++,this.type=t,this.message=e,this.detail=n}return e.prototype.toString=function(){var t=function(t){return t&&t.toString!==Object.prototype.toString?t.toString():Y(t)}(this.detail),e=this;return"Transition Rejection($id: "+e.$id+" type: "+e.type+", message: "+e.message+", detail: "+t+")"},e.prototype.toPromise=function(){return fe(De(this),{_transitionRejection:this})},e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&Ht(e)(t._transitionRejection)},e.superseded=function(n,i){var r=new e(t.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",n);return i&&i.redirected&&(r.redirected=!0),r},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(n){return new e(t.RejectType.INVALID,"This transition is invalid",n)},e.ignored=function(n){return new e(t.RejectType.IGNORED,"The transition was ignored",n)},e.aborted=function(n){return new e(t.RejectType.ABORTED,"The transition has been aborted",n)},e.errored=function(n){return new e(t.RejectType.ERROR,"The transition errored",n)},e.normalize=function(t){return Ht(e)(t)?t:e.errored(t)},e}(),We=function(t){var e=t.viewDecl,n=e.$context.name||"(root)";return"[View#"+t.$id+" from '"+n+"' state]: target ui-view: '"+e.$uiViewName+"@"+e.$uiViewContextAnchor+"'"};!function(t){t[t.RESOLVE=0]="RESOLVE",t[t.TRANSITION=1]="TRANSITION",t[t.HOOK=2]="HOOK",t[t.UIVIEW=3]="UIVIEW",t[t.VIEWCONFIG=4]="VIEWCONFIG"}(t.Category||(t.Category={}));var Me=Pt("$id"),He=Pt("router.$id"),je=function(t){return"Transition #"+Me(t)+"-"+He(t)},Le=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,n){var i=this;n.length||(n=Object.keys(t.Category).map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)}).map(function(e){return t.Category[e]})),n.map(A).forEach(function(t){return i._enabled[t]=e})},e.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!0,t)},e.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!1,t)},e.prototype.enabled=function(t){return!!this._enabled[A(t)]},e.prototype.traceTransitionStart=function(e){this.enabled(t.Category.TRANSITION)&&console.log(je(e)+": Started  -> "+Y(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(t.Category.TRANSITION)&&console.log(je(e)+": Ignored  <> "+Y(e))},e.prototype.traceHookInvocation=function(e,n,i){if(this.enabled(t.Category.HOOK)){var r=Pt("traceData.hookType")(i)||"internal",o=Pt("traceData.context.state.name")(i)||Pt("traceData.context")(i)||"unknown",a=q(e.registeredHook.callback);console.log(je(n)+":   Hook -> "+r+" context: "+o+", "+U(200,a))}},e.prototype.traceHookResult=function(e,n,i){this.enabled(t.Category.HOOK)&&console.log(je(n)+":   <- Hook returned: "+U(200,Y(e)))},e.prototype.traceResolvePath=function(e,n,i){this.enabled(t.Category.RESOLVE)&&console.log(je(i)+":         Resolving "+e+" ("+n+")")},e.prototype.traceResolvableResolved=function(e,n){this.enabled(t.Category.RESOLVE)&&console.log(je(n)+":               <- Resolved  "+e+" to: "+U(200,Y(e.data)))},e.prototype.traceError=function(e,n){this.enabled(t.Category.TRANSITION)&&console.log(je(n)+": <- Rejected "+Y(n)+", reason: "+e)},e.prototype.traceSuccess=function(e,n){this.enabled(t.Category.TRANSITION)&&console.log(je(n)+": <- Success  "+Y(n)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,n,i){void 0===i&&(i=""),this.enabled(t.Category.UIVIEW)&&console.log("ui-view: "+V(30,e)+" "+D(n)+i)},e.prototype.traceUIViewConfigUpdated=function(e,n){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+n+"'")},e.prototype.traceUIViewFill=function(e,n){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+U(200,n))},e.prototype.traceViewSync=function(e){if(this.enabled(t.Category.VIEWCONFIG)){var n=e.map(function(t){var e=t[0],n=t[1];return{"ui-view fqn":e.$type+":"+e.fqn,"state: view name":n&&n.viewDecl.$context.name+": "+n.viewDecl.$name+" ("+n.viewDecl.$type+")"}}).sort(function(t,e){return t["ui-view fqn"].localeCompare(e["ui-view fqn"])});console.table(n)}},e.prototype.traceViewServiceEvent=function(e,n){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+We(n))},e.prototype.traceViewServiceUIViewEvent=function(e,n){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+D(n))},e}(),Fe=new Le;!function(t){t[t.CREATE=0]="CREATE",t[t.BEFORE=1]="BEFORE",t[t.RUN=2]="RUN",t[t.SUCCESS=3]="SUCCESS",t[t.ERROR=4]="ERROR"}(t.TransitionHookPhase||(t.TransitionHookPhase={})),function(t){t[t.TRANSITION=0]="TRANSITION",t[t.STATE=1]="STATE"}(t.TransitionHookScope||(t.TransitionHookScope={}));var Ue=function(){function t(t,e,n,i){void 0===i&&(i={}),this._identifier=t,this._definition=e,this._options=i,this._params=n||{}}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+ue(this.params())},t.isDef=function(t){return t&&t.state&&(Xt(t.state)||Xt(t.state.name))},t}(),Ve={current:f,transition:null,traceData:{},bind:null},Ne=function(){function e(e,n,i,r){var o=this;this.transition=e,this.stateContext=n,this.registeredHook=i,this.options=r,this.isSuperseded=function(){return o.type.hookPhase===t.TransitionHookPhase.RUN&&!o.options.transition.isActive()},this.options=m(r,Ve),this.type=i.eventType}return e.prototype.logError=function(t){this.transition.router.stateService.defaultErrorHandler()(t)},e.prototype.invokeHook=function(){var t=this,e=this.registeredHook;if(!e._deregistered){var n=this.getNotCurrentRejection();if(n)return n;var i=this.options;Fe.traceHookInvocation(this,this.transition,i);var r=function(n){return e.eventType.getErrorHandler(t)(n)},o=function(n){return e.eventType.getResultHandler(t)(n)};try{var a=e.callback.call(i.bind,t.transition,t.stateContext);return!this.type.synchronous&&ie(a)?a.catch(function(t){return Ie.normalize(t).toPromise()}).then(o,r):o(a)}catch(t){return r(Ie.normalize(t))}}},e.prototype.handleHookResult=function(t){var e=this,n=this.getNotCurrentRejection();return n||(ie(t)?t.then(function(t){return e.handleHookResult(t)}):(Fe.traceHookResult(t,this.transition,this.options),!1===t?Ie.aborted("Hook aborted transition").toPromise():Ht(Ue)(t)?Ie.redirected(t).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var t=this.transition.router;return t._disposed?Ie.aborted("UIRouter instance #"+t.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?Ie.aborted().toPromise():this.isSuperseded()?Ie.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var t=this,e=t.options,n=t.registeredHook;return(Pt("traceData.hookType")(e)||"internal")+" context: "+(Pt("traceData.context.state.name")(e)||Pt("traceData.context")(e)||"unknown")+", "+U(200,B(n.callback))},e.chain=function(t,e){return t.reduce(function(t,e){return t.then(function(){return e.invokeHook()})},e||oe.$q.when())},e.invokeHooks=function(t,n){for(var i=0;i<t.length;i++){var r=t[i].invokeHook();if(ie(r)){var o=t.slice(i+1);return e.chain(o,r).then(n)}}return n()},e.runAllHooks=function(t){t.forEach(function(t){return t.invokeHook()})},e.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},e.LOG_REJECTED_RESULT=function(t){return function(e){ie(e)&&e.catch(function(e){return t.logError(Ie.normalize(e))})}},e.LOG_ERROR=function(t){return function(e){return t.logError(e)}},e.REJECT_ERROR=function(t){return function(t){return De(t)}},e.THROW_ERROR=function(t){return function(t){throw t}},e}(),qe=function(){function e(t,e,n,i,r){void 0===r&&(r={}),this.tranSvc=t,this.eventType=e,this.callback=n,this.matchCriteria=i,this.priority=r.priority||0,this.bind=r.bind||null,this._deregistered=!1}return e.prototype._matchingNodes=function(t,e){if(!0===e)return t;var n=t.filter(function(t){return P(t.state,e)});return n.length?n:null},e.prototype._getDefaultMatchCriteria=function(){return S(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e){var n=this,i=fe(this._getDefaultMatchCriteria(),this.matchCriteria);return _e(this.tranSvc._pluginapi._getPathTypes()).reduce(function(r,o){var a=o.scope===t.TransitionHookScope.STATE,s=e[o.name]||[],u=a?s:[T(s)];return r[o.name]=n._matchingNodes(u,i[o.name]),r},{})},e.prototype.matches=function(t){var e=this._getMatchingNodes(t);return _e(e).every(c)?e:null},e}(),Be=function(){function e(t){this.transition=t}return e.prototype.buildHooksForPhase=function(t){var e=this;return this.transition.router.transitionService._pluginapi._getEvents(t).map(function(t){return e.buildHooks(t)}).reduce(Se,[]).filter(c)},e.prototype.buildHooks=function(e){var n=this.transition,i=n.treeChanges(),r=this.getMatchingHooks(e,i);if(!r)return[];var o={transition:n,current:n.options().current};return r.map(function(r){return r.matches(i)[e.criteriaMatchPath.name].map(function(i){var a=fe({bind:r.bind,traceData:{hookType:e.name,context:i}},o),s=e.criteriaMatchPath.scope===t.TransitionHookScope.STATE?i.state.self:null,u=new Ne(n,s,r,a);return{hook:r,node:i,transitionHook:u}})}).reduce(Se,[]).sort(W(e.reverseSort)).map(function(t){return t.transitionHook})},e.prototype.getMatchingHooks=function(e,n){var i=e.hookPhase===t.TransitionHookPhase.CREATE,r=this.transition.router.transitionService;return(i?[r]:[this.transition,r]).map(function(t){return t.getHooks(e.name)}).filter(Te(Jt,"broken event named: "+e.name)).reduce(Se,[]).filter(function(t){return t.matches(n)})},e}(),Ye=function(){function t(t){this.pattern=/.*/,this.inherit=!0,fe(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new M(this,t)},t}(),Ge=Object.prototype.hasOwnProperty,Ze=function(t){return 0===["value","type","squash","array","dynamic"].filter(Ge.bind(t||{})).length};!function(t){t[t.PATH=0]="PATH",t[t.SEARCH=1]="SEARCH",t[t.CONFIG=2]="CONFIG"}(t.DefType||(t.DefType={}));var Ke=function(){function e(e,n,i,r,o){n=j(i=H(i),n,r,e,o.paramTypes);var a=function(){var n={array:r===t.DefType.SEARCH&&"auto"},o=e.match(/\[\]$/)?{array:!0}:{};return fe(n,o,i).array}();n=a?n.$asArray(a,r===t.DefType.SEARCH):n;var s=void 0!==i.value||r===t.DefType.SEARCH,u=Bt(i.dynamic)?!!i.dynamic:!!n.dynamic,l=Bt(i.raw)?!!i.raw:!!n.raw,c=L(i,s,o.defaultSquashPolicy()),f=F(i,a,s,c),p=Bt(i.inherit)?!!i.inherit:!!n.inherit;fe(this,{id:e,type:n,location:r,isOptional:s,dynamic:u,raw:l,squash:c,replace:f,inherit:p,array:a,config:i})}return e.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},e.prototype.value=function(t){var e=this;return t=function(t){for(var n=0,i=e.replace;n<i.length;n++){var r=i[n];if(r.from===t)return r.to}return t}(t),qt(t)?function(){if(e._defaultValueCache)return e._defaultValueCache.defaultValue;if(!oe.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=oe.$injector.invoke(e.config.$$fn);if(null!==t&&void 0!==t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return e.config.$$fn.__cacheable&&(e._defaultValueCache={defaultValue:t}),t}():this.type.$normalize(t)},e.prototype.isSearch=function(){return this.location===t.DefType.SEARCH},e.prototype.validates=function(t){if((qt(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var n=this.type.encode(e);return!(Xt(n)&&!this.type.pattern.exec(n))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e.values=function(t,e){void 0===e&&(e={});for(var n={},i=0,r=t;i<r.length;i++){var o=r[i];n[o.id]=o.value(e[o.id])}return n},e.changed=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),t.filter(function(t){return!t.type.equals(e[t.id],n[t.id])})},e.equals=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),0===e.changed(t,n,i).length},e.validates=function(t,e){return void 0===e&&(e={}),t.map(function(t){return t.validates(e[t.id])}).reduce(be,!0)},e}(),Xe=function(){function t(e){if(e instanceof t){var n=e;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=fe({},n.paramValues),this.resolvables=n.resolvables.slice(),this.views=n.views&&n.views.slice()}else{var i=e;this.state=i,this.paramSchema=i.parameters({inherit:!1}),this.paramValues={},this.resolvables=i.resolvables.map(function(t){return t.clone()})}}return t.prototype.applyRawParams=function(t){var e=function(e){return[e.id,e.value(t[e.id])]};return this.paramValues=this.paramSchema.reduce(function(t,n){return x(t,e(n))},{}),this},t.prototype.parameter=function(t){return $(this.paramSchema,At("id",t))},t.prototype.equals=function(t,e){var n=this.diff(t,e);return n&&0===n.length},t.prototype.diff=function(t,e){if(this.state!==t.state)return!1;var n=e?e(this):this.paramSchema;return Ke.changed(n,this.paramValues,t.paramValues)},t.clone=function(e){return new t(e)},t}(),Qe=function(){function t(){}return t.makeTargetState=function(t){var e=T(t).state;return new Ue(e,e,t.map(Dt("paramValues")).reduce(ye,{}))},t.buildPath=function(t){var e=t.params();return t.$state().path.map(function(t){return new Xe(t).applyRawParams(e)})},t.buildToPath=function(e,n){var i=t.buildPath(n);return n.options().inherit?t.inheritParams(e,i,Object.keys(n.params())):i},t.applyViewConfigs=function(e,n,i){n.filter(function(t){return de(i,t.state)}).forEach(function(i){var r=_e(i.state.views||{}),o=t.subPath(n,function(t){return t===i}),a=r.map(function(t){return e.createViewConfig(o,t)});i.views=a.reduce(Se,[])})},t.inheritParams=function(t,e,n){function i(t,e){var n=$(t,At("state",e));return fe({},n&&n.paramValues)}void 0===n&&(n=[]);var r=t.map(function(t){return t.paramSchema}).reduce(Se,[]).filter(function(t){return!t.inherit}).map(Dt("id"));return e.map(function(e){var o=fe({},e&&e.paramValues),a=y(o,n);o=w(o,n);var s=w(i(t,e.state)||{},r),u=fe(o,s,a);return new Xe(e.state).applyRawParams(u)})},t.treeChanges=function(e,n,i){for(var r=0,o=Math.min(e.length,n.length);r<o&&e[r].state!==i&&function(e,n){return e.equals(n,t.nonDynamicParams)}(e[r],n[r]);)r++;var a,s,u,l,c;s=(a=e).slice(0,r),u=a.slice(r);var f=s.map(function(t,e){var i=Xe.clone(t);return i.paramValues=n[e].paramValues,i});return l=n.slice(r),c=f.concat(l),{from:a,to:c,retained:s,exiting:u,entering:l}},t.matching=function(t,e,n){var i=!1;return z(t,e).reduce(function(t,e){var r=e[0],o=e[1];return i=i||!r.equals(o,n),i?t:t.concat(r)},[])},t.equals=function(e,n,i){return e.length===n.length&&t.matching(e,n,i).length===e.length},t.subPath=function(t,e){var n=$(t,e),i=t.indexOf(n);return-1===i?void 0:t.slice(0,i+1)},t.nonDynamicParams=function(t){return t.state.parameters({inherit:!1}).filter(function(t){return!t.dynamic})},t.paramValues=function(t){return t.reduce(function(t,e){return fe(t,e.paramValues)},{})},t}(),Je={when:"LAZY",async:"WAIT"},tn=function(){function t(e,n,i,r,o){if(this.resolved=!1,this.promise=void 0,e instanceof t)fe(this,e);else if(Zt(n)){if(Gt(e))throw new Error("new Resolvable(): token argument is required");if(!Zt(n))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=r,this.resolveFn=n,this.deps=i||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?oe.$q.when(this.data):void 0}else if(Qt(e)&&e.token&&Zt(e.resolveFn)){var a=e;return new t(a.token,a.resolveFn,a.deps,a.policy,a.data)}}return t.prototype.getPolicy=function(t){var e=this.policy||{},n=t&&t.resolvePolicy||{};return{when:e.when||n.when||Je.when,async:e.async||n.async||Je.async}},t.prototype.resolve=function(t,e){var n=this,i=oe.$q,r=t.findNode(this),o=r&&r.state,a="RXWAIT"===this.getPolicy(o).async?function(t){var e=t.cache(1);return e.take(1).toPromise().then(function(){return e})}:c;return this.promise=i.when().then(function(){return i.all(t.getDependencies(n).map(function(n){return n.get(t,e)}))}).then(function(t){return n.resolveFn.apply(null,t)}).then(a).then(function(t){return n.data=t,n.resolved=!0,Fe.traceResolvableResolved(n,e),n.data})},t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},t.prototype.toString=function(){return"Resolvable(token: "+Y(this.token)+", requires: ["+this.deps.map(Y)+"])"},t.prototype.clone=function(){return new t(this)},t.fromData=function(e,n){return new t(e,function(){return n},null,null,n)},t}(),en={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},nn=en.when,rn=[nn.EAGER,nn.LAZY],on=[nn.EAGER],an="Native Injector",sn=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce(function(t,e){return t.concat(e.resolvables.map(function(t){return t.token}))},[]).reduce(ke,[])},t.prototype.getResolvable=function(t){return T(this._path.map(function(t){return t.resolvables}).reduce(Se,[]).filter(function(e){return e.token===t}))},t.prototype.getPolicy=function(t){var e=this.findNode(t);return t.getPolicy(e.state)},t.prototype.subContext=function(e){return new t(Qe.subPath(this._path,function(t){return t.state===e}))},t.prototype.addResolvables=function(t,e){var n=$(this._path,At("state",e)),i=t.map(function(t){return t.token});n.resolvables=n.resolvables.filter(function(t){return-1===i.indexOf(t.token)}).concat(t)},t.prototype.resolvePath=function(t,e){var n=this;void 0===t&&(t="LAZY");var i=(de(rn,t)?t:"LAZY")===en.when.EAGER?on:rn;Fe.traceResolvePath(this._path,t,e);var r=function(t,e){return function(i){return de(t,n.getPolicy(i)[e])}},o=this._path.reduce(function(t,o){var a=o.resolvables.filter(r(i,"when")),s=a.filter(r(["NOWAIT"],"async")),u=a.filter(It(r(["NOWAIT"],"async"))),l=n.subContext(o.state),c=function(t){return t.get(l,e).then(function(e){return{token:t.token,value:e}})};return s.forEach(c),t.concat(u.map(c))},[]);return oe.$q.all(o)},t.prototype.injector=function(){return this._injector||(this._injector=new un(this))},t.prototype.findNode=function(t){return $(this._path,function(e){return de(e.resolvables,t)})},t.prototype.getDependencies=function(t){var e=this,n=this.findNode(t),i=(Qe.subPath(this._path,function(t){return t===n})||this._path).reduce(function(t,e){return t.concat(e.resolvables)},[]).filter(function(e){return e!==t});return t.deps.map(function(t){var n=i.filter(function(e){return e.token===t});if(n.length)return T(n);var r=e.injector().getNative(t);if(!r)throw new Error("Could not find Dependency Injection token: "+Y(t));return new tn(t,function(){return r},[],r)})},t}(),un=function(){function t(t){this.context=t,this.native=this.get(an)||oe.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if("NOWAIT"===this.context.getPolicy(e).async)return e.get(this.context);if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+Y(e.token));return e.data}return this.native&&this.native.get(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):oe.$q.when(this.native.get(t))},t.prototype.getNative=function(t){return this.native&&this.native.get(t)},t}(),ln=Dt("self"),cn=function(){function e(e,n,i){var r=this;if(this._deferred=oe.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new Be(this),this.isActive=function(){return r.router.globals.transition===r},this.router=i,this._targetState=n,!n.valid())throw new Error(n.error());this._options=fe({current:Lt(this)},n.options()),this.$id=i.transitionService._transitionCount++;var o=Qe.buildToPath(e,n);this._treeChanges=Qe.treeChanges(e,o,this._options.reloadState),this.createTransitionHookRegFns();var a=this._hookBuilder.buildHooksForPhase(t.TransitionHookPhase.CREATE);Ne.invokeHooks(a,function(){return null}),this.applyViewConfigs(i)}return e.prototype.onBefore=function(t,e,n){},e.prototype.onStart=function(t,e,n){},e.prototype.onExit=function(t,e,n){},e.prototype.onRetain=function(t,e,n){},e.prototype.onEnter=function(t,e,n){},e.prototype.onFinish=function(t,e,n){},e.prototype.onSuccess=function(t,e,n){},e.prototype.onError=function(t,e,n){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==t.TransitionHookPhase.CREATE}).forEach(function(t){return I(e,e.router.transitionService,t)})},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype.applyViewConfigs=function(t){var e=this._treeChanges.entering.map(function(t){return t.state});Qe.applyViewConfigs(t.transitionService.$view,this._treeChanges.to,e)},e.prototype.$from=function(){return T(this._treeChanges.from).state},e.prototype.$to=function(){return T(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!P(this.$to(),t.to)||t.from&&!P(this.$from(),t.from))},e.prototype.params=function(t){return void 0===t&&(t="to"),Object.freeze(this._treeChanges[t].map(Dt("paramValues")).reduce(ye,{}))},e.prototype.injector=function(t,e){void 0===e&&(e="to");var n=this._treeChanges[e];return t&&(n=Qe.subPath(n,function(e){return e.state===t||e.state.name===t})),new sn(n).injector()},e.prototype.getResolveTokens=function(t){return void 0===t&&(t="to"),new sn(this._treeChanges[t]).getTokens()},e.prototype.addResolvable=function(t,e){void 0===e&&(e=""),t=Ht(tn)(t)?t:new tn(t);var n="string"==typeof e?e:e.name,i=this._treeChanges.to,r=$(i,function(t){return t.state.name===n});new sn(i).addResolvables([t],r.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var t=this.redirectedFrom();return t&&t.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return S(this._treeChanges.entering,Dt("state")).map(ln)},e.prototype.exiting=function(){return S(this._treeChanges.exiting,Dt("state")).map(ln).reverse()},e.prototype.retained=function(){return S(this._treeChanges.retained,Dt("state")).map(ln)},e.prototype.views=function(t,e){void 0===t&&(t="entering");var n=this._treeChanges[t];return(n=e?n.filter(At("state",e)):n).map(Dt("views")).filter(c).reduce(Se,[])},e.prototype.treeChanges=function(t){return t?this._treeChanges[t]:this._treeChanges},e.prototype.redirect=function(t){for(var e=1,n=this;null!=(n=n.redirectedFrom());)if(++e>20)throw new Error("Too many consecutive Transition redirects (20+)");var i={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==t.options().location&&(i.location="replace");var r=fe({},this.options(),t.options(),i);t=new Ue(t.identifier(),t.$state(),t.params(),r);var o=this.router.transitionService.create(this._treeChanges.from,t),a=this._treeChanges.entering,s=o._treeChanges.entering;return Qe.matching(s,a,Qe.nonDynamicParams).filter(It(function(t){return function(e){return t&&e.state.includes[t.name]}}(t.options().reloadState))).forEach(function(t,e){t.resolvables=a[e].resolvables}),o},e.prototype._changedParams=function(){var t=this._treeChanges;if(!(this._options.reload||t.exiting.length||t.entering.length||t.to.length!==t.from.length||z(t.to,t.from).map(function(t){return t[0].state!==t[1].state}).reduce($e,!1))){var e=t.to.map(function(t){return t.paramSchema}),n=[t.to,t.from].map(function(t){return t.map(function(t){return t.paramValues})});return z(e,n[0],n[1]).map(function(t){var e=t[0],n=t[1],i=t[2];return Ke.changed(e,n,i)}).reduce(Se,[])}},e.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map(function(t){return t.dynamic}).reduce($e,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var t=this.router.globals.transition,e=this._options.reloadState,n=function(t,n){if(t.length!==n.length)return!1;var i=Qe.matching(t,n);return t.length===i.filter(function(t){return!e||!t.state.includes[e.name]}).length},i=this.treeChanges(),r=t&&t.treeChanges();return r&&n(r.to,i.to)&&n(r.exiting,i.exiting)?"SameAsPending":0===i.exiting.length&&0===i.entering.length&&n(i.from,i.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,n=Ne.runAllHooks,i=function(t){return e._hookBuilder.buildHooksForPhase(t)},r=i(t.TransitionHookPhase.BEFORE);return Ne.invokeHooks(r,function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),Fe.traceTransitionStart(e),oe.$q.when(void 0)}).then(function(){var e=i(t.TransitionHookPhase.RUN);return Ne.invokeHooks(e,function(){return oe.$q.when(void 0)})}).then(function(){Fe.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),n(i(t.TransitionHookPhase.SUCCESS))},function(r){Fe.traceError(r,e),e.success=!1,e._deferred.reject(r),e._error=r,n(i(t.TransitionHookPhase.ERROR))}),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){qt(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var t=this.$to();if(t.self.abstract)return"Cannot transition to abstract state '"+t.name+"'";var e=t.parameters(),n=this.params(),i=e.filter(function(t){return!t.validates(n[t.id])});return i.length?"Param values not valid for state '"+t.name+"'. Invalid params: [ "+i.map(function(t){return t.id}).join(", ")+" ]":!1===this.success?this._error:void 0},e.prototype.toString=function(){var t=this.from(),e=this.to(),n=function(t){return null!==t["#"]&&void 0!==t["#"]?t:w(t,["#"])};return"Transition#"+this.$id+"( '"+(Qt(t)?t.name:t)+"'"+ue(n(this._treeChanges.from.map(Dt("paramValues")).reduce(ye,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(Qt(e)?e.name:e)+"'"+ue(n(this.params()))+" )"},e.diToken=e,e}(),fn=null,pn=function(t){var e=Ie.isRejectionPromise;return(fn=fn||u([[It(Bt),Lt("undefined")],[Yt,Lt("null")],[ie,Lt("[Promise]")],[e,function(t){return t._transitionRejection.toString()}],[Ht(Ie),s("toString")],[Ht(cn),s("toString")],[Ht(tn),s("toString")],[l,q],[Lt(!0),c]]))(t)},hn=function(t){return function(e){if(!e)return["",""];var n=e.indexOf(t);return-1===n?[e,""]:[e.substr(0,n),e.substr(n+1)]}},dn=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=y(t.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=he(S(this.defaultTypes,function(t,e){return new Ye(fe({name:e},t))}),{})}return t.prototype.dispose=function(){this.types={}},t.prototype.type=function(t,e,n){if(!Bt(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new Ye(fe({name:t},e)),n&&(this.typeQueue.push({name:t,def:n}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");fe(this.types[t.name],oe.$injector.invoke(t.def))}},t}();!function(){var t=function(t){var e=function(t){return null!=t?t.toString():t},n={encode:e,decode:e,is:Ht(String),pattern:/.*/,equals:function(t,e){return t==e}};return fe({},n,t)};fe(dn.prototype,{string:t({}),path:t({pattern:/[^/]*/}),query:t({}),hash:t({inherit:!1}),int:t({decode:function(t){return parseInt(t,10)},is:function(t){return!Gt(t)&&this.decode(t.toString())===t},pattern:/-?\d+/}),bool:t({encode:function(t){return t&&1||0},decode:function(t){return 0!==parseInt(t,10)},is:Ht(Boolean),pattern:/0|1/}),date:t({encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce(function(n,i){return n&&t[i]()===e[i]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:t({encode:ue,decode:se,is:Ht(Object),equals:pe,pattern:/[^/]*/}),any:t({encode:c,decode:c,is:function(){return!0},equals:pe})})}();var gn,mn=function(){function t(t){void 0===t&&(t={}),fe(this,t)}return t.prototype.$inherit=function(t,e,n){var i,r=v(e,n),o={},a=[];for(var s in r)if(r[s]&&r[s].params&&(i=Object.keys(r[s].params)).length)for(var u in i)a.indexOf(i[u])>=0||(a.push(i[u]),o[i[u]]=this[i[u]]);return fe({},o,t)},t}(),vn=function(t){if(!Xt(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}},yn=function(t,e){return function(n){var i=n;i&&i.url&&i.name&&i.name.match(/\.\*\*$/)&&(i.url+="{remainder:any}");var r=vn(i.url),o=n.parent,a=r?t.compile(r.val,{params:n.params||{},paramMap:function(t,e){return!1===i.reloadOnSearch&&e&&(t=fe(t||{},{dynamic:!0})),t}}):i.url;if(!a)return null;if(!t.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+n+"'");return r&&r.root?a:(o&&o.navigable||e()).url.append(a)}},wn=function(t){return function(e){return!t(e)&&e.url?e:e.parent?e.parent.navigable:null}},_n=function(t){return function(e){var n=e.url&&e.url.parameters({inherit:!1})||[],i=_e(we(w(e.params||{},n.map(Dt("id"))),function(e,n){return t.fromConfig(n,null,e)}));return n.concat(i).map(function(t){return[t.id,t]}).reduce(x,{})}},bn=function(){function t(t,e){this.matcher=t;var n=this,i=function(){return t.find("")},r=function(t){return""===t.name};this.builders={name:[K],self:[X],parent:[function(e){return r(e)?null:t.find(n.parentName(e))||i()}],data:[Q],url:[yn(e,i)],navigable:[wn(r)],params:[_n(e.paramFactory)],views:[],path:[J],includes:[tt],resolvables:[et]}}return t.prototype.builder=function(t,e){var n=this.builders,i=n[t]||[];return Xt(t)&&!Bt(e)?i.length>1?i:i[0]:Xt(t)&&Zt(e)?(n[t]=i,n[t].push(e),function(){return n[t].splice(n[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this,n=e.matcher,i=e.builders,r=this.parentName(t);if(r&&!n.find(r,void 0,!1))return null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o].reduce(function(t,e){return function(n){return e(n,t)}},f);t[o]=a(t)}return t},t.prototype.parentName=function(t){var e=t.name||"",n=e.split(".");if("**"===n.pop()&&n.pop(),n.length){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");return n.join(".")}return t.parent?Xt(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(-1!==e.indexOf(".")||!t.parent)return e;var n=Xt(t.parent)?t.parent:t.parent.name;return n?n+"."+e:e},t}(),$n=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return 0===(t=t||"").indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e,n){if(void 0===n&&(n=!0),t||""===t){var i=Xt(t),r=i?t:t.name;this.isRelative(r)&&(r=this.resolvePath(r,e));var o=this._states[r];if(o&&(i||!(i||o!==t&&o.self!==t)))return o;if(i&&n){var a=_e(this._states).filter(function(t){return t.__stateObjectCache.nameGlob&&t.__stateObjectCache.nameGlob.matches(r)});return a.length>1&&console.log("stateMatcher.find: Found multiple matches for "+r+" using glob: ",a.map(function(t){return t.name})),a[0]}}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var n=this.find(e),i=t.split("."),r=0,o=i.length,a=n;r<o;r++)if(""!==i[r]||0!==r){if("^"!==i[r])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=i.slice(r).join(".");return a.name+(a.name&&s?".":"")+s},t}(),Sn=function(){function t(t,e,n,i,r){this.$registry=t,this.$urlRouter=e,this.states=n,this.builder=i,this.listeners=r,this.queue=[],this.matcher=t.matcher}return t.prototype.dispose=function(){this.queue=[]},t.prototype.register=function(t){var e=this.queue,n=Ut.create(t),i=n.name;if(!Xt(i))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(i)||de(e.map(Dt("name")),i))throw new Error("State '"+i+"' is already defined");return e.push(n),this.flush(),n},t.prototype.flush=function(){for(var t=this,e=this,n=e.queue,i=e.states,r=e.builder,o=[],a=[],s={},u=function(e){return t.states.hasOwnProperty(e)&&t.states[e]};n.length>0;){var l=n.shift(),c=l.name,f=r.build(l),p=a.indexOf(l);if(f){var h=u(c);if(h&&h.name===c)throw new Error("State '"+c+"' is already defined");var d=u(c+".**");d&&this.$registry.deregister(d),i[c]=l,this.attachRoute(l),p>=0&&a.splice(p,1),o.push(l)}else{var g=s[c];if(s[c]=n.length,p>=0&&g===n.length)return n.push(l),i;p<0&&a.push(l),n.push(l)}}return o.length&&this.listeners.forEach(function(t){return t("registered",o.map(function(t){return t.self}))}),i},t.prototype.attachRoute=function(t){!t.abstract&&t.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(t))},t}(),Cn=function(){function t(t){this._router=t,this.states={},this.listeners=[],this.matcher=new $n(this.states),this.builder=new bn(this.matcher,t.urlMatcherFactory),this.stateQueue=new Sn(this,t.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return t.prototype._registerRoot=function(){var t={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0};(this._root=this.stateQueue.register(t)).navigable=null},t.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&&t.deregister(e)})},t.prototype.onStatesChanged=function(t){return this.listeners.push(t),function(){ge(this.listeners)(t)}.bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,n=this.get().map(function(t){return t.$$state()}),i=function(t){var e=n.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(i(e))},r=i([t]),o=[t].concat(r).reverse();return o.forEach(function(t){var n=e._router.urlRouter;n.rules().filter(At("state",t)).forEach(n.removeRule.bind(n)),delete e.states[t.name]}),o},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var n=this._deregisterTree(e.$$state());return this.listeners.forEach(function(t){return t("deregistered",n.map(function(t){return t.self}))}),n},t.prototype.get=function(t,e){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(t){return n.states[t].self});var i=this.matcher.find(t,e);return i&&i.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}(),kn=function(t,e,n){return t[e]=t[e]||n()},zn=G("/"),xn=function(){function e(t,n,i,r){var o=this;this.config=r,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=m(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:c});for(var a,s,u,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p=0,h=[],d=function(n){if(!e.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+t+"'");if($(o._params,At("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+t+"'")},g=function(e,i){var r=e[2]||e[3],a=i?e[4]:e[4]||("*"===e[1]?"[\\s\\S]*":null);return{id:r,regexp:a,cfg:o.config.params[r],segment:t.substring(p,e.index),type:a?n.type(a)||function(t){return he(n.type(i?"query":"path"),{pattern:new RegExp(t,o.config.caseInsensitive?"i":void 0)})}(a):null}};(a=l.exec(t))&&!((s=g(a,!1)).segment.indexOf("?")>=0);)d(s.id),this._params.push(i.fromPath(s.id,s.type,this.config.paramMap(s.cfg,!1))),this._segments.push(s.segment),h.push([s.segment,T(this._params)]),p=l.lastIndex;var v=(u=t.substring(p)).indexOf("?");if(v>=0){var y=u.substring(v);if(u=u.substring(0,v),y.length>0)for(p=0;a=f.exec(y);)d((s=g(a,!0)).id),this._params.push(i.fromSearch(s.id,s.type,this.config.paramMap(s.cfg,!0))),p=l.lastIndex}this._segments.push(u),this._compiled=h.map(function(t){return nt.apply(null,t)}).concat(nt(u))}return e.prototype.append=function(t){return this._children.push(t),t._cache={path:this._cache.path.concat(t),parent:this,pattern:null},t},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(t,e,n,i){var r=this;void 0===e&&(e={}),void 0===i&&(i={});var o=kn(this._cache,"pattern",function(){return new RegExp(["^",ze(r._cache.path.map(Dt("_compiled"))).join(""),!1===r.config.strict?"/?":"","$"].join(""),r.config.caseInsensitive?"i":void 0)}).exec(t);if(!o)return null;var a=this.parameters(),s=a.filter(function(t){return!t.isSearch()}),u=a.filter(function(t){return t.isSearch()}),l=this._cache.path.map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),c={};if(l!==o.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var f=0;f<l;f++){for(var p=s[f],h=o[f+1],d=0;d<p.replace.length;d++)p.replace[d].from===h&&(h=p.replace[d].to);h&&!0===p.array&&(h=function(t){var e=function(t){return t.split("").reverse().join("")};return S(S(e(t).split(/-(?!\\)/),e),function(t){return t.replace(/\\-/g,"-")}).reverse()}(h)),Bt(h)&&(h=p.type.decode(h)),c[p.id]=p.value(h)}return u.forEach(function(t){for(var n=e[t.id],i=0;i<t.replace.length;i++)t.replace[i].from===n&&(n=t.replace[i].to);Bt(n)&&(n=t.type.decode(n)),c[t.id]=t.value(n)}),n&&(c["#"]=n),c},e.prototype.parameters=function(t){return void 0===t&&(t={}),!1===t.inherit?this._params:ze(this._cache.path.map(function(t){return t._params}))},e.prototype.parameter=function(t,e){var n=this;void 0===e&&(e={});var i=this._cache.parent;return function(){for(var e=0,i=n._params;e<i.length;e++){var r=i[e];if(r.id===t)return r}}()||!1!==e.inherit&&i&&i.parameter(t,e)||null},e.prototype.validates=function(t){var e=function(t,e){return!t||t.validates(e)};return t=t||{},this.parameters().filter(function(e){return t.hasOwnProperty(e.id)}).map(function(n){return e(n,t[n.id])}).reduce(be,!0)},e.prototype.format=function(t){function n(e){var n=e.value(t[e.id]),i=e.validates(n),r=e.isDefaultValue(n);return{param:e,value:n,isValid:i,isDefaultValue:r,squash:!!r&&e.squash,encoded:e.type.encode(n)}}void 0===t&&(t={});var i=this._cache.path,r=i.map(e.pathSegmentsAndParams).reduce(Se,[]).map(function(t){return Xt(t)?t:n(t)}),o=i.map(e.queryParams).reduce(Se,[]).map(n);if(r.concat(o).filter(function(t){return!1===t.isValid}).length)return null;var a=r.reduce(function(t,n){if(Xt(n))return t+n;var i=n.squash,r=n.encoded,o=n.param;return!0===i?t.match(/\/$/)?t.slice(0,-1):t:Xt(i)?t+i:!1!==i?t:null==r?t:Jt(r)?t+S(r,e.encodeDashes).join("-"):o.raw?t+r:t+encodeURIComponent(r)},""),s=o.map(function(t){var e=t.param,n=t.squash,i=t.encoded,r=t.isDefaultValue;if(!(null==i||r&&!1!==n)&&(Jt(i)||(i=[i]),0!==i.length))return e.raw||(i=S(i,encodeURIComponent)),i.map(function(t){return e.id+"="+t})}).filter(c).reduce(Se,[]).join("&");return a+(s?"?"+s:"")+(t["#"]?"#"+t["#"]:"")},e.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){return z(e._segments,e._params.filter(function(e){return e.location===t.DefType.PATH}).concat(void 0)).reduce(Se,[]).filter(function(t){return""!==t&&Bt(t)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===t.DefType.SEARCH})},e.compare=function(t,n){var i=function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(Se,[]).reduce(Z,[]).map(function(t){return Xt(t)?zn(t):t}).reduce(Se,[])},r=function(t){return t._cache.weights=t._cache.weights||i(t).map(function(t){return"/"===t?1:Xt(t)?2:t instanceof Ke?3:void 0})},o=r(t),a=r(n);!function(t,e,n){for(var i=Math.max(t.length,e.length);t.length<i;)t.push(n);for(;e.length<i;)e.push(n)}(o,a,0);var s,u,l=z(o,a);for(u=0;u<l.length;u++)if(0!=(s=l[u][0]-l[u][1]))return s;return 0},e.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,e}(),Tn=function(){function e(){var e=this;this.paramTypes=new dn,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(t){return fe({strict:e._isStrictMode,caseInsensitive:e._isCaseInsensitive},t)},this.paramFactory={fromConfig:function(n,i,r){return new Ke(n,i,r,t.DefType.CONFIG,e)},fromPath:function(n,i,r){return new Ke(n,i,r,t.DefType.PATH,e)},fromSearch:function(n,i,r){return new Ke(n,i,r,t.DefType.SEARCH,e)}},fe(this,{UrlMatcher:xn,Param:Ke})}return e.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=Bt(t)?t:this._isCaseInsensitive},e.prototype.strictMode=function(t){return this._isStrictMode=Bt(t)?t:this._isStrictMode},e.prototype.defaultSquashPolicy=function(t){if(Bt(t)&&!0!==t&&!1!==t&&!Xt(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=Bt(t)?t:this._defaultSquashPolicy},e.prototype.compile=function(t,e){return new xn(t,this.paramTypes,this.paramFactory,this._getConfig(e))},e.prototype.isMatcher=function(t){if(!Qt(t))return!1;var e=!0;return ce(xn.prototype,function(n,i){Zt(n)&&(e=e&&Bt(t[i])&&Zt(t[i]))}),e},e.prototype.type=function(t,e,n){var i=this.paramTypes.type(t,e,n);return Bt(e)?this:i},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}(),En=function(){function t(t){this.router=t}return t.prototype.compile=function(t){return this.router.urlMatcherFactory.compile(t)},t.prototype.create=function(t,e){var n=this,i=u([[Xt,function(t){return i(n.compile(t))}],[Ht(xn),function(t){return n.fromUrlMatcher(t,e)}],[ne,function(t){return n.fromState(t,n.router)}],[Ht(RegExp),function(t){return n.fromRegExp(t,e)}],[Zt,function(t){return new On(t,e)}]]),r=i(t);if(!r)throw new Error("invalid 'what' in when()");return r},t.prototype.fromUrlMatcher=function(t,e){var n=e;Xt(e)&&(e=this.router.urlMatcherFactory.compile(e)),Ht(xn)(e)&&(n=function(t){return e.format(t)});var i={urlMatcher:t,matchPriority:function(e){var n=t.parameters().filter(function(t){return t.isOptional});return n.length?n.filter(function(t){return e[t.id]}).length/n.length:1e-6},type:"URLMATCHER"};return fe(new On(function(e){var n=t.exec(e.path,e.search,e.hash);return t.validates(n)&&n},n),i)},t.prototype.fromState=function(t,e){var n={state:t,type:"STATE"};return fe(this.fromUrlMatcher(t.url,function(n){var i=e.stateService,r=e.globals;i.href(t,n)!==i.href(r.current,r.params)&&i.transitionTo(t,n,{inherit:!0,source:"url"})}),n)},t.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=Xt(e)?function(t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}:e,i={regexp:t,type:"REGEXP"};return fe(new On(function(e){return t.exec(e.path)},n),i)},t.isUrlRule=function(t){return t&&["type","match","handler"].every(function(e){return Bt(t[e])})},t}(),On=function(){return function(t,e){var n=this;this.match=t,this.type="RAW",this.matchPriority=function(t){return 0-n.$id},this.handler=e||c}}(),Rn=function(t,e){return(e.priority||0)-(t.priority||0)},Dn=function(t,e){var n={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(n[t.type]||0)-(n[e.type]||0)},An=function(t,e){return t.urlMatcher&&e.urlMatcher?xn.compare(t.urlMatcher,e.urlMatcher):0},Pn=function(t,e){var n={STATE:!0,URLMATCHER:!0};return n[t.type]&&n[e.type]?0:(t.$id||0)-(e.$id||0)};gn=function(t,e){var n=Rn(t,e);return 0!==n?n:0!==(n=Dn(t,e))?n:(n=An(t,e),0!==n?n:Pn(t,e))};var In=function(){function t(e){this._sortFn=gn,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=e,this.urlRuleFactory=new En(e),p(Lt(t.prototype),this,Lt(this))}return t.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},t.prototype.sort=function(t){this._rules=this.stableSort(this._rules,this._sortFn=t||this._sortFn),this._sorted=!0},t.prototype.ensureSorted=function(){this._sorted||this.sort()},t.prototype.stableSort=function(t,e){var n=t.map(function(t,e){return{elem:t,idx:e}});return n.sort(function(t,n){var i=e(t.elem,n.elem);return 0===i?t.idx-n.idx:i}),n.map(function(t){return t.elem})},t.prototype.match=function(t){var e=this;this.ensureSorted(),t=fe({path:"",search:{},hash:""},t);var n=this.rules();this._otherwiseFn&&n.push(this._otherwiseFn);for(var i,r=0;r<n.length&&(!i||0===this._sortFn(n[r],i.rule));r++){var o=function(n){var i=n.match(t,e._router);return i&&{match:i,rule:n,weight:n.matchPriority(i)}}(n[r]);i=!i||o&&o.weight>i.weight?o:i}return i},t.prototype.sync=function(t){if(!t||!t.defaultPrevented){var e=this._router,n=e.urlService,i=e.stateService,r={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(r);u([[Xt,function(t){return n.url(t,!0)}],[Ue.isDef,function(t){return i.go(t.state,t.params,t.options)}],[Ht(Ue),function(t){return i.go(t.state(),t.params(),t.options())}]])(o&&o.rule.handler(o.match,r,e))}},t.prototype.listen=function(t){var e=this;if(!1!==t)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(t){return e.sync(t)});this._stopFn&&this._stopFn(),delete this._stopFn},t.prototype.update=function(t){var e=this._router.locationService;t?this.location=e.path():e.path()!==this.location&&e.url(this.location,!0)},t.prototype.push=function(t,e,n){var i=n&&!!n.replace;this._router.urlService.url(t.format(e||{}),i)},t.prototype.href=function(t,e,n){var i=t.format(e);if(null==i)return null;n=n||{absolute:!1};var r=this._router.urlService.config,o=r.html5Mode();if(o||null===i||(i="#"+r.hashPrefix()+i),i=it(i,o,n.absolute,r.baseHref()),!n.absolute||!i)return i;var a=!o&&i?"/":"",s=r.port();return s=80===s||443===s?"":":"+s,[r.protocol(),"://",r.host(),s,a,i].join("")},t.prototype.rule=function(t){var e=this;if(!En.isUrlRule(t))throw new Error("invalid rule");return t.$id=this._id++,t.priority=t.priority||0,this._rules.push(t),this._sorted=!1,function(){return e.removeRule(t)}},t.prototype.removeRule=function(t){ge(this._rules,t)},t.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},t.prototype.otherwise=function(t){var e=rt(t);this._otherwiseFn=this.urlRuleFactory.create(Lt(!0),e),this._sorted=!1},t.prototype.initial=function(t){var e=rt(t);this.rule(this.urlRuleFactory.create(function(t,e){return 0===e.globals.transitionHistory.size()&&!!/^\/?$/.exec(t.path)},e))},t.prototype.when=function(t,e,n){var i=this.urlRuleFactory.create(t,e);return Bt(n&&n.priority)&&(i.priority=n.priority),this.rule(i),i},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t}(),Wn=function(){function t(){var t=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return t._uiViews},_activeViewConfigs:function(){return t._viewConfigs}}}return t.prototype._rootViewContext=function(t){return this._rootContext=t||this._rootContext},t.prototype._viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var n=this._viewConfigFactories[e.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+e.$type);var i=n(t,e);return Jt(i)?i:[i]},t.prototype.deactivateViewConfig=function(t){Fe.traceViewServiceEvent("<- Removing",t),ge(this._viewConfigs,t)},t.prototype.activateViewConfig=function(t){Fe.traceViewServiceEvent("-> Registering",t),this._viewConfigs.push(t)},t.prototype.sync=function(){function e(t){for(var e=t.viewDecl.$context,n=0;++n&&e.parent;)e=e.parent;return n}var i=this,r=this._uiViews.map(function(t){return[t.fqn,t]}).reduce(x,{}),o=n(function(t,e,n,i){return e*(t(n)-t(i))}),a=this._uiViews.sort(o(function(t){var e=function(t){return t&&t.parent?e(t.parent)+1:1};return 1e4*t.fqn.split(".").length+e(t.creationContext)},1)).map(function(n){var a=i._viewConfigs.filter(t.matches(r,n));return a.length>1&&a.sort(o(e,-1)),[n,a[0]]});Fe.traceViewSync(a),a.forEach(function(t){var e=t[0],n=t[1];-1!==i._uiViews.indexOf(e)&&e.configUpdated(n)})},t.prototype.registerUIView=function(t){Fe.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews;return e.filter(function(e){return e.fqn===t.fqn&&e.$type===t.$type}).length&&Fe.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1!==e.indexOf(t)?(Fe.traceViewServiceUIViewEvent("<- Deregistering",t),ge(e)(t)):Fe.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t)}},t.prototype.available=function(){return this._uiViews.map(Dt("fqn"))},t.prototype.active=function(){return this._uiViews.filter(Dt("$config")).map(Dt("name"))},t.normalizeUIViewTarget=function(t,e){void 0===e&&(e="");var n=e.split("@"),i=n[0]||"$default",r=Xt(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(i);return o&&(r=o[1],i=o[2]),"!"===i.charAt(0)&&(i=i.substr(1),r=""),/^(\^(?:\.\^)*)$/.exec(r)?r=r.split(".").reduce(function(t,e){return t.parent},t).name:"."===r&&(r=t.name),{uiViewName:i,uiViewContextAnchor:r}},t.matches=function(t,e){return function(n){if(e.$type!==n.viewDecl.$type)return!1;var i=n.viewDecl,r=i.$uiViewName.split("."),o=e.fqn.split(".");if(!pe(r,o.slice(0-r.length)))return!1;var a=1-r.length||void 0,s=o.slice(0,a).join("."),u=t[s].creationContext;return i.$uiViewContextAnchor===(u&&u.name)}},t}(),Mn=function(){function t(){this.params=new mn,this.lastStartedTransitionId=-1,this.transitionHistory=new Ae([],1),this.successfulTransitions=new Ae([],1)}return t.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},t}(),Hn=function(t){return t.reduce(function(t,e){return t[e]=re(e),t},{dispose:f})},jn=["url","path","search","hash","onChange"],Ln=["port","protocol","host","baseHref","html5Mode","hashPrefix"],Fn=["type","caseInsensitive","strictMode","defaultSquashPolicy"],Un=["sort","when","initial","otherwise","rules","rule","removeRule"],Vn=["deferIntercept","listen","sync","match"],Nn=function(){function t(t,e){void 0===e&&(e=!0),this.router=t,this.rules={},this.config={};var n=function(){return t.locationService};p(n,this,n,jn,e);var i=function(){return t.locationConfig};p(i,this.config,i,Ln,e);var r=function(){return t.urlMatcherFactory};p(r,this.config,r,Fn);var o=function(){return t.urlRouter};p(o,this.rules,o,Un),p(o,this,o,Vn)}return t.prototype.url=function(t,e,n){},t.prototype.path=function(){},t.prototype.search=function(){},t.prototype.hash=function(){},t.prototype.onChange=function(t){},t.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},t.prototype.dispose=function(){},t.prototype.sync=function(t){},t.prototype.listen=function(t){},t.prototype.deferIntercept=function(t){},t.prototype.match=function(t){},t.locationServiceStub=Hn(jn),t.locationConfigStub=Hn(Ln),t}(),qn=0,Bn=function(){function t(t,e){void 0===t&&(t=Nn.locationServiceStub),void 0===e&&(e=Nn.locationConfigStub),this.locationService=t,this.locationConfig=e,this.$id=qn++,this._disposed=!1,this._disposables=[],this.trace=Fe,this.viewService=new Wn,this.transitionService=new _i(this),this.globals=new Mn,this.urlMatcherFactory=new Tn,this.urlRouter=new In(this),this.stateRegistry=new Cn(this),this.stateService=new bi(this),this.urlService=new Nn(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(t),this.disposable(e)}return t.prototype.disposable=function(t){this._disposables.push(t)},t.prototype.dispose=function(t){var e=this;t&&Zt(t.dispose)?t.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(t){try{"function"==typeof t.dispose&&t.dispose(e),ge(e._disposables,t)}catch(t){}}))},t.prototype.plugin=function(t,e){void 0===e&&(e={});var n=new t(this,e);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},t.prototype.getPlugin=function(t){return t?this._plugins[t]:_e(this._plugins)},t}(),Yn=function(t){return t.onCreate({},ot)},Gn=function(t){function e(e){if(e)return e instanceof Ue?e:Xt(e)?i.target(e,t.params(),t.options()):e.state||e.params?i.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}var n=t.to().redirectTo;if(n){var i=t.router.stateService;return Zt(n)?oe.$q.when(n(t)).then(e):e(n)}},Zn=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},Gn)},Kn=at("onExit"),Xn=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},Kn)},Qn=at("onRetain"),Jn=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},Qn)},ti=at("onEnter"),ei=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},ti)},ni=function(t){return new sn(t.treeChanges().to).resolvePath("EAGER",t).then(f)},ii=function(t){return t.onStart({},ni,{priority:1e3})},ri=function(t,e){return new sn(t.treeChanges().to).subContext(e.$$state()).resolvePath("LAZY",t).then(f)},oi=function(t){return t.onEnter({entering:Lt(!0)},ri,{priority:1e3})},ai=function(t){var e=oe.$q,n=t.views("entering");if(n.length)return e.all(n.map(function(t){return e.when(t.load())})).then(f)},si=function(t){return t.onFinish({},ai)},ui=function(t){var e=t.views("entering"),n=t.views("exiting");if(e.length||n.length){var i=t.router.viewService;n.forEach(function(t){return i.deactivateViewConfig(t)}),e.forEach(function(t){return i.activateViewConfig(t)}),i.sync()}},li=function(t){return t.onSuccess({},ui)},ci=function(t){var e=t.router.globals,n=function(){e.transition===t&&(e.transition=null)};t.onSuccess({},function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,le(t.params(),e.params)},{priority:1e4}),t.promise.then(n,n)},fi=function(t){return t.onCreate({},ci)},pi=function(t){var e=t.options(),n=t.router.stateService,i=t.router.urlRouter;if("url"!==e.source&&e.location&&n.$current.navigable){var r={replace:"replace"===e.location};i.push(n.$current.navigable.url,n.params,r)}i.update(!0)},hi=function(t){return t.onSuccess({},pi,{priority:9999})},di=function(t){var e=t.router,n=t.entering().filter(function(t){return!!t.$$state().lazyLoad}).map(function(e){return st(t,e)});return oe.$q.all(n).then(function(){if("url"!==t.originalTransition().options().source){var n=t.targetState();return e.stateService.target(n.identifier(),n.params(),n.options())}var i=e.urlService,r=i.match(i.parts()),o=r&&r.rule;if(o&&"STATE"===o.type){var a=o.state,s=r.match;return e.stateService.target(a,s,t.options())}e.urlService.sync()})},gi=function(t){return t.onBefore({entering:function(t){return!!t.lazyLoad}},di)},mi=function(){return function(t,e,n,i,r,o,a,s){void 0===r&&(r=!1),void 0===o&&(o=Ne.HANDLE_RESULT),void 0===a&&(a=Ne.REJECT_ERROR),void 0===s&&(s=!1),this.name=t,this.hookPhase=e,this.hookOrder=n,this.criteriaMatchPath=i,this.reverseSort=r,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s}}(),vi=function(t){return t.onBefore({},ut,{priority:-9999})},yi=function(t){return t.onBefore({},lt,{priority:-1e4})},wi={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},_i=function(){function e(t){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=t,this.$view=t.viewService,this._deregisterHookFns={},this._pluginapi=p(Lt(this),{},Lt(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return e.prototype.onCreate=function(t,e,n){},e.prototype.onBefore=function(t,e,n){},e.prototype.onStart=function(t,e,n){},e.prototype.onExit=function(t,e,n){},e.prototype.onRetain=function(t,e,n){},e.prototype.onEnter=function(t,e,n){},e.prototype.onFinish=function(t,e,n){},e.prototype.onSuccess=function(t,e,n){},e.prototype.onError=function(t,e,n){},e.prototype.dispose=function(t){_e(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,ge(t,e)})})},e.prototype.create=function(t,e){return new cn(t,e,this._router)},e.prototype._defineCoreEvents=function(){var e=t.TransitionHookPhase,n=Ne,i=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,i.to,!1,n.LOG_REJECTED_RESULT,n.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,i.to),this._defineEvent("onStart",e.RUN,0,i.to),this._defineEvent("onExit",e.RUN,100,i.exiting,!0),this._defineEvent("onRetain",e.RUN,200,i.retained),this._defineEvent("onEnter",e.RUN,300,i.entering),this._defineEvent("onFinish",e.RUN,400,i.to),this._defineEvent("onSuccess",e.SUCCESS,0,i.to,!1,n.LOG_REJECTED_RESULT,n.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,i.to,!1,n.LOG_REJECTED_RESULT,n.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=t.TransitionHookScope.STATE,n=t.TransitionHookScope.TRANSITION;this._definePathType("to",n),this._definePathType("from",n),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(t,e,n,i,r,o,a,s){void 0===r&&(r=!1),void 0===o&&(o=Ne.HANDLE_RESULT),void 0===a&&(a=Ne.REJECT_ERROR),void 0===s&&(s=!1);var u=new mi(t,e,n,i,r,o,a,s);this._eventTypes.push(u),I(this,this,u)},e.prototype._getEvents=function(t){return(Bt(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(t,e){var n=t.hookPhase-e.hookPhase;return 0===n?t.hookOrder-e.hookOrder:n})},e.prototype._definePathType=function(t,e){this._criteriaPaths[t]={name:t,scope:e}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype._registerCoreTransitionHooks=function(){var t=this._deregisterHookFns;t.addCoreResolves=Yn(this),t.ignored=vi(this),t.invalid=yi(this),t.redirectTo=Zn(this),t.onExit=Xn(this),t.onRetain=Jn(this),t.onEnter=ei(this),t.eagerResolve=ii(this),t.lazyResolve=oi(this),t.loadViews=si(this),t.activateViews=li(this),t.updateGlobals=fi(this),t.updateUrl=hi(this),t.lazyLoad=gi(this)},e}(),bi=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&&t.stack?(console.error(t),console.error(t.stack)):t instanceof Ie?(console.error(t.toString()),t.detail&&t.detail.stack&&console.error(t.detail.stack)):console.error(t)};var n=["current","$current","params","transition"],i=Object.keys(e.prototype).filter(It(de(n)));p(Lt(e.prototype),this,Lt(this),i)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(f),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(t,e){function n(){var t=u.dequeue();return void 0===t?Ie.invalid(e.error()).toPromise():oe.$q.when(t(e,r,l)).then(c).then(function(t){return t||n()})}var i=this,r=Qe.makeTargetState(t),o=this.router.globals,a=function(){return o.transitionHistory.peekTail()},s=a(),u=new Ae(this.invalidCallbacks.slice()),l=new sn(t).injector(),c=function(t){if(t instanceof Ue){var e=t;return e=i.target(e.identifier(),e.params(),e.options()),e.valid()?a()!==s?Ie.superseded().toPromise():i.transitionTo(e.identifier(),e.params(),e.options()):Ie.invalid(e.error()).toPromise()}};return n()},e.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),function(){ge(this.invalidCallbacks)(t)}.bind(this)},e.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!Bt(t)||t,inherit:!1,notify:!1})},e.prototype.go=function(t,e,n){var i=m(n,{relative:this.$current,inherit:!0},wi);return this.transitionTo(t,e,i)},e.prototype.target=function(t,e,n){if(void 0===n&&(n={}),Qt(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var i=this.router.stateRegistry;if(n.reloadState=!0===n.reload?i.root():i.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(Xt(n.reload)?n.reload:n.reload.name)+"'");var r=i.matcher.find(t,n.relative);return new Ue(t,r,e,n)},e.prototype.getCurrentPath=function(){var t=this,e=this.router.globals.successfulTransitions.peekTail();return e?e.treeChanges().to:[new Xe(t.router.stateRegistry.root())]},e.prototype.transitionTo=function(e,n,i){var r=this;void 0===n&&(n={}),void 0===i&&(i={});var o=this.router,a=o.globals;i=m(i,wi);i=fe(i,{current:function(){return a.transition}});var s=this.target(e,n,i),u=this.getCurrentPath();if(!s.exists())return this._handleInvalidTargetState(u,s);if(!s.valid())return De(s.error());var l=function(e){return function(n){if(n instanceof Ie){var i=o.globals.lastStartedTransitionId===e.$id;if(n.type===t.RejectType.IGNORED)return i&&o.urlRouter.update(),oe.$q.when(a.current);var s=n.detail;if(n.type===t.RejectType.SUPERSEDED&&n.redirected&&s instanceof Ue){var u=e.redirect(s);return u.run().catch(l(u))}if(n.type===t.RejectType.ABORTED)return i&&o.urlRouter.update(),oe.$q.reject(n)}return r.defaultErrorHandler()(n),oe.$q.reject(n)}},c=this.router.transitionService.create(u,s),f=c.run().catch(l(c));return Re(f),fe(f,{transition:c})},e.prototype.is=function(t,e,n){n=m(n,{relative:this.$current});var i=this.router.stateRegistry.matcher.find(t,n.relative);if(Bt(i)){if(this.$current!==i)return!1;if(!e)return!0;var r=i.parameters({inherit:!0,matchingKeys:e});return Ke.equals(r,Ke.values(r,e),this.params)}},e.prototype.includes=function(t,e,n){n=m(n,{relative:this.$current});var i=Xt(t)&&Ft.fromString(t);if(i){if(!i.matches(this.$current.name))return!1;t=this.$current.name}var r=this.router.stateRegistry.matcher.find(t,n.relative),o=this.$current.includes;if(Bt(r)){if(!Bt(o[r.name]))return!1;if(!e)return!0;var a=r.parameters({inherit:!0,matchingKeys:e});return Ke.equals(a,Ke.values(a,e),this.params)}},e.prototype.href=function(t,e,n){n=m(n,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),e=e||{};var i=this.router.stateRegistry.matcher.find(t,n.relative);if(!Bt(i))return null;n.inherit&&(e=this.params.$inherit(e,this.$current,i));var r=i&&n.lossy?i.navigable:i;return r&&void 0!==r.url&&null!==r.url?this.router.urlRouter.href(r.url,e,{absolute:n.absolute}):null},e.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},e.prototype.get=function(t,e){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(t,e||this.$current)},e.prototype.lazyLoad=function(t,e){var n=this.get(t);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+t);var i=this.getCurrentPath(),r=Qe.makeTargetState(i);return e=e||this.router.transitionService.create(i,r),st(e,n)},e}(),$i={when:function(t){return new Promise(function(e,n){return e(t)})},reject:function(t){return new Promise(function(e,n){n(t)})},defer:function(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t},all:function(t){if(Jt(t))return Promise.all(t);if(Qt(t)){var e=Object.keys(t).map(function(e){return t[e].then(function(t){return{key:e,val:t}})});return $i.all(e).then(function(t){return t.reduce(function(t,e){return t[e.key]=e.val,t},{})})}}},Si={},Ci=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ki=/([^\s,]+)/g,zi={get:function(t){return Si[t]},has:function(t){return null!=zi.get(t)},invoke:function(t,e,n){var i=fe({},Si,n||{}),r=zi.annotate(t),o=Te(function(t){return i.hasOwnProperty(t)},function(t){return"DI can't find injectable: '"+t+"'"}),a=r.filter(o).map(function(t){return i[t]});return Zt(t)?t.apply(e,a):t.slice(-1)[0].apply(e,a)},annotate:function(t){if(!l(t))throw new Error("Not an injectable function: "+t);if(t&&t.$inject)return t.$inject;if(Jt(t))return t.slice(0,-1);var e=t.toString().replace(Ci,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(ki)||[]}},xi=function(t){return function(e){if(!e)return["",""];var n=e.indexOf(t);return-1===n?[e,""]:[e.substr(0,n),e.substr(n+1)]}},Ti=xi("#"),Ei=xi("?"),Oi=xi("="),Ri=function(t){return t?t.replace(/^#/,""):""},Di=function(t,e){var n=e[0],i=e[1];return t.hasOwnProperty(n)?Jt(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i,t},Ai=function(t){return t.split("&").filter(c).map(Oi).reduce(Di,{})},Pi=function(t){var e=t.path(),n=t.search(),i=t.hash(),r=Object.keys(n).map(function(t){var e=n[t];return(Jt(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(Se,[]).join("&");return e+(r?"?"+r:"")+(i?"#"+i:"")},Ii=function(){function t(t,e){var n=this;this.fireAfterUpdate=e,this._listener=function(t){return n._listeners.forEach(function(e){return e(t)})},this._listeners=[],this.hash=function(){return ct(n._get()).hash},this.path=function(){return ct(n._get()).path},this.search=function(){return Ai(ct(n._get()).search)},this._location=window&&window.location,this._history=window&&window.history}return t.prototype.url=function(t,e){if(void 0===e&&(e=!0),Bt(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate)){var n=fe(new Event("locationchange"),{url:t});this._listeners.forEach(function(t){return t(n)})}return Pi(this)},t.prototype.onChange=function(t){var e=this;return this._listeners.push(t),function(){return ge(e._listeners,t)}},t.prototype.dispose=function(t){ve(this._listeners)},t}(),Wi=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mi=function(t){function e(e){var n=t.call(this,e,!1)||this;return window.addEventListener("hashchange",n._listener,!1),n}return Wi(e,t),e.prototype._get=function(){return Ri(this._location.hash)},e.prototype._set=function(t,e,n,i){this._location.hash=n},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("hashchange",this._listener)},e}(Ii),Hi=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ji=function(t){function e(e){return t.call(this,e,!0)||this}return Hi(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(t,e,n,i){this._url=n},e}(Ii),Li=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fi=function(t){function e(e){var n=t.call(this,e,!0)||this;return n._config=e.urlService.config,window.addEventListener("popstate",n._listener,!1),n}return Li(e,t),e.prototype._get=function(){var t=this._location,e=t.pathname,n=t.hash,i=t.search;return i=Ei(i)[1],n=Ti(n)[1],e+(i?"?"+i:"")+(n?"$"+i:"")},e.prototype._set=function(t,e,n,i){var r=this,o=r._config,a=r._history,s=o.baseHref()+n;i?a.replaceState(t,e,s):a.pushState(t,e,s)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("popstate",this._listener)},e}(Ii),Ui=function(){return function(){var t=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return Bt(e)?t._hashPrefix=e:t._hashPrefix},this.dispose=f}}(),Vi=function(){function t(t,e){void 0===e&&(e=!1),this._isHtml5=e,this._baseHref=void 0,this._hashPrefix=""}return t.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},t.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},t.prototype.host=function(){return location.hostname},t.prototype.html5Mode=function(){return this._isHtml5},t.prototype.hashPrefix=function(t){return Bt(t)?this._hashPrefix=t:this._hashPrefix},t.prototype.baseHref=function(t){return Bt(t)?this._baseHref=t:this._baseHref||this.applyDocumentBaseHref()},t.prototype.applyDocumentBaseHref=function(){var t=document.getElementsByTagName("base");return this._baseHref=t.length?t[0].href.substr(location.origin.length):""},t.prototype.dispose=function(){},t}(),Ni=ft("vanilla.hashBangLocation",!1,Mi,Vi),qi=ft("vanilla.pushStateLocation",!0,Fi,Vi),Bi=ft("vanilla.memoryLocation",!1,ji,Ui),Yi=function(){function t(){}return t.prototype.dispose=function(t){},t}(),Gi=Object.freeze({fromJson:se,toJson:ue,copy:le,forEach:ce,extend:fe,equals:pe,identity:c,noop:f,createProxyFunctions:p,inherit:he,inArray:de,_inArray:h,removeFrom:ge,_removeFrom:d,pushTo:me,_pushTo:g,deregAll:ve,defaults:m,mergeR:ye,ancestors:v,pick:y,omit:w,pluck:_,filter:b,find:$,mapObj:we,map:S,values:_e,allTrueR:be,anyTrueR:$e,unnestR:Se,flattenR:Ce,pushR:C,uniqR:ke,unnest:ze,flatten:xe,assertPredicate:Te,assertMap:Ee,assertFn:k,pairs:Oe,arrayTuples:z,applyPairs:x,tail:T,_extend:E,silenceUncaughtInPromise:Re,silentRejection:De,notImplemented:re,services:oe,Glob:Ft,curry:n,compose:i,pipe:r,prop:Dt,propEq:At,parse:Pt,not:It,and:o,or:a,all:Wt,any:Mt,is:Ht,eq:jt,val:Lt,invoke:s,pattern:u,isUndefined:qt,isDefined:Bt,isNull:Yt,isNullOrUndefined:Gt,isFunction:Zt,isNumber:Kt,isString:Xt,isObject:Qt,isArray:Jt,isDate:te,isRegExp:ee,isState:ne,isInjectable:l,isPromise:ie,Queue:Ae,maxLength:U,padString:V,kebobString:N,functionToString:q,fnToString:B,stringify:Y,beforeAfterSubstr:hn,splitOnDelim:G,joinNeighborsR:Z,get Category(){return t.Category},Trace:Le,trace:Fe,get DefType(){return t.DefType},Param:Ke,ParamTypes:dn,StateParams:mn,ParamType:Ye,PathNode:Xe,PathUtils:Qe,resolvePolicies:en,defaultResolvePolicy:Je,Resolvable:tn,NATIVE_INJECTOR_TOKEN:an,ResolveContext:sn,resolvablesBuilder:et,StateBuilder:bn,StateObject:Ut,StateMatcher:$n,StateQueueManager:Sn,StateRegistry:Cn,StateService:bi,TargetState:Ue,get TransitionHookPhase(){return t.TransitionHookPhase},get TransitionHookScope(){return t.TransitionHookScope},HookBuilder:Be,matchState:P,RegisteredHook:qe,makeEvent:I,get RejectType(){return t.RejectType},Rejection:Ie,Transition:cn,TransitionHook:Ne,TransitionEventType:mi,defaultTransOpts:wi,TransitionService:_i,UrlMatcher:xn,UrlMatcherFactory:Tn,UrlRouter:In,UrlRuleFactory:En,BaseUrlRule:On,UrlService:Nn,ViewService:Wn,UIRouterGlobals:Mn,UIRouter:Bn,$q:$i,$injector:zi,BaseLocationServices:Ii,HashLocationService:Mi,MemoryLocationService:ji,PushStateLocationService:Fi,MemoryLocationConfig:Ui,BrowserLocationConfig:Vi,splitHash:Ti,splitQuery:Ei,splitEqual:Oi,trimHashVal:Ri,keyValsToObjectR:Di,getParams:Ai,parseUrl:ct,buildUrl:Pi,locationPluginFactory:ft,servicesPlugin:pt,hashLocationPlugin:Ni,pushStateLocationPlugin:qi,memoryLocationPlugin:Bi,UIRouterPluginBase:Yi}),Zi=function(t,e){return t.reduce(function(t,n){return t||Bt(e[n])},!1)},Ki=0,Xi=function(){function t(t,e,n){var i=this;this.path=t,this.viewDecl=e,this.factory=n,this.$id=Ki++,this.loaded=!1,this.getTemplate=function(t,e){return i.component?i.factory.makeComponentTemplate(t,e,i.component,i.viewDecl.bindings):i.template}}return t.prototype.load=function(){var t=this,e=oe.$q,n=new sn(this.path),i=this.path.reduce(function(t,e){return fe(t,e.paramValues)},{}),r={template:e.when(this.factory.fromConfig(this.viewDecl,i,n)),controller:e.when(this.getController(n))};return e.all(r).then(function(e){return Fe.traceViewServiceEvent("Loaded",t),t.controller=e.controller,fe(t,e.template),t})},t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;if(!l(e))return this.viewDecl.controller;var n=oe.$injector.annotate(e),i=Jt(e)?T(e):e;return new tn("",i,n).get(t)},t}(),Qi=function(){function t(){var t=this;this._useHttp=Rt.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,n,i){return t.$templateRequest=i.has&&i.has("$templateRequest")&&i.get("$templateRequest"),t.$http=e,t.$templateCache=n,t}]}return t.prototype.useHttpService=function(t){this._useHttp=t},t.prototype.fromConfig=function(t,e,n){var i=function(t){return oe.$q.when(t).then(function(t){return{template:t}})},r=function(t){return oe.$q.when(t).then(function(t){return{component:t}})};return Bt(t.template)?i(this.fromString(t.template,e)):Bt(t.templateUrl)?i(this.fromUrl(t.templateUrl,e)):Bt(t.templateProvider)?i(this.fromProvider(t.templateProvider,e,n)):Bt(t.component)?r(t.component):Bt(t.componentProvider)?r(this.fromComponentProvider(t.componentProvider,e,n)):i("<ui-view></ui-view>")},t.prototype.fromString=function(t,e){return Zt(t)?t(e):t},t.prototype.fromUrl=function(t,e){return Zt(t)&&(t=t(e)),null==t?null:this._useHttp?this.$http.get(t,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(t){return t.data}):this.$templateRequest(t)},t.prototype.fromProvider=function(t,e,n){var i=oe.$injector.annotate(t),r=Jt(t)?T(t):t;return new tn("",r,i).get(n)},t.prototype.fromComponentProvider=function(t,e,n){var i=oe.$injector.annotate(t),r=Jt(t)?T(t):t;return new tn("",r,i).get(n)},t.prototype.makeComponentTemplate=function(t,e,n,i){i=i||{};var r=Rt.version.minor>=3?"::":"",o=function(t){var e=N(t);return/^(x|data)-/.exec(e)?"x-"+e:e},a=gt(n).map(function(n){var a=n.name,s=n.type,u=o(a);if(t.attr(u)&&!i[a])return u+"='"+t.attr(u)+"'";var l=i[a]||a;if("@"===s)return u+"='{{"+r+"$resolve."+l+"}}'";if("&"===s){var c=e.getResolvable(l),f=c&&c.data,p=f&&oe.$injector.annotate(f)||[];return u+"='$resolve."+l+(Jt(f)?"["+(f.length-1)+"]":"")+"("+p.join(",")+")'"}return u+"='"+r+"$resolve."+l+"'"}).join(" "),s=o(n);return"<"+s+" "+a+"></"+s+">"},t}(),Ji=function(t){return tr(Qt(t.bindToController)?t.bindToController:t.scope)},tr=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]}).filter(function(t){return Bt(t)&&Jt(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}})},er=function(){function t(e,n){this.stateRegistry=e,this.stateService=n,p(Lt(t.prototype),this,Lt(this))}return t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},t.prototype.state=function(t,e){return Qt(t)?e=t:e.name=t,this.stateRegistry.register(e),this},t.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},t}(),nr=function(t){return function(e,n){var i=e[t],r="onExit"===t?"from":"to";return i?function(t,e){var n=new sn(t.treeChanges(r)),o=fe(hr(n),{$state$:e,$transition$:t});return oe.$injector.invoke(i,this,o)}:void 0}},ir=function(){function t(t){this._urlListeners=[],this.$locationProvider=t;var e=Lt(t);p(e,this,e,["hashPrefix"])}return t.prototype.dispose=function(){},t.prototype.onChange=function(t){var e=this;return this._urlListeners.push(t),function(){return ge(e._urlListeners)(t)}},t.prototype.html5Mode=function(){var t=this.$locationProvider.html5Mode();return(t=Qt(t)?t.enabled:t)&&this.$sniffer.history},t.prototype.url=function(t,e,n){return void 0===e&&(e=!1),t&&this.$location.url(t),e&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},t.prototype._runtimeServices=function(t,e,n,i){var r=this;this.$location=e,this.$sniffer=n,t.$on("$locationChangeSuccess",function(t){return r._urlListeners.forEach(function(e){return e(t)})});var o=Lt(e),a=Lt(i);p(o,this,o,["replace","path","search","hash"]),p(o,this,o,["port","protocol","host"]),p(a,this,a,["baseHref"])},t.monkeyPatchPathParameterType=function(t){var e=t.urlMatcherFactory.type("path");e.encode=function(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t},e.decode=function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}},t}(),rr=function(){function t(t){this._router=t,this._urlRouter=t.urlRouter}return t.prototype.$get=function(){var t=this._urlRouter;return t.update(!0),t.interceptDeferred||t.listen(),t},t.prototype.rule=function(t){var e=this;if(!Zt(t))throw new Error("'rule' must be a function");var n=new On(function(){return t(oe.$injector,e._router.locationService)},c);return this._urlRouter.rule(n),this},t.prototype.otherwise=function(t){var e=this,n=this._urlRouter;if(Xt(t))n.otherwise(t);else{if(!Zt(t))throw new Error("'rule' must be a string or function");n.otherwise(function(){return t(oe.$injector,e._router.locationService)})}return this},t.prototype.when=function(e,n){return(Jt(n)||Zt(n))&&(n=t.injectableHandler(this._router,n)),this._urlRouter.when(e,n),this},t.injectableHandler=function(t,e){return function(n){return oe.$injector.invoke(e,null,{$match:n,$stateParams:t.globals.params})}},t.prototype.deferIntercept=function(t){this._urlRouter.deferIntercept(t)},t}();Rt.module("ui.router.angular1",[]);var or=Rt.module("ui.router.init",[]),ar=Rt.module("ui.router.util",["ng","ui.router.init"]),sr=Rt.module("ui.router.router",["ui.router.util"]),ur=Rt.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),lr=Rt.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),cr=(Rt.module("ui.router.compat",["ui.router"]),null);mt.$inject=["$locationProvider"];var fr=function(t){return["$uiRouterProvider",function(e){var n=e.router[t];return n.$get=function(){return n},n}]};vt.$inject=["$injector","$q","$uiRouter"];yt.$inject=["$rootScope"],or.provider("$uiRouter",mt),sr.provider("$urlRouter",["$uiRouterProvider",function(t){return t.urlRouterProvider=new rr(t)}]),ar.provider("$urlService",fr("urlService")),ar.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return cr.urlMatcherFactory}]),ar.provider("$templateFactory",function(){return new Qi}),ur.provider("$stateRegistry",fr("stateRegistry")),ur.provider("$uiRouterGlobals",fr("globals")),ur.provider("$transitions",fr("transitionService")),ur.provider("$state",["$uiRouterProvider",function(){return fe(cr.stateProvider,{$get:function(){return cr.stateService}})}]),ur.factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),lr.factory("$view",function(){return cr.viewService}),lr.service("$trace",function(){return Fe}),lr.run(yt),ar.run(["$urlMatcherFactory",function(t){}]),ur.run(["$state",function(t){}]),sr.run(["$urlRouter",function(t){}]),or.run(vt);var pr,hr=function(t){return t.getTokens().filter(Xt).map(function(e){var n=t.getResolvable(e);return[e,"NOWAIT"===t.getPolicy(n).async?n.promise:n.data]}).reduce(x,{})};pr=["$uiRouter","$timeout",function(t,e){var n=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){function s(){var t=h();f&&f(),c&&(f=c.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(l.attr,t.href)}var u,l=$t(r),c=a[1]||a[0],f=null,p={},h=function(){return bt(n,r,p)},d=wt(o.uiSref);p.uiState=d.state,p.uiStateOpts=o.uiSrefOpts?i.$eval(o.uiSrefOpts):{},d.paramExpr&&(i.$watch(d.paramExpr,function(t){p.uiStateParams=fe({},t),s()},!0),p.uiStateParams=fe({},i.$eval(d.paramExpr))),s(),i.$on("$destroy",t.stateRegistry.onStatesChanged(s)),i.$on("$destroy",t.transitionService.onSuccess({},s)),l.clickable&&(u=St(r,n,e,l,h),kt(r,i,u,p.uiStateOpts))}}}];var dr;dr=["$uiRouter","$timeout",function(t,e){var n=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){function s(){var t=d();p&&p(),c&&(p=c.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(l.attr,t.href)}var u,l=$t(r),c=a[1]||a[0],p=null,h={},d=function(){return bt(n,r,h)},g=["uiState","uiStateParams","uiStateOpts"],m=g.reduce(function(t,e){return t[e]=f,t},{});g.forEach(function(t){h[t]=o[t]?i.$eval(o[t]):null,o.$observe(t,function(e){m[t](),m[t]=i.$watch(e,function(e){h[t]=e,s()},!0)})}),s(),i.$on("$destroy",t.stateRegistry.onStatesChanged(s)),i.$on("$destroy",t.transitionService.onSuccess({},s)),l.clickable&&(u=St(r,n,e,l,d),kt(r,i,u,h.uiStateOpts))}}}];var gr;gr=["$state","$stateParams","$interpolate","$uiRouter",function(t,e,n,i){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,r,o){function a(t){t.promise.then(u,f)}function s(e,n,i){var o={state:t.get(e,_t(r))||{name:e},params:n,activeClass:i};return h.push(o),function(){ge(h)(o)}}function u(){var n=function(t){return t.split(/\s/).filter(c)},i=function(t){return t.map(function(t){return t.activeClass}).map(n).reduce(Se,[])},o=i(h).concat(n(l)).reduce(ke,[]),a=i(h.filter(function(e){return t.includes(e.state.name,e.params)})),s=!!h.filter(function(e){return t.is(e.state.name,e.params)}).length?n(l):[],u=a.concat(s).reduce(ke,[]),f=o.filter(function(t){return!de(u,t)});e.$evalAsync(function(){u.forEach(function(t){return r.addClass(t)}),f.forEach(function(t){return r.removeClass(t)})})}var l,p,h=[];l=n(o.uiSrefActiveEq||"",!1)(e);try{p=e.$eval(o.uiSrefActive)}catch(t){}p=p||n(o.uiSrefActive||"",!1)(e),Qt(p)&&ce(p,function(t,n){if(Xt(t)){var i=wt(t);s(i.state,e.$eval(i.paramExpr),n)}}),this.$$addStateInfo=function(t,e){if(!(Qt(p)&&h.length>0)){var n=s(t,e,p);return u(),n}},e.$on("$stateChangeSuccess",u),e.$on("$destroy",i.transitionService.onStart({},a)),i.globals.transition&&a(i.globals.transition),u()}]}}],Rt.module("ui.router.state").directive("uiSref",pr).directive("uiSrefActive",gr).directive("uiSrefActiveEq",gr).directive("uiState",dr),zt.$inject=["$state"],xt.$inject=["$state"],Rt.module("ui.router.state").filter("isState",zt).filter("includedByState",xt);var mr;mr=["$view","$animate","$uiViewScroll","$interpolate","$q",function(t,e,n,i,r){function o(t,n){return{enter:function(t,n,i){Rt.version.minor>2?e.enter(t,null,n).then(i):e.enter(t,null,n,i)},leave:function(t,n){Rt.version.minor>2?e.leave(t).then(n):e.leave(t,n)}}}function a(t,e){return t===e}var s={$cfg:{viewDecl:{$context:t._pluginapi._rootViewContext()}},$uiView:{}},u={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,l,c){return function(e,l,f){function p(){if(d&&(Fe.traceUIViewEvent("Removing (previous) el",d.data("$uiView")),d.remove(),d=null),m&&(Fe.traceUIViewEvent("Destroying scope",C),m.$destroy(),m=null),g){var t=g.data("$uiViewAnim");Fe.traceUIViewEvent("Animate out",t),_.leave(g,function(){t.$$animLeave.resolve(),d=null}),d=g,g=null}}function h(t){var i=e.$new(),o=r.defer(),a=r.defer(),s={$cfg:t,$uiView:C},u={$animEnter:o.promise,$animLeave:a.promise,$$animLeave:a};i.$emit("$viewContentLoading",S);var f=c(i,function(t){t.data("$uiViewAnim",u),t.data("$uiView",s),_.enter(t,l,function(){o.resolve(),m&&m.$emit("$viewContentAnimationEnded"),(Bt(w)&&!w||e.$eval(w))&&n(t)}),p()});g=f,(m=i).$emit("$viewContentLoaded",t||b),m.$eval(y)}var d,g,m,v,y=f.onload||"",w=f.autoscroll,_=o(f,e),b=void 0,$=l.inheritedData("$uiView")||s,S=i(f.uiView||f.name||"")(e)||"$default",C={$type:"ng1",id:u.count++,name:S,fqn:$.$uiView.fqn?$.$uiView.fqn+"."+S:S,config:null,configUpdated:function(t){(!t||t instanceof Xi)&&(a(b,t)||(Fe.traceUIViewConfigUpdated(C,t&&t.viewDecl&&t.viewDecl.$context),b=t,h(t)))},get creationContext(){var t=Pt("$cfg.viewDecl.$context")($),e=Pt("$uiView.creationContext")($);return t||e}};Fe.traceUIViewEvent("Linking",C),l.data("$uiView",{$uiView:C}),h(),v=t.registerUIView(C),e.$on("$destroy",function(){Fe.traceUIViewEvent("Destroying/Unregistering",C),v()})}}};return u}],Tt.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var vr="function"==typeof Rt.module("ui.router").component,yr=0;Rt.module("ui.router.state").directive("uiView",mr),Rt.module("ui.router.state").directive("uiView",Tt),Rt.module("ui.router.state").provider("$uiViewScroll",function(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]});t.default="ui.router",t.core=Gi,t.watchDigests=yt,t.getLocals=hr,t.getNg1ViewConfigFactory=ht,t.ng1ViewsBuilder=dt,t.Ng1ViewConfig=Xi,t.StateProvider=er,t.UrlRouterProvider=rr,t.fromJson=se,t.toJson=ue,t.copy=le,t.forEach=ce,t.extend=fe,t.equals=pe,t.identity=c,t.noop=f,t.createProxyFunctions=p,t.inherit=he,t.inArray=de,t._inArray=h,t.removeFrom=ge,t._removeFrom=d,t.pushTo=me,t._pushTo=g,t.deregAll=ve,t.defaults=m,t.mergeR=ye,t.ancestors=v,t.pick=y,t.omit=w,t.pluck=_,t.filter=b,t.find=$,t.mapObj=we,t.map=S,t.values=_e,t.allTrueR=be,t.anyTrueR=$e,t.unnestR=Se,t.flattenR=Ce,t.pushR=C,t.uniqR=ke,t.unnest=ze,t.flatten=xe,t.assertPredicate=Te,t.assertMap=Ee,t.assertFn=k,t.pairs=Oe,t.arrayTuples=z,t.applyPairs=x,t.tail=T,t._extend=E,t.silenceUncaughtInPromise=Re,t.silentRejection=De,t.notImplemented=re,t.services=oe,t.Glob=Ft,t.curry=n,t.compose=i,t.pipe=r,t.prop=Dt,t.propEq=At,t.parse=Pt,t.not=It,t.and=o,t.or=a,t.all=Wt,t.any=Mt,t.is=Ht,t.eq=jt,t.val=Lt,t.invoke=s,t.pattern=u,t.isUndefined=qt,t.isDefined=Bt,t.isNull=Yt,t.isNullOrUndefined=Gt,t.isFunction=Zt,t.isNumber=Kt,t.isString=Xt,t.isObject=Qt,t.isArray=Jt,t.isDate=te,t.isRegExp=ee,t.isState=ne,t.isInjectable=l,t.isPromise=ie,t.Queue=Ae,t.maxLength=U,t.padString=V,t.kebobString=N,t.functionToString=q,t.fnToString=B,t.stringify=Y,t.beforeAfterSubstr=hn,t.splitOnDelim=G,t.joinNeighborsR=Z,t.Trace=Le,t.trace=Fe,t.Param=Ke,t.ParamTypes=dn,t.StateParams=mn,t.ParamType=Ye,t.PathNode=Xe,t.PathUtils=Qe,t.resolvePolicies=en,t.defaultResolvePolicy=Je,t.Resolvable=tn,t.NATIVE_INJECTOR_TOKEN=an,t.ResolveContext=sn,t.resolvablesBuilder=et,t.StateBuilder=bn,t.StateObject=Ut,t.StateMatcher=$n,t.StateQueueManager=Sn,t.StateRegistry=Cn,t.StateService=bi,t.TargetState=Ue,t.HookBuilder=Be,t.matchState=P,t.RegisteredHook=qe,t.makeEvent=I,t.Rejection=Ie,t.Transition=cn,t.TransitionHook=Ne,t.TransitionEventType=mi,t.defaultTransOpts=wi,t.TransitionService=_i,t.UrlMatcher=xn,t.UrlMatcherFactory=Tn,t.UrlRouter=In,t.UrlRuleFactory=En,t.BaseUrlRule=On,t.UrlService=Nn,t.ViewService=Wn,t.UIRouterGlobals=Mn,t.UIRouter=Bn,t.$q=$i,t.$injector=zi,t.BaseLocationServices=Ii,t.HashLocationService=Mi,t.MemoryLocationService=ji,t.PushStateLocationService=Fi,t.MemoryLocationConfig=Ui,t.BrowserLocationConfig=Vi,t.splitHash=Ti,t.splitQuery=Ei,t.splitEqual=Oi,t.trimHashVal=Ri,t.keyValsToObjectR=Di,t.getParams=Ai,t.parseUrl=ct,t.buildUrl=Pi,t.locationPluginFactory=ft,t.servicesPlugin=pt,t.hashLocationPlugin=Ni,t.pushStateLocationPlugin=qi,t.memoryLocationPlugin=Bi,t.UIRouterPluginBase=Yi,Object.defineProperty(t,"__esModule",{value:!0})}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(t){return function(e,n){if("__setXHR_"===e){var i=n(this);i instanceof Function&&i(this)}else t.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(t,e,n){function i(i){function r(t){l.notify&&l.notify(t),c.progressFunc&&n(function(){c.progressFunc(t)})}function s(t){return null!=i._start&&a?{loaded:t.loaded+i._start,total:i._file&&i._file.size||t.total,type:t.type,config:i,lengthComputable:!0,target:t.target}:t}function u(){t(i).then(function(t){if(a&&i._chunkSize&&!i._finished&&i._file){var e=i._file&&i._file.size||0;r({loaded:Math.min(i._end,e),total:e,config:i,type:"progress"}),o.upload(i,!0)}else i._finished&&delete i._finished,l.resolve(t)},function(t){l.reject(t)},function(t){l.notify(t)})}i.method=i.method||"POST",i.headers=i.headers||{};var l=i._deferred=i._deferred||e.defer(),c=l.promise;return i.disableProgress||(i.headers.__setXHR_=function(){return function(t){t&&t.upload&&t.upload.addEventListener&&(i.__XHR=t,i.xhrFn&&i.xhrFn(t),t.upload.addEventListener("progress",function(t){t.config=i,r(s(t))},!1),t.upload.addEventListener("load",function(t){t.lengthComputable&&(t.config=i,r(s(t)))},!1))}}),a?i._chunkSize&&i._end&&!i._finished?(i._start=i._end,i._end+=i._chunkSize,u()):i.resumeSizeUrl?t.get(i.resumeSizeUrl).then(function(t){i.resumeSizeResponseReader?i._start=i.resumeSizeResponseReader(t.data):i._start=parseInt((null==t.data.size?t.data:t.data.size).toString()),i._chunkSize&&(i._end=i._start+i._chunkSize),u()},function(t){throw t}):i.resumeSize?i.resumeSize().then(function(t){i._start=t,i._chunkSize&&(i._end=i._start+i._chunkSize),u()},function(t){throw t}):(i._chunkSize&&(i._start=0,i._end=i._start+i._chunkSize),u()):u(),c.success=function(t){return c.then(function(e){t(e.data,e.status,e.headers,i)}),c},c.error=function(t){return c.then(null,function(e){t(e.data,e.status,e.headers,i)}),c},c.progress=function(t){return c.progressFunc=t,c.then(null,null,function(e){t(e)}),c},c.abort=c.pause=function(){return i.__XHR&&n(function(){i.__XHR.abort()}),c},c.xhr=function(t){return i.xhrFn=function(e){return function(){e&&e.apply(c,arguments),t.apply(c,arguments)}}(i.xhrFn),c},o.promisesCount++,c.finally&&c.finally instanceof Function&&c.finally(function(){o.promisesCount--}),c}function r(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var o=this;o.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var a=this.isResumeSupported();this.isUploadInProgress=function(){return o.promisesCount>0},this.rename=function(t,e){return t.ngfName=e,t},this.jsonBlob=function(t){null==t||angular.isString(t)||(t=JSON.stringify(t));var e=new window.Blob([t],{type:"application/json"});return e._ngfBlob=!0,e},this.json=function(t){return angular.toJson(t)},this.isFile=function(t){return null!=t&&(t instanceof window.Blob||t.flashId&&t.name&&t.size)},this.upload=function(t,e){function n(e,n){if(e._ngfBlob)return e;if(t._file=t._file||e,null!=t._start&&a){t._end&&t._end>=e.size&&(t._finished=!0,t._end=e.size);var i=e.slice(t._start,t._end||e.size);return i.name=e.name,i.ngfName=e.ngfName,t._chunkSize&&(n.append("_chunkSize",t._chunkSize),n.append("_currentChunkSize",t._end-t._start),n.append("_chunkNumber",Math.floor(t._start/t._chunkSize)),n.append("_totalSize",t._file.size)),i}return e}function s(e,i,r){if(void 0!==i)if(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i))e.append(r,i);else if(o.isFile(i)){var a=n(i,e),u=r.split(",");u[1]&&(a.ngfName=u[1].replace(/^\s+|\s+$/g,""),r=u[0]),t._fileKey=t._fileKey||r,e.append(r,a,a.ngfName||a.name)}else if(angular.isObject(i)){if(i.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+r;i.$$ngfCircularDetection=!0;try{for(var l in i)if(i.hasOwnProperty(l)&&"$$ngfCircularDetection"!==l){var c=null==t.objectKey?"[i]":t.objectKey;i.length&&parseInt(l)>-1&&(c=null==t.arrayKey?c:t.arrayKey),s(e,i[l],r+c.replace(/[ik]/g,l))}}finally{delete i.$$ngfCircularDetection}}else e.append(r,i)}return e||(t=r(t)),t._isDigested||(t._isDigested=!0,t._chunkSize=o.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,t.headers=t.headers||{},t.headers["Content-Type"]=void 0,t.transformRequest=t.transformRequest?angular.isArray(t.transformRequest)?t.transformRequest:[t.transformRequest]:[],t.transformRequest.push(function(e){var n,i=new window.FormData;e=e||t.fields||{},t.file&&(e.file=t.file);for(n in e)if(e.hasOwnProperty(n)){var r=e[n];t.formDataAppender?t.formDataAppender(i,n,r):s(i,r,n)}return i})),i(t)},this.http=function(e){return e=r(e),e.transformRequest=e.transformRequest||function(e){return window.ArrayBuffer&&e instanceof window.ArrayBuffer||e instanceof window.Blob?e:t.defaults.transformRequest[0].apply(this,arguments)},e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,i(e)},this.translateScalars=function(t){if(angular.isString(t)){if(t.search(/kb/i)===t.length-2)return parseFloat(1024*t.substring(0,t.length-2));if(t.search(/mb/i)===t.length-2)return parseFloat(1048576*t.substring(0,t.length-2));if(t.search(/gb/i)===t.length-2)return parseFloat(1073741824*t.substring(0,t.length-2));if(t.search(/b/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/s/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/m/i)===t.length-1)return parseFloat(60*t.substring(0,t.length-1));if(t.search(/h/i)===t.length-1)return parseFloat(3600*t.substring(0,t.length-1))}return t},this.urlToBlob=function(n){var i=e.defer();return t({url:n,method:"get",responseType:"arraybuffer"}).then(function(t){var e=new Uint8Array(t.data),r=t.headers("content-type")||"image/WebP",o=new window.Blob([e],{type:r}),a=n.match(/.*\/(.+?)(\?.*)?$/);a.length>1&&(o.name=a[1]),i.resolve(o)},function(t){i.reject(t)}),i.promise},this.setDefaults=function(t){this.defaults=t||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(t,e,n,i,r){function o(t,e,n){var r=[u.emptyPromise()];return angular.forEach(t,function(i,o){0===i.type.indexOf("image/jpeg")&&u.attrGetter("ngfFixOrientation",e,n,{$file:i})&&r.push(u.happyPromise(u.applyExifRotation(i),i).then(function(e){t.splice(o,1,e)}))}),i.all(r)}function a(t,e,n,r){var o=u.attrGetter("ngfResize",e,n);if(!o||!u.isResizeSupported()||!t.length)return u.emptyPromise();if(o instanceof Function){var a=i.defer();return o(t).then(function(i){s(i,t,e,n,r).then(function(t){a.resolve(t)},function(t){a.reject(t)})},function(t){a.reject(t)})}return s(o,t,e,n,r)}function s(t,e,n,r,o){for(var a=[u.emptyPromise()],s=0;s<e.length;s++)!function(i,s){if(0===i.type.indexOf("image")){if(t.pattern&&!u.validatePattern(i,t.pattern))return;t.resizeIf=function(t,e){return u.attrGetter("ngfResizeIf",n,r,{$width:t,$height:e,$file:i})};var l=u.resize(i,t);a.push(l),l.then(function(t){e.splice(s,1,t)},function(t){i.$error="resize",(i.$errorMessages=i.$errorMessages||{}).resize=!0,i.$errorParam=(t?(t.message?t.message:t)+": ":"")+(i&&i.name),o.$ngfValidations.push({name:"resize",valid:!1}),u.applyModelValidation(o,e)})}}(e[s],s);return i.all(a)}var u=r;return u.getAttrWithDefaults=function(t,e){if(null!=t[e])return t[e];var n=u.defaults[e];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},u.attrGetter=function(e,n,i,r){var o=this.getAttrWithDefaults(n,e);if(!i)return o;try{return r?t(o)(i,r):t(o)(i)}catch(t){if(e.search(/min|max|pattern/i))return o;throw t}},u.shouldUpdateOn=function(t,e,n){var i=u.attrGetter("ngfModelOptions",e,n);return!i||!i.updateOn||i.updateOn.split(" ").indexOf(t)>-1},u.emptyPromise=function(){var t=i.defer(),n=arguments;return e(function(){t.resolve.apply(t,n)}),t.promise},u.rejectPromise=function(){var t=i.defer(),n=arguments;return e(function(){t.reject.apply(t,n)}),t.promise},u.happyPromise=function(t,n){var r=i.defer();return t.then(function(t){r.resolve(t)},function(t){e(function(){throw t}),r.resolve(n)}),r.promise},u.updateModel=function(n,i,r,s,l,c,f){function p(o,a,l,f,p){i.$$ngfPrevValidFiles=o,i.$$ngfPrevInvalidFiles=a;var h=o&&o.length?o[0]:null,d=a&&a.length?a[0]:null;n&&(u.applyModelValidation(n,o),n.$setViewValue(p?h:o)),s&&t(s)(r,{$files:o,$file:h,$newFiles:l,$duplicateFiles:f,$invalidFiles:a,$invalidFile:d,$event:c});var g=u.attrGetter("ngfModelInvalid",i);g&&e(function(){t(g).assign(r,p?d:a)}),e(function(){})}function h(){function t(){e(function(){p(_?g.concat(w):w,_?m.concat(y):y,l,v,b)},S&&S.debounce?S.debounce.change||S.debounce:0)}var o=$?d:w;a(o,i,r,n).then(function(){$?u.validate(d,_?g.length:0,n,i,r).then(function(e){w=e.validsFiles,y=e.invalidsFiles,t()}):t()},function(){for(var e=0;e<o.length;e++){var n=o[e];if("resize"===n.$error){var i=w.indexOf(n);i>-1&&(w.splice(i,1),y.push(n)),t()}}})}var d,g,m,v=[],y=[],w=[];g=i.$$ngfPrevValidFiles||[],m=i.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(g=function(t){return angular.isArray(t)?t:[t]}(n.$modelValue));var _=u.attrGetter("ngfKeep",i,r);d=(l||[]).slice(0),"distinct"!==_&&!0!==u.attrGetter("ngfKeepDistinct",i,r)||function(){function t(t,e){return t.name===e.name&&(t.$ngfOrigSize||t.size)===(e.$ngfOrigSize||e.size)&&t.type===e.type}if(l){d=[],v=[];for(var e=0;e<l.length;e++)!function(e){var n;for(n=0;n<g.length;n++)if(t(e,g[n]))return!0;for(n=0;n<m.length;n++)if(t(e,m[n]))return!0;return!1}(l[e])?d.push(l[e]):v.push(l[e])}}();var b=!_&&!u.attrGetter("ngfMultiple",i,r)&&!u.attrGetter("multiple",i);if(!_||d.length){u.attrGetter("ngfBeforeModelChange",i,r,{$files:l,$file:l&&l.length?l[0]:null,$newFiles:d,$duplicateFiles:v,$event:c});var $=u.attrGetter("ngfValidateAfterResize",i,r),S=u.attrGetter("ngfModelOptions",i,r);u.validate(d,_?g.length:0,n,i,r).then(function(t){f?p(d,[],l,v,b):(S&&S.allowInvalid||$?w=d:(w=t.validFiles,y=t.invalidFiles),u.attrGetter("ngfFixOrientation",i,r)&&u.isExifSupported()?o(w,i,r).then(function(){h()}):h())})}},u}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(t,e,n,i){function r(t){var e=t.match(/Android[^\d]*(\d+)\.(\d+)/);if(e&&e.length>2){var n=i.defaults.androidFixMinorVersion||4;return parseInt(e[1])<4||parseInt(e[1])===n&&parseInt(e[2])<n}return-1===t.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(t)}function o(t,e,n,i,o,s,u,l){function c(){return"input"===e[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function f(){return v("ngfChange")||v("ngfSelect")}function p(e){if(l.shouldUpdateOn("change",n,t)){var r=e.__files_||e.target&&e.target.files,o=[];if(!r)return;for(var a=0;a<r.length;a++)o.push(r[a]);l.updateModel(i,n,t,f(),o.length?o:null,e)}}function h(t,i){function r(e){t.attr("id","ngf-"+e),i.attr("id","ngf-label-"+e)}for(var o=0;o<e[0].attributes.length;o++){var a=e[0].attributes[o];"type"!==a.name&&"class"!==a.name&&"style"!==a.name&&("id"===a.name?(r(a.value),y.push(n.$observe("id",r))):t.attr(a.name,a.value||"required"!==a.name&&"multiple"!==a.name?a.value:a.name))}}function d(t){var e=t.changedTouches||t.originalEvent&&t.originalEvent.changedTouches;if(e){if("touchstart"===t.type)return _=e[0].clientX,w=e[0].clientY,!0;if("touchend"===t.type){var n=e[0].clientX,i=e[0].clientY;if(Math.abs(n-_)>20||Math.abs(i-w)>20)return t.stopPropagation(),t.preventDefault(),!1}return!0}}function g(e){l.shouldUpdateOn("click",n,t)&&b.val()&&(b.val(null),l.updateModel(i,n,t,f(),null,e,!0))}function m(t){if(b&&!b.attr("__ngf_ie10_Fix_")){if(!b[0].parentNode)return void(b=null);t.preventDefault(),t.stopPropagation(),b.unbind("click");var e=b.clone();return b.replaceWith(e),(b=e).attr("__ngf_ie10_Fix_","true"),b.bind("change",p),b.bind("click",m),b[0].click(),!1}b.removeAttr("__ngf_ie10_Fix_")}var v=function(t,e){return l.attrGetter(t,n,e)};l.registerModelChangeValidator(i,n,t);var y=[];v("ngfMultiple")&&y.push(t.$watch(v("ngfMultiple"),function(){b.attr("multiple",v("ngfMultiple",t))})),v("ngfCapture")&&y.push(t.$watch(v("ngfCapture"),function(){b.attr("capture",v("ngfCapture",t))})),v("ngfAccept")&&y.push(t.$watch(v("ngfAccept"),function(){b.attr("accept",v("ngfAccept",t))})),y.push(n.$observe("accept",function(){b.attr("accept",v("accept"))}));var w=0,_=0,b=e;c()||(b=function(){if(c())return e;var t=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),h(t,n),a.push({el:e,ref:n}),document.body.appendChild(n.append(t)[0]),t}()),b.bind("change",p),c()?e.bind("click",g):e.bind("click touchstart touchend",function(n){if(e.attr("disabled"))return!1;if(!v("ngfSelectDisabled",t)){var i=d(n);if(null!=i)return i;g(n);try{c()||document.body.contains(b[0])||(a.push({el:e,ref:b.parent()}),document.body.appendChild(b.parent()[0]),b.bind("change",p))}catch(t){}return r(navigator.userAgent)?setTimeout(function(){b[0].click()},0):b[0].click(),!1}}),-1!==navigator.appVersion.indexOf("MSIE 10")&&b.bind("click",m),i&&i.$formatters.push(function(t){return null!=t&&0!==t.length||b.val()&&b.val(null),t}),t.$on("$destroy",function(){c()||b.parent().remove(),angular.forEach(y,function(t){t()})}),s(function(){for(var t=0;t<a.length;t++){var e=a[t];document.body.contains(e.el[0])||(a.splice(t,1),e.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(e,b,p)}var a=[];return{restrict:"AEC",require:"?ngModel",link:function(r,a,s,u){o(r,a,s,u,t,e,n,i)}}}]),function(){function t(t){return"img"===t.tagName.toLowerCase()?"image":"audio"===t.tagName.toLowerCase()?"audio":"video"===t.tagName.toLowerCase()?"video":/./}function e(e,n,i,r,o,a,s,u){function l(t){var a=e.attrGetter("ngfNoObjectUrl",o,i);e.dataUrl(t,a).finally(function(){n(function(){var e=(a?t.$ngfDataUrl:t.$ngfBlobUrl)||t.$ngfDataUrl;u?r.css("background-image","url('"+(e||"")+"')"):r.attr("src",e),e?r.removeClass("ng-hide"):r.addClass("ng-hide")})})}n(function(){var n=i.$watch(o[a],function(n){var c=s;if("ngfThumbnail"===a&&(c||(c={width:r[0].naturalWidth||r[0].clientWidth,height:r[0].naturalHeight||r[0].clientHeight}),0===c.width&&window.getComputedStyle)){var f=getComputedStyle(r[0]);f.width&&f.width.indexOf("px")>-1&&f.height&&f.height.indexOf("px")>-1&&(c={width:parseInt(f.width.slice(0,-2)),height:parseInt(f.height.slice(0,-2))})}if(angular.isString(n))return r.removeClass("ng-hide"),u?r.css("background-image","url('"+n+"')"):r.attr("src",n);!n||!n.type||0!==n.type.search(t(r[0]))||u&&0!==n.type.indexOf("image")?r.addClass("ng-hide"):c&&e.isResizeSupported()?(c.resizeIf=function(t,r){return e.attrGetter("ngfResizeIf",o,i,{$width:t,$height:r,$file:n})},e.resize(n,c).then(function(t){l(t)},function(t){throw t})):l(n)});i.$on("$destroy",function(){n()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(t,e,n){var i=t;return i.base64DataUrl=function(t){if(angular.isArray(t)){var e=n.defer(),r=0;return angular.forEach(t,function(n){i.dataUrl(n,!0).finally(function(){if(++r===t.length){var n=[];angular.forEach(t,function(t){n.push(t.$ngfDataUrl)}),e.resolve(n,t)}})}),e.promise}return i.dataUrl(t,!0)},i.dataUrl=function(t,r){if(!t)return i.emptyPromise(t,t);if(r&&null!=t.$ngfDataUrl||!r&&null!=t.$ngfBlobUrl)return i.emptyPromise(r?t.$ngfDataUrl:t.$ngfBlobUrl,t);var o=r?t.$$ngfDataUrlPromise:t.$$ngfBlobUrlPromise;if(o)return o;var a=n.defer();return e(function(){if(window.FileReader&&t&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||t.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||t.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!r){var o;try{o=n.createObjectURL(t)}catch(n){return void e(function(){t.$ngfBlobUrl="",a.reject()})}e(function(){if(t.$ngfBlobUrl=o,o){a.resolve(o,t),i.blobUrls=i.blobUrls||[],i.blobUrlsTotalSize=i.blobUrlsTotalSize||0,i.blobUrls.push({url:o,size:t.size}),i.blobUrlsTotalSize+=t.size||0;for(var e=i.defaults.blobUrlsMaxMemory||268435456,r=i.defaults.blobUrlsMaxQueueSize||200;(i.blobUrlsTotalSize>e||i.blobUrls.length>r)&&i.blobUrls.length>1;){var s=i.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),i.blobUrlsTotalSize-=s.size}}})}else{var s=new FileReader;s.onload=function(n){e(function(){t.$ngfDataUrl=n.target.result,a.resolve(n.target.result,t),e(function(){delete t.$ngfDataUrl},1e3)})},s.onerror=function(){e(function(){t.$ngfDataUrl="",a.reject()})},s.readAsDataURL(t)}}else e(function(){t[r?"$ngfDataUrl":"$ngfBlobUrl"]="",a.reject()})}),(o=r?t.$$ngfDataUrlPromise=a.promise:t.$$ngfBlobUrlPromise=a.promise).finally(function(){delete t[r?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),o},i}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(i,r,o){e(t,n,i,r,o,"ngfSrc",t.attrGetter("ngfResize",o,i),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(i,r,o){e(t,n,i,r,o,"ngfBackground",t.attrGetter("ngfResize",o,i),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(t,n){return{restrict:"AE",link:function(i,r,o){var a=t.attrGetter("ngfSize",o,i);e(t,n,i,r,o,"ngfThumbnail",a,t.attrGetter("ngfAsBackground",o,i))}}}]),ngFileUpload.config(["$compileProvider",function(t){t.imgSrcSanitizationWhitelist&&t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),t.aHrefSanitizationWhitelist&&t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(t,e){return function(n,i,r){if(angular.isString(n))return e.trustAsResourceUrl(n);var o=n&&((i?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,t.dataUrl(n,i)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?r?e.trustAsResourceUrl(o):o:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(t,e,n){function i(t){var e="",n=[];if(t.length>2&&"/"===t[0]&&"/"===t[t.length-1])e=t.substring(1,t.length-1);else{var r=t.split(",");if(r.length>1)for(var o=0;o<r.length;o++){var a=i(r[o]);a.regexp?(e+="("+a.regexp+")",o<r.length-1&&(e+="|")):n=n.concat(a.excludes)}else 0===t.indexOf("!")?n.push("^((?!"+i(t.substring(1)).regexp+").)*$"):(0===t.indexOf(".")&&(t="*"+t),e=(e="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$").replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:e,excludes:n}}function r(t,e){null==e||t.$dirty||(t.$setDirty?t.$setDirty():t.$dirty=!0)}var o=t;return o.validatePattern=function(t,e){if(!e)return!0;var n=i(e),r=!0;if(n.regexp&&n.regexp.length){var o=new RegExp(n.regexp,"i");r=null!=t.type&&o.test(t.type)||null!=t.name&&o.test(t.name)}for(var a=n.excludes.length;a--;){var s=new RegExp(n.excludes[a],"i");r=r&&(null==t.type||s.test(t.type))&&(null==t.name||s.test(t.name))}return r},o.ratioToFloat=function(t){var e=t.toString(),n=e.search(/[x:]/i);return e=n>-1?parseFloat(e.substring(0,n))/parseFloat(e.substring(n+1)):parseFloat(e)},o.registerModelChangeValidator=function(t,e,n){t&&t.$formatters.push(function(i){if(t.$dirty){var r=i;i&&!angular.isArray(i)&&(r=[i]),o.validate(r,0,t,e,n).then(function(){o.applyModelValidation(t,r)})}return i})},o.applyModelValidation=function(t,e){r(t,e),angular.forEach(t.$ngfValidations,function(e){t.$setValidity(e.name,e.valid)})},o.getValidationAttr=function(t,e,n,i,r){var a="ngf"+n[0].toUpperCase()+n.substr(1),s=o.attrGetter(a,t,e,{$file:r});if(null==s&&(s=o.attrGetter("ngfValidate",t,e,{$file:r}))){var u=(i||n).split(".");s=s[u[0]],u.length>1&&(s=s&&s[u[1]])}return s},o.validate=function(t,n,i,r,a){function s(e,n,s){if(t){for(var u=t.length,l=null;u--;){var h=t[u];if(h){var d=o.getValidationAttr(r,a,e,n,h);null!=d&&(s(h,d,u)||(-1===c.indexOf(e)?(h.$error=e,(h.$errorMessages=h.$errorMessages||{})[e]=!0,h.$errorParam=d,-1===p.indexOf(h)&&p.push(h),f||t.splice(u,1),l=!1):t.splice(u,1)))}}null!==l&&i.$ngfValidations.push({name:e,valid:l})}}function u(n,s,u,h,d){function g(e,i,r){function o(o){if(o())if(-1===c.indexOf(n)){if(i.$error=n,(i.$errorMessages=i.$errorMessages||{})[n]=!0,i.$errorParam=r,-1===p.indexOf(i)&&p.push(i),!f){var a=t.indexOf(i);a>-1&&t.splice(a,1)}e.resolve(!1)}else{var s=t.indexOf(i);s>-1&&t.splice(s,1),e.resolve(!0)}else e.resolve(!0)}null!=r?h(i,r).then(function(t){o(function(){return!d(t,r)})},function(){o(function(){return l("ngfValidateForce",{$file:i})})}):e.resolve(!0)}var m=[o.emptyPromise(!0)];t&&(t=void 0===t.length?[t]:t,angular.forEach(t,function(t){var i=e.defer();m.push(i.promise),!u||null!=t.type&&0===t.type.search(u)?"dimensions"===n&&null!=o.attrGetter("ngfDimensions",r)?o.imageDimensions(t).then(function(e){g(i,t,l("ngfDimensions",{$file:t,$width:e.width,$height:e.height}))},function(){i.resolve(!1)}):"duration"===n&&null!=o.attrGetter("ngfDuration",r)?o.mediaDuration(t).then(function(e){g(i,t,l("ngfDuration",{$file:t,$duration:e}))},function(){i.resolve(!1)}):g(i,t,o.getValidationAttr(r,a,n,s,t)):i.resolve(!0)}));var v=e.defer();return e.all(m).then(function(t){for(var e=!0,r=0;r<t.length;r++)if(!t[r]){e=!1;break}i.$ngfValidations.push({name:n,valid:e}),v.resolve(e)}),v.promise}(i=i||{}).$ngfValidations=i.$ngfValidations||[],angular.forEach(i.$ngfValidations,function(t){t.valid=!0});var l=function(t,e){return o.attrGetter(t,r,a,e)},c=(o.attrGetter("ngfIgnoreInvalid",r,a)||"").split(" "),f=o.attrGetter("ngfRunAllValidations",r,a);if(null==t||0===t.length)return o.emptyPromise({validFiles:t,invalidFiles:[]});t=void 0===t.length?[t]:t.slice(0);var p=[];s("pattern",null,o.validatePattern),s("minSize","size.min",function(t,e){return t.size+.1>=o.translateScalars(e)}),s("maxSize","size.max",function(t,e){return t.size-.1<=o.translateScalars(e)});var h=0;if(s("maxTotalSize",null,function(e,n){return!((h+=e.size)>o.translateScalars(n)&&(t.splice(0,t.length),1))}),s("validateFn",null,function(t,e){return!0===e||null===e||""===e}),!t.length)return o.emptyPromise({validFiles:[],invalidFiles:p});var d=e.defer(),g=[];return g.push(u("maxHeight","height.max",/image/,this.imageDimensions,function(t,e){return t.height<=e})),g.push(u("minHeight","height.min",/image/,this.imageDimensions,function(t,e){return t.height>=e})),g.push(u("maxWidth","width.max",/image/,this.imageDimensions,function(t,e){return t.width<=e})),g.push(u("minWidth","width.min",/image/,this.imageDimensions,function(t,e){return t.width>=e})),g.push(u("dimensions",null,/image/,function(t,e){return o.emptyPromise(e)},function(t){return t})),g.push(u("ratio",null,/image/,this.imageDimensions,function(t,e){for(var n=e.toString().split(","),i=!1,r=0;r<n.length;r++)Math.abs(t.width/t.height-o.ratioToFloat(n[r]))<.01&&(i=!0);return i})),g.push(u("maxRatio","ratio.max",/image/,this.imageDimensions,function(t,e){return t.width/t.height-o.ratioToFloat(e)<1e-4})),g.push(u("minRatio","ratio.min",/image/,this.imageDimensions,function(t,e){return t.width/t.height-o.ratioToFloat(e)>-1e-4})),g.push(u("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(t,e){return t<=o.translateScalars(e)})),g.push(u("minDuration","duration.min",/audio|video/,this.mediaDuration,function(t,e){return t>=o.translateScalars(e)})),g.push(u("duration",null,/audio|video/,function(t,e){return o.emptyPromise(e)},function(t){return t})),g.push(u("validateAsyncFn",null,null,function(t,e){return e},function(t){return!0===t||null===t||""===t})),e.all(g).then(function(){if(f)for(var e=0;e<t.length;e++)t[e].$error&&t.splice(e--,1);f=!1,s("maxFiles",null,function(t,e,i){return n+i<e}),d.resolve({validFiles:t,invalidFiles:p})}),d.promise},o.imageDimensions=function(t){if(t.$ngfWidth&&t.$ngfHeight){var i=e.defer();return n(function(){i.resolve({width:t.$ngfWidth,height:t.$ngfHeight})}),i.promise}if(t.$ngfDimensionPromise)return t.$ngfDimensionPromise;var r=e.defer();return n(function(){0===t.type.indexOf("image")?o.dataUrl(t).then(function(e){function i(){var e=s[0].naturalWidth||s[0].clientWidth,n=s[0].naturalHeight||s[0].clientHeight;s.remove(),t.$ngfWidth=e,t.$ngfHeight=n,r.resolve({width:e,height:n})}function o(){s.remove(),r.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].clientWidth?i():u++>10?o():a())},1e3)}var s=angular.element("<img>").attr("src",e).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",i),s.on("error",o);var u=0;a(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){r.reject("load error")}):r.reject("not image")}),t.$ngfDimensionPromise=r.promise,t.$ngfDimensionPromise.finally(function(){delete t.$ngfDimensionPromise}),t.$ngfDimensionPromise},o.mediaDuration=function(t){if(t.$ngfDuration){var i=e.defer();return n(function(){i.resolve(t.$ngfDuration)}),i.promise}if(t.$ngfDurationPromise)return t.$ngfDurationPromise;var r=e.defer();return n(function(){0===t.type.indexOf("audio")||0===t.type.indexOf("video")?o.dataUrl(t).then(function(e){function i(){var e=s[0].duration;t.$ngfDuration=e,s.remove(),r.resolve(e)}function o(){s.remove(),r.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].duration?i():u>10?o():a())},1e3)}var s=angular.element(0===t.type.indexOf("audio")?"<audio>":"<video>").attr("src",e).css("visibility","none").css("position","fixed");s.on("loadedmetadata",i),s.on("error",o);var u=0;a(),angular.element(document.body).append(s)},function(){r.reject("load error")}):r.reject("not media")}),t.$ngfDurationPromise=r.promise,t.$ngfDurationPromise.finally(function(){delete t.$ngfDurationPromise}),t.$ngfDurationPromise},o}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(t,e){var n=t,i=function(t,e,n,i,r){var o=r?Math.max(n/t,i/e):Math.min(n/t,i/e);return{width:t*o,height:e*o,marginX:t*o-n,marginY:e*o-i}},r=function(t,r,o,a,s,u,l,c){var f=e.defer(),p=document.createElement("canvas"),h=document.createElement("img");return h.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(h),h.onload=function(){var t=h.width,e=h.height;if(h.parentNode.removeChild(h),null==c||!1!==c(t,e))try{if(u){var d=n.ratioToFloat(u);t/e<d?o=(r=t)/d:r=(o=e)*d}r||(r=t),o||(o=e);var g=i(t,e,r,o,l);p.width=Math.min(g.width,r),p.height=Math.min(g.height,o),p.getContext("2d").drawImage(h,Math.min(0,-g.marginX/2),Math.min(0,-g.marginY/2),g.width,g.height),f.resolve(p.toDataURL(s||"image/WebP",a||.934))}catch(t){f.reject(t)}else f.reject("resizeIf")},h.onerror=function(){h.parentNode.removeChild(h),f.reject()},h.src=t,f.promise};return n.dataUrltoBlob=function(t,e,n){for(var i=t.split(","),r=i[0].match(/:(.*?);/)[1],o=atob(i[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var u=new window.Blob([s],{type:r});return u.name=e,u.$ngfOrigSize=n,u},n.isResizeSupported=function(){var t=document.createElement("canvas");return window.atob&&t.getContext&&t.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(t){this.$ngfName=t},configurable:!0}),n.resize=function(t,i){if(0!==t.type.indexOf("image"))return n.emptyPromise(t);var o=e.defer();return n.dataUrl(t,!0).then(function(e){r(e,i.width,i.height,i.quality,i.type||t.type,i.ratio,i.centerCrop,i.resizeIf).then(function(r){if("image/jpeg"===t.type&&!1!==i.restoreExif)try{r=n.restoreExif(e,r)}catch(t){setTimeout(function(){throw t},1)}try{var a=n.dataUrltoBlob(r,t.name,t.size);o.resolve(a)}catch(t){o.reject(t)}},function(e){"resizeIf"===e&&o.resolve(t),o.reject(e)})},function(t){o.reject(t)}),o.promise},n}]),function(){function t(t,n,i,r,o,a,s,u,l,c){function f(){return n.attr("disabled")||y("ngfDropDisabled",t)}function p(e,n,i){if(e){var r;try{r=e&&e.getData&&e.getData("text/html")}catch(t){}m(e.items,e.files,!1!==y("ngfAllowDir",t),y("multiple")||y("ngfMultiple",t)).then(function(t){t.length?h(t,n):d(i,r).then(function(t){h(t,n)})})}}function h(e,n){u.updateModel(r,i,t,y("ngfChange")||y("ngfDrop"),e,n)}function d(e,n){if(!u.shouldUpdateOn(e,i,t)||"string"!=typeof n)return u.rejectPromise([]);var r=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(t,e,n){r.push(n)});var o=[],a=[];if(r.length){angular.forEach(r,function(t){o.push(u.urlToBlob(t).then(function(t){a.push(t)}))});var s=c.defer();return c.all(o).then(function(){s.resolve(a)},function(t){s.reject(t)}),s.promise}return u.emptyPromise()}function g(t,e,n,i){var r=y("ngfDragOverClass",t,{$event:n}),o="dragover";if(angular.isString(r))o=r;else if(r&&(r.delay&&($=r.delay),r.accept||r.reject)){var a=n.dataTransfer.items;if(null!=a&&a.length)for(var s=r.pattern||y("ngfPattern",t,{$event:n}),l=a.length;l--;){if(!u.validatePattern(a[l],s)){o=r.reject;break}o=r.accept}else o=r.accept}i(o)}function m(e,n,r,o){function a(t,e){var n=c.defer();if(null!=t)if(t.isDirectory){var i=[u.emptyPromise()];if(p){var r={type:"directory"};r.name=r.path=(e||"")+t.name,h.push(r)}var o=t.createReader(),s=[],g=function(){o.readEntries(function(r){try{r.length?(s=s.concat(Array.prototype.slice.call(r||[],0)),g()):(angular.forEach(s.slice(0),function(n){h.length<=l&&d<=f&&i.push(a(n,(e||"")+t.name+"/"))}),c.all(i).then(function(){n.resolve()},function(t){n.reject(t)}))}catch(t){n.reject(t)}},function(t){n.reject(t)})};g()}else t.file(function(t){try{t.path=(e||"")+t.name,p&&(t=u.rename(t,t.path)),h.push(t),d+=t.size,n.resolve()}catch(t){n.reject(t)}},function(t){n.reject(t)});return n.promise}var l=u.getValidationAttr(i,t,"maxFiles");null==l&&(l=Number.MAX_VALUE);var f=u.getValidationAttr(i,t,"maxTotalSize");null==f&&(f=Number.MAX_VALUE);var p=y("ngfIncludeDir",t),h=[],d=0,g=[u.emptyPromise()];if(e&&e.length>0&&"file:"!==s.location.protocol)for(var m=0;m<e.length;m++){if(e[m].webkitGetAsEntry&&e[m].webkitGetAsEntry()&&e[m].webkitGetAsEntry().isDirectory){var v=e[m].webkitGetAsEntry();if(v.isDirectory&&!r)continue;null!=v&&g.push(a(v))}else{var w=e[m].getAsFile();null!=w&&(h.push(w),d+=w.size)}if(h.length>l||d>f||!o&&h.length>0)break}else if(null!=n)for(var _=0;_<n.length;_++){var b=n.item(_);if((b.type||b.size>0)&&(h.push(b),d+=b.size),h.length>l||d>f||!o&&h.length>0)break}var $=c.defer();return c.all(g).then(function(){if(o||p||!h.length)$.resolve(h);else{for(var t=0;h[t]&&"directory"===h[t].type;)t++;$.resolve([h[t]])}},function(t){$.reject(t)}),$.promise}var v=e(),y=function(t,e,n){return u.attrGetter(t,i,e,n)};if(y("dropAvailable")&&a(function(){t[y("dropAvailable")]?t[y("dropAvailable")].value=v:t[y("dropAvailable")]=v}),v){null==y("ngfSelect")&&u.registerModelChangeValidator(r,i,t);var w,_=null,b=o(y("ngfStopPropagation")),$=1;n[0].addEventListener("dragover",function(e){if(!f()&&u.shouldUpdateOn("drop",i,t)){if(e.preventDefault(),b(t)&&e.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var r=e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy"}a.cancel(_),w||(w="C",g(t,i,e,function(i){w=i,n.addClass(w),y("ngfDrag",t,{$isDragging:!0,$class:w,$event:e})}))}},!1),n[0].addEventListener("dragenter",function(e){!f()&&u.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),b(t)&&e.stopPropagation())},!1),n[0].addEventListener("dragleave",function(e){!f()&&u.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),b(t)&&e.stopPropagation(),_=a(function(){w&&n.removeClass(w),w=null,y("ngfDrag",t,{$isDragging:!1,$event:e})},$||100))},!1),n[0].addEventListener("drop",function(e){!f()&&u.shouldUpdateOn("drop",i,t)&&(e.preventDefault(),b(t)&&e.stopPropagation(),w&&n.removeClass(w),w=null,p(e.dataTransfer,e,"dropUrl"))},!1),n[0].addEventListener("paste",function(e){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&y("ngfEnableFirefoxPaste",t)&&e.preventDefault(),!f()&&u.shouldUpdateOn("paste",i,t)&&p(e.clipboardData||e.originalEvent.clipboardData,e,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&y("ngfEnableFirefoxPaste",t)&&(n.attr("contenteditable",!0),n.on("keypress",function(t){t.metaKey||t.ctrlKey||t.preventDefault()}))}else!0===y("ngfHideOnDropNotAvailable",t)&&n.css("display","none")}function e(){var t=document.createElement("div");return"draggable"in t&&"ondrop"in t&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(e,n,i,r,o,a){return{restrict:"AEC",require:"?ngModel",link:function(s,u,l,c){t(s,u,l,c,e,n,i,r,o,a)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(t,n){e()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(t,n,i){return function(r,o,a){if(e()){var s=t(i.attrGetter("ngfDropAvailable",a));n(function(){s(r),s.assign&&s.assign(r,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(t,e){function n(t,e,n,i){switch(e){case 2:return t.transform(-1,0,0,1,n,0);case 3:return t.transform(-1,0,0,-1,n,i);case 4:return t.transform(1,0,0,-1,0,i);case 5:return t.transform(0,1,1,0,0,0);case 6:return t.transform(0,1,-1,0,i,0);case 7:return t.transform(0,-1,-1,0,i,n);case 8:return t.transform(0,-1,1,0,0,n)}}function i(t){for(var e="",n=new Uint8Array(t),i=n.byteLength,r=0;r<i;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)}var r=t;return r.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&r.isResizeSupported()},r.readOrientation=function(t){var n=e.defer(),i=new FileReader,r=t.slice?t.slice(0,65536):t;return i.readAsArrayBuffer(r),i.onerror=function(t){return n.reject(t)},i.onload=function(t){var e={orientation:1},i=new DataView(this.result);if(65496!==i.getUint16(0,!1))return n.resolve(e);for(var r=i.byteLength,o=2;o<r;){var a=i.getUint16(o,!1);if(o+=2,65505===a){if(1165519206!==i.getUint32(o+=2,!1))return n.resolve(e);var s=18761===i.getUint16(o+=6,!1);o+=i.getUint32(o+4,s);var u=i.getUint16(o,s);o+=2;for(var l=0;l<u;l++)if(274===i.getUint16(o+12*l,s)){var c=i.getUint16(o+12*l+8,s);return c>=2&&c<=8&&(i.setUint16(o+12*l+8,1,s),e.fixedArrayBuffer=t.target.result),e.orientation=c,n.resolve(e)}}else{if(65280!=(65280&a))break;o+=i.getUint16(o,!1)}}return n.resolve(e)},n.promise},r.applyExifRotation=function(t){if(0!==t.type.indexOf("image/jpeg"))return r.emptyPromise(t);var o=e.defer();return r.readOrientation(t).then(function(e){if(e.orientation<2||e.orientation>8)return o.resolve(t);r.dataUrl(t,!0).then(function(a){var s=document.createElement("canvas"),u=document.createElement("img");u.onload=function(){try{s.width=e.orientation>4?u.height:u.width,s.height=e.orientation>4?u.width:u.height;var a=s.getContext("2d");n(a,e.orientation,u.width,u.height),a.drawImage(u,0,0);var l=s.toDataURL(t.type||"image/WebP",.934);l=r.restoreExif(i(e.fixedArrayBuffer),l);var c=r.dataUrltoBlob(l,t.name);o.resolve(c)}catch(t){return o.reject(t)}},u.onerror=function(){o.reject()},u.src=a},function(t){o.reject(t)})},function(t){o.reject(t)}),o.promise},r.restoreExif=function(t,e){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(t){var e,n,i,r,o,a="",s="",u="",l=0;do{i=(e=t[l++])>>2,r=(3&e)<<4|(n=t[l++])>>4,o=(15&n)<<2|(s=t[l++])>>6,u=63&s,isNaN(n)?o=u=64:isNaN(s)&&(u=64),a=a+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(u),e=n=s="",i=r=o=u=""}while(l<t.length);return a},n.restore=function(t,e){t.match("data:image/jpeg;base64,")&&(t=t.replace("data:image/jpeg;base64,",""));var n=this.decode64(t),i=this.slice2Segments(n),r=this.exifManipulation(e,i);return"data:image/jpeg;base64,"+this.encode64(r)},n.exifManipulation=function(t,e){var n=this.getExifArray(e),i=this.insertExif(t,n);return new Uint8Array(i)},n.getExifArray=function(t){for(var e,n=0;n<t.length;n++)if(255===(e=t[n])[0]&225===e[1])return e;return[]},n.insertExif=function(t,e){var n=t.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),a=i.slice(r),s=o;return s=s.concat(e),s=s.concat(a)},n.slice2Segments=function(t){for(var e=0,n=[];;){if(255===t[e]&218===t[e+1])break;if(255===t[e]&216===t[e+1])e+=2;else{var i=e+(256*t[e+2]+t[e+3])+2,r=t.slice(e,i);n.push(r),e=i}if(e>t.length)break}return n},n.decode64=function(t){var e,n,i,r,o="",a="",s=0,u=[];/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{e=this.KEY_STR.indexOf(t.charAt(s++))<<2|(i=this.KEY_STR.indexOf(t.charAt(s++)))>>4,n=(15&i)<<4|(r=this.KEY_STR.indexOf(t.charAt(s++)))>>2,o=(3&r)<<6|(a=this.KEY_STR.indexOf(t.charAt(s++))),u.push(e),64!==r&&u.push(n),64!==a&&u.push(o),e=n=o="",i=r=a=""}while(s<t.length);return u},n.restore(t,e)},r}]),function(t,e){if("function"==typeof define&&define.amd)define(["module","exports","angular","ws"],e);else if("undefined"!=typeof exports)e(module,exports,require("angular"),require("ws"));else{var n={exports:{}};e(n,n.exports,t.angular,t.ws),t.angularWebsocket=n.exports}}(this,function(t,e,n,i){"use strict";function r(t,e,n,i){function r(e,n,i){i||!g(n)||m(n)||(i=n,n=void 0),this.protocols=n,this.url=e||"Missing URL",this.ssl=/(wss)/i.test(this.url),this.scope=i&&i.scope||t,this.rootScopeFailover=i&&i.rootScopeFailover&&!0,this.useApplyAsync=i&&i.useApplyAsync||!1,this.initialTimeout=i&&i.initialTimeout||500,this.maxTimeout=i&&i.maxTimeout||3e5,this.reconnectIfNotNormalClose=i&&i.reconnectIfNotNormalClose||!1,this.binaryType=i&&i.binaryType||"blob",this._reconnectAttempts=0,this.sendQueue=[],this.onOpenCallbacks=[],this.onMessageCallbacks=[],this.onErrorCallbacks=[],this.onCloseCallbacks=[],c(this._readyStateConstants),e?this._connect():this._setInternalState(0)}return r.prototype._readyStateConstants={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3,RECONNECT_ABORTED:4},r.prototype._normalCloseCode=1e3,r.prototype._reconnectableStatusCodes=[4e3],r.prototype.safeDigest=function(t){t&&!this.scope.$$phase&&this.scope.$digest()},r.prototype.bindToScope=function(e){var n=this;return e&&(this.scope=e,this.rootScopeFailover&&this.scope.$on("$destroy",function(){n.scope=t})),n},r.prototype._connect=function(t){!t&&this.socket&&this.socket.readyState===this._readyStateConstants.OPEN||(this.socket=i.create(this.url,this.protocols),this.socket.onmessage=s.default.bind(this,this._onMessageHandler),this.socket.onopen=s.default.bind(this,this._onOpenHandler),this.socket.onerror=s.default.bind(this,this._onErrorHandler),this.socket.onclose=s.default.bind(this,this._onCloseHandler),this.socket.binaryType=this.binaryType)},r.prototype.fireQueue=function(){for(;this.sendQueue.length&&this.socket.readyState===this._readyStateConstants.OPEN;){var t=this.sendQueue.shift();this.socket.send(p(t.message)||"blob"!=this.binaryType?t.message:JSON.stringify(t.message)),t.deferred.resolve()}},r.prototype.notifyOpenCallbacks=function(t){for(var e=0;e<this.onOpenCallbacks.length;e++)this.onOpenCallbacks[e].call(this,t)},r.prototype.notifyCloseCallbacks=function(t){for(var e=0;e<this.onCloseCallbacks.length;e++)this.onCloseCallbacks[e].call(this,t)},r.prototype.notifyErrorCallbacks=function(t){for(var e=0;e<this.onErrorCallbacks.length;e++)this.onErrorCallbacks[e].call(this,t)},r.prototype.onOpen=function(t){return this.onOpenCallbacks.push(t),this},r.prototype.onClose=function(t){return this.onCloseCallbacks.push(t),this},r.prototype.onError=function(t){return this.onErrorCallbacks.push(t),this},r.prototype.onMessage=function(t,e){if(!h(t))throw new Error("Callback must be a function");if(e&&d(e.filter)&&!p(e.filter)&&!(e.filter instanceof RegExp))throw new Error("Pattern must be a string or regular expression");return this.onMessageCallbacks.push({fn:t,pattern:e?e.filter:void 0,autoApply:!e||e.autoApply}),this},r.prototype._onOpenHandler=function(t){this._reconnectAttempts=0,this.notifyOpenCallbacks(t),this.fireQueue()},r.prototype._onCloseHandler=function(t){var e=this;e.useApplyAsync?e.scope.$applyAsync(function(){e.notifyCloseCallbacks(t)}):(e.notifyCloseCallbacks(t),e.safeDigest(!0)),(this.reconnectIfNotNormalClose&&t.code!==this._normalCloseCode||this._reconnectableStatusCodes.indexOf(t.code)>-1)&&this.reconnect()},r.prototype._onErrorHandler=function(t){var e=this;e.useApplyAsync?e.scope.$applyAsync(function(){e.notifyErrorCallbacks(t)}):(e.notifyErrorCallbacks(t),e.safeDigest(!0))},r.prototype._onMessageHandler=function(t){function e(t,e,n){n=y.call(arguments,2),r.useApplyAsync?r.scope.$applyAsync(function(){t.apply(r,n)}):(t.apply(r,n),r.safeDigest(e))}for(var n,i,r=this,o=0;o<r.onMessageCallbacks.length;o++)(n=(i=r.onMessageCallbacks[o]).pattern)?p(n)&&t.data===n?e(i.fn,i.autoApply,t):n instanceof RegExp&&n.exec(t.data)&&e(i.fn,i.autoApply,t):e(i.fn,i.autoApply,t)},r.prototype.close=function(t){return!t&&this.socket.bufferedAmount||this.socket.close(),this},r.prototype.send=function(t){function n(t){t.cancel=r;var e=t.then;return t.then=function(){return n(e.apply(this,arguments))},t}function r(e){return a.sendQueue.splice(a.sendQueue.indexOf(t),1),o.reject(e),a}var o=e.defer(),a=this,s=n(o.promise);return a.readyState===a._readyStateConstants.RECONNECT_ABORTED?o.reject("Socket connection has been closed"):(a.sendQueue.push({message:t,deferred:o}),a.fireQueue()),i.isMocked&&i.isMocked()&&i.isConnected(this.url)&&this._onMessageHandler(i.mockSend()),s},r.prototype.reconnect=function(){this.close();var t=this._getBackoffDelay(++this._reconnectAttempts),e=t/1e3;return console.log("Reconnecting in "+e+" seconds"),n(s.default.bind(this,this._connect),t),this},r.prototype._getBackoffDelay=function(t){var e=Math.random()+1,n=this.initialTimeout,i=t,r=this.maxTimeout;return Math.floor(Math.min(e*n*Math.pow(2,i),r))},r.prototype._setInternalState=function(t){if(Math.floor(t)!==t||t<0||t>4)throw new Error("state must be an integer between 0 and 4, got: "+t);f||(this.readyState=t||this.socket.readyState),this._internalConnectionState=t,v(this.sendQueue,function(t){t.deferred.reject("Message cancelled due to closed socket connection")})},f&&f(r.prototype,"readyState",{get:function(){return this._internalConnectionState||this.socket.readyState},set:function(){throw new Error("The readyState property is read-only")}}),function(t,e,n){return new r(t,e,n)}}function o(t){this.create=function(t,e){if(!/wss?:\/\//.exec(t))throw new Error("Invalid url provided");return e?new a(t,e):new a(t)},this.createWebSocketBackend=function(e,n){return t.warn("Deprecated: Please use .create(url, protocols)"),this.create(e,n)}}Object.defineProperty(e,"__esModule",{value:!0});var a,s=function(t){return t&&t.__esModule?t:{default:t}}(n),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};if("object"===(void 0===e?"undefined":u(e))&&"function"==typeof require)try{a=i.Client||i.client||i}catch(t){}a=a||window.WebSocket||window.MozWebSocket;var l=s.default.noop,c=Object.freeze?Object.freeze:l,f=Object.defineProperty,p=s.default.isString,h=s.default.isFunction,d=s.default.isDefined,g=s.default.isObject,m=s.default.isArray,v=s.default.forEach,y=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=e);n<e;n++)if(n in this&&this[n]===t)return n;return-1}),s.default.module("ngWebSocket",[]).factory("$websocket",["$rootScope","$q","$timeout","$websocketBackend",r]).factory("WebSocket",["$rootScope","$q","$timeout","WebsocketBackend",r]).service("$websocketBackend",["$log",o]).service("WebSocketBackend",["$log",o]),s.default.module("angular-websocket",["ngWebSocket"]),e.default=s.default.module("ngWebSocket"),t.exports=e.default}),function(){var t="RandExp",e=function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n||t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){function i(t){return t+(97<=t&&t<=122?-32:65<=t&&t<=90?32:0)}function r(){return!this.randInt(0,1)}function o(t){return t instanceof c?t.index(this.randInt(0,t.length-1)):t[this.randInt(0,t.length-1)]}function a(t){if(t.type===l.types.CHAR)return new c(t.value);if(t.type===l.types.RANGE)return new c(t.from,t.to);for(var e=new c,n=0;n<t.set.length;n++){var r=a.call(this,t.set[n]);if(e.add(r),this.ignoreCase)for(var o=0;o<r.length;o++){var s=r.index(o),u=i(s);s!==u&&e.add(u)}}return t.not?this.defaultRange.clone().subtract(e):e}function s(t,e){"number"==typeof e.max&&(t.max=e.max),e.defaultRange instanceof c&&(t.defaultRange=e.defaultRange),"function"==typeof e.randInt&&(t.randInt=e.randInt)}function u(t,e){var n,s,l,c,p;switch(t.type){case f.ROOT:case f.GROUP:if(t.followedBy||t.notFollowedBy)return"";for(t.remember&&void 0===t.groupNumber&&(t.groupNumber=e.push(null)-1),s="",c=0,p=(n=t.options?o.call(this,t.options):t.stack).length;c<p;c++)s+=u.call(this,n[c],e);return t.remember&&(e[t.groupNumber]=s),s;case f.POSITION:return"";case f.SET:var h=a.call(this,t);return h.length?String.fromCharCode(o.call(this,h)):"";case f.REPETITION:for(l=this.randInt(t.min,t.max===1/0?t.min+this.max:t.max),s="",c=0;c<l;c++)s+=u.call(this,t.value,e);return s;case f.REFERENCE:return e[t.value-1]||"";case f.CHAR:var d=this.ignoreCase&&r.call(this)?i(t.value):t.value;return String.fromCharCode(d)}}var l=t("ret"),c=t("discontinuous-range"),f=l.types,p=e.exports=function(t,e){if(this.defaultRange=this.defaultRange.clone(),t instanceof RegExp)this.ignoreCase=t.ignoreCase,this.multiline=t.multiline,s(this,t),t=t.source;else{if("string"!=typeof t)throw new Error("Expected a regexp or string");this.ignoreCase=e&&-1!==e.indexOf("i"),this.multiline=e&&-1!==e.indexOf("m")}this.tokens=l(t)};p.prototype.max=100,p.prototype.gen=function(){return u.call(this,this.tokens,[])},p.randexp=function(t,e){var n;return void 0===t._randexp?(n=new p(t,e),t._randexp=n):n=t._randexp,s(n,t),n.gen()},p.sugar=function(){RegExp.prototype.gen=function(){return p.randexp(this)}},p.prototype.defaultRange=new c(32,126),p.prototype.randInt=function(t,e){return t+Math.floor(Math.random()*(1+e-t))}},{"discontinuous-range":2,ret:3}],2:[function(t,e,n){function i(t,e){this.low=t,this.high=e,this.length=1+e-t}function r(t,e){return this instanceof r?(this.ranges=[],this.length=0,void(void 0!==t&&this.add(t,e))):new r(t,e)}function o(t){t.length=t.ranges.reduce(function(t,e){return t+e.length},0)}i.prototype.overlaps=function(t){return!(this.high<t.low||this.low>t.high)},i.prototype.touches=function(t){return!(this.high+1<t.low||this.low-1>t.high)},i.prototype.add=function(t){return this.touches(t)&&new i(Math.min(this.low,t.low),Math.max(this.high,t.high))},i.prototype.subtract=function(t){return!!this.overlaps(t)&&(t.low<=this.low&&t.high>=this.high?[]:t.low>this.low&&t.high<this.high?[new i(this.low,t.low-1),new i(t.high+1,this.high)]:t.low<=this.low?[new i(t.high+1,this.high)]:[new i(this.low,t.low-1)])},i.prototype.toString=function(){return this.low==this.high?this.low.toString():this.low+"-"+this.high},i.prototype.clone=function(){return new i(this.low,this.high)},r.prototype.add=function(t,e){function n(t){for(var e=[],n=0;n<a.ranges.length&&!t.touches(a.ranges[n]);)e.push(a.ranges[n].clone()),n++;for(;n<a.ranges.length&&t.touches(a.ranges[n]);)t=t.add(a.ranges[n]),n++;for(e.push(t);n<a.ranges.length;)e.push(a.ranges[n].clone()),n++;a.ranges=e,o(a)}var a=this;return t instanceof r?t.ranges.forEach(n):t instanceof i?n(t):(void 0===e&&(e=t),n(new i(t,e))),this},r.prototype.subtract=function(t,e){function n(t){for(var e=[],n=0;n<a.ranges.length&&!t.overlaps(a.ranges[n]);)e.push(a.ranges[n].clone()),n++;for(;n<a.ranges.length&&t.overlaps(a.ranges[n]);)e=e.concat(a.ranges[n].subtract(t)),n++;for(;n<a.ranges.length;)e.push(a.ranges[n].clone()),n++;a.ranges=e,o(a)}var a=this;return t instanceof r?t.ranges.forEach(n):t instanceof i?n(t):(void 0===e&&(e=t),n(new i(t,e))),this},r.prototype.index=function(t){for(var e=0;e<this.ranges.length&&this.ranges[e].length<=t;)t-=this.ranges[e].length,e++;return e>=this.ranges.length?null:this.ranges[e].low+t},r.prototype.toString=function(){return"[ "+this.ranges.join(", ")+" ]"},r.prototype.clone=function(){return new r(this)},e.exports=r},{}],3:[function(t,e,n){var i=t("./util"),r=t("./types"),o=t("./sets"),a=t("./positions");e.exports=function(t){var e,n,s=0,u={type:r.ROOT,stack:[]},l=u,c=u.stack,f=[],p=function(e){i.error(t,"Nothing to repeat at column "+(e-1))},h=i.strToChars(t);for(e=h.length;s<e;)switch(n=h[s++]){case"\\":switch(n=h[s++]){case"b":c.push(a.wordBoundary());break;case"B":c.push(a.nonWordBoundary());break;case"w":c.push(o.words());break;case"W":c.push(o.notWords());break;case"d":c.push(o.ints());break;case"D":c.push(o.notInts());break;case"s":c.push(o.whitespace());break;case"S":c.push(o.notWhitespace());break;default:/\d/.test(n)?c.push({type:r.REFERENCE,value:parseInt(n,10)}):c.push({type:r.CHAR,value:n.charCodeAt(0)})}break;case"^":c.push(a.begin());break;case"$":c.push(a.end());break;case"[":var d;"^"===h[s]?(d=!0,s++):d=!1;var g=i.tokenizeClass(h.slice(s),t);s+=g[1],c.push({type:r.SET,set:g[0],not:d});break;case".":c.push(o.anyChar());break;case"(":var m={type:r.GROUP,stack:[],remember:!0};"?"===(n=h[s])&&(n=h[s+1],s+=2,"="===n?m.followedBy=!0:"!"===n?m.notFollowedBy=!0:":"!==n&&i.error(t,"Invalid group, character '"+n+"' after '?' at column "+(s-1)),m.remember=!1),c.push(m),f.push(l),l=m,c=m.stack;break;case")":0===f.length&&i.error(t,"Unmatched ) at column "+(s-1)),c=(l=f.pop()).options?l.options[l.options.length-1]:l.stack;break;case"|":l.options||(l.options=[l.stack],delete l.stack);var v=[];l.options.push(v),c=v;break;case"{":var y,w,_=/^(\d+)(,(\d+)?)?\}/.exec(h.slice(s));null!==_?(0===c.length&&p(s),y=parseInt(_[1],10),w=_[2]?_[3]?parseInt(_[3],10):1/0:y,s+=_[0].length,c.push({type:r.REPETITION,min:y,max:w,value:c.pop()})):c.push({type:r.CHAR,value:123});break;case"?":0===c.length&&p(s),c.push({type:r.REPETITION,min:0,max:1,value:c.pop()});break;case"+":0===c.length&&p(s),c.push({type:r.REPETITION,min:1,max:1/0,value:c.pop()});break;case"*":0===c.length&&p(s),c.push({type:r.REPETITION,min:0,max:1/0,value:c.pop()});break;default:c.push({type:r.CHAR,value:n.charCodeAt(0)})}return 0!==f.length&&i.error(t,"Unterminated group"),u},e.exports.types=r},{"./positions":4,"./sets":5,"./types":6,"./util":7}],4:[function(t,e,n){var i=t("./types");n.wordBoundary=function(){return{type:i.POSITION,value:"b"}},n.nonWordBoundary=function(){return{type:i.POSITION,value:"B"}},n.begin=function(){return{type:i.POSITION,value:"^"}},n.end=function(){return{type:i.POSITION,value:"$"}}},{"./types":6}],5:[function(t,e,n){var i=t("./types"),r=function(){return[{type:i.RANGE,from:48,to:57}]},o=function(){return[{type:i.CHAR,value:95},{type:i.RANGE,from:97,to:122},{type:i.RANGE,from:65,to:90}].concat(r())},a=function(){return[{type:i.CHAR,value:9},{type:i.CHAR,value:10},{type:i.CHAR,value:11},{type:i.CHAR,value:12},{type:i.CHAR,value:13},{type:i.CHAR,value:32},{type:i.CHAR,value:160},{type:i.CHAR,value:5760},{type:i.CHAR,value:6158},{type:i.CHAR,value:8192},{type:i.CHAR,value:8193},{type:i.CHAR,value:8194},{type:i.CHAR,value:8195},{type:i.CHAR,value:8196},{type:i.CHAR,value:8197},{type:i.CHAR,value:8198},{type:i.CHAR,value:8199},{type:i.CHAR,value:8200},{type:i.CHAR,value:8201},{type:i.CHAR,value:8202},{type:i.CHAR,value:8232},{type:i.CHAR,value:8233},{type:i.CHAR,value:8239},{type:i.CHAR,value:8287},{type:i.CHAR,value:12288},{type:i.CHAR,value:65279}]},s=function(){return[{type:i.CHAR,value:10},{type:i.CHAR,value:13},{type:i.CHAR,value:8232},{type:i.CHAR,value:8233}]};n.words=function(){return{type:i.SET,set:o(),not:!1}},n.notWords=function(){return{type:i.SET,set:o(),not:!0}},n.ints=function(){return{type:i.SET,set:r(),not:!1}},n.notInts=function(){return{type:i.SET,set:r(),not:!0}},n.whitespace=function(){return{type:i.SET,set:a(),not:!1}},n.notWhitespace=function(){return{type:i.SET,set:a(),not:!0}},n.anyChar=function(){return{type:i.SET,set:s(),not:!0}}},{"./types":6}],6:[function(t,e,n){e.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}},{}],7:[function(t,e,n){var i=t("./types"),r=t("./sets"),o={0:0,t:9,n:10,v:11,f:12,r:13};n.strToChars=function(t){var e=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z\[\\\]\^?])|([0tnvfr]))/g;return t=t.replace(e,function(t,e,n,i,r,a,s,u){if(n)return t;var l=e?8:i?parseInt(i,16):r?parseInt(r,16):a?parseInt(a,8):s?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(s):o[u],c=String.fromCharCode(l);return/[\[\]{}\^$.|?*+()]/.test(c)&&(c="\\"+c),c})},n.tokenizeClass=function(t,e){for(var o,a,s=[],u=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?(.)/g;null!=(o=u.exec(t));)if(o[1])s.push(r.words());else if(o[2])s.push(r.ints());else if(o[3])s.push(r.whitespace());else if(o[4])s.push(r.notWords());else if(o[5])s.push(r.notInts());else if(o[6])s.push(r.notWhitespace());else if(o[7])s.push({type:i.RANGE,from:(o[8]||o[9]).charCodeAt(0),to:o[10].charCodeAt(0)});else{if(!(a=o[12]))return[s,u.lastIndex];s.push({type:i.CHAR,value:a.charCodeAt(0)})}n.error(e,"Unterminated character class")},n.error=function(t,e){throw new SyntaxError("Invalid regular expression: /"+t+"/: "+e)}},{"./sets":5,"./types":6}]},{},[1])(1);"function"==typeof define&&"object"==typeof define.amd?define(t,function(){return e}):"undefined"!=typeof window&&(window[t]=e)}(),angular.module("SER.utils",[]);var KEYS={up:38,down:40,left:37,right:39,escape:27,enter:13,backspace:8,delete:46,shift:16,leftCmd:91,rightCmd:93,ctrl:17,alt:18,tab:9};if(window.onbeforeprint=function(){console.log("Functionality to run before printing: ",window.location.href)},window.onafterprint=function(){console.log("Functionality to run after printing: ",window.location.href)},window.matchMedia){var mediaQueryList=window.matchMedia("print");mediaQueryList.addListener(function(t){t.matches?window.onbeforeprint():window.onafterprint()})}angular.module("SER.auth",[]),angular.module("SER.auth").value("userPermissions",[]),angular.module("SER.auth").value("isSuperuser",!1),angular.module("SER.auth").value("url403",""),angular.module("SER.auth").service("permissionService",["userPermissions","isSuperuser",function(t,e){return{hasPermission:function(n){return!!e||!notValue(n)&&-1!==t.indexOf(n)},atLeastPermissions:function(n){if(e)return!0;if(hasValue(n)){for(var i=0;i<n.length;i++)if(inArray(n[i],t))return!0;return!1}return!0},hasPermissions:function(n){if(e)return!0;for(var i=0;i<n.length;i++)if(notInArray(n[i],t))return!1;return!0}}}]),angular.module("SER.search",[]),angular.module("SER.search").directive("serAutocomplete",["$http","$compile","$document",function(t,e,n){return{restrict:"E",scope:{remoteUrl:"=",keyword:"=?",keywordField:"@",placeholder:"=?",disabled:"=?",selectItem:"&?"},controller:["$scope",function(e){notValue(e.placeholder)&&(e.placeholder=__("search")+"..."),e.results=[],e.focus=!1,e.blur=!0,e.isFetching=!1,e.showResults=!1,e.searchFocus=function(){e.focus=!0,e.showResults=!0,e.blur=!1,n.bind("click",e.checkFocus)},e.searchBlur=function(){e.focus=!1,e.blur=!0},e.selectInternalItem=function(t){angular.isFunction(e.selectItem)&&e.selectItem({newValue:t}),hasValue(e.keywordField)&&(e.keyword=t[e.keywordField]),e.showResults=!1},e.fetch=function(){e.isFetching=!0,e.showResults=!1,e.keyword?t.get(e.remoteUrl+e.keyword).then(function(t){e.results=t.data,e.isFetching=!1,e.showResults=!0}):(e.isFetching=!1,e.showResults=!0,e.results=[])}}],link:function(t,e){var i;t.checkFocus=function(){var i=e[0].contains(event.target),r=e[0]==event.target;i||r||t.$apply(function(){t.showResults=!1,n.unbind("click",t.checkFocus)})},e.on("keyup",function(e){i&&clearTimeout(i),i=setTimeout(function(){t.$apply(function(){t.fetch()})},500)})},template:function(t,e){return'<div class="ser-autocomplete-wrapper" ng-class="{focus: focus, blur: blur}"><div class="input-group">'+function(){var e=t.find("addon").detach();return e.length?'<span class="addon">'+e.html()+"</span>":""}()+'<input placeholder="{{placeholder}}" ng-model="keyword" ng-disabled="disabled" ng-focus="searchFocus()" ng-blur="searchBlur()" /></div><div class="fetching line-loader" ng-show="isFetching"></div><div class="results" ng-show="showResults"><div class="item" ng-repeat="item in results" ng-click="selectInternalItem(item)">'+function(){var e=t.find("ser-item-template").detach();return e.length?e.html():t.html()}()+'</div><div class="not-results" ng-if="(results.length == 0) && keyword">'+function(){var e=t.find("ser-empty-template").detach();return e.length?e.html():'<div class="align-center">'+__("no_results")+"</div>"}()+"</div></div></div>"}}}]),angular.module("SER.datepicker",[]),angular.module("SER.datepicker").directive("serDate",["$filter",function(t){return{restrict:"E",require:["ngModel"],scope:{ngModel:"=",config:"="},controller:["$scope",function(t){t.placeholder=__("select_date"),t.clear=function(){t.ngModel=null}}],link:function(t,e){e.find(".value-wrapper").tooltipster({content:e.find(".picker-wrapper"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0});var n=e.find(".date-wrapper").dateRangePicker({inline:!0,container:e.find(".date-wrapper"),alwaysOpen:!0,language:"es",singleDate:!0,singleMonth:!0}).bind("datepicker-change",function(n,i){t.$apply(function(){t.ngModel=i.date1}),e.find(".value-wrapper").tooltipster("close")}).bind("datepicker-next-month-finish-clicked",function(t){e.find(".value-wrapper").tooltipster("reposition")}).bind("datepicker-prev-month-finish-clicked",function(t){e.find(".value-wrapper").tooltipster("reposition")});t.ngModel&&n.data("dateRangePicker").setStart(t.ngModel,!0),t.$watch("ngModel",function(t,e){t&&t!=e&&n.data("dateRangePicker").setStart(t,!0)},!0)},template:function(t,e){return'<div class="ser-date-wrapper" ng-class="{open: open, \'has-value\': blur}"><div ng-class="{\'bttn-group\': ngModel}" class="row center-center"><button type="button" class="bttn value-wrapper">{{ (ngModel | date: \'longDate\') || placeholder }}</button><button type="button" ng-show="ngModel" class="bttn clear" ng-click="clear()">×</button></div><div class="tooltip-templates"><div class="picker-wrapper"><div class="date-wrapper"></div></div></div></div>'}}}]),angular.module("SER.datepicker").directive("serDateRange",["$filter",function(t){return{restrict:"E",require:["ngModel"],scope:{ngModel:"=",config:"="},controller:["$scope",function(t){t.placeholder=__("select_date_range"),t.clear=function(){t.ngModel=null,t.placeholder=__("select_date_range")}}],link:function(e,n){n.find(".value-wrapper").tooltipster({content:n.find(".picker-wrapper"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0});var i=n.find(".date-wrapper").dateRangePicker({inline:!0,container:n.find(".date-wrapper"),alwaysOpen:!0,language:"es"}).bind("datepicker-change",function(i,r){e.$apply(function(){r.date1.setHours(0,0,0,0),r.date2.setHours(23,59,59,0),e.ngModel={FromDate:r.date1,ToDate:r.date2},e.placeholder=t("date")(r.date1,"longDate")+" - "+t("date")(r.date2,"longDate")}),n.find(".value-wrapper").tooltipster("close")}).bind("datepicker-next-month-finish-clicked",function(t){n.find(".value-wrapper").tooltipster("reposition")}).bind("datepicker-prev-month-finish-clicked",function(t){n.find(".value-wrapper").tooltipster("reposition")});e.ngModel&&e.ngModel.FromDate&&e.ngModel.ToDate&&(i.data("dateRangePicker").setStart(e.ngModel.FromDate,!0),i.data("dateRangePicker").setEnd(e.ngModel.ToDate,!0),e.placeholder=t("date")(e.ngModel.FromDate,"longDate")+" - "+t("date")(e.ngModel.ToDate,"longDate")),e.$watch("ngModel",function(t,n){t&&t!=n&&(i.data("dateRangePicker").setStart(e.ngModel.FromDate,!0),i.data("dateRangePicker").setEnd(e.ngModel.ToDate,!0))},!0)},template:function(t,e){return'<div class="ser-date-wrapper" ng-class="{open: open, \'has-value\': blur}"><div ng-class="{\'bttn-group\': ngModel}" class="row center-center"><button type="button" class="bttn value-wrapper">{{ placeholder }}</button><button type="button" ng-show="ngModel" class="bttn clear" ng-click="clear()">×</button></div><div class="tooltip-templates"><div class="picker-wrapper"><div class="date-wrapper"></div></div></div></div>'}}}]),angular.module("SER.filters",[]),angular.module("SER.filters").filter("PascalCase",[function(){return function(t){return t.replace(/([A-Z]+)([A-Z])/g," $1 $2").replace(/([a-z\d])([A-Z])/g,"$1 $2").replace(/([a-zA-Z])(\d)/g,"$1 $2").replace(/^./,function(t){return t.toUpperCase()}).trim()}}]),angular.module("SER.filters").filter("getItem",["$filter",function(t){return function(e,n,i){var r={};r[i]=e;var o=[];return o=t("filter")(n,r,!0),hasValue(o)&&0<o.length?o[0]:null}}]);var i18n={__DICT:void 0,loadJSON:function(t){this.__DICT=t},__:function(t){if(void 0!==this.__DICT)return t in this.__DICT?this.__DICT[t]:(console.warn("Locale not found for: "+t),t);console.error("Locale JSON file not loaded | Locale not found for: "+t)}},__=function(t){return i18n.__(t)};angular.module("SER.i18n",[]),angular.module("SER.i18n").filter("translate",function(){return function(t){return i18n.__(t)}}),angular.module("SER.image",[]),angular.module("SER.image").directive("callbackImage",function(){return{restrict:"A",link:function(t,e,n){e.on("dragstart",function(t){t.preventDefault()}),e.bind("error",function(){e[0].src=n.callbackImage})}}}),angular.module("SER.image").directive("retryGetImage",function(){return{restrict:"A",scope:{retryGetImage:"@",fallbackRetry:"="},link:function(t,e,n){function i(){r=setTimeout(function(){e[0].src=t.retryGetImage},5e3)}var r;t.$watch("retryGetImage",function(n){clearTimeout(r),e.unbind("load"),e.unbind("error"),e[0].src=n,e.addClass("hidden"),e.bind("load",function(){e.removeClass("hidden"),t.fallbackRetry=!1,clearTimeout(r),t.$apply()}),e.bind("error",function(){t.fallbackRetry=!0,i()})})}}}),angular.module("SER.image").directive("imgZoom",["$timeout",function(t){return{restrict:"E",scope:{image:"=",options:"="},link:function(e,n,i){n.find(".target").on("load",function(){n.find(".loader").addClass("ng-hide")}),n.find(".target").on("error",function(){n.find(".loader").addClass("ng-hide"),e.zoomReset()}),e.size="auto";var r={"max-height":"none"};angular.merge(r,e.options),e.zoomIn=function(){e.size=1.1*n.find(".target").width(),n.find(".target").css({"max-height":"none",height:"auto"})},e.zoomOut=function(){e.size=n.find(".target").width()/1.1,n.find(".target").css({"max-height":"none",height:"auto"})},e.zoomReset=function(){e.size="auto",n.find(".target").css({"max-height":r["max-height"],height:"auto"})},e.zoomExpand=function(){e.size="auto",n.find(".target").css({"max-height":r["max-height"],height:n.height()-2})},t(function(){e.zoomExpand()},500)},template:function(){return'<div class="controls"><button class="bttn icon" ng-click="zoomOut()"><i class="icon-zoom-out"></i></button><button class="bttn icon" ng-click="zoomReset()"><i class="icon-zoom-actual"></i></button><button class="bttn icon" ng-click="zoomExpand()"><i class="icon-zoom-expand"></i></button><button class="bttn icon" ng-click="zoomIn()"><i class="icon-zoom-in"></i></button></div><div class="loader dots">'+__("loading")+'</div><img class="target" ng-src="{{ image }}" ng-style="{width: size}" callback-image="/images/'+__("no_image_available.svg")+'" />'}}}]),angular.module("SER.image").directive("zoomImage",function(){return{restrict:"A",link:function(t,e,n){var i={responsive:!0,loadingIcon:!0,tint:!0,scrollZoom:!0,zoomWindowWidth:150,zoomWindowHeight:150,imageSrc:n.ngSrc};angular.merge(i,t.$eval(n.zoomImage)),e.elevateZoom(i)}}}),angular.module("SER.loader",[]).service("afterPromises",[function(){var t=function(t,e){this.callback=e,this.topCount=t,this.counter=0};return t.prototype.notify=function(){this.counter+=1,this.counter==this.topCount&&this.callback()},t}]),angular.module("SER.search").directive("remoteSearch",["$http",function(t){return{restrict:"A",require:["ngModel"],scope:{remoteSearchResults:"=",remoteSearch:"=",model:"=ngModel"},link:function(e,n,i,r){var o,a=function(){e.$apply(function(){e.remoteSearchResults=[]}),e.model&&t.get(e.remoteSearch+e.model).then(function(t){0<t.data.length&&(e.remoteSearchResults=t.data)})};n.on("keyup",function(t){o&&clearTimeout(o),o=setTimeout(function(){a()},500)})}}}]),angular.module("SER.search").directive("ngEnter",function(){return function(t,e,n){e.bind("keydown keypress",function(i){13===i.which&&(t.$apply(function(){t.$eval(n.ngEnter,{$event:i})}),i.preventDefault(),e.blur())})}}),angular.module("SER.selector",[]).directive("selector",["$rootScope","$filter","$timeout","$window","$http","$q","$templateCache",function(t,e,n,i,r,o,a){return{restrict:"EC",replace:!0,transclude:!0,scope:{value:"=model",disabled:"=?disable",disableSearch:"=?",required:"=?require",multiple:"=?multi",placeholder:"@?",valueAttr:"@",labelAttr:"@?",options:"=?",dropdownClass:"@?",limit:"=?",rtl:"=?",api:"=?",change:"&?",removeButton:"=?",softDelete:"=?",closeAfterSelection:"=?"},link:function(t,i,r,o,a){var s=angular.element(i[0].querySelector(".selector-dropdown")),u=angular.element(i[0].querySelector("select")),l=i.parents(),c="selector-"+Math.round(1e6*Math.random());s.attr("id",c),a(t,function(t,r){var o=e("filter"),a=angular.element(i[0].querySelector(".selector-input input")),f=a.controller("ngModel"),p=i.find("select").controller("ngModel"),h={api:{},search:"",disableSearch:!1,selectedValues:[],highlighted:0,valueAttr:null,labelAttr:"label",options:[],limit:1/0,removeButton:!0,closeAfterSelection:!0};s.detach(),!angular.isDefined(r.value)&&r.multiple&&(r.value=[]);for(var d in h)angular.isDefined(r[d])||(r[d]=h[d]);r.getObjValue=function(t,e){var n;if(!angular.isDefined(t)||!angular.isDefined(e))return t;if(e=angular.isArray(e)?e:e.split("."),(n=e.shift()).indexOf("[")>0){var i=n.match(/(\w+)\[(\d+)\]/);null!==i&&(t=t[i[1]],n=i[2])}return 0===e.length?t[n]:r.getObjValue(t[n],e)},r.setObjValue=function(t,e,n){var i;if(angular.isDefined(t)||(t={}),e=angular.isArray(e)?e:e.split("."),(i=e.shift()).indexOf("[")>0){var o=i.match(/(\w+)\[(\d+)\]/);null!==o&&(t=t[o[1]],i=o[2])}return t[i]=0===e.length?n:r.setObjValue(t[i],e,n),t},r.optionValue=function(t){return null===r.valueAttr?t:r.getObjValue(t,r.valueAttr)},r.optionEquals=function(t,e){return angular.equals(r.optionValue(t),angular.isDefined(e)?e:r.value)},r.setValue=function(t){r.multiple?r.value=null===r.valueAttr?t||[]:(t||[]).map(function(t){return r.getObjValue(t,r.valueAttr)}):r.value=null===r.valueAttr?t:r.getObjValue(t||{},r.valueAttr)},r.hasValue=function(){return r.multiple?(r.value||[]).length>0:!!r.value},r.optionToObject=function(t){var e={},n=angular.element(t);angular.forEach(t.dataset,function(t,n){n.match(/^\$/)||(e[n]=t)}),t.value&&r.setObjValue(e,r.valueAttr||"value",t.value),n.text()&&r.setObjValue(e,r.labelAttr,n.text().trim()),r.options.push(e),!n.attr("selected")||!r.multiple&&r.hasValue()||(r.multiple?(r.value||(r.value=[]),r.value.push(r.optionValue(e))):r.value||(r.value=r.optionValue(e)))},r.fillWithHtml=function(){r.options=[],angular.forEach(t,function(t){"option"===(t.tagName||"").toLowerCase()&&r.optionToObject(t)}),r.updateSelected()},r.initialize=function(){angular.isArray(r.options)&&r.options.length||r.fillWithHtml(),r.hasValue()&&(r.multiple?angular.isArray(r.value)||(r.value=[r.value]):angular.isArray(r.value)&&(r.value=r.value[0]),r.updateSelected(),r.filterOptions(),r.updateValue())},r.$watch("multiple",function(){n(r.setInputWidth)});var g=function(){var t=a.parent()[0],e={top:"",bottom:"",left:t.getBoundingClientRect().left+"px",width:t.offsetWidth+"px"};angular.element(document.body).height()-(t.offsetHeight+t.getBoundingClientRect().top)>=220?(e.top=t.offsetHeight+t.getBoundingClientRect().top,s.removeClass("ontop")):(e.bottom=angular.element(document.body).height()-t.getBoundingClientRect().top,s.addClass("ontop")),s.css(e)};r.showDropdown=function(){g(),angular.element(document.body).append(s),n(function(){angular.element(window).triggerHandler("resize")},50)},r.open=function(){r.multiple&&(r.selectedValues||[]).length>=r.limit||(r.isOpen=!0,r.showDropdown(),n(r.scrollToHighlighted))},r.close=function(){r.isOpen=!1,s.detach(),r.resetInput()};var m=function(t){r.filteredOptions.length&&(r.highlighted=(r.filteredOptions.length+t)%r.filteredOptions.length)},v=function(){m(r.highlighted-1)},y=function(){m(r.highlighted+1)};r.set=function(t){r.multiple&&(r.selectedValues||[]).length>=r.limit||(r.multiple?(r.selectedValues||(r.selectedValues=[]),r.selectedValues.indexOf(t)<0&&r.selectedValues.push(t)):r.selectedValues=[t],!r.multiple&&r.closeAfterSelection&&a.blur(),m(r.options.indexOf(t)),r.resetInput(),p.$setDirty())},r.unset=function(t){r.multiple?r.selectedValues.splice(angular.isDefined(t)?t:r.selectedValues.length-1,1):r.selectedValues=[],r.resetInput(),p.$setDirty()},r.keydown=function(t){switch(t.keyCode){case KEYS.up:if(!r.isOpen)break;v(),t.preventDefault();break;case KEYS.down:r.isOpen?y():r.open(),t.preventDefault();break;case KEYS.escape:m(0),r.close();break;case KEYS.enter:r.isOpen&&(r.filteredOptions.length&&r.set(),t.preventDefault());break;case KEYS.backspace:if(!a.val()){var e=r.getObjValue(r.selectedValues.slice(-1)[0]||{},r.labelAttr||"");r.unset(),r.open(),r.softDelete&&!r.disableSearch&&n(function(){r.search=e}),t.preventDefault()}break;case KEYS.left:case KEYS.right:case KEYS.shift:case KEYS.ctrl:case KEYS.alt:case KEYS.tab:case KEYS.leftCmd:case KEYS.rightCmd:break;default:!r.multiple&&r.hasValue()?t.preventDefault():(r.open(),m(0))}},r.inOptions=function(t,e){return t.indexOf(e)>=0},r.filterOptions=function(){if(r.filteredOptions=o(r.options||[],r.search),angular.isArray(r.selectedValues)||(r.selectedValues=[]),r.multiple)r.filteredOptions=r.filteredOptions.filter(function(t){return!r.inOptions(r.selectedValues,t)});else{var t=r.filteredOptions.indexOf(r.selectedValues[0]);t>=0&&m(t)}},r.measureWidth=function(){var t,e=getStyles(a[0]),n=angular.element('<span class="selector-shadow"></span>');return n.text(a.val()||(r.hasValue()?"":r.placeholder)||""),angular.element(document.body).append(n),angular.forEach(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(t){n.css(t,e[t])}),t=n[0].offsetWidth,n.remove(),t},r.setInputWidth=function(){var t=r.measureWidth()+1;a.css("width",t+"px")},r.resetInput=function(){a.val(""),r.setInputWidth(),n(function(){r.search=""})},r.$watch("[search, options, value]",function(){r.filterOptions(),n(function(){r.setInputWidth(),r.isOpen&&r.showDropdown()})},!0),r.updateValue=function(t){angular.isDefined(t)||(t=r.selectedValues||[]),r.setValue(r.multiple?t:t[0])},r.$watch("selectedValues",function(t,e){angular.equals(t,e)||(r.updateValue(),angular.isFunction(r.change)&&r.change(r.multiple?{newValue:t,oldValue:e}:{newValue:(t||[])[0],oldValue:(e||[])[0]}))},!0),r.$watchCollection("options",function(t,e){angular.equals(t,e)||r.updateSelected()}),r.updateSelected=function(){r.multiple?r.selectedValues=(r.value||[]).map(function(t){return o(r.options,function(e){return r.optionEquals(e,t)})[0]}).filter(function(t){return angular.isDefined(t)}).slice(0,r.limit):r.selectedValues=(r.options||[]).filter(function(t){return r.optionEquals(t)}).slice(0,1)},r.$watch("value",function(t,e){angular.equals(t,e)||r.updateSelected()},!0),a=angular.element(i[0].querySelector(".selector-input input")).on("focus",function(){n(function(){r.$apply(r.open)})}).on("blur",function(){r.close()}).on("keydown",function(t){r.$apply(function(){r.keydown(t)})}).on("input",function(){r.setInputWidth()}),s.on("mousedown",function(t){t.preventDefault()}),l.each(function(t,e){angular.element(e).on("scroll."+c,function(t){g()})}),r.$watch(function(){return f.$pristine},function(t){p[t?"$setPristine":"$setDirty"]()}),r.$watch(function(){return f.$touched},function(t){p[t?"$setTouched":"$setUntouched"]()}),angular.forEach(["open","close"],function(t){r.api[t]=r[t]}),r.api.focus=function(){a[0].focus()},r.api.set=function(t){return r.value=t},r.api.unset=function(t){var e=t?(r.selectedValues||[]).filter(function(e){return r.optionEquals(e,t)}):r.selectedValues,n=r.selectedValues.map(function(t,n){return r.inOptions(e,t)?n:-1}).filter(function(t){return t>=0});angular.forEach(n,function(t,e){r.unset(t-e)})},r.isDirty=function(){return u.hasClass("ng-dirty")},r.isInvalid=function(){return u.hasClass("ng-invalid")},r.initialize()}),t.$on("$destroy",function(){s.remove(),s.off("mousedown"),angular.element(i[0].querySelector(".selector-input input")).off("focus blur keydown input "),angular.element(document.body).off("resize."+c),l.each(function(t,e){$(e).off("scroll."+c+" resize."+c)}),l=null})},template:function(t,e){var n,i=a.get(e.viewItemTemplate)?a.get(e.viewItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>';n=e.labelAttr?'<span ng-bind="getObjValue(option, labelAttr) || option"></span>':a.get(e.viewItemTemplate)?a.get(e.viewItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>',e.dropdownItemTemplate&&(n=a.get(e.dropdownItemTemplate)?a.get(e.dropdownItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>');var r="";return e.name&&(r='name="'+e.name+'"'),a.get("selector/Base")?a.get("selector/Base"):"<div class=\"selector-container\" ng-attr-dir=\"{{rtl ? 'rtl' : 'ltr'}}\" ng-class=\"{open: isOpen, empty: !filteredOptions.length && !search, 'ng-dirty': isDirty(), 'ng-invalid': isInvalid(),multiple: multiple, 'has-value': hasValue(), rtl: rtl, 'remove-button': removeButton, disabled: disabled}\"><select "+r+' ng-required="required && !hasValue()" class="not-styled" ng-model="selectedValues" multiple style="display: none;"></select><label class="selector-input"><ul class="selector-values"><li ng-repeat="(index, option) in selectedValues track by index"><div>'+i+'</div><div ng-if="multiple" class="selector-helper" ng-click="!disabled && unset(index)"><span class="selector-icon"></span></div></li></ul><input ng-model="search" class="selector-search-input not-styled" placeholder="{{!hasValue() ? placeholder : \'\'}}"ng-disabled="disabled" ng-readonly="disableSearch" ng-required="required && !hasValue()" autocomplete="off"><div ng-if="!multiple" class="selector-helper selector-global-helper" ng-click="!disabled && removeButton && unset()"><span class="selector-icon"></span></div></label><ul md-virtual-repeat-container md-auto-shrink md-top-index="highlighted" class="selector-dropdown '+e.dropdownClass+'"><li md-virtual-repeat="option in filteredOptions" ng-class="{active: highlighted == $index}" class="selector-option" ng-click="set(option)">'+n+"</li></ul></div>"}}}]),angular.module("SER.tooltipster",[]),angular.module("SER.tooltipster").directive("tooltipster",function(){return{restrict:"A",link:function(t,e,n){var i={content:n.tooltipster,maxWidth:300,delay:0,contentAsHTML:!0,positionTracker:!0,trigger:"hover",theme:"tooltipster-borderless"};angular.merge(i,t.$eval(n.tooltipsterOptions)),e.tooltipster(i)}}}),angular.module("SER.tooltipster").directive("tooltipsterMenu",function(){return{restrict:"A",link:function(t,e,n){var i={content:e.find(".tooltip-content"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0};angular.merge(i,t.$eval(n.tooltipsterMenu)),e.tooltipster(i),t.closeTooltip=function(){e.tooltipster("close")},e.find(".action").on("click",function(){t.closeTooltip()})}}}),angular.module("SER.tooltipster").directive("tooltipsterHtml",function(){return{restrict:"A",link:function(t,e,n){var i={content:e.find(".tooltip-content"),delay:0,positionTracker:!0,trigger:"hover",theme:"tooltipster-borderless",position:"top"};angular.merge(i,t.$eval(n.tooltipsterMenu)),e.tooltipster(i)}}}),angular.module("SER.match",[]).directive("match",["$parse",function(t){return{require:"?ngModel",restrict:"A",link:function(e,n,i,r){function o(){var t=a(e);return angular.isObject(t)&&t.hasOwnProperty("$viewValue")&&(t=t.$viewValue),t}if(r&&i.match){var a=t(i.match),s=t(i.matchCaseless),u=t(i.notMatch),l=t(i.matchIgnoreEmpty);e.$watch(o,function(){r.$$parseAndValidate()}),r.$validators.match=function(t,n){var i,r=t||n,a=o(),c=u(e);return!(!l(e)||n)||(i=s(e)?angular.lowercase(r)===angular.lowercase(a):r===a,!!(i^=c))}}}}}]),angular.module("SER.barcode",[]),angular.module("SER.barcode").directive("barcode",function(){return{restrict:"EA",scope:{model:"=",options:"="},link:function(t,e,n){var i={format:"CODE128",lineColor:"#000000",width:3,height:110,displayValue:!0};angular.merge(i,t.options),t.$watch("model",function(t){JsBarcode(e[0],t,i)})}}}),angular.module("SER",["ngAnimate","ngMessages","ngSanitize","ngResource","ngMaterial","ui.router","ngFileUpload","angular.filter","SER.i18n","SER.auth","SER.selector","SER.match","SER.image","SER.search","SER.tooltipster","SER.datepicker","SER.loader","SER.filters","SER.barcode"]),function(t){var e=new Image;e.onload=function(){var e=["font-size: 1px;","line-height: "+this.height+"px;","padding: "+.5*this.height+"px "+.5*this.width+"px;","background-size: "+this.width+"px "+this.height+"px;","background: url("+t+");"].join(" ");console.log(""),console.log(""),console.log("%c",e),console.log("https://www.sersoluciones.com"),console.log(""),console.log("")},e.src=t}("https://www.sersoluciones.com/wp-content/uploads/2017/04/powered.jpg"),angular.module("SER").config(["$urlRouterProvider","$urlMatcherFactoryProvider","$compileProvider","$resourceProvider","$httpProvider",function(t,e,n,i,r){r.defaults.paramSerialize="$httpParamSerializerJQLike",i.defaults.stripTrailingSlashes=!0,n.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|skype|tel|chrome-extension):/),t.rule(function(t,e){var n=e.path();if("/"===n[n.length-1])return n.substr(0,n.length-1)});var o=/^[a-f\d]{8}-([a-f\d]{4}-){3}[a-f\d]{12}$/i;e.type("guid",{encode:angular.identity,decode:angular.identity,is:function(t){return o.test(t)}})}]),angular.module("SER").run(["$rootScope","$sce",function(t,e){t.backHistory=function(){$window.history.back()},t.__=__,t.isArray=angular.isArray,t.isObject=angular.isObject,t.isString=angular.isString,t.isUndefined=angular.isUndefined,t.isNumber=angular.isNumber,t.isDefined=angular.isDefined,t.isDate=angular.isDate,t.hasProperty=hasProperty,t.hasValue=hasValue,t.notValue=notValue,t.inArray=inArray,t.getObjectByValue=getObjectByValue,t.isEmptyObject=$.isEmptyObject,t.bodyHeight=function(){return angular.element("body").height()},t.browserWidth=browserWidth,t.trustAsHtml=function(t){return e.trustAsHtml(t)}}]);
//# sourceMappingURL=ser-ui.min.js.map
