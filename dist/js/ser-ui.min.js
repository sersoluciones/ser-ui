function getStyles(t){return t instanceof HTMLElement?t.ownerDocument&&t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t):window.getComputedStyle(t):{}}function arrayGroupBy(t,e){for(var i={},n=0;n<t.length;++n)void 0===i[t[n][e]]&&(i[t[n][e]]=[]),i[t[n][e]].push(t[n]);return i}function hasValue(t){return angular.isArray(t)?0<t.length:!!angular.isDate(t)||(angular.isObject(t)?!angular.element.isEmptyObject(t):-1===["",null,void 0,NaN].indexOf(t))}function notValue(t){return angular.isArray(t)?0===t.length:!angular.isDate(t)&&(angular.isObject(t)?angular.element.isEmptyObject(t):["",null,void 0,NaN].indexOf(t)>-1)}function hasProperty(t,e){return!!t&&t.hasOwnProperty(e)}function inArray(t,e){return!!e&&-1!==e.indexOf(t)}function notInArray(t,e){return!!e&&-1===e.indexOf(t)}function getObjectByValue(t,e,i){for(var n=0;n<t.length;n++)if(t[n].hasOwnProperty(e)){if(t[n][e]===i)return t[n];for(var o in t[n][e])if(t[n][e][o]===i)return t[n]}}function browserWidth(){return 0<window.innerWidth?window.innerWidth:screen.width}function hasPdfViewer(){for(var t=0;t<window.navigator.plugins.length;t++)if(window.navigator.plugins[t].name.toLowerCase().indexOf("pdf")>-1)return!0;return!1}function getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}function hasFiles(t){var e=!1,i=function(t){return null!=t&&(t instanceof window.Blob||t.flashId&&t.name&&t.size)};for(var n in t)if(i(t[n])){e=!0;break}return e}function guid(){return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){function e(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function i(e,i){var n=!0;return t.each(e,function(t,o){if(void 0===i[t]||e[t]!==i[t])return n=!1,!1}),n}function n(e){var i=e.attr("id"),n=i?s.window.document.getElementById(i):null;return n?n===e[0]:t.contains(s.window.document.body,e[0])}var o={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},r="undefined"!=typeof window?window:null,s={hasTouchCapability:!(!r||!("ontouchstart"in r||r.DocumentTouch&&r.document instanceof r.DocumentTouch||r.navigator.maxTouchPoints)),hasTransitions:function(){if(!r)return!1;var t=(r.document.body||r.document.documentElement).style,e="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var n=0;n<i.length;n++)if("string"==typeof t[i[n]+e])return!0;return!1}(),IE:!1,semVer:"4.2.5",window:r},a=function(){this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__instancesLatestArr=[],this.__plugins={},this._env=s};a.prototype={__bridge:function(e,i,n){if(!i[n]){var r=function(){};r.prototype=e;var s=new r;s.__init&&s.__init(i),t.each(e,function(t,e){0!=t.indexOf("__")&&(i[t]?o.debug&&console.log("The "+t+" method of the "+n+" plugin conflicts with another plugin or native methods"):(i[t]=function(){return s[t].apply(s,Array.prototype.slice.apply(arguments))},i[t].bridged=s))}),i[n]=s}return this},__setWindow:function(t){return s.window=t,this},_getRuler:function(t){return new e(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(e){if("string"==typeof e){var i=e,n=null;return i.indexOf(".")>0?n=this.__plugins[i]:t.each(this.__plugins,function(t,e){if(e.name.substring(e.name.length-i.length-1)=="."+i)return n=e,!1}),n}if(e.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return this.__plugins[e.name]=e,e.core&&this.__bridge(e.core,this,e.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(e){var i=[];return t(e||".tooltipstered").each(function(){var e=t(this),n=e.data("tooltipster-ns");n&&t.each(n,function(t,n){i.push(e.data(n))})}),i},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(e){return t((e?e+" ":"")+".tooltipstered").toArray()},setDefaults:function(e){return t.extend(o,e),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.tooltipster=new a,t.Tooltipster=function(e,i){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(e,i)},t.Tooltipster.prototype={__init:function(e,i){var n=this;if(n._$origin=t(e),n.__options=t.extend(!0,{},o,i),n.__optionsFormat(),!s.IE||s.IE>=n.__options.IEmin){var r=null;if(void 0===n._$origin.data("tooltipster-initialTitle")&&(void 0===(r=n._$origin.attr("title"))&&(r=null),n._$origin.data("tooltipster-initialTitle",r)),null!==n.__options.content)n.__contentSet(n.__options.content);else{var a,l=n._$origin.attr("data-tooltip-content");l&&(a=t(l)),a&&a[0]?n.__contentSet(a.first()):n.__contentSet(r)}n._$origin.removeAttr("title").addClass("tooltipstered"),n.__prepareOrigin(),n.__prepareGC(),t.each(n.__options.plugins,function(t,e){n._plug(e)}),s.hasTouchCapability&&t(s.window.document.body).on("touchmove."+n.__namespace+"-triggerOpen",function(t){n._touchRecordEvent(t)}),n._on("created",function(){n.__prepareTooltip()})._on("repositioned",function(t){n.__lastPosition=t.position})}else n.__options.disabled=!0},__contentInsert:function(){var t=this._$tooltip.find(".tooltipster-content"),e=this.__Content;return this._trigger({type:"format",content:this.__Content,format:function(t){e=t}}),this.__options.functionFormat&&(e=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof e||this.__options.contentAsHTML?t.empty().append(e):t.text(e),this},__contentSet:function(e){return e instanceof t&&this.__options.contentCloning&&(e=e.clone(!0)),this.__Content=e,this._trigger({type:"updated",content:e}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var e=this._$origin,i=this._$origin.is("area");if(i){var n=this._$origin.parent().attr("name");e=t('img[usemap="#'+n+'"]')}var o=e[0].getBoundingClientRect(),r=t(s.window.document),a=t(s.window),l=e,u={available:{document:null,window:null},document:{size:{height:r.height(),width:r.width()}},window:{scroll:{left:s.window.scrollX||s.window.document.documentElement.scrollLeft,top:s.window.scrollY||s.window.document.documentElement.scrollTop},size:{height:a.height(),width:a.width()}},origin:{fixedLineage:!1,offset:{},size:{height:o.bottom-o.top,width:o.right-o.left},usemapImage:i?e[0]:null,windowOffset:{bottom:o.bottom,left:o.left,right:o.right,top:o.top}}};if(i){var h=this._$origin.attr("shape"),d=this._$origin.attr("coords");if(d&&(d=d.split(","),t.map(d,function(t,e){d[e]=parseInt(t)})),"default"!=h)switch(h){case"circle":var c=d[0],p=d[1],f=d[2],g=p-f,m=c-f;u.origin.size.height=2*f,u.origin.size.width=u.origin.size.height,u.origin.windowOffset.left+=m,u.origin.windowOffset.top+=g;break;case"rect":var w=d[0],v=d[1],_=d[2],y=d[3];u.origin.size.height=y-v,u.origin.size.width=_-w,u.origin.windowOffset.left+=w,u.origin.windowOffset.top+=v;break;case"poly":for(var b=0,z=0,k=0,x=0,$="even",S=0;S<d.length;S++){var O=d[S];"even"==$?(O>k&&(k=O,0===S&&(b=k)),O<b&&(b=O),$="odd"):(O>x&&(x=O,1==S&&(z=x)),O<z&&(z=O),$="even")}u.origin.size.height=x-z,u.origin.size.width=k-b,u.origin.windowOffset.left+=b,u.origin.windowOffset.top+=z}}for(this._trigger({type:"geometry",edit:function(t){u.origin.size.height=t.height,u.origin.windowOffset.left=t.left,u.origin.windowOffset.top=t.top,u.origin.size.width=t.width},geometry:{height:u.origin.size.height,left:u.origin.windowOffset.left,top:u.origin.windowOffset.top,width:u.origin.size.width}}),u.origin.windowOffset.right=u.origin.windowOffset.left+u.origin.size.width,u.origin.windowOffset.bottom=u.origin.windowOffset.top+u.origin.size.height,u.origin.offset.left=u.origin.windowOffset.left+u.window.scroll.left,u.origin.offset.top=u.origin.windowOffset.top+u.window.scroll.top,u.origin.offset.bottom=u.origin.offset.top+u.origin.size.height,u.origin.offset.right=u.origin.offset.left+u.origin.size.width,u.available.document={bottom:{height:u.document.size.height-u.origin.offset.bottom,width:u.document.size.width},left:{height:u.document.size.height,width:u.origin.offset.left},right:{height:u.document.size.height,width:u.document.size.width-u.origin.offset.right},top:{height:u.origin.offset.top,width:u.document.size.width}},u.available.window={bottom:{height:Math.max(u.window.size.height-Math.max(u.origin.windowOffset.bottom,0),0),width:u.window.size.width},left:{height:u.window.size.height,width:Math.max(u.origin.windowOffset.left,0)},right:{height:u.window.size.height,width:Math.max(u.window.size.width-Math.max(u.origin.windowOffset.right,0),0)},top:{height:Math.max(u.origin.windowOffset.top,0),width:u.window.size.width}};"html"!=l[0].tagName.toLowerCase();){if("fixed"==l.css("position")){u.origin.fixedLineage=!0;break}l=l.parent()}return u},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=t(s.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=t(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var e=this;return e.__options.selfDestruction?e.__garbageCollector=setInterval(function(){var i=(new Date).getTime();e.__touchEvents=t.grep(e.__touchEvents,function(t,e){return i-t.time>6e4}),n(e._$origin)||e.close(function(){e.destroy()})},2e4):clearInterval(e.__garbageCollector),e},__prepareOrigin:function(){var t=this;if(t._$origin.off("."+t.__namespace+"-triggerOpen"),s.hasTouchCapability&&t._$origin.on("touchstart."+t.__namespace+"-triggerOpen touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen",function(e){t._touchRecordEvent(e)}),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&s.hasTouchCapability){e="";t.__options.triggerOpen.click&&(e+="click."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.tap&&s.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&t._open(e)})}if(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&s.hasTouchCapability){e="";t.__options.triggerOpen.mouseenter&&(e+="mouseenter."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.touchstart&&s.hasTouchCapability&&(e+="touchstart."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){!t._touchIsTouchEvent(e)&&t._touchIsEmulatedEvent(e)||(t.__pointerIsOverOrigin=!0,t._openShortly(e))})}if(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&s.hasTouchCapability){var e="";t.__options.triggerClose.mouseleave&&(e+="mouseleave."+t.__namespace+"-triggerOpen "),t.__options.triggerClose.touchleave&&s.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&(t.__pointerIsOverOrigin=!1)})}return t},__prepareTooltip:function(){var e=this,i=e.__options.interactive?"auto":"";return e._$tooltip.attr("id",e.__namespace).css({"pointer-events":i,zIndex:e.__options.zIndex}),t.each(e.__previousThemes,function(t,i){e._$tooltip.removeClass(i)}),t.each(e.__options.theme,function(t,i){e._$tooltip.addClass(i)}),e.__previousThemes=t.merge([],e.__options.theme),e},__scrollHandler:function(e){if(this.__options.triggerClose.scroll)this._close(e);else if(n(this._$origin)&&n(this._$tooltip)){var i=null;if(e.target===s.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(e);else{i=this.__geometry();var o=!1;if("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(e,n){var r=t(n),s=r.css("overflow-x"),a=r.css("overflow-y");if("visible"!=s||"visible"!=a){var l=n.getBoundingClientRect();if("visible"!=s&&(i.origin.windowOffset.left<l.left||i.origin.windowOffset.right>l.right))return o=!0,!1;if("visible"!=a&&(i.origin.windowOffset.top<l.top||i.origin.windowOffset.bottom>l.bottom))return o=!0,!1}if("fixed"==r.css("position"))return!1}),o)this._$tooltip.css("visibility","hidden");else if(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)this.reposition(e);else{var r=i.origin.offset.left-this.__Geometry.origin.offset.left,a=i.origin.offset.top-this.__Geometry.origin.offset.top;this._$tooltip.css({left:this.__lastPosition.coord.left+r,top:this.__lastPosition.coord.top+a})}}this._trigger({type:"scroll",event:e,geo:i})}return this},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,t.each(this.__timeouts.close,function(t,e){clearTimeout(e)}),this.__timeouts.close=[],this},__trackerStart:function(){var t=this,e=t._$tooltip.find(".tooltipster-content");return t.__options.trackTooltip&&(t.__contentBcr=e[0].getBoundingClientRect()),t.__tracker=setInterval(function(){if(n(t._$origin)&&n(t._$tooltip)){if(t.__options.trackOrigin){var o=t.__geometry(),r=!1;i(o.origin.size,t.__Geometry.origin.size)&&(t.__Geometry.origin.fixedLineage?i(o.origin.windowOffset,t.__Geometry.origin.windowOffset)&&(r=!0):i(o.origin.offset,t.__Geometry.origin.offset)&&(r=!0)),r||(t.__options.triggerClose.mouseleave?t._close():t.reposition())}if(t.__options.trackTooltip){var s=e[0].getBoundingClientRect();s.height===t.__contentBcr.height&&s.width===t.__contentBcr.width||(t.reposition(),t.__contentBcr=s)}}else t._close()},t.__options.trackerInterval),t},_close:function(e,i,n){var o=this,r=!0;if(o._trigger({type:"close",event:e,stop:function(){r=!1}}),r||n){i&&o.__callbacks.close.push(i),o.__callbacks.open=[],o.__timeoutsClear();var a=function(){t.each(o.__callbacks.close,function(t,i){i.call(o,o,{event:e,origin:o._$origin[0]})}),o.__callbacks.close=[]};if("closed"!=o.__state){var l=!0,u=(new Date).getTime()+o.__options.animationDuration[1];if("disappearing"==o.__state&&u>o.__closingTime&&o.__options.animationDuration[1]>0&&(l=!1),l){o.__closingTime=u,"disappearing"!=o.__state&&o.__stateSet("disappearing");var h=function(){clearInterval(o.__tracker),o._trigger({type:"closing",event:e}),o._$tooltip.off("."+o.__namespace+"-triggerClose").removeClass("tooltipster-dying"),t(s.window).off("."+o.__namespace+"-triggerClose"),o.__$originParents.each(function(e,i){t(i).off("scroll."+o.__namespace+"-triggerClose")}),o.__$originParents=null,t(s.window.document.body).off("."+o.__namespace+"-triggerClose"),o._$origin.off("."+o.__namespace+"-triggerClose"),o._off("dismissable"),o.__stateSet("closed"),o._trigger({type:"after",event:e}),o.__options.functionAfter&&o.__options.functionAfter.call(o,o,{event:e,origin:o._$origin[0]}),a()};s.hasTransitions?(o._$tooltip.css({"-moz-animation-duration":o.__options.animationDuration[1]+"ms","-ms-animation-duration":o.__options.animationDuration[1]+"ms","-o-animation-duration":o.__options.animationDuration[1]+"ms","-webkit-animation-duration":o.__options.animationDuration[1]+"ms","animation-duration":o.__options.animationDuration[1]+"ms","transition-duration":o.__options.animationDuration[1]+"ms"}),o._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),o.__options.animationDuration[1]>0&&o._$tooltip.delay(o.__options.animationDuration[1]),o._$tooltip.queue(h)):o._$tooltip.stop().fadeOut(o.__options.animationDuration[1],h)}}else a()}return o},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(e,i){var o=this;if(!o.__destroying&&n(o._$origin)&&o.__enabled){var r=!0;if("closed"==o.__state&&(o._trigger({type:"before",event:e,stop:function(){r=!1}}),r&&o.__options.functionBefore&&(r=o.__options.functionBefore.call(o,o,{event:e,origin:o._$origin[0]}))),!1!==r&&null!==o.__Content){i&&o.__callbacks.open.push(i),o.__callbacks.close=[],o.__timeoutsClear();var a,l=function(){"stable"!=o.__state&&o.__stateSet("stable"),t.each(o.__callbacks.open,function(t,e){e.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}),o.__callbacks.open=[]};if("closed"!==o.__state)a=0,"disappearing"===o.__state?(o.__stateSet("appearing"),s.hasTransitions?(o._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l)):o._$tooltip.stop().fadeIn(l)):"stable"==o.__state&&l();else{if(o.__stateSet("appearing"),a=o.__options.animationDuration[0],o.__contentInsert(),o.reposition(e,!0),s.hasTransitions?(o._$tooltip.addClass("tooltipster-"+o.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":o.__options.animationDuration[0]+"ms","-ms-animation-duration":o.__options.animationDuration[0]+"ms","-o-animation-duration":o.__options.animationDuration[0]+"ms","-webkit-animation-duration":o.__options.animationDuration[0]+"ms","animation-duration":o.__options.animationDuration[0]+"ms","transition-duration":o.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=o.__state&&(o._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l))},0)):o._$tooltip.css("display","none").fadeIn(o.__options.animationDuration[0],l),o.__trackerStart(),t(s.window).on("resize."+o.__namespace+"-triggerClose",function(e){var i=t(document.activeElement);(i.is("input")||i.is("textarea"))&&t.contains(o._$tooltip[0],i[0])||o.reposition(e)}).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)}),o.__$originParents=o._$origin.parents(),o.__$originParents.each(function(e,i){t(i).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)})}),o.__options.triggerClose.mouseleave||o.__options.triggerClose.touchleave&&s.hasTouchCapability){o._on("dismissable",function(t){t.dismissable?t.delay?(c=setTimeout(function(){o._close(t.event)},t.delay),o.__timeouts.close.push(c)):o._close(t):clearTimeout(c)});var u=o._$origin,h="",d="",c=null;o.__options.interactive&&(u=u.add(o._$tooltip)),o.__options.triggerClose.mouseleave&&(h+="mouseenter."+o.__namespace+"-triggerClose ",d+="mouseleave."+o.__namespace+"-triggerClose "),o.__options.triggerClose.touchleave&&s.hasTouchCapability&&(h+="touchstart."+o.__namespace+"-triggerClose",d+="touchend."+o.__namespace+"-triggerClose touchcancel."+o.__namespace+"-triggerClose"),u.on(d,function(t){if(o._touchIsTouchEvent(t)||!o._touchIsEmulatedEvent(t)){var e="mouseleave"==t.type?o.__options.delay:o.__options.delayTouch;o._trigger({delay:e[1],dismissable:!0,event:t,type:"dismissable"})}}).on(h,function(t){!o._touchIsTouchEvent(t)&&o._touchIsEmulatedEvent(t)||o._trigger({dismissable:!1,event:t,type:"dismissable"})})}o.__options.triggerClose.originClick&&o._$origin.on("click."+o.__namespace+"-triggerClose",function(t){o._touchIsTouchEvent(t)||o._touchIsEmulatedEvent(t)||o._close(t)}),(o.__options.triggerClose.click||o.__options.triggerClose.tap&&s.hasTouchCapability)&&setTimeout(function(){if("closed"!=o.__state){var e="",i=t(s.window.document.body);o.__options.triggerClose.click&&(e+="click."+o.__namespace+"-triggerClose "),o.__options.triggerClose.tap&&s.hasTouchCapability&&(e+="touchend."+o.__namespace+"-triggerClose"),i.on(e,function(e){o._touchIsMeaningfulEvent(e)&&(o._touchRecordEvent(e),o.__options.interactive&&t.contains(o._$tooltip[0],e.target)||o._close(e))}),o.__options.triggerClose.tap&&s.hasTouchCapability&&i.on("touchstart."+o.__namespace+"-triggerClose",function(t){o._touchRecordEvent(t)})}},0),o._trigger("ready"),o.__options.functionReady&&o.__options.functionReady.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}if(o.__options.timer>0){c=setTimeout(function(){o._close()},o.__options.timer+a);o.__timeouts.close.push(c)}}}return o},_openShortly:function(t){var e=this,i=!0;if("stable"!=e.__state&&"appearing"!=e.__state&&!e.__timeouts.open&&(e._trigger({type:"start",event:t,stop:function(){i=!1}}),i)){var n=0==t.type.indexOf("touch")?e.__options.delayTouch:e.__options.delay;n[0]?e.__timeouts.open=setTimeout(function(){e.__timeouts.open=null,e.__pointerIsOverOrigin&&e._touchIsMeaningfulEvent(t)?(e._trigger("startend"),e._open(t)):e._trigger("startcancel")},n[0]):(e._trigger("startend"),e._open(t))}return e},_optionsExtract:function(e,i){var n=this,o=t.extend(!0,{},i),r=n.__options[e];return r||(r={},t.each(i,function(t,e){var i=n.__options[t];void 0!==i&&(r[t]=i)})),t.each(o,function(e,i){void 0!==r[e]&&("object"!=typeof i||i instanceof Array||null==i||"object"!=typeof r[e]||r[e]instanceof Array||null==r[e]?o[e]=r[e]:t.extend(o[e],r[e]))}),o},_plug:function(e){var i=t.tooltipster._plugin(e);if(!i)throw new Error('The "'+e+'" plugin is not defined');return i.instance&&t.tooltipster.__bridge(i.instance,this,i.name),this},_touchIsEmulatedEvent:function(t){for(var e=!1,i=(new Date).getTime(),n=this.__touchEvents.length-1;n>=0;n--){var o=this.__touchEvents[n];if(!(i-o.time<500))break;o.target===t.target&&(e=!0)}return e},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var e=!1,i=this.__touchEvents.length-1;i>=0;i--){var n=this.__touchEvents[i];if("touchmove"==n.type){e=!0;break}if("touchstart"==n.type&&t===n.target)break}return e},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),e[0].instance=this,e[0].origin=this._$origin?this._$origin[0]:null,e[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),t.tooltipster._trigger.apply(t.tooltipster,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},_unplug:function(e){var i=this;if(i[e]){var n=t.tooltipster._plugin(e);n.instance&&t.each(n.instance,function(t,n){i[t]&&i[t].bridged===i[e]&&delete i[t]}),i[e].__destroy&&i[e].__destroy(),delete i[e]}return i},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var e=this;if(void 0===t)return e.__Content;if(e.__destroyed)e.__destroyError();else if(e.__contentSet(t),null!==e.__Content){if("closed"!==e.__state&&(e.__contentInsert(),e.reposition(),e.__options.updateAnimation))if(s.hasTransitions){var i=e.__options.updateAnimation;e._$tooltip.addClass("tooltipster-update-"+i),setTimeout(function(){"closed"!=e.__state&&e._$tooltip.removeClass("tooltipster-update-"+i)},1e3)}else e._$tooltip.fadeTo(200,.5,function(){"closed"!=e.__state&&e._$tooltip.fadeTo(200,1)})}else e._close();return e},destroy:function(){var e=this;if(e.__destroyed)e.__destroyError();else{"closed"!=e.__state?e.option("animationDuration",0)._close(null,null,!0):e.__timeoutsClear(),e._trigger("destroy"),e.__destroyed=!0,e._$origin.removeData(e.__namespace).off("."+e.__namespace+"-triggerOpen"),t(s.window.document.body).off("."+e.__namespace+"-triggerOpen");var i=e._$origin.data("tooltipster-ns");if(i)if(1===i.length){var n=null;"previous"==e.__options.restoration?n=e._$origin.data("tooltipster-initialTitle"):"current"==e.__options.restoration&&(n="string"==typeof e.__Content?e.__Content:t("<div></div>").append(e.__Content).html()),n&&e._$origin.attr("title",n),e._$origin.removeClass("tooltipstered"),e._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else i=t.grep(i,function(t,i){return t!==e.__namespace}),e._$origin.data("tooltipster-ns",i);e._trigger("destroyed"),e._off(),e.off(),e.__Content=null,e.__$emitterPrivate=null,e.__$emitterPublic=null,e.__options.parent=null,e._$origin=null,e._$tooltip=null,t.tooltipster.__instancesLatestArr=t.grep(t.tooltipster.__instancesLatestArr,function(t,i){return e!==t}),clearInterval(e.__garbageCollector)}return e},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed?this.__destroyError():this._open(null,t),this},option:function(e,i){return void 0===i?this.__options[e]:(this.__destroyed?this.__destroyError():(this.__options[e]=i,this.__optionsFormat(),t.inArray(e,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===e&&this.__prepareGC()),this)},reposition:function(t,e){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&n(this._$origin)&&(e||n(this._$tooltip))&&(e||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:t,helper:{geo:this.__Geometry}})),this},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.fn.tooltipster=function(){var e=Array.prototype.slice.apply(arguments),i="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof e[0]){var n="#*$~&";return this.each(function(){var o=t(this).data("tooltipster-ns"),r=o?t(this).data(o[0]):null;if(!r)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof r[e[0]])throw new Error('Unknown method "'+e[0]+'"');this.length>1&&"content"==e[0]&&(e[1]instanceof t||"object"==typeof e[1]&&null!=e[1]&&e[1].tagName)&&!r.__options.contentCloning&&r.__options.debug&&console.log(i);var s=r[e[0]](e[1],e[2]);if(s!==r||"instance"===e[0])return n=s,!1}),"#*$~&"!==n?n:this}t.tooltipster.__instancesLatestArr=[];var r=e[0]&&void 0!==e[0].multiple,s=r&&e[0].multiple||!r&&o.multiple,a=e[0]&&void 0!==e[0].content,l=a&&e[0].content||!a&&o.content,u=e[0]&&void 0!==e[0].contentCloning,h=u&&e[0].contentCloning||!u&&o.contentCloning,d=e[0]&&void 0!==e[0].debug,c=d&&e[0].debug||!d&&o.debug;return this.length>1&&(l instanceof t||"object"==typeof l&&null!=l&&l.tagName)&&!h&&c&&console.log(i),this.each(function(){var i=!1,n=t(this),o=n.data("tooltipster-ns"),r=null;o?s?i=!0:c&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):i=!0,i&&(r=new t.Tooltipster(this,e[0]),o||(o=[]),o.push(r.__namespace),n.data("tooltipster-ns",o),n.data(r.__namespace,r),r.__options.functionInit&&r.__options.functionInit.call(r,r,{origin:this}),r._trigger("init")),t.tooltipster.__instancesLatestArr.push(r)}),this},e.prototype={__init:function(e){this.__$tooltip=e,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=t('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(s.window.document.body)},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,e){return this.constraints={width:t,height:e},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),e={size:{height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}};if(this.constraints){var i=this.__$tooltip.find(".tooltipster-content"),n=this.__$tooltip.outerHeight(),o=i[0].getBoundingClientRect(),r={height:n<=this.constraints.height,width:t.width<=this.constraints.width&&o.width>=i[0].scrollWidth-1};e.fits=r.height&&r.width}return s.IE&&s.IE<=11&&e.size.width!==s.window.document.documentElement.clientWidth&&(e.size.width=Math.ceil(e.size.width)+1),e}};var l=navigator.userAgent.toLowerCase();-1!=l.indexOf("msie")?s.IE=parseInt(l.split("msie")[1]):-1!==l.toLowerCase().indexOf("trident")&&-1!==l.indexOf(" rv:11")?s.IE=11:-1!=l.toLowerCase().indexOf("edge/")&&(s.IE=parseInt(l.toLowerCase().split("edge/")[1]));return t.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var e=this;e.__instance=t,e.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),e.__previousState="closed",e.__options,e.__optionsFormat(),e.__instance._on("state."+e.__namespace,function(t){"closed"==t.state?e.__close():"appearing"==t.state&&"closed"==e.__previousState&&e.__create(),e.__previousState=t.state}),e.__instance._on("options."+e.__namespace,function(){e.__optionsFormat()}),e.__instance._on("reposition."+e.__namespace,function(t){e.__reposition(t.event,t.helper)})},__close:function(){this.__instance.content()instanceof t&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var e=t('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||e.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&e.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&e.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=e,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),this.__options.distance.length<4&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]}),"string"==typeof this.__options.side){this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left")}6===t.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(e,i){var n,o=this,r=o.__targetFind(i),s=[];o.__instance._$tooltip.detach();var a=o.__instance._$tooltip.clone(),l=t.tooltipster._getRuler(a),u=!1,h=o.__instance.option("animation");switch(h&&a.removeClass("tooltipster-"+h),t.each(["window","document"],function(n,h){var d=null;if(o.__instance._trigger({container:h,helper:i,satisfied:u,takeTest:function(t){d=t},results:s,type:"positionTest"}),1==d||0!=d&&0==u&&("window"!=h||o.__options.viewportAware))for(n=0;n<o.__options.side.length;n++){var c={horizontal:0,vertical:0},p=o.__options.side[n];"top"==p||"bottom"==p?c.vertical=o.__options.distance[p]:c.horizontal=o.__options.distance[p],o.__sideChange(a,p),t.each(["natural","constrained"],function(t,n){if(d=null,o.__instance._trigger({container:h,event:e,helper:i,mode:n,results:s,satisfied:u,side:p,takeTest:function(t){d=t},type:"positionTest"}),1==d||0!=d&&0==u){var a={container:h,distance:c,fits:null,mode:n,outerSize:null,side:p,size:null,target:r[p],whole:null},f=("natural"==n?l.free():l.constrain(i.geo.available[h][p].width-c.horizontal,i.geo.available[h][p].height-c.vertical)).measure();if(a.size=f.size,a.outerSize={height:f.size.height+c.vertical,width:f.size.width+c.horizontal},"natural"==n?i.geo.available[h][p].width>=a.outerSize.width&&i.geo.available[h][p].height>=a.outerSize.height?a.fits=!0:a.fits=!1:a.fits=f.fits,"window"==h&&(a.fits?a.whole="top"==p||"bottom"==p?i.geo.origin.windowOffset.right>=o.__options.minIntersection&&i.geo.window.size.width-i.geo.origin.windowOffset.left>=o.__options.minIntersection:i.geo.origin.windowOffset.bottom>=o.__options.minIntersection&&i.geo.window.size.height-i.geo.origin.windowOffset.top>=o.__options.minIntersection:a.whole=!1),s.push(a),a.whole)u=!0;else if("natural"==a.mode&&(a.fits||a.size.width<=i.geo.available[h][p].width))return!1}})}}),o.__instance._trigger({edit:function(t){s=t},event:e,helper:i,results:s,type:"positionTested"}),s.sort(function(t,e){if(t.whole&&!e.whole)return-1;if(!t.whole&&e.whole)return 1;if(t.whole&&e.whole){return(i=o.__options.side.indexOf(t.side))<(n=o.__options.side.indexOf(e.side))?-1:i>n?1:"natural"==t.mode?-1:1}if(t.fits&&!e.fits)return-1;if(!t.fits&&e.fits)return 1;if(t.fits&&e.fits){var i=o.__options.side.indexOf(t.side),n=o.__options.side.indexOf(e.side);return i<n?-1:i>n?1:"natural"==t.mode?-1:1}return"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1}),n=s[0],n.coord={},n.side){case"left":case"right":n.coord.top=Math.floor(n.target-n.size.height/2);break;case"bottom":case"top":n.coord.left=Math.floor(n.target-n.size.width/2)}switch(n.side){case"left":n.coord.left=i.geo.origin.windowOffset.left-n.outerSize.width;break;case"right":n.coord.left=i.geo.origin.windowOffset.right+n.distance.horizontal;break;case"top":n.coord.top=i.geo.origin.windowOffset.top-n.outerSize.height;break;case"bottom":n.coord.top=i.geo.origin.windowOffset.bottom+n.distance.vertical}"window"==n.container?"top"==n.side||"bottom"==n.side?n.coord.left<0?i.geo.origin.windowOffset.right-this.__options.minIntersection>=0?n.coord.left=0:n.coord.left=i.geo.origin.windowOffset.right-this.__options.minIntersection-1:n.coord.left>i.geo.window.size.width-n.size.width&&(i.geo.origin.windowOffset.left+this.__options.minIntersection<=i.geo.window.size.width?n.coord.left=i.geo.window.size.width-n.size.width:n.coord.left=i.geo.origin.windowOffset.left+this.__options.minIntersection+1-n.size.width):n.coord.top<0?i.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?n.coord.top=0:n.coord.top=i.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:n.coord.top>i.geo.window.size.height-n.size.height&&(i.geo.origin.windowOffset.top+this.__options.minIntersection<=i.geo.window.size.height?n.coord.top=i.geo.window.size.height-n.size.height:n.coord.top=i.geo.origin.windowOffset.top+this.__options.minIntersection+1-n.size.height):(n.coord.left>i.geo.window.size.width-n.size.width&&(n.coord.left=i.geo.window.size.width-n.size.width),n.coord.left<0&&(n.coord.left=0)),o.__sideChange(a,n.side),i.tooltipClone=a[0],i.tooltipParent=o.__instance.option("parent").parent[0],i.mode=n.mode,i.whole=n.whole,i.origin=o.__instance._$origin[0],i.tooltip=o.__instance._$tooltip[0],delete n.container,delete n.fits,delete n.mode,delete n.outerSize,delete n.whole,n.distance=n.distance.horizontal||n.distance.vertical;var d=t.extend(!0,{},n);if(o.__instance._trigger({edit:function(t){n=t},event:e,helper:i,position:d,type:"position"}),o.__options.functionPosition){var c=o.__options.functionPosition.call(o,o.__instance,i,d);c&&(n=c)}l.destroy();var p,f;"top"==n.side||"bottom"==n.side?(p={prop:"left",val:n.target-n.coord.left},f=n.size.width-this.__options.minIntersection):(p={prop:"top",val:n.target-n.coord.top},f=n.size.height-this.__options.minIntersection),p.val<this.__options.minIntersection?p.val=this.__options.minIntersection:p.val>f&&(p.val=f);var g;g=i.geo.origin.fixedLineage?i.geo.origin.windowOffset:{left:i.geo.origin.windowOffset.left+i.geo.window.scroll.left,top:i.geo.origin.windowOffset.top+i.geo.window.scroll.top},n.coord={left:g.left+(n.coord.left-i.geo.origin.windowOffset.left),top:g.top+(n.coord.top-i.geo.origin.windowOffset.top)},o.__sideChange(o.__instance._$tooltip,n.side),i.geo.origin.fixedLineage?o.__instance._$tooltip.css("position","fixed"):o.__instance._$tooltip.css("position",""),o.__instance._$tooltip.css({left:n.coord.left,top:n.coord.top,height:n.size.height,width:n.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(p.prop,p.val),o.__instance._$tooltip.appendTo(o.__instance.option("parent")),o.__instance._trigger({type:"repositioned",event:e,position:n})},__sideChange:function(t,e){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+e)},__targetFind:function(t){var e={},i=this.__instance._$origin[0].getClientRects();if(i.length>1){1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),i=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1))}if(i.length<2)e.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),e.bottom=e.top,e.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),e.right=e.left;else{var n=i[0];e.top=Math.floor(n.left+(n.right-n.left)/2),n=i.length>2?i[Math.ceil(i.length/2)-1]:i[0],e.right=Math.floor(n.top+(n.bottom-n.top)/2),n=i[i.length-1],e.bottom=Math.floor(n.left+(n.right-n.left)/2),n=i.length>2?i[Math.ceil((i.length+1)/2)-1]:i[i.length-1],e.left=Math.floor(n.top+(n.bottom-n.top)/2)}return e}}}),t}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(t){return function(e,i){if("__setXHR_"===e){var n=i(this);n instanceof Function&&n(this)}else t.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(t,e,i){function n(n){function o(t){u.notify&&u.notify(t),h.progressFunc&&i(function(){h.progressFunc(t)})}function a(t){return null!=n._start&&s?{loaded:t.loaded+n._start,total:n._file&&n._file.size||t.total,type:t.type,config:n,lengthComputable:!0,target:t.target}:t}function l(){t(n).then(function(t){if(s&&n._chunkSize&&!n._finished&&n._file){var e=n._file&&n._file.size||0;o({loaded:Math.min(n._end,e),total:e,config:n,type:"progress"}),r.upload(n,!0)}else n._finished&&delete n._finished,u.resolve(t)},function(t){u.reject(t)},function(t){u.notify(t)})}n.method=n.method||"POST",n.headers=n.headers||{};var u=n._deferred=n._deferred||e.defer(),h=u.promise;return n.disableProgress||(n.headers.__setXHR_=function(){return function(t){t&&t.upload&&t.upload.addEventListener&&(n.__XHR=t,n.xhrFn&&n.xhrFn(t),t.upload.addEventListener("progress",function(t){t.config=n,o(a(t))},!1),t.upload.addEventListener("load",function(t){t.lengthComputable&&(t.config=n,o(a(t)))},!1))}}),s?n._chunkSize&&n._end&&!n._finished?(n._start=n._end,n._end+=n._chunkSize,l()):n.resumeSizeUrl?t.get(n.resumeSizeUrl).then(function(t){n.resumeSizeResponseReader?n._start=n.resumeSizeResponseReader(t.data):n._start=parseInt((null==t.data.size?t.data:t.data.size).toString()),n._chunkSize&&(n._end=n._start+n._chunkSize),l()},function(t){throw t}):n.resumeSize?n.resumeSize().then(function(t){n._start=t,n._chunkSize&&(n._end=n._start+n._chunkSize),l()},function(t){throw t}):(n._chunkSize&&(n._start=0,n._end=n._start+n._chunkSize),l()):l(),h.success=function(t){return h.then(function(e){t(e.data,e.status,e.headers,n)}),h},h.error=function(t){return h.then(null,function(e){t(e.data,e.status,e.headers,n)}),h},h.progress=function(t){return h.progressFunc=t,h.then(null,null,function(e){t(e)}),h},h.abort=h.pause=function(){return n.__XHR&&i(function(){n.__XHR.abort()}),h},h.xhr=function(t){return n.xhrFn=function(e){return function(){e&&e.apply(h,arguments),t.apply(h,arguments)}}(n.xhrFn),h},r.promisesCount++,h.finally&&h.finally instanceof Function&&h.finally(function(){r.promisesCount--}),h}function o(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}var r=this;r.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var s=this.isResumeSupported();this.isUploadInProgress=function(){return r.promisesCount>0},this.rename=function(t,e){return t.ngfName=e,t},this.jsonBlob=function(t){null==t||angular.isString(t)||(t=JSON.stringify(t));var e=new window.Blob([t],{type:"application/json"});return e._ngfBlob=!0,e},this.json=function(t){return angular.toJson(t)},this.isFile=function(t){return null!=t&&(t instanceof window.Blob||t.flashId&&t.name&&t.size)},this.upload=function(t,e){function i(e,n,o){if(void 0!==n)if(angular.isDate(n)&&(n=n.toISOString()),angular.isString(n))e.append(o,n);else if(r.isFile(n)){var a=function(e,i){if(e._ngfBlob)return e;if(t._file=t._file||e,null!=t._start&&s){t._end&&t._end>=e.size&&(t._finished=!0,t._end=e.size);var n=e.slice(t._start,t._end||e.size);return n.name=e.name,n.ngfName=e.ngfName,t._chunkSize&&(i.append("_chunkSize",t._chunkSize),i.append("_currentChunkSize",t._end-t._start),i.append("_chunkNumber",Math.floor(t._start/t._chunkSize)),i.append("_totalSize",t._file.size)),n}return e}(n,e),l=o.split(",");l[1]&&(a.ngfName=l[1].replace(/^\s+|\s+$/g,""),o=l[0]),t._fileKey=t._fileKey||o,e.append(o,a,a.ngfName||a.name)}else if(angular.isObject(n)){if(n.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+o;n.$$ngfCircularDetection=!0;try{for(var u in n)if(n.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var h=null==t.objectKey?"[i]":t.objectKey;n.length&&parseInt(u)>-1&&(h=null==t.arrayKey?h:t.arrayKey),i(e,n[u],o+h.replace(/[ik]/g,u))}}finally{delete n.$$ngfCircularDetection}}else e.append(o,n)}return e||(t=o(t)),t._isDigested||(t._isDigested=!0,t._chunkSize=r.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,t.headers=t.headers||{},t.headers["Content-Type"]=void 0,t.transformRequest=t.transformRequest?angular.isArray(t.transformRequest)?t.transformRequest:[t.transformRequest]:[],t.transformRequest.push(function(e){var n,o=new window.FormData;e=e||t.fields||{},t.file&&(e.file=t.file);for(n in e)if(e.hasOwnProperty(n)){var r=e[n];t.formDataAppender?t.formDataAppender(o,n,r):i(o,r,n)}return o})),n(t)},this.http=function(e){return e=o(e),e.transformRequest=e.transformRequest||function(e){return window.ArrayBuffer&&e instanceof window.ArrayBuffer||e instanceof window.Blob?e:t.defaults.transformRequest[0].apply(this,arguments)},e._chunkSize=r.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,n(e)},this.translateScalars=function(t){if(angular.isString(t)){if(t.search(/kb/i)===t.length-2)return parseFloat(1024*t.substring(0,t.length-2));if(t.search(/mb/i)===t.length-2)return parseFloat(1048576*t.substring(0,t.length-2));if(t.search(/gb/i)===t.length-2)return parseFloat(1073741824*t.substring(0,t.length-2));if(t.search(/b/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/s/i)===t.length-1)return parseFloat(t.substring(0,t.length-1));if(t.search(/m/i)===t.length-1)return parseFloat(60*t.substring(0,t.length-1));if(t.search(/h/i)===t.length-1)return parseFloat(3600*t.substring(0,t.length-1))}return t},this.urlToBlob=function(i){var n=e.defer();return t({url:i,method:"get",responseType:"arraybuffer"}).then(function(t){var e=new Uint8Array(t.data),o=t.headers("content-type")||"image/WebP",r=new window.Blob([e],{type:o}),s=i.match(/.*\/(.+?)(\?.*)?$/);s.length>1&&(r.name=s[1]),n.resolve(r)},function(t){n.reject(t)}),n.promise},this.setDefaults=function(t){this.defaults=t||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(t,e,i,n,o){function r(t,e,i,o,r){function a(n,a){if(0===n.type.indexOf("image")){if(t.pattern&&!s.validatePattern(n,t.pattern))return;t.resizeIf=function(t,e){return s.attrGetter("ngfResizeIf",i,o,{$width:t,$height:e,$file:n})};var u=s.resize(n,t);l.push(u),u.then(function(t){e.splice(a,1,t)},function(t){n.$error="resize",(n.$errorMessages=n.$errorMessages||{}).resize=!0,n.$errorParam=(t?(t.message?t.message:t)+": ":"")+(n&&n.name),r.$ngfValidations.push({name:"resize",valid:!1}),s.applyModelValidation(r,e)})}}for(var l=[s.emptyPromise()],u=0;u<e.length;u++)a(e[u],u);return n.all(l)}var s=o;return s.getAttrWithDefaults=function(t,e){if(null!=t[e])return t[e];var i=s.defaults[e];return null==i?i:angular.isString(i)?i:JSON.stringify(i)},s.attrGetter=function(e,i,n,o){var r=this.getAttrWithDefaults(i,e);if(!n)return r;try{return o?t(r)(n,o):t(r)(n)}catch(t){if(e.search(/min|max|pattern/i))return r;throw t}},s.shouldUpdateOn=function(t,e,i){var n=s.attrGetter("ngfModelOptions",e,i);return!n||!n.updateOn||n.updateOn.split(" ").indexOf(t)>-1},s.emptyPromise=function(){var t=n.defer(),i=arguments;return e(function(){t.resolve.apply(t,i)}),t.promise},s.rejectPromise=function(){var t=n.defer(),i=arguments;return e(function(){t.reject.apply(t,i)}),t.promise},s.happyPromise=function(t,i){var o=n.defer();return t.then(function(t){o.resolve(t)},function(t){e(function(){throw t}),o.resolve(i)}),o.promise},s.updateModel=function(i,o,a,l,u,h,d){function c(n,r,u,d,c){o.$$ngfPrevValidFiles=n,o.$$ngfPrevInvalidFiles=r;var p=n&&n.length?n[0]:null,f=r&&r.length?r[0]:null;i&&(s.applyModelValidation(i,n),i.$setViewValue(c?p:n)),l&&t(l)(a,{$files:n,$file:p,$newFiles:u,$duplicateFiles:d,$invalidFiles:r,$invalidFile:f,$event:h});var g=s.attrGetter("ngfModelInvalid",o);g&&e(function(){t(g).assign(a,c?f:r)}),e(function(){})}function p(){function t(){e(function(){c(y?g.concat(_):_,y?m.concat(v):v,u,w,b)},k&&k.debounce?k.debounce.change||k.debounce:0)}var l=z?f:_;(function(t,e,i,o){var a=s.attrGetter("ngfResize",e,i);if(!a||!s.isResizeSupported()||!t.length)return s.emptyPromise();if(a instanceof Function){var l=n.defer();return a(t).then(function(n){r(n,t,e,i,o).then(function(t){l.resolve(t)},function(t){l.reject(t)})},function(t){l.reject(t)})}return r(a,t,e,i,o)})(l,o,a,i).then(function(){z?s.validate(f,y?g.length:0,i,o,a).then(function(e){_=e.validsFiles,v=e.invalidsFiles,t()}):t()},function(){for(var e=0;e<l.length;e++){var i=l[e];if("resize"===i.$error){var n=_.indexOf(i);n>-1&&(_.splice(n,1),v.push(i)),t()}}})}var f,g,m,w=[],v=[],_=[];g=o.$$ngfPrevValidFiles||[],m=o.$$ngfPrevInvalidFiles||[],i&&i.$modelValue&&(g=function(t){return angular.isArray(t)?t:[t]}(i.$modelValue));var y=s.attrGetter("ngfKeep",o,a);f=(u||[]).slice(0),"distinct"!==y&&!0!==s.attrGetter("ngfKeepDistinct",o,a)||function(){function t(t,e){return t.name===e.name&&(t.$ngfOrigSize||t.size)===(e.$ngfOrigSize||e.size)&&t.type===e.type}function e(e){var i;for(i=0;i<g.length;i++)if(t(e,g[i]))return!0;for(i=0;i<m.length;i++)if(t(e,m[i]))return!0;return!1}if(u){f=[],w=[];for(var i=0;i<u.length;i++)e(u[i])?w.push(u[i]):f.push(u[i])}}();var b=!y&&!s.attrGetter("ngfMultiple",o,a)&&!s.attrGetter("multiple",o);if(!y||f.length){s.attrGetter("ngfBeforeModelChange",o,a,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:f,$duplicateFiles:w,$event:h});var z=s.attrGetter("ngfValidateAfterResize",o,a),k=s.attrGetter("ngfModelOptions",o,a);s.validate(f,y?g.length:0,i,o,a).then(function(t){d?c(f,[],u,w,b):(k&&k.allowInvalid||z?_=f:(_=t.validFiles,v=t.invalidFiles),s.attrGetter("ngfFixOrientation",o,a)&&s.isExifSupported()?function(t,e,i){var o=[s.emptyPromise()];return angular.forEach(t,function(n,r){0===n.type.indexOf("image/jpeg")&&s.attrGetter("ngfFixOrientation",e,i,{$file:n})&&o.push(s.happyPromise(s.applyExifRotation(n),n).then(function(e){t.splice(r,1,e)}))}),n.all(o)}(_,o,a).then(function(){p()}):p())})}},s}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(t,e,i,n){function o(t,e,i,o,s,a,l,u){function h(){return"input"===e[0].tagName.toLowerCase()&&i.type&&"file"===i.type.toLowerCase()}function d(){return w("ngfChange")||w("ngfSelect")}function c(e){if(u.shouldUpdateOn("change",i,t)){var n=e.__files_||e.target&&e.target.files,r=[];if(!n)return;for(var s=0;s<n.length;s++)r.push(n[s]);u.updateModel(o,i,t,d(),r.length?r:null,e)}}function p(){if(h())return e;var t=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),function(t,n){function o(e){t.attr("id","ngf-"+e),n.attr("id","ngf-label-"+e)}for(var r=0;r<e[0].attributes.length;r++){var s=e[0].attributes[r];"type"!==s.name&&"class"!==s.name&&"style"!==s.name&&("id"===s.name?(o(s.value),v.push(i.$observe("id",o))):t.attr(s.name,s.value||"required"!==s.name&&"multiple"!==s.name?s.value:s.name))}}(t,n),r.push({el:e,ref:n}),document.body.appendChild(n.append(t)[0]),t}function f(i){if(e.attr("disabled"))return!1;if(!w("ngfSelectDisabled",t)){var o=function(t){var e=t.changedTouches||t.originalEvent&&t.originalEvent.changedTouches;if(e){if("touchstart"===t.type)return y=e[0].clientX,_=e[0].clientY,!0;if("touchend"===t.type){var i=e[0].clientX,n=e[0].clientY;if(Math.abs(i-y)>20||Math.abs(n-_)>20)return t.stopPropagation(),t.preventDefault(),!1}return!0}}(i);if(null!=o)return o;g(i);try{h()||document.body.contains(b[0])||(r.push({el:e,ref:b.parent()}),document.body.appendChild(b.parent()[0]),b.bind("change",c))}catch(t){}return!function(t){var e=t.match(/Android[^\d]*(\d+)\.(\d+)/);if(e&&e.length>2){var i=n.defaults.androidFixMinorVersion||4;return parseInt(e[1])<4||parseInt(e[1])===i&&parseInt(e[2])<i}return-1===t.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(t)}(navigator.userAgent)?b[0].click():setTimeout(function(){b[0].click()},0),!1}}function g(e){u.shouldUpdateOn("click",i,t)&&b.val()&&(b.val(null),u.updateModel(o,i,t,d(),null,e,!0))}function m(t){if(b&&!b.attr("__ngf_ie10_Fix_")){if(!b[0].parentNode)return void(b=null);t.preventDefault(),t.stopPropagation(),b.unbind("click");var e=b.clone();return b.replaceWith(e),(b=e).attr("__ngf_ie10_Fix_","true"),b.bind("change",c),b.bind("click",m),b[0].click(),!1}b.removeAttr("__ngf_ie10_Fix_")}var w=function(t,e){return u.attrGetter(t,i,e)};u.registerModelChangeValidator(o,i,t);var v=[];w("ngfMultiple")&&v.push(t.$watch(w("ngfMultiple"),function(){b.attr("multiple",w("ngfMultiple",t))})),w("ngfCapture")&&v.push(t.$watch(w("ngfCapture"),function(){b.attr("capture",w("ngfCapture",t))})),w("ngfAccept")&&v.push(t.$watch(w("ngfAccept"),function(){b.attr("accept",w("ngfAccept",t))})),v.push(i.$observe("accept",function(){b.attr("accept",w("accept"))}));var _=0,y=0,b=e;h()||(b=p()),b.bind("change",c),h()?e.bind("click",g):e.bind("click touchstart touchend",f),-1!==navigator.appVersion.indexOf("MSIE 10")&&b.bind("click",m),o&&o.$formatters.push(function(t){return null!=t&&0!==t.length||b.val()&&b.val(null),t}),t.$on("$destroy",function(){h()||b.parent().remove(),angular.forEach(v,function(t){t()})}),a(function(){for(var t=0;t<r.length;t++){var e=r[t];document.body.contains(e.el[0])||(r.splice(t,1),e.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(e,b,c)}var r=[];return{restrict:"AEC",require:"?ngModel",link:function(t,i,r,s){o(t,i,r,s,0,e,0,n)}}}]),function(){function t(t,e,i,n,o,r,s,a){function l(r){var s=t.attrGetter("ngfNoObjectUrl",o,i);t.dataUrl(r,s).finally(function(){e(function(){var t=(s?r.$ngfDataUrl:r.$ngfBlobUrl)||r.$ngfDataUrl;a?n.css("background-image","url('"+(t||"")+"')"):n.attr("src",t),t?n.removeClass("ng-hide"):n.addClass("ng-hide")})})}e(function(){var e=i.$watch(o[r],function(e){var u=s;if("ngfThumbnail"===r&&(u||(u={width:n[0].naturalWidth||n[0].clientWidth,height:n[0].naturalHeight||n[0].clientHeight}),0===u.width&&window.getComputedStyle)){var h=getComputedStyle(n[0]);h.width&&h.width.indexOf("px")>-1&&h.height&&h.height.indexOf("px")>-1&&(u={width:parseInt(h.width.slice(0,-2)),height:parseInt(h.height.slice(0,-2))})}if(angular.isString(e))return n.removeClass("ng-hide"),a?n.css("background-image","url('"+e+"')"):n.attr("src",e);!e||!e.type||0!==e.type.search(function(t){return"img"===t.tagName.toLowerCase()?"image":"audio"===t.tagName.toLowerCase()?"audio":"video"===t.tagName.toLowerCase()?"video":/./}(n[0]))||a&&0!==e.type.indexOf("image")?n.addClass("ng-hide"):u&&t.isResizeSupported()?(u.resizeIf=function(n,r){return t.attrGetter("ngfResizeIf",o,i,{$width:n,$height:r,$file:e})},t.resize(e,u).then(function(t){l(t)},function(t){throw t})):l(e)});i.$on("$destroy",function(){e()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(t,e,i){var n=t;return n.base64DataUrl=function(t){if(angular.isArray(t)){var e=i.defer(),o=0;return angular.forEach(t,function(i){n.dataUrl(i,!0).finally(function(){if(++o===t.length){var i=[];angular.forEach(t,function(t){i.push(t.$ngfDataUrl)}),e.resolve(i,t)}})}),e.promise}return n.dataUrl(t,!0)},n.dataUrl=function(t,o){if(!t)return n.emptyPromise(t,t);if(o&&null!=t.$ngfDataUrl||!o&&null!=t.$ngfBlobUrl)return n.emptyPromise(o?t.$ngfDataUrl:t.$ngfBlobUrl,t);var r=o?t.$$ngfDataUrlPromise:t.$$ngfBlobUrlPromise;if(r)return r;var s=i.defer();return e(function(){if(window.FileReader&&t&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||t.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||t.size<4e6)){var i=window.URL||window.webkitURL;if(i&&i.createObjectURL&&!o){var r;try{r=i.createObjectURL(t)}catch(i){return void e(function(){t.$ngfBlobUrl="",s.reject()})}e(function(){if(t.$ngfBlobUrl=r,r){s.resolve(r,t),n.blobUrls=n.blobUrls||[],n.blobUrlsTotalSize=n.blobUrlsTotalSize||0,n.blobUrls.push({url:r,size:t.size}),n.blobUrlsTotalSize+=t.size||0;for(var e=n.defaults.blobUrlsMaxMemory||268435456,o=n.defaults.blobUrlsMaxQueueSize||200;(n.blobUrlsTotalSize>e||n.blobUrls.length>o)&&n.blobUrls.length>1;){var a=n.blobUrls.splice(0,1)[0];i.revokeObjectURL(a.url),n.blobUrlsTotalSize-=a.size}}})}else{var a=new FileReader;a.onload=function(i){e(function(){t.$ngfDataUrl=i.target.result,s.resolve(i.target.result,t),e(function(){delete t.$ngfDataUrl},1e3)})},a.onerror=function(){e(function(){t.$ngfDataUrl="",s.reject()})},a.readAsDataURL(t)}}else e(function(){t[o?"$ngfDataUrl":"$ngfBlobUrl"]="",s.reject()})}),(r=o?t.$$ngfDataUrlPromise=s.promise:t.$$ngfBlobUrlPromise=s.promise).finally(function(){delete t[o?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),r},n}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(e,i){return{restrict:"AE",link:function(n,o,r){t(e,i,n,o,r,"ngfSrc",e.attrGetter("ngfResize",r,n),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(e,i){return{restrict:"AE",link:function(n,o,r){t(e,i,n,o,r,"ngfBackground",e.attrGetter("ngfResize",r,n),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(e,i){return{restrict:"AE",link:function(n,o,r){var s=e.attrGetter("ngfSize",r,n);t(e,i,n,o,r,"ngfThumbnail",s,e.attrGetter("ngfAsBackground",r,n))}}}]),ngFileUpload.config(["$compileProvider",function(t){t.imgSrcSanitizationWhitelist&&t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),t.aHrefSanitizationWhitelist&&t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(t,e){return function(i,n,o){if(angular.isString(i))return e.trustAsResourceUrl(i);var r=i&&((n?i.$ngfDataUrl:i.$ngfBlobUrl)||i.$ngfDataUrl);return i&&!r?(!i.$ngfDataUrlFilterInProgress&&angular.isObject(i)&&(i.$ngfDataUrlFilterInProgress=!0,t.dataUrl(i,n)),""):(i&&delete i.$ngfDataUrlFilterInProgress,(i&&r?o?e.trustAsResourceUrl(r):r:i)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(t,e,i){function n(t){var e="",i=[];if(t.length>2&&"/"===t[0]&&"/"===t[t.length-1])e=t.substring(1,t.length-1);else{var o=t.split(",");if(o.length>1)for(var r=0;r<o.length;r++){var s=n(o[r]);s.regexp?(e+="("+s.regexp+")",r<o.length-1&&(e+="|")):i=i.concat(s.excludes)}else 0===t.indexOf("!")?i.push("^((?!"+n(t.substring(1)).regexp+").)*$"):(0===t.indexOf(".")&&(t="*"+t),e=(e="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$").replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:e,excludes:i}}var o=t;return o.validatePattern=function(t,e){if(!e)return!0;var i=n(e),o=!0;if(i.regexp&&i.regexp.length){var r=new RegExp(i.regexp,"i");o=null!=t.type&&r.test(t.type)||null!=t.name&&r.test(t.name)}for(var s=i.excludes.length;s--;){var a=new RegExp(i.excludes[s],"i");o=o&&(null==t.type||a.test(t.type))&&(null==t.name||a.test(t.name))}return o},o.ratioToFloat=function(t){var e=t.toString(),i=e.search(/[x:]/i);return e=i>-1?parseFloat(e.substring(0,i))/parseFloat(e.substring(i+1)):parseFloat(e)},o.registerModelChangeValidator=function(t,e,i){t&&t.$formatters.push(function(n){if(t.$dirty){var r=n;n&&!angular.isArray(n)&&(r=[n]),o.validate(r,0,t,e,i).then(function(){o.applyModelValidation(t,r)})}return n})},o.applyModelValidation=function(t,e){!function(t,e){null==e||t.$dirty||(t.$setDirty?t.$setDirty():t.$dirty=!0)}(t,e),angular.forEach(t.$ngfValidations,function(e){t.$setValidity(e.name,e.valid)})},o.getValidationAttr=function(t,e,i,n,r){var s="ngf"+i[0].toUpperCase()+i.substr(1),a=o.attrGetter(s,t,e,{$file:r});if(null==a&&(a=o.attrGetter("ngfValidate",t,e,{$file:r}))){var l=(n||i).split(".");a=a[l[0]],l.length>1&&(a=a&&a[l[1]])}return a},o.validate=function(t,i,n,r,s){function a(e,i,a){if(t){for(var l=t.length,u=null;l--;){var p=t[l];if(p){var f=o.getValidationAttr(r,s,e,i,p);null!=f&&(a(p,f,l)||(-1===h.indexOf(e)?(p.$error=e,(p.$errorMessages=p.$errorMessages||{})[e]=!0,p.$errorParam=f,-1===c.indexOf(p)&&c.push(p),d||t.splice(l,1),u=!1):t.splice(l,1)))}}null!==u&&n.$ngfValidations.push({name:e,valid:u})}}function l(i,a,l,p,f){function g(e,n,o){function r(r){if(r())if(-1===h.indexOf(i)){if(n.$error=i,(n.$errorMessages=n.$errorMessages||{})[i]=!0,n.$errorParam=o,-1===c.indexOf(n)&&c.push(n),!d){var s=t.indexOf(n);s>-1&&t.splice(s,1)}e.resolve(!1)}else{var a=t.indexOf(n);a>-1&&t.splice(a,1),e.resolve(!0)}else e.resolve(!0)}null!=o?p(n,o).then(function(t){r(function(){return!f(t,o)})},function(){r(function(){return u("ngfValidateForce",{$file:n})})}):e.resolve(!0)}var m=[o.emptyPromise(!0)];t&&(t=void 0===t.length?[t]:t,angular.forEach(t,function(t){var n=e.defer();m.push(n.promise),!l||null!=t.type&&0===t.type.search(l)?"dimensions"===i&&null!=o.attrGetter("ngfDimensions",r)?o.imageDimensions(t).then(function(e){g(n,t,u("ngfDimensions",{$file:t,$width:e.width,$height:e.height}))},function(){n.resolve(!1)}):"duration"===i&&null!=o.attrGetter("ngfDuration",r)?o.mediaDuration(t).then(function(e){g(n,t,u("ngfDuration",{$file:t,$duration:e}))},function(){n.resolve(!1)}):g(n,t,o.getValidationAttr(r,s,i,a,t)):n.resolve(!0)}));var w=e.defer();return e.all(m).then(function(t){for(var e=!0,o=0;o<t.length;o++)if(!t[o]){e=!1;break}n.$ngfValidations.push({name:i,valid:e}),w.resolve(e)}),w.promise}(n=n||{}).$ngfValidations=n.$ngfValidations||[],angular.forEach(n.$ngfValidations,function(t){t.valid=!0});var u=function(t,e){return o.attrGetter(t,r,s,e)},h=(o.attrGetter("ngfIgnoreInvalid",r,s)||"").split(" "),d=o.attrGetter("ngfRunAllValidations",r,s);if(null==t||0===t.length)return o.emptyPromise({validFiles:t,invalidFiles:[]});t=void 0===t.length?[t]:t.slice(0);var c=[];a("pattern",null,o.validatePattern),a("minSize","size.min",function(t,e){return t.size+.1>=o.translateScalars(e)}),a("maxSize","size.max",function(t,e){return t.size-.1<=o.translateScalars(e)});var p=0;if(a("maxTotalSize",null,function(e,i){return!((p+=e.size)>o.translateScalars(i)&&(t.splice(0,t.length),1))}),a("validateFn",null,function(t,e){return!0===e||null===e||""===e}),!t.length)return o.emptyPromise({validFiles:[],invalidFiles:c});var f=e.defer(),g=[];return g.push(l("maxHeight","height.max",/image/,this.imageDimensions,function(t,e){return t.height<=e})),g.push(l("minHeight","height.min",/image/,this.imageDimensions,function(t,e){return t.height>=e})),g.push(l("maxWidth","width.max",/image/,this.imageDimensions,function(t,e){return t.width<=e})),g.push(l("minWidth","width.min",/image/,this.imageDimensions,function(t,e){return t.width>=e})),g.push(l("dimensions",null,/image/,function(t,e){return o.emptyPromise(e)},function(t){return t})),g.push(l("ratio",null,/image/,this.imageDimensions,function(t,e){for(var i=e.toString().split(","),n=!1,r=0;r<i.length;r++)Math.abs(t.width/t.height-o.ratioToFloat(i[r]))<.01&&(n=!0);return n})),g.push(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(t,e){return t.width/t.height-o.ratioToFloat(e)<1e-4})),g.push(l("minRatio","ratio.min",/image/,this.imageDimensions,function(t,e){return t.width/t.height-o.ratioToFloat(e)>-1e-4})),g.push(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(t,e){return t<=o.translateScalars(e)})),g.push(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(t,e){return t>=o.translateScalars(e)})),g.push(l("duration",null,/audio|video/,function(t,e){return o.emptyPromise(e)},function(t){return t})),g.push(l("validateAsyncFn",null,null,function(t,e){return e},function(t){return!0===t||null===t||""===t})),e.all(g).then(function(){if(d)for(var e=0;e<t.length;e++){t[e].$error&&t.splice(e--,1)}d=!1,a("maxFiles",null,function(t,e,n){return i+n<e}),f.resolve({validFiles:t,invalidFiles:c})}),f.promise},o.imageDimensions=function(t){if(t.$ngfWidth&&t.$ngfHeight){var n=e.defer();return i(function(){n.resolve({width:t.$ngfWidth,height:t.$ngfHeight})}),n.promise}if(t.$ngfDimensionPromise)return t.$ngfDimensionPromise;var r=e.defer();return i(function(){0===t.type.indexOf("image")?o.dataUrl(t).then(function(e){function n(){var e=a[0].naturalWidth||a[0].clientWidth,i=a[0].naturalHeight||a[0].clientHeight;a.remove(),t.$ngfWidth=e,t.$ngfHeight=i,r.resolve({width:e,height:i})}function o(){a.remove(),r.reject("load error")}function s(){i(function(){a[0].parentNode&&(a[0].clientWidth?n():l++>10?o():s())},1e3)}var a=angular.element("<img>").attr("src",e).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");a.on("load",n),a.on("error",o);var l=0;s(),angular.element(document.getElementsByTagName("body")[0]).append(a)},function(){r.reject("load error")}):r.reject("not image")}),t.$ngfDimensionPromise=r.promise,t.$ngfDimensionPromise.finally(function(){delete t.$ngfDimensionPromise}),t.$ngfDimensionPromise},o.mediaDuration=function(t){if(t.$ngfDuration){var n=e.defer();return i(function(){n.resolve(t.$ngfDuration)}),n.promise}if(t.$ngfDurationPromise)return t.$ngfDurationPromise;var r=e.defer();return i(function(){0===t.type.indexOf("audio")||0===t.type.indexOf("video")?o.dataUrl(t).then(function(e){function n(){var e=a[0].duration;t.$ngfDuration=e,a.remove(),r.resolve(e)}function o(){a.remove(),r.reject("load error")}function s(){i(function(){a[0].parentNode&&(a[0].duration?n():l>10?o():s())},1e3)}var a=angular.element(0===t.type.indexOf("audio")?"<audio>":"<video>").attr("src",e).css("visibility","none").css("position","fixed");a.on("loadedmetadata",n),a.on("error",o);var l=0;s(),angular.element(document.body).append(a)},function(){r.reject("load error")}):r.reject("not media")}),t.$ngfDurationPromise=r.promise,t.$ngfDurationPromise.finally(function(){delete t.$ngfDurationPromise}),t.$ngfDurationPromise},o}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(t,e){var i=t;return i.dataUrltoBlob=function(t,e,i){for(var n=t.split(","),o=n[0].match(/:(.*?);/)[1],r=atob(n[1]),s=r.length,a=new Uint8Array(s);s--;)a[s]=r.charCodeAt(s);var l=new window.Blob([a],{type:o});return l.name=e,l.$ngfOrigSize=i,l},i.isResizeSupported=function(){var t=document.createElement("canvas");return window.atob&&t.getContext&&t.getContext("2d")&&window.Blob},i.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(t){this.$ngfName=t},configurable:!0}),i.resize=function(t,n){if(0!==t.type.indexOf("image"))return i.emptyPromise(t);var o=e.defer();return i.dataUrl(t,!0).then(function(r){(function(t,n,o,r,s,a,l,u){var h=e.defer(),d=document.createElement("canvas"),c=document.createElement("img");return c.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(c),c.onload=function(){var t=c.width,e=c.height;if(c.parentNode.removeChild(c),null==u||!1!==u(t,e))try{if(a){var p=i.ratioToFloat(a);t/e<p?o=(n=t)/p:n=(o=e)*p}n||(n=t),o||(o=e);var f=function(t,e,i,n,o){var r=o?Math.max(i/t,n/e):Math.min(i/t,n/e);return{width:t*r,height:e*r,marginX:t*r-i,marginY:e*r-n}}(t,e,n,o,l);d.width=Math.min(f.width,n),d.height=Math.min(f.height,o),d.getContext("2d").drawImage(c,Math.min(0,-f.marginX/2),Math.min(0,-f.marginY/2),f.width,f.height),h.resolve(d.toDataURL(s||"image/WebP",r||.934))}catch(t){h.reject(t)}else h.reject("resizeIf")},c.onerror=function(){c.parentNode.removeChild(c),h.reject()},c.src=t,h.promise})(r,n.width,n.height,n.quality,n.type||t.type,n.ratio,n.centerCrop,n.resizeIf).then(function(e){if("image/jpeg"===t.type&&!1!==n.restoreExif)try{e=i.restoreExif(r,e)}catch(t){setTimeout(function(){throw t},1)}try{var s=i.dataUrltoBlob(e,t.name,t.size);o.resolve(s)}catch(t){o.reject(t)}},function(e){"resizeIf"===e&&o.resolve(t),o.reject(e)})},function(t){o.reject(t)}),o.promise},i}]),function(){function t(t,i,n,o,r,s,a,l,u,h){function d(){return i.attr("disabled")||g("ngfDropDisabled",t)}function c(e,i,o){if(e){var r;try{r=e&&e.getData&&e.getData("text/html")}catch(t){}(function(e,i,o,r){function s(t,e){var i=h.defer();if(null!=t)if(t.isDirectory){var n=[l.emptyPromise()];if(c){var o={type:"directory"};o.name=o.path=(e||"")+t.name,p.push(o)}var r=t.createReader(),a=[],g=function(){r.readEntries(function(o){try{o.length?(a=a.concat(Array.prototype.slice.call(o||[],0)),g()):(angular.forEach(a.slice(0),function(i){p.length<=u&&f<=d&&n.push(s(i,(e||"")+t.name+"/"))}),h.all(n).then(function(){i.resolve()},function(t){i.reject(t)}))}catch(t){i.reject(t)}},function(t){i.reject(t)})};g()}else t.file(function(t){try{t.path=(e||"")+t.name,c&&(t=l.rename(t,t.path)),p.push(t),f+=t.size,i.resolve()}catch(t){i.reject(t)}},function(t){i.reject(t)});return i.promise}var u=l.getValidationAttr(n,t,"maxFiles");null==u&&(u=Number.MAX_VALUE);var d=l.getValidationAttr(n,t,"maxTotalSize");null==d&&(d=Number.MAX_VALUE);var c=g("ngfIncludeDir",t),p=[],f=0;var m=[l.emptyPromise()];if(e&&e.length>0&&"file:"!==a.location.protocol)for(var w=0;w<e.length;w++){if(e[w].webkitGetAsEntry&&e[w].webkitGetAsEntry()&&e[w].webkitGetAsEntry().isDirectory){var v=e[w].webkitGetAsEntry();if(v.isDirectory&&!o)continue;null!=v&&m.push(s(v))}else{var _=e[w].getAsFile();null!=_&&(p.push(_),f+=_.size)}if(p.length>u||f>d||!r&&p.length>0)break}else if(null!=i)for(var y=0;y<i.length;y++){var b=i.item(y);if((b.type||b.size>0)&&(p.push(b),f+=b.size),p.length>u||f>d||!r&&p.length>0)break}var z=h.defer();return h.all(m).then(function(){if(r||c||!p.length)z.resolve(p);else{for(var t=0;p[t]&&"directory"===p[t].type;)t++;z.resolve([p[t]])}},function(t){z.reject(t)}),z.promise})(e.items,e.files,!1!==g("ngfAllowDir",t),g("multiple")||g("ngfMultiple",t)).then(function(e){e.length?p(e,i):function(e,i){if(!l.shouldUpdateOn(e,n,t)||"string"!=typeof i)return l.rejectPromise([]);var o=[];i.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(t,e,i){o.push(i)});var r=[],s=[];if(o.length){angular.forEach(o,function(t){r.push(l.urlToBlob(t).then(function(t){s.push(t)}))});var a=h.defer();return h.all(r).then(function(){a.resolve(s)},function(t){a.reject(t)}),a.promise}return l.emptyPromise()}(o,r).then(function(t){p(t,i)})})}}function p(e,i){l.updateModel(o,n,t,g("ngfChange")||g("ngfDrop"),e,i)}var f=e(),g=function(t,e,i){return l.attrGetter(t,n,e,i)};if(g("dropAvailable")&&s(function(){t[g("dropAvailable")]?t[g("dropAvailable")].value=f:t[g("dropAvailable")]=f}),f){null==g("ngfSelect")&&l.registerModelChangeValidator(o,n,t);var m,w=null,v=r(g("ngfStopPropagation")),_=1;i[0].addEventListener("dragover",function(e){if(!d()&&l.shouldUpdateOn("drop",n,t)){if(e.preventDefault(),v(t)&&e.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var o=e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===o||"linkMove"===o?"move":"copy"}s.cancel(w),m||(m="C",function(t,e,i,n){var o=g("ngfDragOverClass",t,{$event:i}),r="dragover";if(angular.isString(o))r=o;else if(o&&(o.delay&&(_=o.delay),o.accept||o.reject)){var s=i.dataTransfer.items;if(null!=s&&s.length)for(var a=o.pattern||g("ngfPattern",t,{$event:i}),u=s.length;u--;){if(!l.validatePattern(s[u],a)){r=o.reject;break}r=o.accept}else r=o.accept}n(r)}(t,0,e,function(n){m=n,i.addClass(m),g("ngfDrag",t,{$isDragging:!0,$class:m,$event:e})}))}},!1),i[0].addEventListener("dragenter",function(e){!d()&&l.shouldUpdateOn("drop",n,t)&&(e.preventDefault(),v(t)&&e.stopPropagation())},!1),i[0].addEventListener("dragleave",function(e){!d()&&l.shouldUpdateOn("drop",n,t)&&(e.preventDefault(),v(t)&&e.stopPropagation(),w=s(function(){m&&i.removeClass(m),m=null,g("ngfDrag",t,{$isDragging:!1,$event:e})},_||100))},!1),i[0].addEventListener("drop",function(e){!d()&&l.shouldUpdateOn("drop",n,t)&&(e.preventDefault(),v(t)&&e.stopPropagation(),m&&i.removeClass(m),m=null,c(e.dataTransfer,e,"dropUrl"))},!1),i[0].addEventListener("paste",function(e){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&g("ngfEnableFirefoxPaste",t)&&e.preventDefault(),!d()&&l.shouldUpdateOn("paste",n,t)&&c(e.clipboardData||e.originalEvent.clipboardData,e,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&g("ngfEnableFirefoxPaste",t)&&(i.attr("contenteditable",!0),i.on("keypress",function(t){t.metaKey||t.ctrlKey||t.preventDefault()}))}else!0===g("ngfHideOnDropNotAvailable",t)&&i.css("display","none")}function e(){var t=document.createElement("div");return"draggable"in t&&"ondrop"in t&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(e,i,n,o,r,s){return{restrict:"AEC",require:"?ngModel",link:function(r,a,l,u){t(r,a,l,u,e,i,n,o,0,s)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(t,i){e()&&i.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(t,i,n){return function(o,r,s){if(e()){var a=t(n.attrGetter("ngfDropAvailable",s));i(function(){a(o),a.assign&&a.assign(o,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(t,e){var i=t;return i.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&i.isResizeSupported()},i.readOrientation=function(t){var i=e.defer(),n=new FileReader,o=t.slice?t.slice(0,65536):t;return n.readAsArrayBuffer(o),n.onerror=function(t){return i.reject(t)},n.onload=function(t){var e={orientation:1},n=new DataView(this.result);if(65496!==n.getUint16(0,!1))return i.resolve(e);for(var o=n.byteLength,r=2;r<o;){var s=n.getUint16(r,!1);if(r+=2,65505===s){if(1165519206!==n.getUint32(r+=2,!1))return i.resolve(e);var a=18761===n.getUint16(r+=6,!1);r+=n.getUint32(r+4,a);var l=n.getUint16(r,a);r+=2;for(var u=0;u<l;u++)if(274===n.getUint16(r+12*u,a)){var h=n.getUint16(r+12*u+8,a);return h>=2&&h<=8&&(n.setUint16(r+12*u+8,1,a),e.fixedArrayBuffer=t.target.result),e.orientation=h,i.resolve(e)}}else{if(65280!=(65280&s))break;r+=n.getUint16(r,!1)}}return i.resolve(e)},i.promise},i.applyExifRotation=function(t){if(0!==t.type.indexOf("image/jpeg"))return i.emptyPromise(t);var n=e.defer();return i.readOrientation(t).then(function(e){if(e.orientation<2||e.orientation>8)return n.resolve(t);i.dataUrl(t,!0).then(function(o){var r=document.createElement("canvas"),s=document.createElement("img");s.onload=function(){try{r.width=e.orientation>4?s.height:s.width,r.height=e.orientation>4?s.width:s.height;var o=r.getContext("2d");!function(t,e,i,n){switch(e){case 2:return t.transform(-1,0,0,1,i,0);case 3:return t.transform(-1,0,0,-1,i,n);case 4:return t.transform(1,0,0,-1,0,n);case 5:return t.transform(0,1,1,0,0,0);case 6:return t.transform(0,1,-1,0,n,0);case 7:return t.transform(0,-1,-1,0,n,i);case 8:t.transform(0,-1,1,0,0,i)}}(o,e.orientation,s.width,s.height),o.drawImage(s,0,0);var a=r.toDataURL(t.type||"image/WebP",.934);a=i.restoreExif(function(t){for(var e="",i=new Uint8Array(t),n=i.byteLength,o=0;o<n;o++)e+=String.fromCharCode(i[o]);return window.btoa(e)}(e.fixedArrayBuffer),a);var l=i.dataUrltoBlob(a,t.name);n.resolve(l)}catch(t){return n.reject(t)}},s.onerror=function(){n.reject()},s.src=o},function(t){n.reject(t)})},function(t){n.reject(t)}),n.promise},i.restoreExif=function(t,e){var i={};return i.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i.encode64=function(t){var e,i,n,o,r,s="",a="",l="",u=0;do{n=(e=t[u++])>>2,o=(3&e)<<4|(i=t[u++])>>4,r=(15&i)<<2|(a=t[u++])>>6,l=63&a,isNaN(i)?r=l=64:isNaN(a)&&(l=64),s=s+this.KEY_STR.charAt(n)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(l),e=i=a="",n=o=r=l=""}while(u<t.length);return s},i.restore=function(t,e){t.match("data:image/jpeg;base64,")&&(t=t.replace("data:image/jpeg;base64,",""));var i=this.decode64(t),n=this.slice2Segments(i),o=this.exifManipulation(e,n);return"data:image/jpeg;base64,"+this.encode64(o)},i.exifManipulation=function(t,e){var i=this.getExifArray(e),n=this.insertExif(t,i);return new Uint8Array(n)},i.getExifArray=function(t){for(var e,i=0;i<t.length;i++)if(255===(e=t[i])[0]&225===e[1])return e;return[]},i.insertExif=function(t,e){var i=t.replace("data:image/jpeg;base64,",""),n=this.decode64(i),o=n.indexOf(255,3),r=n.slice(0,o),s=n.slice(o),a=r;return a=a.concat(e),a=a.concat(s)},i.slice2Segments=function(t){for(var e=0,i=[];;){if(255===t[e]&218===t[e+1])break;if(255===t[e]&216===t[e+1])e+=2;else{var n=e+(256*t[e+2]+t[e+3])+2,o=t.slice(e,n);i.push(o),e=n}if(e>t.length)break}return i},i.decode64=function(t){var e,i,n,o,r="",s="",a=0,l=[];/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{e=this.KEY_STR.indexOf(t.charAt(a++))<<2|(n=this.KEY_STR.indexOf(t.charAt(a++)))>>4,i=(15&n)<<4|(o=this.KEY_STR.indexOf(t.charAt(a++)))>>2,r=(3&o)<<6|(s=this.KEY_STR.indexOf(t.charAt(a++))),l.push(e),64!==o&&l.push(i),64!==s&&l.push(r),e=i=r="",n=o=s=""}while(a<t.length);return l},i.restore(t,e)},i}]),function(){var t="RandExp",e=function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return o(i||t)},h,h.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){function n(t){return t+(97<=t&&t<=122?-32:65<=t&&t<=90?32:0)}function o(t){return t instanceof u?t.index(this.randInt(0,t.length-1)):t[this.randInt(0,t.length-1)]}function r(t){if(t.type===l.types.CHAR)return new u(t.value);if(t.type===l.types.RANGE)return new u(t.from,t.to);for(var e=new u,i=0;i<t.set.length;i++){var o=r.call(this,t.set[i]);if(e.add(o),this.ignoreCase)for(var s=0;s<o.length;s++){var a=o.index(s),h=n(a);a!==h&&e.add(h)}}return t.not?this.defaultRange.clone().subtract(e):e}function s(t,e){"number"==typeof e.max&&(t.max=e.max),e.defaultRange instanceof u&&(t.defaultRange=e.defaultRange),"function"==typeof e.randInt&&(t.randInt=e.randInt)}function a(t,e){var i,s,l,u,d;switch(t.type){case h.ROOT:case h.GROUP:if(t.followedBy||t.notFollowedBy)return"";for(t.remember&&void 0===t.groupNumber&&(t.groupNumber=e.push(null)-1),s="",u=0,d=(i=t.options?o.call(this,t.options):t.stack).length;u<d;u++)s+=a.call(this,i[u],e);return t.remember&&(e[t.groupNumber]=s),s;case h.POSITION:return"";case h.SET:var c=r.call(this,t);return c.length?String.fromCharCode(o.call(this,c)):"";case h.REPETITION:for(l=this.randInt(t.min,t.max===1/0?t.min+this.max:t.max),s="",u=0;u<l;u++)s+=a.call(this,t.value,e);return s;case h.REFERENCE:return e[t.value-1]||"";case h.CHAR:var p=this.ignoreCase&&function(){return!this.randInt(0,1)}.call(this)?n(t.value):t.value;return String.fromCharCode(p)}}var l=t("ret"),u=t("discontinuous-range"),h=l.types,d=e.exports=function(t,e){if(this.defaultRange=this.defaultRange.clone(),t instanceof RegExp)this.ignoreCase=t.ignoreCase,this.multiline=t.multiline,s(this,t),t=t.source;else{if("string"!=typeof t)throw new Error("Expected a regexp or string");this.ignoreCase=e&&-1!==e.indexOf("i"),this.multiline=e&&-1!==e.indexOf("m")}this.tokens=l(t)};d.prototype.max=100,d.prototype.gen=function(){return a.call(this,this.tokens,[])},d.randexp=function(t,e){var i;return void 0===t._randexp?(i=new d(t,e),t._randexp=i):i=t._randexp,s(i,t),i.gen()},d.sugar=function(){RegExp.prototype.gen=function(){return d.randexp(this)}},d.prototype.defaultRange=new u(32,126),d.prototype.randInt=function(t,e){return t+Math.floor(Math.random()*(1+e-t))}},{"discontinuous-range":2,ret:3}],2:[function(t,e,i){function n(t,e){this.low=t,this.high=e,this.length=1+e-t}function o(t,e){return this instanceof o?(this.ranges=[],this.length=0,void(void 0!==t&&this.add(t,e))):new o(t,e)}function r(t){t.length=t.ranges.reduce(function(t,e){return t+e.length},0)}n.prototype.overlaps=function(t){return!(this.high<t.low||this.low>t.high)},n.prototype.touches=function(t){return!(this.high+1<t.low||this.low-1>t.high)},n.prototype.add=function(t){return this.touches(t)&&new n(Math.min(this.low,t.low),Math.max(this.high,t.high))},n.prototype.subtract=function(t){return!!this.overlaps(t)&&(t.low<=this.low&&t.high>=this.high?[]:t.low>this.low&&t.high<this.high?[new n(this.low,t.low-1),new n(t.high+1,this.high)]:t.low<=this.low?[new n(t.high+1,this.high)]:[new n(this.low,t.low-1)])},n.prototype.toString=function(){return this.low==this.high?this.low.toString():this.low+"-"+this.high},n.prototype.clone=function(){return new n(this.low,this.high)},o.prototype.add=function(t,e){function i(t){for(var e=[],i=0;i<s.ranges.length&&!t.touches(s.ranges[i]);)e.push(s.ranges[i].clone()),i++;for(;i<s.ranges.length&&t.touches(s.ranges[i]);)t=t.add(s.ranges[i]),i++;for(e.push(t);i<s.ranges.length;)e.push(s.ranges[i].clone()),i++;s.ranges=e,r(s)}var s=this;return t instanceof o?t.ranges.forEach(i):t instanceof n?i(t):(void 0===e&&(e=t),i(new n(t,e))),this},o.prototype.subtract=function(t,e){function i(t){for(var e=[],i=0;i<s.ranges.length&&!t.overlaps(s.ranges[i]);)e.push(s.ranges[i].clone()),i++;for(;i<s.ranges.length&&t.overlaps(s.ranges[i]);)e=e.concat(s.ranges[i].subtract(t)),i++;for(;i<s.ranges.length;)e.push(s.ranges[i].clone()),i++;s.ranges=e,r(s)}var s=this;return t instanceof o?t.ranges.forEach(i):t instanceof n?i(t):(void 0===e&&(e=t),i(new n(t,e))),this},o.prototype.index=function(t){for(var e=0;e<this.ranges.length&&this.ranges[e].length<=t;)t-=this.ranges[e].length,e++;return e>=this.ranges.length?null:this.ranges[e].low+t},o.prototype.toString=function(){return"[ "+this.ranges.join(", ")+" ]"},o.prototype.clone=function(){return new o(this)},e.exports=o},{}],3:[function(t,e,i){var n=t("./util"),o=t("./types"),r=t("./sets"),s=t("./positions");e.exports=function(t){var e,i,a=0,l={type:o.ROOT,stack:[]},u=l,h=l.stack,d=[],c=function(e){n.error(t,"Nothing to repeat at column "+(e-1))},p=n.strToChars(t);for(e=p.length;a<e;)switch(i=p[a++]){case"\\":switch(i=p[a++]){case"b":h.push(s.wordBoundary());break;case"B":h.push(s.nonWordBoundary());break;case"w":h.push(r.words());break;case"W":h.push(r.notWords());break;case"d":h.push(r.ints());break;case"D":h.push(r.notInts());break;case"s":h.push(r.whitespace());break;case"S":h.push(r.notWhitespace());break;default:/\d/.test(i)?h.push({type:o.REFERENCE,value:parseInt(i,10)}):h.push({type:o.CHAR,value:i.charCodeAt(0)})}break;case"^":h.push(s.begin());break;case"$":h.push(s.end());break;case"[":var f;"^"===p[a]?(f=!0,a++):f=!1;var g=n.tokenizeClass(p.slice(a),t);a+=g[1],h.push({type:o.SET,set:g[0],not:f});break;case".":h.push(r.anyChar());break;case"(":var m={type:o.GROUP,stack:[],remember:!0};"?"===(i=p[a])&&(i=p[a+1],a+=2,"="===i?m.followedBy=!0:"!"===i?m.notFollowedBy=!0:":"!==i&&n.error(t,"Invalid group, character '"+i+"' after '?' at column "+(a-1)),m.remember=!1),h.push(m),d.push(u),u=m,h=m.stack;break;case")":0===d.length&&n.error(t,"Unmatched ) at column "+(a-1)),h=(u=d.pop()).options?u.options[u.options.length-1]:u.stack;break;case"|":u.options||(u.options=[u.stack],delete u.stack);var w=[];u.options.push(w),h=w;break;case"{":var v,_,y=/^(\d+)(,(\d+)?)?\}/.exec(p.slice(a));null!==y?(0===h.length&&c(a),v=parseInt(y[1],10),_=y[2]?y[3]?parseInt(y[3],10):1/0:v,a+=y[0].length,h.push({type:o.REPETITION,min:v,max:_,value:h.pop()})):h.push({type:o.CHAR,value:123});break;case"?":0===h.length&&c(a),h.push({type:o.REPETITION,min:0,max:1,value:h.pop()});break;case"+":0===h.length&&c(a),h.push({type:o.REPETITION,min:1,max:1/0,value:h.pop()});break;case"*":0===h.length&&c(a),h.push({type:o.REPETITION,min:0,max:1/0,value:h.pop()});break;default:h.push({type:o.CHAR,value:i.charCodeAt(0)})}return 0!==d.length&&n.error(t,"Unterminated group"),l},e.exports.types=o},{"./positions":4,"./sets":5,"./types":6,"./util":7}],4:[function(t,e,i){var n=t("./types");i.wordBoundary=function(){return{type:n.POSITION,value:"b"}},i.nonWordBoundary=function(){return{type:n.POSITION,value:"B"}},i.begin=function(){return{type:n.POSITION,value:"^"}},i.end=function(){return{type:n.POSITION,value:"$"}}},{"./types":6}],5:[function(t,e,i){var n=t("./types"),o=function(){return[{type:n.RANGE,from:48,to:57}]},r=function(){return[{type:n.CHAR,value:95},{type:n.RANGE,from:97,to:122},{type:n.RANGE,from:65,to:90}].concat(o())},s=function(){return[{type:n.CHAR,value:9},{type:n.CHAR,value:10},{type:n.CHAR,value:11},{type:n.CHAR,value:12},{type:n.CHAR,value:13},{type:n.CHAR,value:32},{type:n.CHAR,value:160},{type:n.CHAR,value:5760},{type:n.CHAR,value:6158},{type:n.CHAR,value:8192},{type:n.CHAR,value:8193},{type:n.CHAR,value:8194},{type:n.CHAR,value:8195},{type:n.CHAR,value:8196},{type:n.CHAR,value:8197},{type:n.CHAR,value:8198},{type:n.CHAR,value:8199},{type:n.CHAR,value:8200},{type:n.CHAR,value:8201},{type:n.CHAR,value:8202},{type:n.CHAR,value:8232},{type:n.CHAR,value:8233},{type:n.CHAR,value:8239},{type:n.CHAR,value:8287},{type:n.CHAR,value:12288},{type:n.CHAR,value:65279}]};i.words=function(){return{type:n.SET,set:r(),not:!1}},i.notWords=function(){return{type:n.SET,set:r(),not:!0}},i.ints=function(){return{type:n.SET,set:o(),not:!1}},i.notInts=function(){return{type:n.SET,set:o(),not:!0}},i.whitespace=function(){return{type:n.SET,set:s(),not:!1}},i.notWhitespace=function(){return{type:n.SET,set:s(),not:!0}},i.anyChar=function(){return{type:n.SET,set:[{type:n.CHAR,value:10},{type:n.CHAR,value:13},{type:n.CHAR,value:8232},{type:n.CHAR,value:8233}],not:!0}}},{"./types":6}],6:[function(t,e,i){e.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}},{}],7:[function(t,e,i){var n=t("./types"),o=t("./sets"),r={0:0,t:9,n:10,v:11,f:12,r:13};i.strToChars=function(t){return t=t.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z\[\\\]\^?])|([0tnvfr]))/g,function(t,e,i,n,o,s,a,l){if(i)return t;var u=e?8:n?parseInt(n,16):o?parseInt(o,16):s?parseInt(s,8):a?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(a):r[l],h=String.fromCharCode(u);return/[\[\]{}\^$.|?*+()]/.test(h)&&(h="\\"+h),h})},i.tokenizeClass=function(t,e){for(var r,s,a=[],l=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?(.)/g;null!=(r=l.exec(t));)if(r[1])a.push(o.words());else if(r[2])a.push(o.ints());else if(r[3])a.push(o.whitespace());else if(r[4])a.push(o.notWords());else if(r[5])a.push(o.notInts());else if(r[6])a.push(o.notWhitespace());else if(r[7])a.push({type:n.RANGE,from:(r[8]||r[9]).charCodeAt(0),to:r[10].charCodeAt(0)});else{if(!(s=r[12]))return[a,l.lastIndex];a.push({type:n.CHAR,value:s.charCodeAt(0)})}i.error(e,"Unterminated character class")},i.error=function(t,e){throw new SyntaxError("Invalid regular expression: /"+t+"/: "+e)}},{"./sets":5,"./types":6}]},{},[1])(1);"function"==typeof define&&"object"==typeof define.amd?define(t,function(){return e}):"undefined"!=typeof window&&(window[t]=e)}(),function(t){var e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i={},n="",o=function(){var e=l.apply(this);""==e&&(this.get(0)==t(document).get(0)?e=document.location.href:this.is("[href]")?e=this.attr("href"):this.is("[src]")&&(e=this.attr("src")),""!=e&&(e=f(e),this.data("href",e)))},r=function(t,e){0!=this.is("["+t+"]")&&(null==this.data("original-"+t)&&this.data("original-"+t,this.attr(t)),this.attr(t,e))},s=function(t){null!=this.data("original-"+t)&&(this.attr(t,this.data("original-"+t)),this.removeData("original-"+t))},a=function(){this.removeData("href"),s.apply(this,["href"]),s.apply(this,["src"]),this.removeData("jurlp-no-watch"),this.removeData("is-watched"),D.unwatch.apply(this)},l=function(){return this.href||this.data("href")||this.attr("href")||this.attr("src")||""},u=function(t,e){d.apply(this,[g(l.apply(this),t,e)])},h=function(t){u.apply(this,[t[0],t[1]])},d=function(e){"object"==typeof e&&(e=p(e)),e=f(e),null==this.href?this.get(0)==t(document).get(0)?this.data("href",e):(r.apply(this,["href",e]),r.apply(this,["src",e])):this.href=e},c=function(t){if(null==t)return{scheme:"",user:"",password:"",host:"",port:"",path:"",query:"",fragment:""};var i={user:"",password:""};if("//"==t.substring(0,2)&&(t="http:"+t),""!=t&&-1==t.indexOf("://")&&(t="http://"+t),-1!=t.indexOf("@")){var n=t.match(e);n[4]&&(i.user=n[4]),n[5]&&(i.password=n[5])}var o=document.createElement("a");o.href=t;try{o.protocol}catch(e){if(-2146697202==e.number){var r="";""!=i.user&&(r+=i.user,""!=i.password&&(r+=":"+i.password),r+="@",o.href=t.replace(r,""))}}var s=o.protocol;-1==o.protocol.indexOf("//")&&(s+="//");var a=o.pathname;"/"!=a[0]&&(a="/"+a);var l=o.port+"";return("21"==l&&-1==t.indexOf(":21")||"80"==l&&-1==t.indexOf(":80")||"443"==l&&-1==t.indexOf(":443")||"0"==l)&&(l=""),{scheme:s,user:i.user,password:i.password,host:o.hostname,port:l,path:a,query:o.search,fragment:o.hash}},p=function(t){var e=t.scheme;return null!=t.user&&""!=t.user&&(e+=t.user,null!=t.password&&""!=t.password&&(e+=":"+t.password),e+="@"),e+t.host+(""!=t.port?":"+t.port:"")+t.path+t.query+t.fragment},f=function(t){return O.parse(t).toString()},g=function(t,e,i){var n=O.parse(t);return n[e]=i,p(n)},m=function(t){return"string"==typeof t?O.parse(t):t},w=function(e){var i={},n=_(l.apply(this));"string"==typeof e?("?"==e[0]&&(n={},e=e.substring(1)),i=v(e)):i=e,0==t.isEmptyObject(i)?i=t.extend(n,i):n={},u.apply(this,["query",y.apply(i)])},v=function(t){var e={};if(""!=t)for(var i=t.split("&"),n=0;n<i.length;n++){var o=i[n].split("=");e[o[0]]=o[1]}return e},_=function(t){return v(function(t){var e=m(t).query;return"?"==e[0]?e.slice(1):e}(t))},y=function(){var t="";for(var e in this)"toString"!=e&&null!=this[e]&&(t+="&"+e+"="+this[e]);return"&"==t[0]&&(t="?"+t.slice(1)),t},b=function(t){var e=m(l.apply(this)).path.split("/"),i=t.split("/"),n=0;""==i[0]&&(e=[],n++),e.splice(0,1);for(var o=i.length;n<o;n++)".."==i[n]?e.length>0&&e.splice(e.length-1,1):"."==i[n]||e.push(i[n]);u.apply(this,["path",z.apply(e)])},z=function(){return this.length>0?"/"+this.join("/"):"/"},k=function(t,e,o){1!=t.data("is-watched")&&i[n]&&i[n].push([e,o])},x=function(e,i){return null!=this.href?(e.apply(this,[i]),this):(k(this,e,[i]),this.each(function(){e.apply(t(this),[i])}))},$=function(e,i){if(null!=this.href)return e.apply(this,[i]);var n=[];return this.each(function(){n.push(e.apply(t(this),[i]))}),n},S=function(t,e,i){return 0==i.length?t.apply(this):e.apply(this,i)},O={toString:{http:function(){return p(this)},mailto:function(){return this.password="",this.path="",this.port="",p(this)},javascript:function(){return"javascript:"+this.javascript},generic:function(){return this.scheme+this.url}},parsers:{http:function(e){return t.extend(c(e),{toString:O.toString.http})},mailto:function(e){return t.extend(c(e.substring(7)),{scheme:"mailto:",toString:O.toString.mailto})},javascript:function(e){return t.extend(c(document.location.href),{javascript:e.substring(11),toString:O.toString.javascript})},generic:function(e,i){return"//"==i.substring(0,2)?t.extend(c(i.substring(2)),{scheme:e+"://",toString:O.toString.http}):{scheme:e+":",url:i,toString:O.toString.generic}}},parse:function(t){if("string"!=typeof t)return t;var e=t.indexOf(":");if(-1!=e){var i=t.substring(0,e).toLowerCase();return null!=this.parsers[i]?this.parsers[i](t):this.parsers.generic(i,t.substring(e+1))}return this.parsers.http(t)}},C={getUrl:function(){return $.apply(this,[l,null])},setUrl:function(t){d.apply(this,[t])},parseUrl:function(){return $.apply(this,[function(){return O.parse(l.apply(this))},null])},getFragment:function(){return $.apply(this,[function(){return function(t){return m(t).fragment}(l.apply(this))},null])},setFragment:function(t){return"#"!=t[0]&&(t="#"+t),x.apply(this,[h,["fragment",t]])},getQuery:function(){return $.apply(this,[function(){return t.extend(_(l.apply(this)),{toString:y})},null])},setQuery:function(t){return x.apply(this,[w,t])},getPath:function(){return $.apply(this,[function(){return t.extend(function(t){var e=function(t){var e=m(t).path;return"/"==e[0]?e.slice(1):e}(t);return""!=e?e.split("/"):[]}(l.apply(this)),{toString:z})},null])},setPath:function(t){return x.apply(this,[b,t])},getPort:function(){return $.apply(this,[function(){return function(t){return m(t).port}(l.apply(this))},null])},setPort:function(t){return x.apply(this,[h,["port",t]])},getHost:function(){return $.apply(this,[function(){return function(t){return m(t).host}(l.apply(this))},null])},setHost:function(t){return x.apply(this,[h,["host",t]])},getPassword:function(){return $.apply(this,[function(){return function(t){return m(t).password}(l.apply(this))},null])},setPassword:function(t){return x.apply(this,[h,["password",t]])},getUser:function(){return $.apply(this,[function(){return function(t){return m(t).user}(l.apply(this))},null])},setUser:function(t){return x.apply(this,[h,["user",t]])},getScheme:function(){return $.apply(this,[function(){return function(t){return m(t).scheme}(l.apply(this))},null])},setScheme:function(t){return x.apply(this,[h,["scheme",t]])},filters:{"=":function(t,e){return t==e},"!=":function(t,e){return t!=e},"<":function(t,e){return t<e},">":function(t,e){return t>e},"<=":function(t,e){return t<=e},">=":function(t,e){return t>=e},"*=":function(t,e){return-1!=t.indexOf(e)},"^=":function(t,e){return t.length>=e.length&&t.substring(0,e.length)==e},"$=":function(t,e){return t.length>=e.length&&t.substring(t.length-e.length)==e},regex:function(t,e){return t.match(e)}}},D={url:function(t){return S.apply(this,[C.parseUrl,C.setUrl,arguments])},fragment:function(t){return S.apply(this,[C.getFragment,C.setFragment,arguments])},query:function(t){return S.apply(this,[C.getQuery,C.setQuery,arguments])},path:function(t){return S.apply(this,[C.getPath,C.setPath,arguments])},port:function(t){return S.apply(this,[C.getPort,C.setPort,arguments])},host:function(t){return S.apply(this,[C.getHost,C.setHost,arguments])},password:function(t){return S.apply(this,[C.getPassword,C.setPassword,arguments])},user:function(t){return S.apply(this,[C.getUser,C.setUser,arguments])},scheme:function(t){return S.apply(this,[C.getScheme,C.setScheme,arguments])},initialise:function(){var e=this,i=[];return null!=(i=function(){if(this.get(0)!=t(document).get(0)&&null==this.attr("href")&&null==this.attr("src")&&null!=this.html()&&0==this.hasClass("jurlp-span")){for(var e=[],i=!1,n="",o=/((((mailto|spotify|skype)\:([a-zA-Z0-9\.\-\:@\?\=\%]*))|((ftp|git|irc|ircs|irc6|pop|rss|ssh|svn|udp|feed|imap|ldap|nntp|rtmp|sftp|snmp|xmpp|http|https|telnet|ventrilo|webcal|view\-source)\:[\/]{2})?(([a-zA-Z0-9\.\-]+)\:([a-zA-Z0-9\.&;%\$\-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|localhost|([a-zA-Z0-9\-]+\.)*[a-zA-Z0-9\-]+\.(aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|[a-zA-Z]{2}))(\:[0-9]+)*(\/($|[a-zA-Z0-9\.\,\?\'\\\+&;%\$\=~_\-]+)?(#\w*)?)*))/i,r=this.html();n=o.exec(r);)r=r.replace(n[0],"$"+e.length),e.push(n[0]),i=!0;for(var s=0;s<e.length;s++){var a=r.indexOf("$"+s),u=r.substring(a-6,a-1);r="href="==u||" src="==u||">"==r.substring(a-1,a)?r.replace("$"+s,e[s]):r.replace("$"+s,'<a href="[url]" class="jurlp-no-watch">[url]</a>'.replace(/\[url\]/g,e[s]))}if(0!=i)return this.addClass("jurlp-span"),this.html(r),this.find("a[href]").each(function(){var e=l.apply(t(this));d.apply(t(this),[e])})}return null}.apply(t(this)))?x.apply(this.filter(function(){return t(this).get(0)!=t(e).get(0)}).add(i),[o]):x.apply(e,[o])},restore:function(){return x.apply(this,[a])},goto:function(){document.location.href=l.apply(this)},proxy:function(t,e){var i=l.apply(this),n={};d.apply(this,[p(m(t))]),n[e]=i,C.setQuery.apply(this,[n])},watch:function(e){var o=this.selector;return null==i[n]&&(i[n]=[],t(document).bind("DOMNodeInserted",function n(r){if(null!=i[o]){var s=t(r.target).filter(o);if(null==s.get(0)&&(s=t(r.target).find(o)),s.length>0&&0==s.is(".jurlp-no-watch")){var a=!1;s.data("is-watched",!0);for(var l=0,u=i[o].length;l<u;l++){var h=i[o][l][0].apply(s,i[o][l][1]);if(null!=h&&0==h.length){a=!0;break}}0==a&&"function"==typeof e&&s.each(function(){e(t(this),o)})}}else t(document).unbind("DOMNodeInserted",n)})),this},unwatch:function(){i[this.selector]=null},filter:function(e,i,n){var o=O.parse(l.apply(this));return"=="==i&&(i="="),"url"!=e&&null==o[e]||null==C.filters[i]?this:(k(this,D.filter,[e,i,n]),this.filter(function(){var o=l.apply(t(this)),r="";return r="url"!=e?O.parse(o)[e]:o,"port"==e&&(r=parseInt(r,10),n=parseInt(n,10)),C.filters[i].apply(t(this),[r,n])}))},interface:function(){return D}};t.fn.jurlp=function(t){return-1==this.selector.indexOf(".filter")&&(n=this.selector),x.apply(this,[o]),function(t){return null!=D[t]?D[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"==typeof t||null==t?D.initialise.apply(this,Array.prototype.slice.call(arguments,1)):this}.apply(this,arguments)},t.jurlp=function(e){return{href:e||document.location.href,url:D.url,scheme:D.scheme,user:D.user,password:D.password,host:D.host,port:D.port,path:D.path,query:D.query,fragment:D.fragment,proxy:D.proxy,goto:D.goto,watch:function(e){var i=this.host();return t('[href*="'+i+'"],[src*="'+i+'"]').jurlp("watch",e)},unwatch:function(){var e=this.host();return t('[href*="'+e+'"],[src*="'+e+'"]').jurlp("unwatch")}}}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,i,n){var o={init:function(e,i){var n=this;n.elem=i,n.$elem=t(i),n.options=t.extend({},t.fn.elevateZoom.options,e),n.options.imageSrc?n.imageSrc=n.options.imageSrc:n.$elem.data("zoom-image")?n.imageSrc=n.$elem.data("zoom-image"):n.imageSrc=n.$elem.attr("src"),n.options.tint&&(n.options.lensColour="none",n.options.lensOpacity="1"),"inner"==n.options.zoomType&&(n.options.showLens=!1),n.$elem.parent().removeAttr("title").removeAttr("alt"),n.zoomImage=n.imageSrc,n.refresh(1),t("#"+n.options.gallery+" a").click(function(e){return n.options.galleryActiveClass&&(t("#"+n.options.gallery+" a").removeClass(n.options.galleryActiveClass),t(this).addClass(n.options.galleryActiveClass)),e.preventDefault(),t(this).data("zoom-image")?n.zoomImagePre=t(this).data("zoom-image"):n.zoomImagePre=t(this).data("image"),n.swaptheimage(t(this).data("image"),n.zoomImagePre),!1})},refresh:function(t){var e=this;setTimeout(function(){e.fetch(e.imageSrc)},t||e.options.refresh)},fetch:function(t){var e=this,i=new Image;i.onload=function(){e.largeWidth=i.width,e.largeHeight=i.height,e.startZoom(),e.currentImage=e.imageSrc,e.options.onZoomedImageLoaded(e.$elem)},i.src=t},startZoom:function(){var e=this;if(e.nzWidth=e.$elem.width(),e.nzHeight=e.$elem.height(),e.isWindowActive=!1,e.isLensActive=!1,e.isTintActive=!1,e.overWindow=!1,e.options.imageCrossfade&&(e.zoomWrap=e.$elem.wrap('<div style="height:'+e.nzHeight+"px;width:"+e.nzWidth+'px;" class="zoomWrapper" />'),e.$elem.css("position","absolute")),e.zoomLock=1,e.scrollingLock=!1,e.changeBgSize=!1,e.currentZoomLevel=e.options.zoomLevel,e.nzOffset=e.$elem.offset(),e.widthRatio=e.largeWidth/e.currentZoomLevel/e.nzWidth,e.heightRatio=e.largeHeight/e.currentZoomLevel/e.nzHeight,"window"==e.options.zoomType&&(e.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(e.options.zoomWindowBgColour)+";width: "+String(e.options.zoomWindowWidth)+"px;height: "+String(e.options.zoomWindowHeight)+"px;float: left;background-size: "+e.largeWidth/e.currentZoomLevel+"px "+e.largeHeight/e.currentZoomLevel+"px;display: none;z-index:100;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==e.options.zoomType){var i=e.$elem.css("border-left-width");e.zoomWindowStyle="overflow: hidden;margin-left: "+String(i)+";margin-top: "+String(i)+";background-position: 0px 0px;width: "+String(e.nzWidth)+"px;height: "+String(e.nzHeight)+"px;px;float: left;display: none;cursor:"+e.options.cursor+";px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==e.options.zoomType&&(e.nzHeight<e.options.zoomWindowWidth/e.widthRatio?lensHeight=e.nzHeight:lensHeight=String(e.options.zoomWindowHeight/e.heightRatio),e.largeWidth<e.options.zoomWindowWidth?lensWidth=e.nzWidth:lensWidth=e.options.zoomWindowWidth/e.widthRatio,e.lensStyle="background-position: 0px 0px;width: "+String(e.options.zoomWindowWidth/e.widthRatio)+"px;height: "+String(e.options.zoomWindowHeight/e.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+e.options.lensOpacity+";filter: alpha(opacity = "+100*e.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+e.options.lensColour+";cursor:"+e.options.cursor+";border: "+e.options.lensBorderSize+"px solid "+e.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),e.tintStyle="display: block;position: absolute;background-color: "+e.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+e.nzWidth+"px;height: "+e.nzHeight+"px;",e.lensRound="","lens"==e.options.zoomType&&(e.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";width:"+String(e.options.lensSize)+"px;height:"+String(e.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==e.options.lensShape&&(e.lensRound="border-top-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-top-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;"),e.zoomContainer=t('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:fixed;left:'+e.nzOffset.left+"px;top:"+e.nzOffset.top+"px;height:"+e.nzHeight+"px;width:"+e.nzWidth+'px;"></div>'),e.$elem.after(e.zoomContainer),e.options.containLensZoom&&"lens"==e.options.zoomType&&e.zoomContainer.css("overflow","hidden"),"inner"!=e.options.zoomType&&(e.zoomLens=t("<div class='zoomLens' style='"+e.lensStyle+e.lensRound+"'>&nbsp;</div>").appendTo(e.zoomContainer).click(function(){e.$elem.trigger("click")}),e.options.tint&&(e.tintContainer=t("<div/>").addClass("tintContainer"),e.zoomTint=t("<div class='zoomTint' style='"+e.tintStyle+"'></div>"),e.zoomLens.wrap(e.tintContainer),e.zoomTintcss=e.zoomLens.after(e.zoomTint),e.zoomTintImage=t('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+e.nzWidth+"px; height: "+e.nzHeight+'px;" src="'+e.imageSrc+'">').appendTo(e.zoomLens).click(function(){e.$elem.trigger("click")}))),isNaN(e.options.zoomWindowPosition)?e.zoomWindow=t("<div style='z-index:999;left:"+e.windowOffsetLeft+"px;top:"+e.windowOffsetTop+"px;"+e.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){e.$elem.trigger("click")}):e.zoomWindow=t("<div style='z-index:999;left:"+e.windowOffsetLeft+"px;top:"+e.windowOffsetTop+"px;"+e.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(e.zoomContainer).click(function(){e.$elem.trigger("click")}),e.zoomWindowContainer=t("<div/>").addClass("zoomWindowContainer").css("width",e.options.zoomWindowWidth),e.zoomWindow.wrap(e.zoomWindowContainer),"lens"==e.options.zoomType&&e.zoomLens.css({backgroundImage:"url('"+e.imageSrc+"')"}),"window"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+e.imageSrc+"')"}),"inner"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+e.imageSrc+"')"}),e.$elem.bind("touchmove",function(t){t.preventDefault();var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(i)}),e.zoomContainer.bind("touchmove",function(t){"inner"==e.options.zoomType&&e.showHideWindow("show"),t.preventDefault();var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(i)}),e.zoomContainer.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")}),e.$elem.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")}),e.options.showLens&&(e.zoomLens.bind("touchmove",function(t){t.preventDefault();var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.setPosition(i)}),e.zoomLens.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")})),e.$elem.bind("mousemove",function(t){0==e.overWindow&&e.setElements("show"),e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.zoomContainer.bind("mousemove",function(t){0==e.overWindow&&e.setElements("show"),e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),"inner"!=e.options.zoomType&&e.zoomLens.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.options.tint&&"inner"!=e.options.zoomType&&e.zoomTint.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),"inner"==e.options.zoomType&&e.zoomWindow.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.zoomContainer.add(e.$elem).mouseenter(function(){0==e.overWindow&&e.setElements("show")}).mouseleave(function(){e.scrollLock||(e.setElements("hide"),e.options.onDestroy(e.$elem))}),"inner"!=e.options.zoomType&&e.zoomWindow.mouseenter(function(){e.overWindow=!0,e.setElements("hide")}).mouseleave(function(){e.overWindow=!1}),e.options.zoomLevel,e.options.minZoomLevel?e.minZoomLevel=e.options.minZoomLevel:e.minZoomLevel=2*e.options.scrollZoomIncrement,e.options.scrollZoom&&e.zoomContainer.add(e.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(i){e.scrollLock=!0,clearTimeout(t.data(this,"timer")),t.data(this,"timer",setTimeout(function(){e.scrollLock=!1},250));var n=i.originalEvent.wheelDelta||-1*i.originalEvent.detail;return i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault(),n/120>0?e.currentZoomLevel>=e.minZoomLevel&&e.changeZoomLevel(e.currentZoomLevel-e.options.scrollZoomIncrement):e.options.maxZoomLevel?e.currentZoomLevel<=e.options.maxZoomLevel&&e.changeZoomLevel(parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement):e.changeZoomLevel(parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement),!1})},setElements:function(t){if(!this.options.zoomEnabled)return!1;"show"==t&&this.isWindowSet&&("inner"==this.options.zoomType&&this.showHideWindow("show"),"window"==this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner"!=this.options.zoomType&&this.showHideTint("show")),"hide"==t&&("window"==this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide"))},setPosition:function(t){if(!this.options.zoomEnabled)return!1;this.nzHeight=this.$elem.height(),this.nzWidth=this.$elem.width(),this.nzOffset=this.$elem.offset(),this.options.tint&&"inner"!=this.options.zoomType&&(this.zoomTint.css({top:0}),this.zoomTint.css({left:0})),this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.largeWidth<this.options.zoomWindowWidth?lensWidth=this.nzWidth:lensWidth=this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens"!=this.options.zoomType&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.nzWidth<this.options.zoomWindowHeight/this.heightRatio?lensWidth=this.nzWidth:lensWidth=String(this.options.zoomWindowWidth/this.widthRatio),this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight),this.options.tint&&(this.zoomTintImage.css("width",this.nzWidth),this.zoomTintImage.css("height",this.nzHeight))),"lens"==this.options.zoomType&&this.zoomLens.css({width:String(this.options.lensSize)+"px",height:String(this.options.lensSize)+"px"})),this.zoomContainer.css({top:this.nzOffset.top}),this.zoomContainer.css({left:this.nzOffset.left}),this.mouseLeft=parseInt(t.pageX-this.nzOffset.left),this.mouseTop=parseInt(t.pageY-this.nzOffset.top),"window"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.zoomLens.height()/2,this.Eboppos=this.mouseTop>this.nzHeight-this.zoomLens.height()/2-2*this.options.lensBorderSize,this.Eloppos=this.mouseLeft<0+this.zoomLens.width()/2,this.Eroppos=this.mouseLeft>this.nzWidth-this.zoomLens.width()/2-2*this.options.lensBorderSize),"inner"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/2/this.heightRatio,this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<0+this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize),this.mouseLeft<0||this.mouseTop<0||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=String(Math.floor(this.mouseLeft-this.zoomLens.width()/2)),this.lensTopPos=String(Math.floor(this.mouseTop-this.zoomLens.height()/2))),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.windowLeftPos=0,this.lensLeftPos=0,this.tintpos=0),"window"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"==this.options.zoomType&&(this.windowLeftPos=String(-1*((t.pageX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2)),this.windowTopPos=String(-1*((t.pageY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2)),this.zoomLens.css({backgroundPosition:this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=!1),this.setWindowPostition(t)),this.options.tint&&"inner"!=this.options.zoomType&&this.setTintPosition(t),"window"==this.options.zoomType&&this.setWindowPostition(t),"inner"==this.options.zoomType&&this.setWindowPostition(t),this.options.showLens&&(this.fullwidth&&"lens"!=this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos+"px",top:this.lensTopPos+"px"})))},showHideWindow:function(t){var e=this;"show"==t&&(e.isWindowActive||(e.options.zoomWindowFadeIn?e.zoomWindow.stop(!0,!0,!1).fadeIn(e.options.zoomWindowFadeIn):e.zoomWindow.show(),e.isWindowActive=!0)),"hide"==t&&e.isWindowActive&&(e.options.zoomWindowFadeOut?e.zoomWindow.stop(!0,!0).fadeOut(e.options.zoomWindowFadeOut,function(){e.loop&&(clearInterval(e.loop),e.loop=!1)}):e.zoomWindow.hide(),e.isWindowActive=!1)},showHideLens:function(t){"show"==t&&(this.isLensActive||(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show(),this.isLensActive=!0)),"hide"==t&&this.isLensActive&&(this.options.lensFadeOut?this.zoomLens.stop(!0,!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide(),this.isLensActive=!1)},showHideTint:function(t){"show"==t&&(this.isTintActive||(this.options.zoomTintFadeIn?this.zoomTint.css({opacity:this.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(this.zoomTint.css({opacity:this.options.tintOpacity}).animate(),this.zoomTint.show()),this.isTintActive=!0)),"hide"==t&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),this.isTintActive=!1)},setLensPostition:function(t){},setWindowPostition:function(e){var i=this;if(isNaN(i.options.zoomWindowPosition))i.externalContainer=t("#"+i.options.zoomWindowPosition),i.externalContainerWidth=i.externalContainer.width(),i.externalContainerHeight=i.externalContainer.height(),i.externalContainerOffset=i.externalContainer.offset(),i.windowOffsetTop=i.externalContainerOffset.top,i.windowOffsetLeft=i.externalContainerOffset.left;else switch(i.options.zoomWindowPosition){case 1:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=+i.nzWidth;break;case 2:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.options.zoomWindowHeight/2-i.nzHeight/2),i.windowOffsetLeft=i.nzWidth);break;case 3:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=i.nzWidth;break;case 4:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth;break;case 5:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 6:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=-1*(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize));break;case 7:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=0;break;case 8:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 9:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 10:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.options.zoomWindowHeight/2-i.nzHeight/2),i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize));break;case 11:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 12:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 13:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=0;break;case 14:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=-1*(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize));break;case 15:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 16:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=i.nzWidth;break;default:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=i.nzWidth}i.isWindowSet=!0,i.windowOffsetTop=i.windowOffsetTop+i.options.zoomWindowOffety,i.windowOffsetLeft=i.windowOffsetLeft+i.options.zoomWindowOffetx,i.zoomWindow.css({top:i.windowOffsetTop}),i.zoomWindow.css({left:i.windowOffsetLeft}),"inner"==i.options.zoomType&&(i.zoomWindow.css({top:0}),i.zoomWindow.css({left:0})),i.windowLeftPos=String(-1*((e.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2)),i.windowTopPos=String(-1*((e.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2)),i.Etoppos&&(i.windowTopPos=0),i.Eloppos&&(i.windowLeftPos=0),i.Eboppos&&(i.windowTopPos=-1*(i.largeHeight/i.currentZoomLevel-i.zoomWindow.height())),i.Eroppos&&(i.windowLeftPos=-1*(i.largeWidth/i.currentZoomLevel-i.zoomWindow.width())),i.fullheight&&(i.windowTopPos=0),i.fullwidth&&(i.windowLeftPos=0),"window"!=i.options.zoomType&&"inner"!=i.options.zoomType||(1==i.zoomLock&&(i.widthRatio<=1&&(i.windowLeftPos=0),i.heightRatio<=1&&(i.windowTopPos=0)),"window"==i.options.zoomType&&(i.largeHeight<i.options.zoomWindowHeight&&(i.windowTopPos=0),i.largeWidth<i.options.zoomWindowWidth&&(i.windowLeftPos=0)),i.options.easing?(i.xp||(i.xp=0),i.yp||(i.yp=0),i.loop||(i.loop=setInterval(function(){i.xp+=(i.windowLeftPos-i.xp)/i.options.easingAmount,i.yp+=(i.windowTopPos-i.yp)/i.options.easingAmount,i.scrollingLock?(clearInterval(i.loop),i.xp=i.windowLeftPos,i.yp=i.windowTopPos,i.xp=-1*((e.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2),i.yp=-1*((e.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2),i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"!=i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.windowLeftPos+"px "+i.windowTopPos+"px"}),i.scrollingLock=!1,i.loop=!1):Math.round(Math.abs(i.xp-i.windowLeftPos)+Math.abs(i.yp-i.windowTopPos))<1?(clearInterval(i.loop),i.zoomWindow.css({backgroundPosition:i.windowLeftPos+"px "+i.windowTopPos+"px"}),i.loop=!1):(i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"!=i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.xp+"px "+i.yp+"px"}))},16))):(i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.largeHeight/i.newvaluewidth<i.options.zoomWindowHeight?i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}):i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.windowLeftPos+"px "+i.windowTopPos+"px"})))},setTintPosition:function(t){this.nzOffset=this.$elem.offset(),this.tintpos=String(-1*(t.pageX-this.nzOffset.left-this.zoomLens.width()/2)),this.tintposy=String(-1*(t.pageY-this.nzOffset.top-this.zoomLens.height()/2)),this.Etoppos&&(this.tintposy=0),this.Eloppos&&(this.tintpos=0),this.Eboppos&&(this.tintposy=-1*(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize)),this.Eroppos&&(this.tintpos=-1*(this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos+"px"}),this.zoomTintImage.css({top:this.tintposy+"px"}))},swaptheimage:function(e,i){var n=this,o=new Image;n.options.loadingIcon&&(n.spinner=t("<div style=\"background: url('"+n.options.loadingIcon+"') no-repeat center;height:"+n.nzHeight+"px;width:"+n.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),n.$elem.after(n.spinner)),n.options.onImageSwap(n.$elem),o.onload=function(){n.largeWidth=o.width,n.largeHeight=o.height,n.zoomImage=i,n.zoomWindow.css({"background-size":n.largeWidth+"px "+n.largeHeight+"px"}),n.swapAction(e,i)},o.src=i},swapAction:function(e,i){var n=this,o=new Image;if(o.onload=function(){n.nzHeight=o.height,n.nzWidth=o.width,n.options.onImageSwapComplete(n.$elem),n.doneCallback()},o.src=e,n.currentZoomLevel=n.options.zoomLevel,n.options.maxZoomLevel=!1,"lens"==n.options.zoomType&&n.zoomLens.css({backgroundImage:"url('"+i+"')"}),"window"==n.options.zoomType&&n.zoomWindow.css({backgroundImage:"url('"+i+"')"}),"inner"==n.options.zoomType&&n.zoomWindow.css({backgroundImage:"url('"+i+"')"}),n.currentImage=i,n.options.imageCrossfade){var r=n.$elem,s=r.clone();if(n.$elem.attr("src",e),n.$elem.after(s),s.stop(!0).fadeOut(n.options.imageCrossfade,function(){t(this).remove()}),n.$elem.width("auto").removeAttr("width"),n.$elem.height("auto").removeAttr("height"),r.fadeIn(n.options.imageCrossfade),n.options.tint&&"inner"!=n.options.zoomType){var a=n.zoomTintImage,l=a.clone();n.zoomTintImage.attr("src",i),n.zoomTintImage.after(l),l.stop(!0).fadeOut(n.options.imageCrossfade,function(){t(this).remove()}),a.fadeIn(n.options.imageCrossfade),n.zoomTint.css({height:n.$elem.height()}),n.zoomTint.css({width:n.$elem.width()})}n.zoomContainer.css("height",n.$elem.height()),n.zoomContainer.css("width",n.$elem.width()),"inner"==n.options.zoomType&&(n.options.constrainType||(n.zoomWrap.parent().css("height",n.$elem.height()),n.zoomWrap.parent().css("width",n.$elem.width()),n.zoomWindow.css("height",n.$elem.height()),n.zoomWindow.css("width",n.$elem.width()))),n.options.imageCrossfade&&(n.zoomWrap.css("height",n.$elem.height()),n.zoomWrap.css("width",n.$elem.width()))}else n.$elem.attr("src",e),n.options.tint&&(n.zoomTintImage.attr("src",i),n.zoomTintImage.attr("height",n.$elem.height()),n.zoomTintImage.css({height:n.$elem.height()}),n.zoomTint.css({height:n.$elem.height()})),n.zoomContainer.css("height",n.$elem.height()),n.zoomContainer.css("width",n.$elem.width()),n.options.imageCrossfade&&(n.zoomWrap.css("height",n.$elem.height()),n.zoomWrap.css("width",n.$elem.width()));n.options.constrainType&&("height"==n.options.constrainType&&(n.zoomContainer.css("height",n.options.constrainSize),n.zoomContainer.css("width","auto"),n.options.imageCrossfade?(n.zoomWrap.css("height",n.options.constrainSize),n.zoomWrap.css("width","auto"),n.constwidth=n.zoomWrap.width()):(n.$elem.css("height",n.options.constrainSize),n.$elem.css("width","auto"),n.constwidth=n.$elem.width()),"inner"==n.options.zoomType&&(n.zoomWrap.parent().css("height",n.options.constrainSize),n.zoomWrap.parent().css("width",n.constwidth),n.zoomWindow.css("height",n.options.constrainSize),n.zoomWindow.css("width",n.constwidth)),n.options.tint&&(n.tintContainer.css("height",n.options.constrainSize),n.tintContainer.css("width",n.constwidth),n.zoomTint.css("height",n.options.constrainSize),n.zoomTint.css("width",n.constwidth),n.zoomTintImage.css("height",n.options.constrainSize),n.zoomTintImage.css("width",n.constwidth))),"width"==n.options.constrainType&&(n.zoomContainer.css("height","auto"),n.zoomContainer.css("width",n.options.constrainSize),n.options.imageCrossfade?(n.zoomWrap.css("height","auto"),n.zoomWrap.css("width",n.options.constrainSize),n.constheight=n.zoomWrap.height()):(n.$elem.css("height","auto"),n.$elem.css("width",n.options.constrainSize),n.constheight=n.$elem.height()),"inner"==n.options.zoomType&&(n.zoomWrap.parent().css("height",n.constheight),n.zoomWrap.parent().css("width",n.options.constrainSize),n.zoomWindow.css("height",n.constheight),n.zoomWindow.css("width",n.options.constrainSize)),n.options.tint&&(n.tintContainer.css("height",n.constheight),n.tintContainer.css("width",n.options.constrainSize),n.zoomTint.css("height",n.constheight),n.zoomTint.css("width",n.options.constrainSize),n.zoomTintImage.css("height",n.constheight),n.zoomTintImage.css("width",n.options.constrainSize))))},doneCallback:function(){this.options.loadingIcon&&this.spinner.hide(),this.nzOffset=this.$elem.offset(),this.nzWidth=this.$elem.width(),this.nzHeight=this.$elem.height(),this.currentZoomLevel=this.options.zoomLevel,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"window"==this.options.zoomType&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.options.zoomWindowWidth<this.options.zoomWindowWidth?lensWidth=this.nzWidth:lensWidth=this.options.zoomWindowWidth/this.widthRatio,this.zoomLens&&(this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var e=this;return e.gallerylist=[],e.options.gallery?t("#"+e.options.gallery+" a").each(function(){var i="";t(this).data("zoom-image")?i=t(this).data("zoom-image"):t(this).data("image")&&(i=t(this).data("image")),i==e.zoomImage?e.gallerylist.unshift({href:""+i,title:t(this).find("img").attr("title")}):e.gallerylist.push({href:""+i,title:t(this).find("img").attr("title")})}):e.gallerylist.push({href:""+e.zoomImage,title:t(this).find("img").attr("title")}),e.gallerylist},changeZoomLevel:function(t){this.scrollingLock=!0,this.newvalue=parseFloat(t).toFixed(2),newvalue=parseFloat(t).toFixed(2),maxheightnewvalue=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight),maxwidthtnewvalue=this.largeWidth/(this.options.zoomWindowWidth/this.nzWidth*this.nzWidth),"inner"!=this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/maxheightnewvalue/this.nzHeight,this.newvalueheight=maxheightnewvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/maxwidthtnewvalue/this.nzWidth,this.newvaluewidth=maxwidthtnewvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1),"lens"==this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.fullwidth=!0,this.newvaluewidth=maxheightnewvalue):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1))),"inner"==this.options.zoomType&&(maxheightnewvalue=parseFloat(this.largeHeight/this.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,newvalue>maxheightnewvalue?this.newvalueheight=maxheightnewvalue:this.newvalueheight=newvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,newvalue>maxheightnewvalue?this.newvalueheight=maxheightnewvalue:this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,newvalue>maxwidthtnewvalue?this.newvaluewidth=maxwidthtnewvalue:this.newvaluewidth=newvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1)),scrcontinue=!1,"inner"==this.options.zoomType&&(this.nzWidth>=this.nzHeight&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullheight=!0,this.fullwidth=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullheight=!0,this.fullwidth=!0))),"inner"!=this.options.zoomType&&(scrcontinue=!0),scrcontinue&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({height:String(this.options.zoomWindowHeight/this.heightRatio)+"px"})),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType||(this.changeBgSize=!0)),this.options.zoomWindowWidth/this.widthRatio<=this.nzWidth&&("inner"!=this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:String(this.options.zoomWindowWidth/this.widthRatio)+"px"})),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType||(this.changeBgSize=!0)),"inner"==this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight&&(this.currentZoomLevel=this.newvaluewidth),this.nzHeight>this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth))),this.setPosition(this.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(t){"enable"==t&&(this.options.zoomEnabled=!0),"disable"==t&&(this.options.zoomEnabled=!1)}};t.fn.elevateZoom=function(e){return this.each(function(){var i=Object.create(o);i.init(e,this),t.data(this,"elevateZoom",i)})},t.fn.elevateZoom.options={imageSrc:null,zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:t.noop,onDestroy:function(){},onZoomedImageLoaded:function(){},onImageSwap:t.noop,onImageSwapComplete:t.noop}}(jQuery,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){"use strict";t.dateRangePickerLanguages={default:{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":["january","february","march","april","may","june","july","august","september","october","november","december"],shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"},de:{selected:"Auswahl:",day:"Tag",days:"Tage",apply:"Schließen","week-1":"mo","week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so","month-name":["januar","februar","märz","april","mai","juni","juli","august","september","oktober","november","dezember"],shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"Nächste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht größer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage auswählen","default-single":"Bitte ein Datum auswählen","default-less":"Bitte weniger als %d Tage auswählen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen auswählen","default-default":"Bitte ein Start- und Enddatum auswählen",Time:"Zeit",hour:"Stunde",minute:"Minute"},es:{selected:"Seleccionado:",day:"Día",days:"Días",apply:"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa","week-7":"do","month-name":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"Año",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"Año","less-than":"El rango no debería ser mayor de %d días","more-than":"El rango no debería ser menor de %d días","default-more":"Por favor selecciona un rango mayor a %d días","default-single":"Por favor selecciona un día","default-less":"Por favor selecciona un rango menor a %d días","default-range":"Por favor selecciona un rango entre %d y %d días","default-default":"Por favor selecciona un rango de fechas."},fr:{selected:"Sélection:",day:"Jour",days:"Jours",apply:"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortcuts:"Raccourcis",past:"Passé",following:"Suivant",previous:"Précédent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Année",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Année","less-than":"L'intervalle ne doit pas être supérieure à %d jours","more-than":"L'intervalle ne doit pas être inférieure à %d jours","default-more":"Merci de choisir une intervalle supérieure à %d jours","default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle inférieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},pt:{selected:"Selecionado:",day:"Dia",days:"Dias",apply:"Fechar","week-1":"seg","week-2":"ter","week-3":"qua","week-4":"qui","week-5":"sex","week-6":"sab","week-7":"dom","week-number":"N","month-name":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],shortcuts:"Atalhos","custom-values":"Valores Personalizados",past:"Passado",following:"Seguinte",previous:"Anterior","prev-week":"Semana","prev-month":"Mês","prev-year":"Ano",next:"Próximo","next-week":"Próxima Semana","next-month":"Próximo Mês","next-year":"Próximo Ano","less-than":"O período selecionado não deve ser maior que %d dias","more-than":"O período selecionado não deve ser menor que %d dias","default-more":"Selecione um período superior a %d dias","default-single":"Selecione uma data","default-less":"Selecione um período inferior a %d dias","default-range":"Selecione um período de %d a %d dias","default-default":"Selecione um período",time:"Tempo",hour:"Hora",minute:"Minuto"}},t.fn.dateRangePicker=function(i){function n(){var n=this;if(t(this).data("date-picker-opened"))T();else{t(this).data("date-picker-opened",!0),(V=function(){var e='<div class="date-picker-wrapper';i.extraClass&&(e+=" "+i.extraClass+" ");i.singleDate&&(e+=" single-date ");e+='">';var n=i.showWeekNumbers?6:5,o='<i class="icon-left-open-mini"></i>';i.customArrowPrevSymbol&&(o=i.customArrowPrevSymbol);var r='<i class="icon-right-open-mini"></i>';i.customArrowNextSymbol&&(r=i.customArrowNextSymbol);e+='<div class="month-wrapper">   <table class="month1" cellspacing="0" border="0" cellpadding="0">       <thead>           <tr class="caption">               <th style="width:27px;">                   <div class="prev">'+o+'                   </div>               </th>               <th colspan="'+n+'" class="month-name">               </th>               <th style="width:27px;">'+(i.singleDate||!i.stickyMonths?'<div class="next">'+r+"</div>":"")+'               </th>           </tr>           <tr class="week-name">'+P()+"       </thead>       <tbody></tbody>   </table>",i.singleMonth||(e+='<div class="gap"></div><table class="month2" cellspacing="0" border="0" cellpadding="0">   <thead>   <tr class="caption">       <th style="width:27px;">'+(i.stickyMonths?"":'<div class="prev">'+o+"</div>")+'       </th>       <th colspan="'+n+'" class="month-name">       </th>       <th style="width:27px;">           <div class="next">'+r+'</div>       </th>   </tr>   <tr class="week-name">'+P()+"   </thead>   <tbody></tbody></table>");e+='<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>',i.singleDate||(e+='<div class="time2"></div>');return e+='</div><div style="clear:both;height:0;font-size:0;"></div></div></div>',t(e)}().hide()).append('<div class="date-range-length-tip"></div>'),t(i.container).append(V),i.inline?V.addClass("inline-wrapper"):o(),i.alwaysOpen&&V.find(".apply-btn").hide();var r=U();if(j(r),i.time.enabled)if(i.startDate&&i.endDate||i.start&&i.end)O(e(i.start||i.startDate).toDate(),"time1"),O(e(i.end||i.endDate).toDate(),"time2");else{var s=i.defaultEndTime?i.defaultEndTime:r;O(r,"time1"),O(s,"time2")}var a="";a=F(i.singleDate?"default-single":i.minDays&&i.maxDays?"default-range":i.minDays?"default-more":i.maxDays?"default-less":"default-default"),V.find(".default-top").html(a.replace(/\%d/,i.minDays).replace(/\%d/,i.maxDays)),i.singleMonth?V.addClass("single-month"):V.addClass("two-months"),setTimeout(function(){l(),N=!0},0),V.click(function(t){t.stopPropagation()}),t(document).bind("click.datepicker",function(e){(function(e,i){return i.contains(e.target)||e.target==i||void 0!=i.childNodes&&t.inArray(e.target,i.childNodes)>=0})(e,n[0])||V.is(":visible")&&T()}),V.find(".next").click(function(){t(n).trigger("datepicker-next-month-clicked"),i.stickyMonths?function(t){var e=R(i.month1),n=R(i.month2);M(n)||!i.singleDate&&E(e,n)>=0||(S(e,"month1"),S(n,"month2"),$())}():function(e){var n=t(e).parents("table").hasClass("month2"),o=n?i.month2:i.month1;o=R(o),!i.singleMonth&&!i.singleDate&&!n&&E(o,i.month2)>=0||M(o)||(S(o,n?"month2":"month1"),D())}(this),t(n).trigger("datepicker-next-month-finish-clicked")}),V.find(".prev").click(function(){t(n).trigger("datepicker-prev-month-clicked"),i.stickyMonths?function(t){var e=A(i.month1),n=A(i.month2);M(e)||!i.singleDate&&E(n,e)<=0||(S(n,"month2"),S(e,"month1"),$())}():function(e){var n=t(e).parents("table").hasClass("month2"),o=n?i.month2:i.month1;o=A(o),n&&E(o,i.month1)<=0||M(o)||(S(o,n?"month2":"month1"),D())}(this),t(n).trigger("datepicker-prev-month-finish-clicked")}),V.attr("unselectable","on").css("user-select","none").bind("selectstart",function(t){return t.preventDefault(),!1}),V.find(".apply-btn").click(function(){T();var e=C(new Date(i.start))+i.separator+C(new Date(i.end));t(n).trigger("datepicker-apply",{value:e,date1:new Date(i.start),date2:new Date(i.end)})}),V.find("[custom]").click(function(){var e=t(this).attr("custom");i.start=!1,i.end=!1,V.find(".day.checked").removeClass("checked"),i.setValue.call(Z,e),y(),b(!0),$(),i.autoClose&&T()}),V.find("[shortcut]").click(function(){var e,n=t(this).attr("shortcut"),o=new Date,r=!1;if(-1!=n.indexOf("day")){var s=parseInt(n.split(",",2)[1],10);r=new Date((new Date).getTime()+864e5*s),o=new Date(o.getTime()+864e5*(s>0?1:-1))}else if(-1!=n.indexOf("week")){var a;for(a=1==(e=-1!=n.indexOf("prev,")?-1:1)?"monday"==i.startOfWeek?1:0:"monday"==i.startOfWeek?0:6,o=new Date(o.getTime()-864e5);o.getDay()!=a;)o=new Date(o.getTime()+864e5*e);r=new Date(o.getTime()+864e5*e*6)}else if(-1!=n.indexOf("month"))(r=1==(e=-1!=n.indexOf("prev,")?-1:1)?R(o):A(o)).setDate(1),(o=R(r)).setDate(1),o=new Date(o.getTime()-864e5);else if(-1!=n.indexOf("year"))e=-1!=n.indexOf("prev,")?-1:1,(r=new Date).setFullYear(o.getFullYear()+e),r.setMonth(0),r.setDate(1),o.setFullYear(o.getFullYear()+e),o.setMonth(11),o.setDate(31);else if("custom"==n){var l=t(this).html();if(i.customShortcuts&&i.customShortcuts.length>0)for(var u=0;u<i.customShortcuts.length;u++){var h=i.customShortcuts[u];if(h.name==l){var d=[];if((d=h.dates.call())&&2==d.length&&(r=d[0],o=d[1]),d&&1==d.length){var c=d[0];S(c,"month1"),S(R(c),"month2"),D()}break}}}r&&o&&(k(r,o),y())}),V.find(".time1 input[type=range]").bind("change touchmove",function(e){var i=e.target;d("time1","hour"==i.name?t(i).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==i.name?t(i).val().replace(/^(\d{1})$/,"0$1"):void 0)}),V.find(".time2 input[type=range]").bind("change touchmove",function(e){var i=e.target;d("time2","hour"==i.name?t(i).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==i.name?t(i).val().replace(/^(\d{1})$/,"0$1"):void 0)})}}function o(){if(!i.inline){var e=t(q).offset();if("relative"==t(i.container).css("position")){var n=t(i.container).offset();V.css({top:e.top-n.top+t(q).outerHeight()+4,left:e.left-n.left})}else e.left<460?V.css({top:e.top+t(q).outerHeight()+parseInt(t("body").css("border-top")||0,10),left:e.left}):V.css({top:e.top+t(q).outerHeight()+parseInt(t("body").css("border-top")||0,10),left:e.left+t(q).width()-V.width()-16})}}function r(e){o(),W(),s(),i.customOpenAnimation?i.customOpenAnimation.call(V.get(0),function(){t(q).trigger("datepicker-opened",{relatedTarget:V})}):V.slideDown(e,function(){t(q).trigger("datepicker-opened",{relatedTarget:V})}),t(q).trigger("datepicker-open",{relatedTarget:V}),D(),l()}function s(){var t=i.getValue.call(Z),n=t?t.split(i.separator):"";if(n&&(1==n.length&&i.singleDate||n.length>=2)){var o=i.format;o.match(/Do/)&&(o=o.replace(/Do/,"D"),n[0]=n[0].replace(/(\d+)(th|nd|st)/,"$1"),n.length>=2&&(n[1]=n[1].replace(/(\d+)(th|nd|st)/,"$1"))),N=!1,n.length>=2?k(a(n[0],o,e.locale(i.language)),a(n[1],o,e.locale(i.language))):1==n.length&&i.singleDate&&x(a(n[0],o,e.locale(i.language))),N=!0}}function a(t,i,n){return e(t,i,n).isValid()?e(t,i,n).toDate():e().toDate()}function l(){var t=V.find(".gap").css("margin-left");t&&(t=parseInt(t));var e=V.find(".month1").width(),n=V.find(".gap").width()+(t?2*t:0),o=V.find(".month2").width();V.find(".month-wrapper").width(e+n+o+(i.singleMonth?0:77))}function u(t,i){V.find("."+t+" input[type=range].hour-range").val(e(i).hours()),V.find("."+t+" input[type=range].minute-range").val(e(i).minutes()),d(t,e(i).format("HH"),e(i).format("mm"))}function h(t,n){i[t]=parseInt(e(parseInt(n)).startOf("day").add(e(i[t+"Time"]).format("HH"),"h").add(e(i[t+"Time"]).format("mm"),"m").valueOf())}function d(t,n,o){function r(t,e){var r=e.format("HH"),s=e.format("mm");i[t]=e.startOf("day").add(n||r,"h").add(o||s,"m").valueOf()}switch(n&&V.find("."+t+" .hour-val").text(n),o&&V.find("."+t+" .minute-val").text(o),t){case"time1":i.start&&r("start",e(i.start)),r("startTime",e(i.startTime||e().valueOf()));break;case"time2":i.end&&r("end",e(i.end)),r("endTime",e(i.endTime||e().valueOf()))}y(),b(),$()}function c(t){var n=t;return"week-range"===i.batchMode?n="monday"===i.startOfWeek?e(parseInt(t)).startOf("isoweek").valueOf():e(parseInt(t)).startOf("week").valueOf():"month-range"===i.batchMode&&(n=e(parseInt(t)).startOf("month").valueOf()),n}function p(t){var n=t;return"week-range"===i.batchMode?n="monday"===i.startOfWeek?e(parseInt(t)).endOf("isoweek").valueOf():e(parseInt(t)).endOf("week").valueOf():"month-range"===i.batchMode&&(n=e(parseInt(t)).endOf("month").valueOf()),n}function f(n){if(!n.hasClass("invalid")){var o=n.attr("time");if(n.addClass("checked"),i.singleDate?(i.start=o,i.end=!1):"week"===i.batchMode?"monday"===i.startOfWeek?(i.start=e(parseInt(o)).startOf("isoweek").valueOf(),i.end=e(parseInt(o)).endOf("isoweek").valueOf()):(i.end=e(parseInt(o)).endOf("week").valueOf(),i.start=e(parseInt(o)).startOf("week").valueOf()):"workweek"===i.batchMode?(i.start=e(parseInt(o)).day(1).valueOf(),i.end=e(parseInt(o)).day(5).valueOf()):"weekend"===i.batchMode?(i.start=e(parseInt(o)).day(6).valueOf(),i.end=e(parseInt(o)).day(7).valueOf()):"month"===i.batchMode?(i.start=e(parseInt(o)).startOf("month").valueOf(),i.end=e(parseInt(o)).endOf("month").valueOf()):i.start&&i.end||!i.start&&!i.end?(i.start=c(o),i.end=!1):i.start&&(i.end=p(o),i.time.enabled&&h("end",i.end)),i.time.enabled&&(i.start&&h("start",i.start),i.end&&h("end",i.end)),!i.singleDate&&i.start&&i.end&&i.start>i.end){var r=i.end;i.end=p(i.start),i.start=c(r),i.time.enabled&&i.swapTime&&(u("time1",i.start),u("time2",i.end))}i.start=parseInt(i.start),i.end=parseInt(i.end),v(),i.start&&!i.end&&(t(q).trigger("datepicker-first-date-selected",{date1:new Date(i.start)}),w(n)),m(),y(),b(),$(),_()}}function g(t){if(t=parseInt(t,10),i.startDate&&I(t,i.startDate)<0)return!1;if(i.endDate&&I(t,i.endDate)>0)return!1;if(i.start&&!i.end&&!i.singleDate){if(i.maxDays>0&&z(t,i.start)>i.maxDays)return!1;if(i.minDays>0&&z(t,i.start)<i.minDays)return!1;if(i.selectForward&&t<i.start)return!1;if(i.selectBackward&&t>i.start)return!1;if(i.beforeShowDay&&"function"==typeof i.beforeShowDay){for(var e=!0,n=t;z(n,i.start)>1;){if(!i.beforeShowDay(new Date(n))[0]){e=!1;break}if(Math.abs(n-i.start)<864e5)break;n>i.start&&(n-=864e5),n<i.start&&(n+=864e5)}if(!e)return!1}}return!0}function m(){return V.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid"),i.start&&!i.end&&V.find(".day.toMonth.valid").each(function(){g(parseInt(t(this).attr("time"),10))?t(this).addClass("valid tmp").removeClass("invalid"):t(this).addClass("invalid tmp").removeClass("valid")}),!0}function w(e){var n=parseInt(e.attr("time")),o="";if(e.hasClass("has-tooltip")&&e.attr("data-tooltip"))o='<span style="white-space:nowrap">'+e.attr("data-tooltip")+"</span>";else if(!e.hasClass("invalid"))if(i.singleDate)V.find(".day.hovering").removeClass("hovering"),e.addClass("hovering");else if(V.find(".day").each(function(){var e=parseInt(t(this).attr("time"));i.start,i.end;e==n?t(this).addClass("hovering"):t(this).removeClass("hovering"),i.start&&!i.end&&(i.start<e&&n>=e||i.start>e&&n<=e)?t(this).addClass("hovering"):t(this).removeClass("hovering")}),i.start&&!i.end){var r=z(n,i.start);i.hoveringTooltip&&("function"==typeof i.hoveringTooltip?o=i.hoveringTooltip(r,i.start,n):!0===i.hoveringTooltip&&r>1&&(o=r+" "+F("days")))}if(o){var s=e.offset(),a=V.offset(),l=s.left-a.left,u=s.top-a.top;l+=e.width()/2;var h=V.find(".date-range-length-tip"),d=h.css({visibility:"hidden",display:"none"}).html(o).width(),c=h.height();l-=d/2,u-=c,setTimeout(function(){h.css({left:l,top:u,display:"block",visibility:"visible"})},10)}else V.find(".date-range-length-tip").hide()}function v(){V.find(".day.hovering").removeClass("hovering"),V.find(".date-range-length-tip").hide()}function _(){!0===i.singleDate?N&&i.start&&i.autoClose&&T():N&&i.start&&i.end&&i.autoClose&&T()}function y(){var t=Math.ceil((i.end-i.start)/864e5)+1;i.singleDate?i.start&&!i.end?V.find(".drp_top-bar").removeClass("error").addClass("normal"):V.find(".drp_top-bar").removeClass("error").removeClass("normal"):i.maxDays&&t>i.maxDays?(i.start=!1,i.end=!1,V.find(".day").removeClass("checked"),V.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(F("less-than").replace("%d",i.maxDays))):i.minDays&&t<i.minDays?(i.start=!1,i.end=!1,V.find(".day").removeClass("checked"),V.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(F("more-than").replace("%d",i.minDays))):i.start||i.end?V.find(".drp_top-bar").removeClass("error").addClass("normal"):V.find(".drp_top-bar").removeClass("error").removeClass("normal"),i.singleDate&&i.start&&!i.end||!i.singleDate&&i.start&&i.end?V.find(".apply-btn").removeClass("disabled"):V.find(".apply-btn").addClass("disabled"),i.batchMode&&(i.start&&i.startDate&&I(i.start,i.startDate)<0||i.end&&i.endDate&&I(i.end,i.endDate)>0)&&(i.start=!1,i.end=!1,V.find(".day").removeClass("checked"))}function b(e,n){V.find(".start-day").html("..."),V.find(".end-day").html("..."),V.find(".selected-days").hide(),i.start&&V.find(".start-day").html(C(new Date(parseInt(i.start)))),i.end&&V.find(".end-day").html(C(new Date(parseInt(i.end))));var o;i.start&&i.singleDate?(V.find(".apply-btn").removeClass("disabled"),o=C(new Date(i.start)),i.setValue.call(Z,o,C(new Date(i.start)),C(new Date(i.end))),N&&!n&&t(q).trigger("datepicker-change",{value:o,date1:new Date(i.start)})):i.start&&i.end?(V.find(".selected-days").show().find(".selected-days-num").html(z(i.end,i.start)),V.find(".apply-btn").removeClass("disabled"),o=C(new Date(i.start))+i.separator+C(new Date(i.end)),i.setValue.call(Z,o,C(new Date(i.start)),C(new Date(i.end))),N&&!n&&t(q).trigger("datepicker-change",{value:o,date1:new Date(i.start),date2:new Date(i.end)})):e?V.find(".apply-btn").removeClass("disabled"):V.find(".apply-btn").addClass("disabled")}function z(t,e){return Math.abs(H(t)-H(e))+1}function k(t,e,n){if(t.getTime()>e.getTime()){var o=e;e=t,t=o,o=null}var r=!0;if(i.startDate&&I(t,i.startDate)<0&&(r=!1),i.endDate&&I(e,i.endDate)>0&&(r=!1),!r)return S(i.startDate,"month1"),S(R(i.startDate),"month2"),void D();i.start=t.getTime(),i.end=e.getTime(),i.time.enabled&&(u("time1",t),u("time2",e)),(i.stickyMonths||I(t,e)>0&&0===E(t,e))&&(i.lookBehind?t=A(e):e=R(t)),i.stickyMonths&&!1!==i.endDate&&E(e,i.endDate)>0&&(t=A(t),e=A(e)),i.stickyMonths||0===E(t,e)&&(i.lookBehind?t=A(e):e=R(t)),S(t,"month1"),S(e,"month2"),D(),y(),b(!1,n),_()}function x(t,e){var n=!0;if(i.startDate&&I(t,i.startDate)<0&&(n=!1),i.endDate&&I(t,i.endDate)>0&&(n=!1),n){if(i.start=t.getTime(),i.time.enabled&&u("time1",t),S(t,"month1"),!0!==i.singleMonth){S(R(t),"month2")}D(),b(!1,e),_()}else S(i.startDate,"month1")}function $(){(i.start||i.end)&&(V.find(".day").each(function(){var n=parseInt(t(this).attr("time")),o=i.start,r=i.end;i.time.enabled&&(n=e(n).startOf("day").valueOf(),o=e(o||e().valueOf()).startOf("day").valueOf(),r=e(r||e().valueOf()).startOf("day").valueOf()),i.start&&i.end&&r>=n&&o<=n||i.start&&!i.end&&e(o).format("YYYY-MM-DD")==e(n).format("YYYY-MM-DD")?t(this).addClass("checked"):t(this).removeClass("checked"),i.start&&e(o).format("YYYY-MM-DD")==e(n).format("YYYY-MM-DD")?t(this).addClass("first-date-selected"):t(this).removeClass("first-date-selected"),i.end&&e(r).format("YYYY-MM-DD")==e(n).format("YYYY-MM-DD")?t(this).addClass("last-date-selected"):t(this).removeClass("last-date-selected")}),V.find(".week-number").each(function(){t(this).attr("data-start-time")==i.startWeek&&t(this).addClass("week-number-selected")}))}function S(n,o){var r=function(t){return F("month-name")[t]}((n=e(n).toDate()).getMonth());V.find("."+o+" .month-name").html(r+" "+n.getFullYear()),V.find("."+o+" tbody").html(function(t){var n=[];t.setDate(1);new Date(t.getTime()-864e5);var o=new Date,r=t.getDay();0===r&&"monday"===i.startOfWeek&&(r=7);var s,a;if(r>0)for(u=r;u>0;u--){c=new Date(t.getTime()-864e5*u);a=g(c.getTime()),i.startDate&&I(c,i.startDate)<0&&(a=!1),i.endDate&&I(c,i.endDate)>0&&(a=!1),n.push({date:c,type:"lastMonth",day:c.getDate(),time:c.getTime(),valid:a})}for(var l=t.getMonth(),u=0;u<40;u++)s=e(t).add(u,"days").toDate(),a=g(s.getTime()),i.startDate&&I(s,i.startDate)<0&&(a=!1),i.endDate&&I(s,i.endDate)>0&&(a=!1),n.push({date:s,type:s.getMonth()==l?"toMonth":"nextMonth",day:s.getDate(),time:s.getTime(),valid:a});for(var h=[],d=0;d<6&&"nextMonth"!=n[7*d].type;d++){h.push("<tr>");for(var c=0;c<7;c++){var p="monday"==i.startOfWeek?c+1:c;s=n[7*d+p];var f=e(s.time).format("L")==e(o).format("L");if(s.extraClass="",s.tooltip="",s.valid&&i.beforeShowDay&&"function"==typeof i.beforeShowDay){var m=i.beforeShowDay(e(s.time).toDate());s.valid=m[0],s.extraClass=m[1]||"",s.tooltip=m[2]||"",""!==s.tooltip&&(s.extraClass+=" has-tooltip ")}var w={time:s.time,"data-tooltip":s.tooltip,class:"day "+s.type+" "+s.extraClass+" "+(s.valid?"valid":"invalid")+" "+(f&&i.highlightToday?"real-today":"")};0===c&&i.showWeekNumbers&&h.push('<td><div class="week-number" data-start-time="'+s.time+'">'+i.getWeekNumber(s.date)+"</div></td>"),h.push("<td "+L({},i.dayTdAttrs,s)+"><div "+L(w,i.dayDivAttrs,s)+">"+function(t,e){return i.showDateFilter&&"function"==typeof i.showDateFilter?i.showDateFilter(t,e):e}(s.time,s.day)+"</div></td>")}h.push("</tr>")}return h.join("")}(n)),i[o]=n,m(),V.find(".day").unbind("click").click(function(e){f(t(this))}),V.find(".day").unbind("mouseenter").mouseenter(function(e){w(t(this))}),V.find(".day").unbind("mouseleave").mouseleave(function(t){V.find(".date-range-length-tip").hide(),i.singleDate&&v()}),V.find(".week-number").unbind("click").click(function(n){!function(t){var n,o,r=parseInt(t.attr("data-start-time"),10);i.startWeek?(V.find(".week-number-selected").removeClass("week-number-selected"),n=new Date(r<i.startWeek?r:i.startWeek),o=new Date(r<i.startWeek?i.startWeek:r),i.startWeek=!1,i.start=e(n).day("monday"==i.startOfWeek?1:0).valueOf(),i.end=e(o).day("monday"==i.startOfWeek?7:6).valueOf()):(i.startWeek=r,t.addClass("week-number-selected"),n=new Date(r),i.start=e(n).day("monday"==i.startOfWeek?1:0).valueOf(),i.end=e(n).day("monday"==i.startOfWeek?7:6).valueOf()),m(),y(),b(),$(),_()}(t(this))})}function O(t,e){V.find("."+e).append("<div><span>"+F("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour"><label>'+F("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute"><label>'+F("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>'),u(e,t)}function C(t){return e(t).format(i.format)}function D(){$();var t=parseInt(e(i.month1).format("YYYYMM")),n=parseInt(e(i.month2).format("YYYYMM")),o=Math.abs(t-n);o>1&&89!=o?V.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible"):V.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden");var r=V.find("table.month1").height(),s=V.find("table.month2").height();0===Math.max(r,s)?V.find(".gap").height(100):V.find(".gap").height(Math.max(r,s)+10)}function T(){if(!i.alwaysOpen){var e=function(){t(q).data("date-picker-opened",!1),t(q).trigger("datepicker-closed",{relatedTarget:V})};i.customCloseAnimation?i.customCloseAnimation.call(V.get(0),e):t(V).slideUp(i.duration,e),t(q).trigger("datepicker-close",{relatedTarget:V})}}function W(){S(i.month1,"month1"),S(i.month2,"month2")}function E(t,i){var n=parseInt(e(t).format("YYYYMM"))-parseInt(e(i).format("YYYYMM"));return n>0?1:0===n?0:-1}function I(t,i){var n=parseInt(e(t).format("YYYYMMDD"))-parseInt(e(i).format("YYYYMMDD"));return n>0?1:0===n?0:-1}function R(t){return e(t).add(1,"months").toDate()}function A(t){return e(t).add(-1,"months").toDate()}function P(){var t=i.showWeekNumbers?"<th>"+F("week-number")+"</th>":"";return"monday"==i.startOfWeek?t+"<th>"+F("week-1")+"</th><th>"+F("week-2")+"</th><th>"+F("week-3")+"</th><th>"+F("week-4")+"</th><th>"+F("week-5")+"</th><th>"+F("week-6")+"</th><th>"+F("week-7")+"</th>":t+"<th>"+F("week-7")+"</th><th>"+F("week-1")+"</th><th>"+F("week-2")+"</th><th>"+F("week-3")+"</th><th>"+F("week-4")+"</th><th>"+F("week-5")+"</th><th>"+F("week-6")+"</th>"}function M(t){return t=e(t),!(!i.startDate||!t.endOf("month").isBefore(i.startDate))||!(!i.endDate||!t.startOf("month").isAfter(i.endDate))}function L(e,i,n){var o=t.extend(!0,{},e);t.each(i,function(t,e){var i=e(n);for(var r in i)o.hasOwnProperty(r)?o[r]+=i[r]:o[r]=i[r]});var r="";for(var s in o)o.hasOwnProperty(s)&&(r+=s+'="'+o[s]+'" ');return r}function H(t){return Math.floor(function(t){e.isMoment(t)&&(t=t.toDate().getTime());"object"==typeof t&&t.getTime&&(t=t.getTime());"string"!=typeof t||t.match(/\d{13}/)||(t=e(t,i.format).toDate().getTime());return t=parseInt(t,10)-60*(new Date).getTimezoneOffset()*1e3}(t)/864e5)}function F(e){var i=e.toLowerCase(),n=e in Y?Y[e]:i in Y?Y[i]:null,o=t.dateRangePickerLanguages.default;return null==n&&(n=e in o?o[e]:i in o?o[i]:""),n}function U(){var t=i.defaultTime?i.defaultTime:new Date;return i.lookBehind?(i.startDate&&E(t,i.startDate)<0&&(t=R(e(i.startDate).toDate())),i.endDate&&E(t,i.endDate)>0&&(t=e(i.endDate).toDate())):(i.startDate&&E(t,i.startDate)<0&&(t=e(i.startDate).toDate()),i.endDate&&E(R(t),i.endDate)>0&&(t=A(e(i.endDate).toDate()))),i.singleDate&&(i.startDate&&E(t,i.startDate)<0&&(t=e(i.startDate).toDate()),i.endDate&&E(t,i.endDate)>0&&(t=e(i.endDate).toDate())),t}function j(t){t||(t=U()),i.lookBehind?(S(A(t),"month1"),S(t,"month2")):(S(t,"month1"),S(R(t),"month2")),i.singleDate&&S(t,"month1"),$(),D()}i||(i={}),(i=t.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" - ",language:"auto",startOfWeek:"sunday",getValue:function(){return t(this).val()},setValue:function(e){t(this).attr("readonly")||t(this).is(":disabled")||e==t(this).val()||t(this).val(e)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,highlightToday:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(t,e,i){return t>1?t+" "+F("days"):""},showTopbar:!0,swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(t){return e(t).format("w")},customOpenAnimation:null,customCloseAnimation:null,customArrowPrevSymbol:null,customArrowNextSymbol:null},i)).start=!1,i.end=!1,i.startWeek=!1,i.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints,i.isTouchDevice&&(i.hoveringTooltip=!1),"auto"==i.singleMonth&&(i.singleMonth=t(window).width()<480),i.singleMonth&&(i.stickyMonths=!1),i.showTopbar||(i.autoClose=!0),i.startDate&&"string"==typeof i.startDate&&(i.startDate=e(i.startDate,i.format).toDate()),i.endDate&&"string"==typeof i.endDate&&(i.endDate=e(i.endDate,i.format).toDate());var V,B,Y=function(){if("auto"==i.language){var e=navigator.language?navigator.language:navigator.browserLanguage;return e&&(e=e.toLowerCase())in t.dateRangePickerLanguages?t.dateRangePickerLanguages[e]:t.dateRangePickerLanguages.default}return i.language&&i.language in t.dateRangePickerLanguages?t.dateRangePickerLanguages[i.language]:t.dateRangePickerLanguages.default}(),N=!1,q=this,Z=t(q).get(0);return t(this).unbind(".datepicker").bind("click.datepicker",function(t){V.is(":visible")||r(i.duration)}).bind("change.datepicker",function(t){s()}).bind("keyup.datepicker",function(){try{clearTimeout(B)}catch(t){}B=setTimeout(function(){s()},2e3)}),n.call(this),i.alwaysOpen&&r(0),t(this).data("dateRangePicker",{setStart:function(t,n){return"string"==typeof t&&(t=e(t,i.format).toDate()),i.end=!1,x(t,n),this},setEnd:function(t,n){var o=new Date;return o.setTime(i.start),"string"==typeof t&&(t=e(t,i.format).toDate()),k(o,t,n),this},setDateRange:function(t,n,o){"string"==typeof t&&"string"==typeof n&&(t=e(t,i.format).toDate(),n=e(n,i.format).toDate()),k(t,n,o)},clear:function(){i.start=!1,i.end=!1,V.find(".day.checked").removeClass("checked"),V.find(".day.last-date-selected").removeClass("last-date-selected"),V.find(".day.first-date-selected").removeClass("first-date-selected"),i.setValue.call(Z,""),y(),b(),$()},close:T,open:r,redraw:W,getDatePicker:function(){return V},resetMonthsView:j,destroy:function(){t(q).unbind(".datepicker"),t(q).data("dateRangePicker",""),t(q).data("date-picker-opened",null),V.remove(),t(window).unbind("resize.datepicker",o),t(document).unbind("click.datepicker",T)}}),t(window).bind("resize.datepicker",o),this}}),angular.module("SER.utils",[]);var KEYS={up:38,down:40,left:37,right:39,escape:27,enter:13,backspace:8,delete:46,shift:16,leftCmd:91,rightCmd:93,ctrl:17,alt:18,tab:9};if(window.onbeforeprint=function(){console.log("Functionality to run before printing: ",window.location.href)},window.onafterprint=function(){console.log("Functionality to run after printing: ",window.location.href)},window.matchMedia){var mediaQueryList=window.matchMedia("print");mediaQueryList.addListener(function(t){t.matches?window.onbeforeprint():window.onafterprint()})}!function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var i=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=i,n}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(i){function n(e,o,r){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(r=t({path:"/"},n.defaults,r)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}r.expires=r.expires?r.expires.toUTCString():"";try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(t){}o=i.write?i.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var u in r)r[u]&&(l+="; "+u,!0!==r[u]&&(l+="="+r[u]));return document.cookie=e+"="+o+l}e||(s={});for(var h=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,c=0;c<h.length;c++){var p=h[c].split("="),f=p.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var g=p[0].replace(d,decodeURIComponent);if(f=i.read?i.read(f,g):i(f,g)||f.replace(d,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(t){}if(e===g){s=f;break}e||(s[g]=f)}catch(t){}}return s}}return n.set=n,n.get=function(t){return n.call(n,t)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,i){n(e,"",t(i,{expires:-1}))},n.withConverter=e,n}return e(function(){})}),angular.module("SER.auth",[]),angular.module("SER.auth").value("userPermissions",[]),angular.module("SER.auth").value("isSuperuser",!1),angular.module("SER.auth").value("url403",""),angular.module("SER.auth").service("permissionService",["userPermissions","isSuperuser",function(t,e){return{hasPermission:function(i){return!!e||!notValue(i)&&-1!==t.indexOf(i)},atLeastPermissions:function(i){if(e)return!0;if(hasValue(i)){for(var n=0;n<i.length;n++)if(inArray(i[n],t))return!0;return!1}return!0},hasPermissions:function(i){if(e)return!0;for(var n=0;n<i.length;n++)if(notInArray(i[n],t))return!1;return!0}}}]),angular.module("SER.search",[]),angular.module("SER.search").directive("serAutocomplete",["$http","$timeout",function(t,e){return{restrict:"E",scope:{ngModel:"=",remoteUrl:"=",keywordField:"@",ngRequired:"=?",ngDisabled:"=?",selectItem:"&?",dropdownClass:"@?"},link:function(i,n,o,r,s){var a,l=angular.element(n[0].querySelector(".ser-autocomplete-results")),u=n.parents(),h="autocomplete-results-"+Math.round(1e6*Math.random());l.attr("id",h),l.detach(),i.results=[],i.isFetching=!1,i.selectInternalItem=function(t){angular.isFunction(i.selectItem)&&i.selectItem({newValue:t}),hasValue(i.keywordField)&&(i.ngModel=t[i.keywordField]),i.close()};var d=function(){var t=n[0],e={top:"",bottom:"",left:t.getBoundingClientRect().left+"px",width:t.offsetWidth+"px"};angular.element(document.body).height()-(t.offsetHeight+t.getBoundingClientRect().top)>=220?(e.top=t.offsetHeight+t.getBoundingClientRect().top,l.removeClass("ontop")):(e.bottom=angular.element(document.body).height()-t.getBoundingClientRect().top,l.addClass("ontop")),l.css(e)};i.showDropdown=function(){d(),angular.element(document.body).append(l),e(function(){angular.element(window).triggerHandler("resize")},50)},i.open=function(){i.isOpen=!0,i.showDropdown()},i.close=function(){i.isOpen=!1,l.detach()},u.each(function(t,e){angular.element(e).on("scroll."+h,function(t){d()})});angular.element(n[0].querySelector(".ser-autocomplete-wrapper input")).on("focus",function(){hasValue(i.results)&&e(function(){i.open()})}).on("blur",function(){i.close()}).on("keyup",function(e){a&&clearTimeout(a),a=setTimeout(function(){i.$apply(function(){i.isFetching=!0,i.results=[],i.close(),i.ngModel?t.get(i.remoteUrl+i.ngModel).then(function(t){i.results=t.data,i.isFetching=!1,hasValue(i.results)&&i.open()}):(i.isFetching=!1,i.close())})},500)}),l.on("mousedown",function(t){t.preventDefault()})},template:function(t,e){return'<div class="ser-autocomplete-wrapper" ng-class="{open: isOpen}"><div class="group">'+function(){var e=t.find("addon").detach();return e.length?'<span class="addon">'+e.html()+"</span>":""}()+'<input placeholder="{{placeholder}}" ng-model="ngModel" '+(e.disabled?"disabled":'ng-disabled="ngDisabled"')+' ng-focus="ngFocus" ng-blur="searchBlur()" '+(e.required?"required":'ng-required="ngRequired"')+' /></div><div class="fetching line-loader" ng-show="isFetching"></div><ul md-virtual-repeat-container md-auto-shrink md-top-index="highlighted" class="ser-autocomplete-results '+e.dropdownClass+'"><li class="item" md-virtual-repeat="item in results" ng-click="selectInternalItem(item)">'+function(){var e=t.find("ser-item-template").detach();return e.length?e.html():t.html()}()+"</li></ul></div>"}}}]),angular.module("SER.datepicker",[]),angular.module("SER.datepicker").directive("weekDay",function(){return{restrict:"E",require:["ngModel"],scope:{ngModel:"="},link:function(t,e,i,n){t.toggleDay=function(e){"multiple"in i?(notValue(t.ngModel)&&(t.ngModel=[]),notInArray(e,t.ngModel)?t.ngModel.push(e):t.ngModel.splice(t.ngModel.indexOf(e),1)):t.ngModel=e!==t.ngModel?e:null},t.isSet=function(e){return"multiple"in i?inArray(e,t.ngModel):e===t.ngModel}},template:function(){return'<div class="wrapper"><div class="day" ng-click="toggleDay(1)" ng-class="{active: isSet(1)}">'+__("LUN")+'</div><div class="day" ng-click="toggleDay(2)" ng-class="{active: isSet(2)}">'+__("MAR")+'</div><div class="day" ng-click="toggleDay(3)" ng-class="{active: isSet(3)}">'+__("MIE")+'</div><div class="day" ng-click="toggleDay(4)" ng-class="{active: isSet(4)}">'+__("JUE")+'</div><div class="day" ng-click="toggleDay(5)" ng-class="{active: isSet(5)}">'+__("VIE")+'</div><div class="day" ng-click="toggleDay(6)" ng-class="{active: isSet(6)}">'+__("SAB")+'</div><div class="day" ng-click="toggleDay(7)" ng-class="{active: isSet(7)}">'+__("DOM")+"</div></div>"}}}),angular.module("SER.datepicker").directive("serDate",["$filter",function(t){return{restrict:"E",require:["ngModel"],scope:{ngModel:"=",config:"="},controller:["$scope",function(t){t.placeholder=__("select_date"),t.clear=function(){t.ngModel=null}}],link:function(t,e){e.find(".value-wrapper").tooltipster({content:e.find(".picker-wrapper"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0});var i=e.find(".date-wrapper").dateRangePicker({inline:!0,container:e.find(".date-wrapper"),alwaysOpen:!0,language:"es",singleDate:!0,singleMonth:!0}).bind("datepicker-change",function(i,n){t.$apply(function(){t.ngModel=n.date1}),e.find(".value-wrapper").tooltipster("close")}).bind("datepicker-next-month-finish-clicked",function(t){e.find(".value-wrapper").tooltipster("reposition")}).bind("datepicker-prev-month-finish-clicked",function(t){e.find(".value-wrapper").tooltipster("reposition")});t.ngModel&&i.data("dateRangePicker").setStart(t.ngModel,!0),t.$watch("ngModel",function(t,e){t&&t!=e&&i.data("dateRangePicker").setStart(t,!0)},!0)},template:function(t,e){return'<div class="ser-date-wrapper" ng-class="{open: open, \'has-value\': blur}"><div ng-class="{\'bttn-group\': ngModel}" class="row center-center"><button type="button" class="bttn value-wrapper">{{ (ngModel | date: \'longDate\') || placeholder }}</button><button type="button" ng-show="ngModel" class="bttn clear" ng-click="clear()">×</button></div><div class="tooltip-templates"><div class="picker-wrapper"><div class="date-wrapper"></div></div></div></div>'}}}]),angular.module("SER.datepicker").directive("serDateRange",["$filter",function(t){return{restrict:"E",require:["ngModel"],scope:{ngModel:"=",config:"="},controller:["$scope",function(t){t.placeholder=__("select_date_range"),t.clear=function(){t.ngModel=null,t.placeholder=__("select_date_range")}}],link:function(e,i){i.find(".value-wrapper").tooltipster({content:i.find(".picker-wrapper"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0});var n=i.find(".date-wrapper").dateRangePicker({inline:!0,container:i.find(".date-wrapper"),alwaysOpen:!0,language:"es"}).bind("datepicker-change",function(n,o){e.$apply(function(){o.date1.setHours(0,0,0,0),o.date2.setHours(23,59,59,0),e.ngModel={FromDate:o.date1,ToDate:o.date2},e.placeholder=t("date")(o.date1,"longDate")+" - "+t("date")(o.date2,"longDate")}),i.find(".value-wrapper").tooltipster("close")}).bind("datepicker-next-month-finish-clicked",function(t){i.find(".value-wrapper").tooltipster("reposition")}).bind("datepicker-prev-month-finish-clicked",function(t){i.find(".value-wrapper").tooltipster("reposition")});e.ngModel&&e.ngModel.FromDate&&e.ngModel.ToDate&&(n.data("dateRangePicker").setStart(e.ngModel.FromDate,!0),n.data("dateRangePicker").setEnd(e.ngModel.ToDate,!0),e.placeholder=t("date")(e.ngModel.FromDate,"longDate")+" - "+t("date")(e.ngModel.ToDate,"longDate")),e.$watch("ngModel",function(t,i){t&&t!=i&&(n.data("dateRangePicker").setStart(e.ngModel.FromDate,!0),n.data("dateRangePicker").setEnd(e.ngModel.ToDate,!0))},!0)},template:function(t,e){return'<div class="ser-date-wrapper" ng-class="{open: open, \'has-value\': blur}"><div ng-class="{\'bttn-group\': ngModel}" class="row center-center"><button type="button" class="bttn value-wrapper">{{ placeholder }}</button><button type="button" ng-show="ngModel" class="bttn clear" ng-click="clear()">×</button></div><div class="tooltip-templates"><div class="picker-wrapper"><div class="date-wrapper"></div></div></div></div>'}}}]),angular.module("SER.filters",[]),angular.module("SER.filters").filter("PascalCase",[function(){return function(t){return t.replace(/([A-Z]+)([A-Z])/g," $1 $2").replace(/([a-z\d])([A-Z])/g,"$1 $2").replace(/([a-zA-Z])(\d)/g,"$1 $2").replace(/^./,function(t){return t.toUpperCase()}).trim()}}]),angular.module("SER.filters").filter("getItem",["$filter",function(t){return function(e,i,n){var o={};o[n]=e;var r=[];return r=t("filter")(i,o,!0),hasValue(r)&&0<r.length?r[0]:null}}]),angular.module("SER.filters").filter("minutesTime",[function(){return function(t,e){var i=parseInt(t/60,10);return(!e&&i>12?24===i?"00":(i-12<10?"0":"")+(i-12):(i<10?"0":"")+i)+":"+(t-60*i<10?"0"+(t-60*i):t-60*i)+(e?":00":i>=12&&24!==i?" pm":" am")}}]),angular.module("SER.filters").filter("timeMinutes",[function(){return function(t){return 60*parseInt(t.split(":")[0])+parseInt(t.split(":")[1])}}]),angular.module("SER.filters").filter("leadingChar",function(){return function(t,e,i){return i=i||"0",hasValue(t)?(t+="").length>=e?t:new Array(e-t.length+1).join(i)+t:""}});var i18n={__DICT:void 0,loadJSON:function(t){this.__DICT=t},__:function(t){if(void 0!==this.__DICT)return t in this.__DICT?this.__DICT[t]:(console.warn("Locale not found for: "+t),t);console.error("Locale JSON file not loaded | Locale not found for: "+t)}},__=function(t){return i18n.__(t)};angular.module("SER.i18n",[]),angular.module("SER.i18n").filter("translate",function(){return function(t){return i18n.__(t)}}),angular.module("SER.image",[]),angular.module("SER.image").directive("callbackImage",function(){return{restrict:"A",link:function(t,e,i){e.on("dragstart",function(t){t.preventDefault()}),e.bind("error",function(){e[0].src=i.callbackImage})}}}),angular.module("SER.image").directive("retryGetImage",function(){return{restrict:"A",scope:{retryGetImage:"@",fallbackRetry:"="},link:function(t,e,i){var n;t.$watch("retryGetImage",function(i){clearTimeout(n),e.unbind("load"),e.unbind("error"),e[0].src=i,e.addClass("hidden"),e.bind("load",function(){e.removeClass("hidden"),t.fallbackRetry=!1,clearTimeout(n),t.$apply()}),e.bind("error",function(){t.fallbackRetry=!0,n=setTimeout(function(){e[0].src=t.retryGetImage},5e3)})})}}}),angular.module("SER.image").directive("imgZoom",["$timeout",function(t){return{restrict:"E",scope:{image:"=",options:"="},link:function(e,i,n){i.find(".target").on("load",function(){i.find(".loader").addClass("ng-hide")}),i.find(".target").on("error",function(){i.find(".loader").addClass("ng-hide"),e.zoomReset()}),e.size="auto";var o={"max-height":"none"};angular.merge(o,e.options),e.zoomIn=function(){e.size=1.1*i.find(".target").width(),i.find(".target").css({"max-height":"none",height:"auto"})},e.zoomOut=function(){e.size=i.find(".target").width()/1.1,i.find(".target").css({"max-height":"none",height:"auto"})},e.zoomReset=function(){e.size="auto",i.find(".target").css({"max-height":o["max-height"],height:"auto"})},e.zoomExpand=function(){e.size="auto",i.find(".target").css({"max-height":o["max-height"],height:i.height()-2})},t(function(){e.zoomExpand()},500)},template:function(){return'<div class="controls"><button class="bttn icon" ng-click="zoomOut()"><i class="icon-zoom-out"></i></button><button class="bttn icon" ng-click="zoomReset()"><i class="icon-zoom-actual"></i></button><button class="bttn icon" ng-click="zoomExpand()"><i class="icon-zoom-expand"></i></button><button class="bttn icon" ng-click="zoomIn()"><i class="icon-zoom-in"></i></button></div><div class="loader dots">'+__("loading")+'</div><img class="target" ng-src="{{ image }}" ng-style="{width: size}" callback-image="/images/'+__("no_image_available.svg")+'" />'}}}]),angular.module("SER.image").directive("zoomImage",function(){return{restrict:"A",link:function(t,e,i){var n={responsive:!0,loadingIcon:!0,tint:!0,scrollZoom:!0,zoomWindowWidth:150,zoomWindowHeight:150,imageSrc:i.ngSrc};angular.merge(n,t.$eval(i.zoomImage)),e.elevateZoom(n)}}}),angular.module("SER.loader",[]).service("afterPromises",[function(){var t=function(t,e){this.callback=e,this.topCount=t,this.counter=0};return t.prototype.notify=function(){this.counter+=1,this.counter==this.topCount&&this.callback()},t}]),angular.module("SER.search").directive("remoteSearch",["$http",function(t){return{restrict:"A",require:["ngModel"],scope:{remoteSearchResults:"=",remoteSearch:"=",model:"=ngModel"},link:function(e,i,n,o){var r;i.on("keyup",function(i){r&&clearTimeout(r),r=setTimeout(function(){e.$apply(function(){e.remoteSearchResults=[]}),e.model&&t.get(e.remoteSearch+e.model).then(function(t){0<t.data.length&&(e.remoteSearchResults=t.data)})},500)})}}}]),angular.module("SER.search").directive("ngEnter",function(){return function(t,e,i){e.bind("keydown keypress",function(n){13===n.which&&(t.$apply(function(){t.$eval(i.ngEnter,{$event:n})}),n.preventDefault(),e.blur())})}}),angular.module("SER.selector",[]).directive("selector",["$rootScope","$filter","$timeout","$window","$http","$q","$templateCache",function(t,e,i,n,o,r,s){return{restrict:"EC",replace:!0,transclude:!0,scope:{value:"=model",disabled:"=?disable",disableSearch:"=?",required:"=?require",multiple:"=?multi",placeholder:"@?",valueAttr:"@",labelAttr:"@?",options:"=?",dropdownClass:"@?",limit:"=?",rtl:"=?",api:"=?",change:"&?",removeButton:"=?",softDelete:"=?",closeAfterSelection:"=?"},link:function(t,n,o,r,s){var a=angular.element(n[0].querySelector(".selector-dropdown")),l=angular.element(n[0].querySelector("select")),u=n.parents(),h="selector-"+Math.round(1e6*Math.random());a.attr("id",h),s(t,function(t,o){var r=e("filter"),s=angular.element(n[0].querySelector(".selector-input input")),d=s.controller("ngModel"),c=n.find("select").controller("ngModel"),p={api:{},search:"",disableSearch:!1,selectedValues:[],highlighted:0,valueAttr:null,labelAttr:"label",options:[],limit:1/0,removeButton:!0,closeAfterSelection:!0};a.detach(),!angular.isDefined(o.value)&&o.multiple&&(o.value=[]);for(var f in p)angular.isDefined(o[f])||(o[f]=p[f]);o.getObjValue=function(t,e){var i;if(!angular.isDefined(t)||!angular.isDefined(e))return t;if(e=angular.isArray(e)?e:e.split("."),(i=e.shift()).indexOf("[")>0){var n=i.match(/(\w+)\[(\d+)\]/);null!==n&&(t=t[n[1]],i=n[2])}return 0===e.length?t[i]:o.getObjValue(t[i],e)},o.setObjValue=function(t,e,i){var n;if(angular.isDefined(t)||(t={}),e=angular.isArray(e)?e:e.split("."),(n=e.shift()).indexOf("[")>0){var r=n.match(/(\w+)\[(\d+)\]/);null!==r&&(t=t[r[1]],n=r[2])}return t[n]=0===e.length?i:o.setObjValue(t[n],e,i),t},o.optionValue=function(t){return null===o.valueAttr?t:o.getObjValue(t,o.valueAttr)},o.optionEquals=function(t,e){return angular.equals(o.optionValue(t),angular.isDefined(e)?e:o.value)},o.setValue=function(t){o.multiple?o.value=null===o.valueAttr?t||[]:(t||[]).map(function(t){return o.getObjValue(t,o.valueAttr)}):o.value=null===o.valueAttr?t:o.getObjValue(t||{},o.valueAttr)},o.hasValue=function(){return o.multiple?(o.value||[]).length>0:!!o.value},o.optionToObject=function(t){var e={},i=angular.element(t);angular.forEach(t.dataset,function(t,i){i.match(/^\$/)||(e[i]=t)}),t.value&&o.setObjValue(e,o.valueAttr||"value",t.value),i.text()&&o.setObjValue(e,o.labelAttr,i.text().trim()),o.options.push(e),!i.attr("selected")||!o.multiple&&o.hasValue()||(o.multiple?(o.value||(o.value=[]),o.value.push(o.optionValue(e))):o.value||(o.value=o.optionValue(e)))},o.fillWithHtml=function(){o.options=[],angular.forEach(t,function(t){"option"===(t.tagName||"").toLowerCase()&&o.optionToObject(t)}),o.updateSelected()},o.initialize=function(){angular.isArray(o.options)&&o.options.length||o.fillWithHtml(),o.hasValue()&&(o.multiple?angular.isArray(o.value)||(o.value=[o.value]):angular.isArray(o.value)&&(o.value=o.value[0]),o.updateSelected(),o.filterOptions(),o.updateValue())},o.$watch("multiple",function(){i(o.setInputWidth)});var g=function(){var t=s.parent()[0],e={top:"",bottom:"",left:t.getBoundingClientRect().left+"px",width:t.offsetWidth+"px"};angular.element(document.body).height()-(t.offsetHeight+t.getBoundingClientRect().top)>=220?(e.top=t.offsetHeight+t.getBoundingClientRect().top,a.removeClass("ontop")):(e.bottom=angular.element(document.body).height()-t.getBoundingClientRect().top,a.addClass("ontop")),a.css(e)};o.showDropdown=function(){g(),angular.element(document.body).append(a),i(function(){angular.element(window).triggerHandler("resize")},50)},o.open=function(){o.multiple&&(o.selectedValues||[]).length>=o.limit||(o.isOpen=!0,o.showDropdown(),i(o.scrollToHighlighted))},o.close=function(){o.isOpen=!1,a.detach(),o.resetInput()};var m=function(t){o.filteredOptions.length&&(o.highlighted=(o.filteredOptions.length+t)%o.filteredOptions.length)};o.set=function(t){o.multiple&&(o.selectedValues||[]).length>=o.limit||(o.multiple?(o.selectedValues||(o.selectedValues=[]),o.selectedValues.indexOf(t)<0&&o.selectedValues.push(t)):o.selectedValues=[t],!o.multiple&&o.closeAfterSelection&&s.blur(),m(o.options.indexOf(t)),o.resetInput(),c.$setDirty())},o.unset=function(t){o.multiple?o.selectedValues.splice(angular.isDefined(t)?t:o.selectedValues.length-1,1):o.selectedValues=[],o.resetInput(),c.$setDirty()},o.keydown=function(t){switch(t.keyCode){case KEYS.up:if(!o.isOpen)break;m(o.highlighted-1),t.preventDefault();break;case KEYS.down:o.isOpen?m(o.highlighted+1):o.open(),t.preventDefault();break;case KEYS.escape:m(0),o.close();break;case KEYS.enter:o.isOpen&&(o.filteredOptions.length&&o.set(),t.preventDefault());break;case KEYS.backspace:if(!s.val()){var e=o.getObjValue(o.selectedValues.slice(-1)[0]||{},o.labelAttr||"");o.unset(),o.open(),o.softDelete&&!o.disableSearch&&i(function(){o.search=e}),t.preventDefault()}break;case KEYS.left:case KEYS.right:case KEYS.shift:case KEYS.ctrl:case KEYS.alt:case KEYS.tab:case KEYS.leftCmd:case KEYS.rightCmd:break;default:!o.multiple&&o.hasValue()?t.preventDefault():(o.open(),m(0))}},o.inOptions=function(t,e){return t.indexOf(e)>=0},o.filterOptions=function(){if(o.filteredOptions=r(o.options||[],o.search),angular.isArray(o.selectedValues)||(o.selectedValues=[]),o.multiple)o.filteredOptions=o.filteredOptions.filter(function(t){return!o.inOptions(o.selectedValues,t)});else{var t=o.filteredOptions.indexOf(o.selectedValues[0]);t>=0&&m(t)}},o.measureWidth=function(){var t,e=getStyles(s[0]),i=angular.element('<span class="selector-shadow"></span>');return i.text(s.val()||(o.hasValue()?"":o.placeholder)||""),angular.element(document.body).append(i),angular.forEach(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(t){i.css(t,e[t])}),t=i[0].offsetWidth,i.remove(),t},o.setInputWidth=function(){var t=o.measureWidth()+1;s.css("width",t+"px")},o.resetInput=function(){s.val(""),o.setInputWidth(),i(function(){o.search=""})},o.$watch("[search, options, value]",function(){o.filterOptions(),i(function(){o.setInputWidth(),o.isOpen&&o.showDropdown()})},!0),o.updateValue=function(t){angular.isDefined(t)||(t=o.selectedValues||[]),o.setValue(o.multiple?t:t[0])},o.$watch("selectedValues",function(t,e){angular.equals(t,e)||(o.updateValue(),angular.isFunction(o.change)&&o.change(o.multiple?{newValue:t,oldValue:e}:{newValue:(t||[])[0],oldValue:(e||[])[0]}))},!0),o.$watchCollection("options",function(t,e){angular.equals(t,e)||o.updateSelected()}),o.updateSelected=function(){o.multiple?o.selectedValues=(o.value||[]).map(function(t){return r(o.options,function(e){return o.optionEquals(e,t)})[0]}).filter(function(t){return angular.isDefined(t)}).slice(0,o.limit):o.selectedValues=(o.options||[]).filter(function(t){return o.optionEquals(t)}).slice(0,1)},o.$watch("value",function(t,e){angular.equals(t,e)||o.updateSelected()},!0),s=angular.element(n[0].querySelector(".selector-input input")).on("focus",function(){i(function(){o.$apply(o.open)})}).on("blur",function(){o.close()}).on("keydown",function(t){o.$apply(function(){o.keydown(t)})}).on("input",function(){o.setInputWidth()}),a.on("mousedown",function(t){t.preventDefault()}),u.each(function(t,e){angular.element(e).on("scroll."+h,function(t){g()})}),o.$watch(function(){return d.$pristine},function(t){c[t?"$setPristine":"$setDirty"]()}),o.$watch(function(){return d.$touched},function(t){c[t?"$setTouched":"$setUntouched"]()}),angular.forEach(["open","close"],function(t){o.api[t]=o[t]}),o.api.focus=function(){s[0].focus()},o.api.set=function(t){return o.value=t},o.api.unset=function(t){var e=t?(o.selectedValues||[]).filter(function(e){return o.optionEquals(e,t)}):o.selectedValues,i=o.selectedValues.map(function(t,i){return o.inOptions(e,t)?i:-1}).filter(function(t){return t>=0});angular.forEach(i,function(t,e){o.unset(t-e)})},o.isDirty=function(){return l.hasClass("ng-dirty")},o.isInvalid=function(){return l.hasClass("ng-invalid")},o.initialize()}),t.$on("$destroy",function(){a.remove(),a.off("mousedown"),angular.element(n[0].querySelector(".selector-input input")).off("focus blur keydown input "),angular.element(document.body).off("resize."+h),u.each(function(t,e){$(e).off("scroll."+h+" resize."+h)}),u=null})},template:function(t,e){var i,n=s.get(e.viewItemTemplate)?s.get(e.viewItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>';i=e.labelAttr?'<span ng-bind="getObjValue(option, labelAttr) || option"></span>':s.get(e.viewItemTemplate)?s.get(e.viewItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>',e.dropdownItemTemplate&&(i=s.get(e.dropdownItemTemplate)?s.get(e.dropdownItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>');var o="";e.name&&(o='name="'+e.name+'"');return s.get("selector/Base")?s.get("selector/Base"):"<div class=\"selector-container\" ng-attr-dir=\"{{rtl ? 'rtl' : 'ltr'}}\" ng-class=\"{open: isOpen, empty: !filteredOptions.length && !search, 'ng-dirty': isDirty(), 'ng-invalid': isInvalid(),multiple: multiple, 'has-value': hasValue(), rtl: rtl, 'remove-button': removeButton, disabled: disabled}\"><select "+o+' ng-required="required && !hasValue()" class="not-styled" ng-model="selectedValues" multiple style="display: none;"></select><label class="selector-input"><ul class="selector-values"><li ng-repeat="(index, option) in selectedValues track by index"><div>'+n+'</div><div ng-if="multiple" class="selector-helper" ng-click="!disabled && unset(index)"><span class="selector-icon"></span></div></li></ul><input ng-model="search" class="selector-search-input not-styled" placeholder="{{!hasValue() ? placeholder : \'\'}}"ng-disabled="disabled" ng-readonly="disableSearch" ng-required="required && !hasValue()" autocomplete="off"><div ng-if="!multiple" class="selector-helper selector-global-helper" ng-click="!disabled && removeButton && unset()"><span class="selector-icon"></span></div></label><ul md-virtual-repeat-container md-auto-shrink md-top-index="highlighted" class="selector-dropdown '+e.dropdownClass+'"><li md-virtual-repeat="option in filteredOptions" ng-class="{active: highlighted == $index}" class="selector-option" ng-click="set(option)">'+i+"</li></ul></div>"}}}]),angular.module("SER.tooltipster",[]),angular.module("SER.tooltipster").directive("tooltipster",function(){return{restrict:"A",link:function(t,e,i){var n={content:i.tooltipster,maxWidth:300,delay:0,contentAsHTML:!0,positionTracker:!0,trigger:"hover",theme:"tooltipster-borderless"};angular.merge(n,t.$eval(i.tooltipsterOptions)),e.tooltipster(n)}}}),angular.module("SER.tooltipster").directive("tooltipsterMenu",function(){return{restrict:"A",link:function(t,e,i){var n={content:e.find(".tooltip-content"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0};angular.merge(n,t.$eval(i.tooltipsterMenu)),e.tooltipster(n),t.closeTooltip=function(){e.tooltipster("close")},e.find(".action").on("click",function(){t.closeTooltip()})}}}),angular.module("SER.tooltipster").directive("tooltipsterHtml",function(){return{restrict:"A",link:function(t,e,i){var n={content:e.find(".tooltip-content"),delay:0,positionTracker:!0,trigger:"hover",theme:"tooltipster-borderless",position:"top"};angular.merge(n,t.$eval(i.tooltipsterHtml)),e.tooltipster(n)}}}),angular.module("SER.match",[]).directive("match",["$parse",function(t){return{require:"?ngModel",restrict:"A",link:function(e,i,n,o){function r(){var t=s(e);return angular.isObject(t)&&t.hasOwnProperty("$viewValue")&&(t=t.$viewValue),t}if(o&&n.match){var s=t(n.match),a=t(n.matchCaseless),l=t(n.notMatch),u=t(n.matchIgnoreEmpty);e.$watch(r,function(){o.$$parseAndValidate()}),o.$validators.match=function(t,i){var n,o=t||i,s=r(),h=l(e);return!(!u(e)||i)||(n=a(e)?angular.lowercase(o)===angular.lowercase(s):o===s,!!(n^=h))}}}}}]),angular.module("SER.barcode",[]),angular.module("SER.barcode").directive("barcode",function(){return{restrict:"EA",scope:{model:"=",options:"="},link:function(t,e,i){var n={format:"CODE128",lineColor:"#000000",width:3,height:110,displayValue:!0};angular.merge(n,t.options),t.$watch("model",function(t){JsBarcode(e[0],t,n)})}}}),angular.module("SER.diff",[]),angular.module("SER.diff").factory("ObjectDiff",["$sce",function(t){function e(t,n,o,r){if(t===n)return i(t);var s={},a=!0;for(var l in t)if(!r&&l in n||r&&void 0!==n&&n.hasOwnProperty(l))if(t[l]===n[l])s[l]=i(t[l]);else if(!o&&function(t,e){var i=typeof t,n=typeof e;return t&&e&&("object"==i||"function"==i)&&("object"==n||"function"==n)}(t[l],n[l])){var u=e(t[l],n[l],o,r);"equal"==u.changed?s[l]=i(t[l]):(a=!1,s[l]=u)}else a=!1,s[l]={changed:"primitive change",removed:t[l],added:n[l]};else a=!1,s[l]={changed:"removed",value:t[l]};for(l in n)(r||l in t)&&(!r||void 0===t||t.hasOwnProperty(l))||(a=!1,s[l]={changed:"added",value:n[l]});return a?i(t):{changed:"object change",value:s}}function i(t){return{changed:"equal",value:t}}return{diff:e,getPatchChanges:function(t,i,n,o){var r=angular.fromJson(angular.toJson(i)),s=e(angular.fromJson(angular.toJson(t)),r,n,o),a=[];return"equal"!==s.changed&&angular.forEach(s.value,function(t,e){"equal"!==t.changed&&a.push({op:"replace",path:"/"+e,value:r[e]})}),a}}}]),angular.module("SER",["ngAnimate","ngMessages","ngSanitize","ngResource","ngMaterial","ui.router","ngFileUpload","angular.filter","SER.i18n","SER.auth","SER.selector","SER.match","SER.image","SER.search","SER.tooltipster","SER.datepicker","SER.loader","SER.filters","SER.barcode","SER.diff","SER.fullscreen","SER.sentry"]),function(t){var e=new Image;e.onload=function(){var e=["font-size: 1px;","line-height: "+this.height+"px;","padding: "+.5*this.height+"px "+.5*this.width+"px;","background-size: "+this.width+"px "+this.height+"px;","background: url("+t+");"].join(" ");console.log(""),console.log(""),console.log("%c",e),console.log("https://www.sersoluciones.com"),console.log(""),console.log("")},e.src=t}("https://s3.amazonaws.com/ser-ui/images/powered.jpg"),angular.module("SER").config(["$urlRouterProvider","$urlMatcherFactoryProvider","$compileProvider","$resourceProvider","$httpProvider",function(t,e,i,n,o){o.defaults.paramSerialize="$httpParamSerializerJQLike",n.defaults.stripTrailingSlashes=!0,i.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|skype|tel|chrome-extension):/),t.rule(function(t,e){var i=e.path();if("/"===i[i.length-1])return i.substr(0,i.length-1)});var r=/^[a-f\d]{8}-([a-f\d]{4}-){3}[a-f\d]{12}$/i;e.type("guid",{encode:angular.identity,decode:angular.identity,is:function(t){return r.test(t)}})}]),angular.module("SER").run(["$rootScope","$sce",function(t,e){t.backHistory=function(){$window.history.back()},t.__=__,t.bodyHeight=function(){return angular.element("body").height()},t.browserWidth=browserWidth,t.trustAsHtml=function(t){return e.trustAsHtml(t)}}]);
//# sourceMappingURL=ser-ui.min.js.map
