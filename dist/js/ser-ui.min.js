function getStyles(e){return e instanceof HTMLElement?e.ownerDocument&&e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e):window.getComputedStyle(e):{}}function arrayGroupBy(e,t){for(var i={},n=0;n<e.length;++n)void 0===i[e[n][t]]&&(i[e[n][t]]=[]),i[e[n][t]].push(e[n]);return i}function hasValue(e){return angular.isArray(e)?0<e.length:!!angular.isDate(e)||(angular.isObject(e)?!angular.element.isEmptyObject(e):-1===["",null,void 0,NaN].indexOf(e))}function notValue(e){return angular.isArray(e)?0===e.length:!angular.isDate(e)&&(angular.isObject(e)?angular.element.isEmptyObject(e):["",null,void 0,NaN].indexOf(e)>-1)}function hasProperty(e,t){return!!e&&e.hasOwnProperty(t)}function inArray(e,t){return!!t&&-1!==t.indexOf(e)}function notInArray(e,t){return!!t&&-1===t.indexOf(e)}function getObjectByValue(e,t,i){for(var n=0;n<e.length;n++)if(e[n].hasOwnProperty(t)){if(e[n][t]===i)return e[n];for(var o in e[n][t])if(e[n][t][o]===i)return e[n]}}function getObjIndexByValue(e,t,i){for(var n=0;n<e.length;n++)if(e[n].hasOwnProperty(t)){if(e[n][t]===i)return e[n];for(var o in e[n][t])if(e[n][t][o]===i)return n}}function browserWidth(){return 0<window.innerWidth?window.innerWidth:screen.width}function hasPdfViewer(){for(var e=0;e<window.navigator.plugins.length;e++)if(window.navigator.plugins[e].name.toLowerCase().indexOf("pdf")>-1)return!0;return!1}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}function hasFiles(e){var t=!1,i=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)};for(var n in e)if(i(e[n])){t=!0;break}return t}function guid(){return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function getLogo(e,t){if("string"==typeof e)switch(e.toLowerCase().replace(/[0-9\. ]*/g,"")){case"chrome":case"chromium":return AWS_S3_URL+"images/logos/chrome.svg";case"edge":return AWS_S3_URL+"images/logos/edge.svg";case"firefox":return AWS_S3_URL+"images/logos/firefox.svg";case"ie":case"iemobile":return AWS_S3_URL+"images/logos/ie.svg";case"opera":return AWS_S3_URL+"images/logos/opera.svg";case"safari":case"mobilesafari":return AWS_S3_URL+"images/logos/safari.svg";case"webkit":return AWS_S3_URL+"images/logos/webkit.svg";case"android":return AWS_S3_URL+"images/logos/android.svg";case"ios":case"macos":return AWS_S3_URL+"images/logos/apple.svg";case"debian":return AWS_S3_URL+"images/logos/debian.svg";case"linux":return AWS_S3_URL+"images/logos/linux.svg";case"ubuntu":return AWS_S3_URL+"images/logos/ubuntu.svg";case"windows":switch(t.toLowerCase()){case"xp":case"7":return AWS_S3_URL+"images/logos/windows-xp.svg";case"8":case"8.1":case"10":return AWS_S3_URL+"images/logos/windows.svg"}break;case"windowsphone":return AWS_S3_URL+"images/logos/windows-phone.svg"}}function deleteAllCookies(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var i=e[t],n=i.indexOf("="),o=n>-1?i.substr(0,n):i;document.cookie=o+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,function(e){function t(e){this.$container,this.constraints=null,this.__$tooltip,this.__init(e)}function i(t,i){var n=!0;return e.each(t,function(e,o){if(void 0===i[e]||t[e]!==i[e])return n=!1,!1}),n}function n(t){var i=t.attr("id"),n=i?s.window.document.getElementById(i):null;return n?n===t[0]:e.contains(s.window.document.body,t[0])}var o={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},r="undefined"!=typeof window?window:null,s={hasTouchCapability:!(!r||!("ontouchstart"in r||r.DocumentTouch&&r.document instanceof r.DocumentTouch||r.navigator.maxTouchPoints)),hasTransitions:function(){if(!r)return!1;var e=(r.document.body||r.document.documentElement).style,t="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[t])return!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var n=0;n<i.length;n++)if("string"==typeof e[i[n]+t])return!0;return!1}(),IE:!1,semVer:"4.2.5",window:r},a=function(){this.__$emitterPrivate=e({}),this.__$emitterPublic=e({}),this.__instancesLatestArr=[],this.__plugins={},this._env=s};a.prototype={__bridge:function(t,i,n){if(!i[n]){var r=function(){};r.prototype=t;var s=new r;s.__init&&s.__init(i),e.each(t,function(e,t){0!=e.indexOf("__")&&(i[e]?o.debug&&console.log("The "+e+" method of the "+n+" plugin conflicts with another plugin or native methods"):(i[e]=function(){return s[e].apply(s,Array.prototype.slice.apply(arguments))},i[e].bridged=s))}),i[n]=s}return this},__setWindow:function(e){return s.window=e,this},_getRuler:function(e){return new t(e)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(t){if("string"==typeof t){var i=t,n=null;return i.indexOf(".")>0?n=this.__plugins[i]:e.each(this.__plugins,function(e,t){if(t.name.substring(t.name.length-i.length-1)=="."+i)return n=t,!1}),n}if(t.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return this.__plugins[t.name]=t,t.core&&this.__bridge(t.core,this,t.name),this},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},instances:function(t){var i=[];return e(t||".tooltipstered").each(function(){var t=e(this),n=t.data("tooltipster-ns");n&&e.each(n,function(e,n){i.push(t.data(n))})}),i},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(t){return e((t?t+" ":"")+".tooltipstered").toArray()},setDefaults:function(t){return e.extend(o,t),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},e.tooltipster=new a,e.Tooltipster=function(t,i){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=e({}),this.__$emitterPublic=e({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(t,i)},e.Tooltipster.prototype={__init:function(t,i){var n=this;if(n._$origin=e(t),n.__options=e.extend(!0,{},o,i),n.__optionsFormat(),!s.IE||s.IE>=n.__options.IEmin){var r=null;if(void 0===n._$origin.data("tooltipster-initialTitle")&&(void 0===(r=n._$origin.attr("title"))&&(r=null),n._$origin.data("tooltipster-initialTitle",r)),null!==n.__options.content)n.__contentSet(n.__options.content);else{var a,l=n._$origin.attr("data-tooltip-content");l&&(a=e(l)),a&&a[0]?n.__contentSet(a.first()):n.__contentSet(r)}n._$origin.removeAttr("title").addClass("tooltipstered"),n.__prepareOrigin(),n.__prepareGC(),e.each(n.__options.plugins,function(e,t){n._plug(t)}),s.hasTouchCapability&&e(s.window.document.body).on("touchmove."+n.__namespace+"-triggerOpen",function(e){n._touchRecordEvent(e)}),n._on("created",function(){n.__prepareTooltip()})._on("repositioned",function(e){n.__lastPosition=e.position})}else n.__options.disabled=!0},__contentInsert:function(){var e=this._$tooltip.find(".tooltipster-content"),t=this.__Content;return this._trigger({type:"format",content:this.__Content,format:function(e){t=e}}),this.__options.functionFormat&&(t=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof t||this.__options.contentAsHTML?e.empty().append(t):e.text(t),this},__contentSet:function(t){return t instanceof e&&this.__options.contentCloning&&(t=t.clone(!0)),this.__Content=t,this._trigger({type:"updated",content:t}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var t=this._$origin,i=this._$origin.is("area");if(i){var n=this._$origin.parent().attr("name");t=e('img[usemap="#'+n+'"]')}var o=t[0].getBoundingClientRect(),r=e(s.window.document),a=e(s.window),l=t,u={available:{document:null,window:null},document:{size:{height:r.height(),width:r.width()}},window:{scroll:{left:s.window.scrollX||s.window.document.documentElement.scrollLeft,top:s.window.scrollY||s.window.document.documentElement.scrollTop},size:{height:a.height(),width:a.width()}},origin:{fixedLineage:!1,offset:{},size:{height:o.bottom-o.top,width:o.right-o.left},usemapImage:i?t[0]:null,windowOffset:{bottom:o.bottom,left:o.left,right:o.right,top:o.top}}};if(i){var h=this._$origin.attr("shape"),c=this._$origin.attr("coords");if(c&&(c=c.split(","),e.map(c,function(e,t){c[t]=parseInt(e)})),"default"!=h)switch(h){case"circle":var d=c[0],p=c[1],f=c[2],g=p-f,m=d-f;u.origin.size.height=2*f,u.origin.size.width=u.origin.size.height,u.origin.windowOffset.left+=m,u.origin.windowOffset.top+=g;break;case"rect":var v=c[0],w=c[1],_=c[2],y=c[3];u.origin.size.height=y-w,u.origin.size.width=_-v,u.origin.windowOffset.left+=v,u.origin.windowOffset.top+=w;break;case"poly":for(var z=0,b=0,S=0,x=0,C="even",k=0;k<c.length;k++){var D=c[k];"even"==C?(D>S&&(S=D,0===k&&(z=S)),D<z&&(z=D),C="odd"):(D>x&&(x=D,1==k&&(b=x)),D<b&&(b=D),C="even")}u.origin.size.height=x-b,u.origin.size.width=S-z,u.origin.windowOffset.left+=z,u.origin.windowOffset.top+=b}}for(this._trigger({type:"geometry",edit:function(e){u.origin.size.height=e.height,u.origin.windowOffset.left=e.left,u.origin.windowOffset.top=e.top,u.origin.size.width=e.width},geometry:{height:u.origin.size.height,left:u.origin.windowOffset.left,top:u.origin.windowOffset.top,width:u.origin.size.width}}),u.origin.windowOffset.right=u.origin.windowOffset.left+u.origin.size.width,u.origin.windowOffset.bottom=u.origin.windowOffset.top+u.origin.size.height,u.origin.offset.left=u.origin.windowOffset.left+u.window.scroll.left,u.origin.offset.top=u.origin.windowOffset.top+u.window.scroll.top,u.origin.offset.bottom=u.origin.offset.top+u.origin.size.height,u.origin.offset.right=u.origin.offset.left+u.origin.size.width,u.available.document={bottom:{height:u.document.size.height-u.origin.offset.bottom,width:u.document.size.width},left:{height:u.document.size.height,width:u.origin.offset.left},right:{height:u.document.size.height,width:u.document.size.width-u.origin.offset.right},top:{height:u.origin.offset.top,width:u.document.size.width}},u.available.window={bottom:{height:Math.max(u.window.size.height-Math.max(u.origin.windowOffset.bottom,0),0),width:u.window.size.width},left:{height:u.window.size.height,width:Math.max(u.origin.windowOffset.left,0)},right:{height:u.window.size.height,width:Math.max(u.window.size.width-Math.max(u.origin.windowOffset.right,0),0)},top:{height:Math.max(u.origin.windowOffset.top,0),width:u.window.size.width}};"html"!=l[0].tagName.toLowerCase();){if("fixed"==l.css("position")){u.origin.fixedLineage=!0;break}l=l.parent()}return u},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=e(s.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=e(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var t=this;return t.__options.selfDestruction?t.__garbageCollector=setInterval(function(){var i=(new Date).getTime();t.__touchEvents=e.grep(t.__touchEvents,function(e,t){return i-e.time>6e4}),n(t._$origin)||t.close(function(){t.destroy()})},2e4):clearInterval(t.__garbageCollector),t},__prepareOrigin:function(){var e=this;if(e._$origin.off("."+e.__namespace+"-triggerOpen"),s.hasTouchCapability&&e._$origin.on("touchstart."+e.__namespace+"-triggerOpen touchend."+e.__namespace+"-triggerOpen touchcancel."+e.__namespace+"-triggerOpen",function(t){e._touchRecordEvent(t)}),e.__options.triggerOpen.click||e.__options.triggerOpen.tap&&s.hasTouchCapability){t="";e.__options.triggerOpen.click&&(t+="click."+e.__namespace+"-triggerOpen "),e.__options.triggerOpen.tap&&s.hasTouchCapability&&(t+="touchend."+e.__namespace+"-triggerOpen"),e._$origin.on(t,function(t){e._touchIsMeaningfulEvent(t)&&e._open(t)})}if(e.__options.triggerOpen.mouseenter||e.__options.triggerOpen.touchstart&&s.hasTouchCapability){t="";e.__options.triggerOpen.mouseenter&&(t+="mouseenter."+e.__namespace+"-triggerOpen "),e.__options.triggerOpen.touchstart&&s.hasTouchCapability&&(t+="touchstart."+e.__namespace+"-triggerOpen"),e._$origin.on(t,function(t){!e._touchIsTouchEvent(t)&&e._touchIsEmulatedEvent(t)||(e.__pointerIsOverOrigin=!0,e._openShortly(t))})}if(e.__options.triggerClose.mouseleave||e.__options.triggerClose.touchleave&&s.hasTouchCapability){var t="";e.__options.triggerClose.mouseleave&&(t+="mouseleave."+e.__namespace+"-triggerOpen "),e.__options.triggerClose.touchleave&&s.hasTouchCapability&&(t+="touchend."+e.__namespace+"-triggerOpen touchcancel."+e.__namespace+"-triggerOpen"),e._$origin.on(t,function(t){e._touchIsMeaningfulEvent(t)&&(e.__pointerIsOverOrigin=!1)})}return e},__prepareTooltip:function(){var t=this,i=t.__options.interactive?"auto":"";return t._$tooltip.attr("id",t.__namespace).css({"pointer-events":i,zIndex:t.__options.zIndex}),e.each(t.__previousThemes,function(e,i){t._$tooltip.removeClass(i)}),e.each(t.__options.theme,function(e,i){t._$tooltip.addClass(i)}),t.__previousThemes=e.merge([],t.__options.theme),t},__scrollHandler:function(t){if(this.__options.triggerClose.scroll)this._close(t);else if(n(this._$origin)&&n(this._$tooltip)){var i=null;if(t.target===s.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(t);else{i=this.__geometry();var o=!1;if("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(t,n){var r=e(n),s=r.css("overflow-x"),a=r.css("overflow-y");if("visible"!=s||"visible"!=a){var l=n.getBoundingClientRect();if("visible"!=s&&(i.origin.windowOffset.left<l.left||i.origin.windowOffset.right>l.right))return o=!0,!1;if("visible"!=a&&(i.origin.windowOffset.top<l.top||i.origin.windowOffset.bottom>l.bottom))return o=!0,!1}if("fixed"==r.css("position"))return!1}),o)this._$tooltip.css("visibility","hidden");else if(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)this.reposition(t);else{var r=i.origin.offset.left-this.__Geometry.origin.offset.left,a=i.origin.offset.top-this.__Geometry.origin.offset.top;this._$tooltip.css({left:this.__lastPosition.coord.left+r,top:this.__lastPosition.coord.top+a})}}this._trigger({type:"scroll",event:t,geo:i})}return this},__stateSet:function(e){return this.__state=e,this._trigger({type:"state",state:e}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,e.each(this.__timeouts.close,function(e,t){clearTimeout(t)}),this.__timeouts.close=[],this},__trackerStart:function(){var e=this,t=e._$tooltip.find(".tooltipster-content");return e.__options.trackTooltip&&(e.__contentBcr=t[0].getBoundingClientRect()),e.__tracker=setInterval(function(){if(n(e._$origin)&&n(e._$tooltip)){if(e.__options.trackOrigin){var o=e.__geometry(),r=!1;i(o.origin.size,e.__Geometry.origin.size)&&(e.__Geometry.origin.fixedLineage?i(o.origin.windowOffset,e.__Geometry.origin.windowOffset)&&(r=!0):i(o.origin.offset,e.__Geometry.origin.offset)&&(r=!0)),r||(e.__options.triggerClose.mouseleave?e._close():e.reposition())}if(e.__options.trackTooltip){var s=t[0].getBoundingClientRect();s.height===e.__contentBcr.height&&s.width===e.__contentBcr.width||(e.reposition(),e.__contentBcr=s)}}else e._close()},e.__options.trackerInterval),e},_close:function(t,i,n){var o=this,r=!0;if(o._trigger({type:"close",event:t,stop:function(){r=!1}}),r||n){i&&o.__callbacks.close.push(i),o.__callbacks.open=[],o.__timeoutsClear();var a=function(){e.each(o.__callbacks.close,function(e,i){i.call(o,o,{event:t,origin:o._$origin[0]})}),o.__callbacks.close=[]};if("closed"!=o.__state){var l=!0,u=(new Date).getTime()+o.__options.animationDuration[1];if("disappearing"==o.__state&&u>o.__closingTime&&o.__options.animationDuration[1]>0&&(l=!1),l){o.__closingTime=u,"disappearing"!=o.__state&&o.__stateSet("disappearing");var h=function(){clearInterval(o.__tracker),o._trigger({type:"closing",event:t}),o._$tooltip.off("."+o.__namespace+"-triggerClose").removeClass("tooltipster-dying"),e(s.window).off("."+o.__namespace+"-triggerClose"),o.__$originParents.each(function(t,i){e(i).off("scroll."+o.__namespace+"-triggerClose")}),o.__$originParents=null,e(s.window.document.body).off("."+o.__namespace+"-triggerClose"),o._$origin.off("."+o.__namespace+"-triggerClose"),o._off("dismissable"),o.__stateSet("closed"),o._trigger({type:"after",event:t}),o.__options.functionAfter&&o.__options.functionAfter.call(o,o,{event:t,origin:o._$origin[0]}),a()};s.hasTransitions?(o._$tooltip.css({"-moz-animation-duration":o.__options.animationDuration[1]+"ms","-ms-animation-duration":o.__options.animationDuration[1]+"ms","-o-animation-duration":o.__options.animationDuration[1]+"ms","-webkit-animation-duration":o.__options.animationDuration[1]+"ms","animation-duration":o.__options.animationDuration[1]+"ms","transition-duration":o.__options.animationDuration[1]+"ms"}),o._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),o.__options.animationDuration[1]>0&&o._$tooltip.delay(o.__options.animationDuration[1]),o._$tooltip.queue(h)):o._$tooltip.stop().fadeOut(o.__options.animationDuration[1],h)}}else a()}return o},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(t,i){var o=this;if(!o.__destroying&&n(o._$origin)&&o.__enabled){var r=!0;if("closed"==o.__state&&(o._trigger({type:"before",event:t,stop:function(){r=!1}}),r&&o.__options.functionBefore&&(r=o.__options.functionBefore.call(o,o,{event:t,origin:o._$origin[0]}))),!1!==r&&null!==o.__Content){i&&o.__callbacks.open.push(i),o.__callbacks.close=[],o.__timeoutsClear();var a,l=function(){"stable"!=o.__state&&o.__stateSet("stable"),e.each(o.__callbacks.open,function(e,t){t.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}),o.__callbacks.open=[]};if("closed"!==o.__state)a=0,"disappearing"===o.__state?(o.__stateSet("appearing"),s.hasTransitions?(o._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l)):o._$tooltip.stop().fadeIn(l)):"stable"==o.__state&&l();else{if(o.__stateSet("appearing"),a=o.__options.animationDuration[0],o.__contentInsert(),o.reposition(t,!0),s.hasTransitions?(o._$tooltip.addClass("tooltipster-"+o.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":o.__options.animationDuration[0]+"ms","-ms-animation-duration":o.__options.animationDuration[0]+"ms","-o-animation-duration":o.__options.animationDuration[0]+"ms","-webkit-animation-duration":o.__options.animationDuration[0]+"ms","animation-duration":o.__options.animationDuration[0]+"ms","transition-duration":o.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=o.__state&&(o._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l))},0)):o._$tooltip.css("display","none").fadeIn(o.__options.animationDuration[0],l),o.__trackerStart(),e(s.window).on("resize."+o.__namespace+"-triggerClose",function(t){var i=e(document.activeElement);(i.is("input")||i.is("textarea"))&&e.contains(o._$tooltip[0],i[0])||o.reposition(t)}).on("scroll."+o.__namespace+"-triggerClose",function(e){o.__scrollHandler(e)}),o.__$originParents=o._$origin.parents(),o.__$originParents.each(function(t,i){e(i).on("scroll."+o.__namespace+"-triggerClose",function(e){o.__scrollHandler(e)})}),o.__options.triggerClose.mouseleave||o.__options.triggerClose.touchleave&&s.hasTouchCapability){o._on("dismissable",function(e){e.dismissable?e.delay?(d=setTimeout(function(){o._close(e.event)},e.delay),o.__timeouts.close.push(d)):o._close(e):clearTimeout(d)});var u=o._$origin,h="",c="",d=null;o.__options.interactive&&(u=u.add(o._$tooltip)),o.__options.triggerClose.mouseleave&&(h+="mouseenter."+o.__namespace+"-triggerClose ",c+="mouseleave."+o.__namespace+"-triggerClose "),o.__options.triggerClose.touchleave&&s.hasTouchCapability&&(h+="touchstart."+o.__namespace+"-triggerClose",c+="touchend."+o.__namespace+"-triggerClose touchcancel."+o.__namespace+"-triggerClose"),u.on(c,function(e){if(o._touchIsTouchEvent(e)||!o._touchIsEmulatedEvent(e)){var t="mouseleave"==e.type?o.__options.delay:o.__options.delayTouch;o._trigger({delay:t[1],dismissable:!0,event:e,type:"dismissable"})}}).on(h,function(e){!o._touchIsTouchEvent(e)&&o._touchIsEmulatedEvent(e)||o._trigger({dismissable:!1,event:e,type:"dismissable"})})}o.__options.triggerClose.originClick&&o._$origin.on("click."+o.__namespace+"-triggerClose",function(e){o._touchIsTouchEvent(e)||o._touchIsEmulatedEvent(e)||o._close(e)}),(o.__options.triggerClose.click||o.__options.triggerClose.tap&&s.hasTouchCapability)&&setTimeout(function(){if("closed"!=o.__state){var t="",i=e(s.window.document.body);o.__options.triggerClose.click&&(t+="click."+o.__namespace+"-triggerClose "),o.__options.triggerClose.tap&&s.hasTouchCapability&&(t+="touchend."+o.__namespace+"-triggerClose"),i.on(t,function(t){o._touchIsMeaningfulEvent(t)&&(o._touchRecordEvent(t),o.__options.interactive&&e.contains(o._$tooltip[0],t.target)||o._close(t))}),o.__options.triggerClose.tap&&s.hasTouchCapability&&i.on("touchstart."+o.__namespace+"-triggerClose",function(e){o._touchRecordEvent(e)})}},0),o._trigger("ready"),o.__options.functionReady&&o.__options.functionReady.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}if(o.__options.timer>0){d=setTimeout(function(){o._close()},o.__options.timer+a);o.__timeouts.close.push(d)}}}return o},_openShortly:function(e){var t=this,i=!0;if("stable"!=t.__state&&"appearing"!=t.__state&&!t.__timeouts.open&&(t._trigger({type:"start",event:e,stop:function(){i=!1}}),i)){var n=0==e.type.indexOf("touch")?t.__options.delayTouch:t.__options.delay;n[0]?t.__timeouts.open=setTimeout(function(){t.__timeouts.open=null,t.__pointerIsOverOrigin&&t._touchIsMeaningfulEvent(e)?(t._trigger("startend"),t._open(e)):t._trigger("startcancel")},n[0]):(t._trigger("startend"),t._open(e))}return t},_optionsExtract:function(t,i){var n=this,o=e.extend(!0,{},i),r=n.__options[t];return r||(r={},e.each(i,function(e,t){var i=n.__options[e];void 0!==i&&(r[e]=i)})),e.each(o,function(t,i){void 0!==r[t]&&("object"!=typeof i||i instanceof Array||null==i||"object"!=typeof r[t]||r[t]instanceof Array||null==r[t]?o[t]=r[t]:e.extend(o[t],r[t]))}),o},_plug:function(t){var i=e.tooltipster._plugin(t);if(!i)throw new Error('The "'+t+'" plugin is not defined');return i.instance&&e.tooltipster.__bridge(i.instance,this,i.name),this},_touchIsEmulatedEvent:function(e){for(var t=!1,i=(new Date).getTime(),n=this.__touchEvents.length-1;n>=0;n--){var o=this.__touchEvents[n];if(!(i-o.time<500))break;o.target===e.target&&(t=!0)}return t},_touchIsMeaningfulEvent:function(e){return this._touchIsTouchEvent(e)&&!this._touchSwiped(e.target)||!this._touchIsTouchEvent(e)&&!this._touchIsEmulatedEvent(e)},_touchIsTouchEvent:function(e){return 0==e.type.indexOf("touch")},_touchRecordEvent:function(e){return this._touchIsTouchEvent(e)&&(e.time=(new Date).getTime(),this.__touchEvents.push(e)),this},_touchSwiped:function(e){for(var t=!1,i=this.__touchEvents.length-1;i>=0;i--){var n=this.__touchEvents[i];if("touchmove"==n.type){t=!0;break}if("touchstart"==n.type&&e===n.target)break}return t},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),t[0].instance=this,t[0].origin=this._$origin?this._$origin[0]:null,t[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),e.tooltipster._trigger.apply(e.tooltipster,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},_unplug:function(t){var i=this;if(i[t]){var n=e.tooltipster._plugin(t);n.instance&&e.each(n.instance,function(e,n){i[e]&&i[e].bridged===i[t]&&delete i[e]}),i[t].__destroy&&i[t].__destroy(),delete i[t]}return i},close:function(e){return this.__destroyed?this.__destroyError():this._close(null,e),this},content:function(e){var t=this;if(void 0===e)return t.__Content;if(t.__destroyed)t.__destroyError();else if(t.__contentSet(e),null!==t.__Content){if("closed"!==t.__state&&(t.__contentInsert(),t.reposition(),t.__options.updateAnimation))if(s.hasTransitions){var i=t.__options.updateAnimation;t._$tooltip.addClass("tooltipster-update-"+i),setTimeout(function(){"closed"!=t.__state&&t._$tooltip.removeClass("tooltipster-update-"+i)},1e3)}else t._$tooltip.fadeTo(200,.5,function(){"closed"!=t.__state&&t._$tooltip.fadeTo(200,1)})}else t._close();return t},destroy:function(){var t=this;if(t.__destroyed)t.__destroyError();else{"closed"!=t.__state?t.option("animationDuration",0)._close(null,null,!0):t.__timeoutsClear(),t._trigger("destroy"),t.__destroyed=!0,t._$origin.removeData(t.__namespace).off("."+t.__namespace+"-triggerOpen"),e(s.window.document.body).off("."+t.__namespace+"-triggerOpen");var i=t._$origin.data("tooltipster-ns");if(i)if(1===i.length){var n=null;"previous"==t.__options.restoration?n=t._$origin.data("tooltipster-initialTitle"):"current"==t.__options.restoration&&(n="string"==typeof t.__Content?t.__Content:e("<div></div>").append(t.__Content).html()),n&&t._$origin.attr("title",n),t._$origin.removeClass("tooltipstered"),t._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else i=e.grep(i,function(e,i){return e!==t.__namespace}),t._$origin.data("tooltipster-ns",i);t._trigger("destroyed"),t._off(),t.off(),t.__Content=null,t.__$emitterPrivate=null,t.__$emitterPublic=null,t.__options.parent=null,t._$origin=null,t._$tooltip=null,e.tooltipster.__instancesLatestArr=e.grep(e.tooltipster.__instancesLatestArr,function(e,i){return t!==e}),clearInterval(t.__garbageCollector)}return t},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(e){return this.close(e)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(e){return this.__destroyed?this.__destroyError():this._open(null,e),this},option:function(t,i){return void 0===i?this.__options[t]:(this.__destroyed?this.__destroyError():(this.__options[t]=i,this.__optionsFormat(),e.inArray(t,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===t&&this.__prepareGC()),this)},reposition:function(e,t){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&n(this._$origin)&&(t||n(this._$tooltip))&&(t||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:e,helper:{geo:this.__Geometry}})),this},show:function(e){return this.open(e)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},e.fn.tooltipster=function(){var t=Array.prototype.slice.apply(arguments),i="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof t[0]){var n="#*$~&";return this.each(function(){var o=e(this).data("tooltipster-ns"),r=o?e(this).data(o[0]):null;if(!r)throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');if("function"!=typeof r[t[0]])throw new Error('Unknown method "'+t[0]+'"');this.length>1&&"content"==t[0]&&(t[1]instanceof e||"object"==typeof t[1]&&null!=t[1]&&t[1].tagName)&&!r.__options.contentCloning&&r.__options.debug&&console.log(i);var s=r[t[0]](t[1],t[2]);if(s!==r||"instance"===t[0])return n=s,!1}),"#*$~&"!==n?n:this}e.tooltipster.__instancesLatestArr=[];var r=t[0]&&void 0!==t[0].multiple,s=r&&t[0].multiple||!r&&o.multiple,a=t[0]&&void 0!==t[0].content,l=a&&t[0].content||!a&&o.content,u=t[0]&&void 0!==t[0].contentCloning,h=u&&t[0].contentCloning||!u&&o.contentCloning,c=t[0]&&void 0!==t[0].debug,d=c&&t[0].debug||!c&&o.debug;return this.length>1&&(l instanceof e||"object"==typeof l&&null!=l&&l.tagName)&&!h&&d&&console.log(i),this.each(function(){var i=!1,n=e(this),o=n.data("tooltipster-ns"),r=null;o?s?i=!0:d&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):i=!0,i&&(r=new e.Tooltipster(this,t[0]),o||(o=[]),o.push(r.__namespace),n.data("tooltipster-ns",o),n.data(r.__namespace,r),r.__options.functionInit&&r.__options.functionInit.call(r,r,{origin:this}),r._trigger("init")),e.tooltipster.__instancesLatestArr.push(r)}),this},t.prototype={__init:function(t){this.__$tooltip=t,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=e('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(s.window.document.body)},__forceRedraw:function(){var e=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(e)},constrain:function(e,t){return this.constraints={width:e,height:t},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:e}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var e=this.__$tooltip[0].getBoundingClientRect(),t={size:{height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}};if(this.constraints){var i=this.__$tooltip.find(".tooltipster-content"),n=this.__$tooltip.outerHeight(),o=i[0].getBoundingClientRect(),r={height:n<=this.constraints.height,width:e.width<=this.constraints.width&&o.width>=i[0].scrollWidth-1};t.fits=r.height&&r.width}return s.IE&&s.IE<=11&&t.size.width!==s.window.document.documentElement.clientWidth&&(t.size.width=Math.ceil(t.size.width)+1),t}};var l=navigator.userAgent.toLowerCase();-1!=l.indexOf("msie")?s.IE=parseInt(l.split("msie")[1]):-1!==l.toLowerCase().indexOf("trident")&&-1!==l.indexOf(" rv:11")?s.IE=11:-1!=l.toLowerCase().indexOf("edge/")&&(s.IE=parseInt(l.toLowerCase().split("edge/")[1]));return e.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(e){var t=this;t.__instance=e,t.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),t.__previousState="closed",t.__options,t.__optionsFormat(),t.__instance._on("state."+t.__namespace,function(e){"closed"==e.state?t.__close():"appearing"==e.state&&"closed"==t.__previousState&&t.__create(),t.__previousState=e.state}),t.__instance._on("options."+t.__namespace,function(){t.__optionsFormat()}),t.__instance._on("reposition."+t.__namespace,function(e){t.__reposition(e.event,e.helper)})},__close:function(){this.__instance.content()instanceof e&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var t=e('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||t.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&t.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&t.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=t,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),this.__options.distance.length<4&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]}),"string"==typeof this.__options.side){this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left")}6===e.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(t,i){var n,o=this,r=o.__targetFind(i),s=[];o.__instance._$tooltip.detach();var a=o.__instance._$tooltip.clone(),l=e.tooltipster._getRuler(a),u=!1,h=o.__instance.option("animation");switch(h&&a.removeClass("tooltipster-"+h),e.each(["window","document"],function(n,h){var c=null;if(o.__instance._trigger({container:h,helper:i,satisfied:u,takeTest:function(e){c=e},results:s,type:"positionTest"}),1==c||0!=c&&0==u&&("window"!=h||o.__options.viewportAware))for(n=0;n<o.__options.side.length;n++){var d={horizontal:0,vertical:0},p=o.__options.side[n];"top"==p||"bottom"==p?d.vertical=o.__options.distance[p]:d.horizontal=o.__options.distance[p],o.__sideChange(a,p),e.each(["natural","constrained"],function(e,n){if(c=null,o.__instance._trigger({container:h,event:t,helper:i,mode:n,results:s,satisfied:u,side:p,takeTest:function(e){c=e},type:"positionTest"}),1==c||0!=c&&0==u){var a={container:h,distance:d,fits:null,mode:n,outerSize:null,side:p,size:null,target:r[p],whole:null},f=("natural"==n?l.free():l.constrain(i.geo.available[h][p].width-d.horizontal,i.geo.available[h][p].height-d.vertical)).measure();if(a.size=f.size,a.outerSize={height:f.size.height+d.vertical,width:f.size.width+d.horizontal},"natural"==n?i.geo.available[h][p].width>=a.outerSize.width&&i.geo.available[h][p].height>=a.outerSize.height?a.fits=!0:a.fits=!1:a.fits=f.fits,"window"==h&&(a.fits?a.whole="top"==p||"bottom"==p?i.geo.origin.windowOffset.right>=o.__options.minIntersection&&i.geo.window.size.width-i.geo.origin.windowOffset.left>=o.__options.minIntersection:i.geo.origin.windowOffset.bottom>=o.__options.minIntersection&&i.geo.window.size.height-i.geo.origin.windowOffset.top>=o.__options.minIntersection:a.whole=!1),s.push(a),a.whole)u=!0;else if("natural"==a.mode&&(a.fits||a.size.width<=i.geo.available[h][p].width))return!1}})}}),o.__instance._trigger({edit:function(e){s=e},event:t,helper:i,results:s,type:"positionTested"}),s.sort(function(e,t){if(e.whole&&!t.whole)return-1;if(!e.whole&&t.whole)return 1;if(e.whole&&t.whole){return(i=o.__options.side.indexOf(e.side))<(n=o.__options.side.indexOf(t.side))?-1:i>n?1:"natural"==e.mode?-1:1}if(e.fits&&!t.fits)return-1;if(!e.fits&&t.fits)return 1;if(e.fits&&t.fits){var i=o.__options.side.indexOf(e.side),n=o.__options.side.indexOf(t.side);return i<n?-1:i>n?1:"natural"==e.mode?-1:1}return"document"==e.container&&"bottom"==e.side&&"natural"==e.mode?-1:1}),n=s[0],n.coord={},n.side){case"left":case"right":n.coord.top=Math.floor(n.target-n.size.height/2);break;case"bottom":case"top":n.coord.left=Math.floor(n.target-n.size.width/2)}switch(n.side){case"left":n.coord.left=i.geo.origin.windowOffset.left-n.outerSize.width;break;case"right":n.coord.left=i.geo.origin.windowOffset.right+n.distance.horizontal;break;case"top":n.coord.top=i.geo.origin.windowOffset.top-n.outerSize.height;break;case"bottom":n.coord.top=i.geo.origin.windowOffset.bottom+n.distance.vertical}"window"==n.container?"top"==n.side||"bottom"==n.side?n.coord.left<0?i.geo.origin.windowOffset.right-this.__options.minIntersection>=0?n.coord.left=0:n.coord.left=i.geo.origin.windowOffset.right-this.__options.minIntersection-1:n.coord.left>i.geo.window.size.width-n.size.width&&(i.geo.origin.windowOffset.left+this.__options.minIntersection<=i.geo.window.size.width?n.coord.left=i.geo.window.size.width-n.size.width:n.coord.left=i.geo.origin.windowOffset.left+this.__options.minIntersection+1-n.size.width):n.coord.top<0?i.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?n.coord.top=0:n.coord.top=i.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:n.coord.top>i.geo.window.size.height-n.size.height&&(i.geo.origin.windowOffset.top+this.__options.minIntersection<=i.geo.window.size.height?n.coord.top=i.geo.window.size.height-n.size.height:n.coord.top=i.geo.origin.windowOffset.top+this.__options.minIntersection+1-n.size.height):(n.coord.left>i.geo.window.size.width-n.size.width&&(n.coord.left=i.geo.window.size.width-n.size.width),n.coord.left<0&&(n.coord.left=0)),o.__sideChange(a,n.side),i.tooltipClone=a[0],i.tooltipParent=o.__instance.option("parent").parent[0],i.mode=n.mode,i.whole=n.whole,i.origin=o.__instance._$origin[0],i.tooltip=o.__instance._$tooltip[0],delete n.container,delete n.fits,delete n.mode,delete n.outerSize,delete n.whole,n.distance=n.distance.horizontal||n.distance.vertical;var c=e.extend(!0,{},n);if(o.__instance._trigger({edit:function(e){n=e},event:t,helper:i,position:c,type:"position"}),o.__options.functionPosition){var d=o.__options.functionPosition.call(o,o.__instance,i,c);d&&(n=d)}l.destroy();var p,f;"top"==n.side||"bottom"==n.side?(p={prop:"left",val:n.target-n.coord.left},f=n.size.width-this.__options.minIntersection):(p={prop:"top",val:n.target-n.coord.top},f=n.size.height-this.__options.minIntersection),p.val<this.__options.minIntersection?p.val=this.__options.minIntersection:p.val>f&&(p.val=f);var g;g=i.geo.origin.fixedLineage?i.geo.origin.windowOffset:{left:i.geo.origin.windowOffset.left+i.geo.window.scroll.left,top:i.geo.origin.windowOffset.top+i.geo.window.scroll.top},n.coord={left:g.left+(n.coord.left-i.geo.origin.windowOffset.left),top:g.top+(n.coord.top-i.geo.origin.windowOffset.top)},o.__sideChange(o.__instance._$tooltip,n.side),i.geo.origin.fixedLineage?o.__instance._$tooltip.css("position","fixed"):o.__instance._$tooltip.css("position",""),o.__instance._$tooltip.css({left:n.coord.left,top:n.coord.top,height:n.size.height,width:n.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(p.prop,p.val),o.__instance._$tooltip.appendTo(o.__instance.option("parent")),o.__instance._trigger({type:"repositioned",event:t,position:n})},__sideChange:function(e,t){e.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+t)},__targetFind:function(e){var t={},i=this.__instance._$origin[0].getClientRects();if(i.length>1){1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),i=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1))}if(i.length<2)t.top=Math.floor(e.geo.origin.windowOffset.left+e.geo.origin.size.width/2),t.bottom=t.top,t.left=Math.floor(e.geo.origin.windowOffset.top+e.geo.origin.size.height/2),t.right=t.left;else{var n=i[0];t.top=Math.floor(n.left+(n.right-n.left)/2),n=i.length>2?i[Math.ceil(i.length/2)-1]:i[0],t.right=Math.floor(n.top+(n.bottom-n.top)/2),n=i[i.length-1],t.bottom=Math.floor(n.left+(n.right-n.left)/2),n=i.length>2?i[Math.ceil((i.length+1)/2)-1]:i[i.length-1],t.left=Math.floor(n.top+(n.bottom-n.top)/2)}return t}}}),e}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,i){if("__setXHR_"===t){var n=i(this);n instanceof Function&&n(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(e,t,i){function n(n){function o(e){u.notify&&u.notify(e),h.progressFunc&&i(function(){h.progressFunc(e)})}function a(e){return null!=n._start&&s?{loaded:e.loaded+n._start,total:n._file&&n._file.size||e.total,type:e.type,config:n,lengthComputable:!0,target:e.target}:e}function l(){e(n).then(function(e){if(s&&n._chunkSize&&!n._finished&&n._file){var t=n._file&&n._file.size||0;o({loaded:Math.min(n._end,t),total:t,config:n,type:"progress"}),r.upload(n,!0)}else n._finished&&delete n._finished,u.resolve(e)},function(e){u.reject(e)},function(e){u.notify(e)})}n.method=n.method||"POST",n.headers=n.headers||{};var u=n._deferred=n._deferred||t.defer(),h=u.promise;return n.disableProgress||(n.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(n.__XHR=e,n.xhrFn&&n.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=n,o(a(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=n,o(a(e)))},!1))}}),s?n._chunkSize&&n._end&&!n._finished?(n._start=n._end,n._end+=n._chunkSize,l()):n.resumeSizeUrl?e.get(n.resumeSizeUrl).then(function(e){n.resumeSizeResponseReader?n._start=n.resumeSizeResponseReader(e.data):n._start=parseInt((null==e.data.size?e.data:e.data.size).toString()),n._chunkSize&&(n._end=n._start+n._chunkSize),l()},function(e){throw e}):n.resumeSize?n.resumeSize().then(function(e){n._start=e,n._chunkSize&&(n._end=n._start+n._chunkSize),l()},function(e){throw e}):(n._chunkSize&&(n._start=0,n._end=n._start+n._chunkSize),l()):l(),h.success=function(e){return h.then(function(t){e(t.data,t.status,t.headers,n)}),h},h.error=function(e){return h.then(null,function(t){e(t.data,t.status,t.headers,n)}),h},h.progress=function(e){return h.progressFunc=e,h.then(null,null,function(t){e(t)}),h},h.abort=h.pause=function(){return n.__XHR&&i(function(){n.__XHR.abort()}),h},h.xhr=function(e){return n.xhrFn=function(t){return function(){t&&t.apply(h,arguments),e.apply(h,arguments)}}(n.xhrFn),h},r.promisesCount++,h.finally&&h.finally instanceof Function&&h.finally(function(){r.promisesCount--}),h}function o(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}var r=this;r.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var s=this.isResumeSupported();this.isUploadInProgress=function(){return r.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function i(t,n,o){if(void 0!==n)if(angular.isDate(n)&&(n=n.toISOString()),angular.isString(n))t.append(o,n);else if(r.isFile(n)){var a=function(t,i){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&s){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var n=t.slice(e._start,e._end||t.size);return n.name=t.name,n.ngfName=t.ngfName,e._chunkSize&&(i.append("_chunkSize",e._chunkSize),i.append("_currentChunkSize",e._end-e._start),i.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),i.append("_totalSize",e._file.size)),n}return t}(n,t),l=o.split(",");l[1]&&(a.ngfName=l[1].replace(/^\s+|\s+$/g,""),o=l[0]),e._fileKey=e._fileKey||o,t.append(o,a,a.ngfName||a.name)}else if(angular.isObject(n)){if(n.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+o;n.$$ngfCircularDetection=!0;try{for(var u in n)if(n.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var h=null==e.objectKey?"[i]":e.objectKey;n.length&&parseInt(u)>-1&&(h=null==e.arrayKey?h:e.arrayKey),i(t,n[u],o+h.replace(/[ik]/g,u))}}finally{delete n.$$ngfCircularDetection}}else t.append(o,n)}return t||(e=o(e)),e._isDigested||(e._isDigested=!0,e._chunkSize=r.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n,o=new window.FormData;t=t||e.fields||{},e.file&&(t.file=e.file);for(n in t)if(t.hasOwnProperty(n)){var r=t[n];e.formDataAppender?e.formDataAppender(o,n,r):i(o,r,n)}return o})),n(e)},this.http=function(t){return t=o(t),t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=r.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,n(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(i){var n=t.defer();return e({url:i,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),o=e.headers("content-type")||"image/WebP",r=new window.Blob([t],{type:o}),s=i.match(/.*\/(.+?)(\?.*)?$/);s.length>1&&(r.name=s[1]),n.resolve(r)},function(e){n.reject(e)}),n.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,i,n,o){function r(e,t,i,o,r){function a(n,a){if(0===n.type.indexOf("image")){if(e.pattern&&!s.validatePattern(n,e.pattern))return;e.resizeIf=function(e,t){return s.attrGetter("ngfResizeIf",i,o,{$width:e,$height:t,$file:n})};var u=s.resize(n,e);l.push(u),u.then(function(e){t.splice(a,1,e)},function(e){n.$error="resize",(n.$errorMessages=n.$errorMessages||{}).resize=!0,n.$errorParam=(e?(e.message?e.message:e)+": ":"")+(n&&n.name),r.$ngfValidations.push({name:"resize",valid:!1}),s.applyModelValidation(r,t)})}}for(var l=[s.emptyPromise()],u=0;u<t.length;u++)a(t[u],u);return n.all(l)}var s=o;return s.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var i=s.defaults[t];return null==i?i:angular.isString(i)?i:JSON.stringify(i)},s.attrGetter=function(t,i,n,o){var r=this.getAttrWithDefaults(i,t);if(!n)return r;try{return o?e(r)(n,o):e(r)(n)}catch(e){if(t.search(/min|max|pattern/i))return r;throw e}},s.shouldUpdateOn=function(e,t,i){var n=s.attrGetter("ngfModelOptions",t,i);return!n||!n.updateOn||n.updateOn.split(" ").indexOf(e)>-1},s.emptyPromise=function(){var e=n.defer(),i=arguments;return t(function(){e.resolve.apply(e,i)}),e.promise},s.rejectPromise=function(){var e=n.defer(),i=arguments;return t(function(){e.reject.apply(e,i)}),e.promise},s.happyPromise=function(e,i){var o=n.defer();return e.then(function(e){o.resolve(e)},function(e){t(function(){throw e}),o.resolve(i)}),o.promise},s.updateModel=function(i,o,a,l,u,h,c){function d(n,r,u,c,d){o.$$ngfPrevValidFiles=n,o.$$ngfPrevInvalidFiles=r;var p=n&&n.length?n[0]:null,f=r&&r.length?r[0]:null;i&&(s.applyModelValidation(i,n),i.$setViewValue(d?p:n)),l&&e(l)(a,{$files:n,$file:p,$newFiles:u,$duplicateFiles:c,$invalidFiles:r,$invalidFile:f,$event:h});var g=s.attrGetter("ngfModelInvalid",o);g&&t(function(){e(g).assign(a,d?f:r)}),t(function(){})}function p(){function e(){t(function(){d(y?g.concat(_):_,y?m.concat(w):w,u,v,z)},S&&S.debounce?S.debounce.change||S.debounce:0)}var l=b?f:_;(function(e,t,i,o){var a=s.attrGetter("ngfResize",t,i);if(!a||!s.isResizeSupported()||!e.length)return s.emptyPromise();if(a instanceof Function){var l=n.defer();return a(e).then(function(n){r(n,e,t,i,o).then(function(e){l.resolve(e)},function(e){l.reject(e)})},function(e){l.reject(e)})}return r(a,e,t,i,o)})(l,o,a,i).then(function(){b?s.validate(f,y?g.length:0,i,o,a).then(function(t){_=t.validsFiles,w=t.invalidsFiles,e()}):e()},function(){for(var t=0;t<l.length;t++){var i=l[t];if("resize"===i.$error){var n=_.indexOf(i);n>-1&&(_.splice(n,1),w.push(i)),e()}}})}var f,g,m,v=[],w=[],_=[];g=o.$$ngfPrevValidFiles||[],m=o.$$ngfPrevInvalidFiles||[],i&&i.$modelValue&&(g=function(e){return angular.isArray(e)?e:[e]}(i.$modelValue));var y=s.attrGetter("ngfKeep",o,a);f=(u||[]).slice(0),"distinct"!==y&&!0!==s.attrGetter("ngfKeepDistinct",o,a)||function(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}function t(t){var i;for(i=0;i<g.length;i++)if(e(t,g[i]))return!0;for(i=0;i<m.length;i++)if(e(t,m[i]))return!0;return!1}if(u){f=[],v=[];for(var i=0;i<u.length;i++)t(u[i])?v.push(u[i]):f.push(u[i])}}();var z=!y&&!s.attrGetter("ngfMultiple",o,a)&&!s.attrGetter("multiple",o);if(!y||f.length){s.attrGetter("ngfBeforeModelChange",o,a,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:f,$duplicateFiles:v,$event:h});var b=s.attrGetter("ngfValidateAfterResize",o,a),S=s.attrGetter("ngfModelOptions",o,a);s.validate(f,y?g.length:0,i,o,a).then(function(e){c?d(f,[],u,v,z):(S&&S.allowInvalid||b?_=f:(_=e.validFiles,w=e.invalidFiles),s.attrGetter("ngfFixOrientation",o,a)&&s.isExifSupported()?function(e,t,i){var o=[s.emptyPromise()];return angular.forEach(e,function(n,r){0===n.type.indexOf("image/jpeg")&&s.attrGetter("ngfFixOrientation",t,i,{$file:n})&&o.push(s.happyPromise(s.applyExifRotation(n),n).then(function(t){e.splice(r,1,t)}))}),n.all(o)}(_,o,a).then(function(){p()}):p())})}},s}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,i,n){function o(e,t,i,o,s,a,l,u){function h(){return"input"===t[0].tagName.toLowerCase()&&i.type&&"file"===i.type.toLowerCase()}function c(){return v("ngfChange")||v("ngfSelect")}function d(t){if(u.shouldUpdateOn("change",i,e)){var n=t.__files_||t.target&&t.target.files,r=[];if(!n)return;for(var s=0;s<n.length;s++)r.push(n[s]);u.updateModel(o,i,e,c(),r.length?r:null,t)}}function p(){if(h())return t;var e=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),function(e,n){function o(t){e.attr("id","ngf-"+t),n.attr("id","ngf-label-"+t)}for(var r=0;r<t[0].attributes.length;r++){var s=t[0].attributes[r];"type"!==s.name&&"class"!==s.name&&"style"!==s.name&&("id"===s.name?(o(s.value),w.push(i.$observe("id",o))):e.attr(s.name,s.value||"required"!==s.name&&"multiple"!==s.name?s.value:s.name))}}(e,n),r.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}function f(i){if(t.attr("disabled"))return!1;if(!v("ngfSelectDisabled",e)){var o=function(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)return y=t[0].clientX,_=t[0].clientY,!0;if("touchend"===e.type){var i=t[0].clientX,n=t[0].clientY;if(Math.abs(i-y)>20||Math.abs(n-_)>20)return e.stopPropagation(),e.preventDefault(),!1}return!0}}(i);if(null!=o)return o;g(i);try{h()||document.body.contains(z[0])||(r.push({el:t,ref:z.parent()}),document.body.appendChild(z.parent()[0]),z.bind("change",d))}catch(e){}return!function(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var i=n.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===i&&parseInt(t[2])<i}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}(navigator.userAgent)?z[0].click():setTimeout(function(){z[0].click()},0),!1}}function g(t){u.shouldUpdateOn("click",i,e)&&z.val()&&(z.val(null),u.updateModel(o,i,e,c(),null,t,!0))}function m(e){if(z&&!z.attr("__ngf_ie10_Fix_")){if(!z[0].parentNode)return void(z=null);e.preventDefault(),e.stopPropagation(),z.unbind("click");var t=z.clone();return z.replaceWith(t),(z=t).attr("__ngf_ie10_Fix_","true"),z.bind("change",d),z.bind("click",m),z[0].click(),!1}z.removeAttr("__ngf_ie10_Fix_")}var v=function(e,t){return u.attrGetter(e,i,t)};u.registerModelChangeValidator(o,i,e);var w=[];v("ngfMultiple")&&w.push(e.$watch(v("ngfMultiple"),function(){z.attr("multiple",v("ngfMultiple",e))})),v("ngfCapture")&&w.push(e.$watch(v("ngfCapture"),function(){z.attr("capture",v("ngfCapture",e))})),v("ngfAccept")&&w.push(e.$watch(v("ngfAccept"),function(){z.attr("accept",v("ngfAccept",e))})),w.push(i.$observe("accept",function(){z.attr("accept",v("accept"))}));var _=0,y=0,z=t;h()||(z=p()),z.bind("change",d),h()?t.bind("click",g):t.bind("click touchstart touchend",f),-1!==navigator.appVersion.indexOf("MSIE 10")&&z.bind("click",m),o&&o.$formatters.push(function(e){return null!=e&&0!==e.length||z.val()&&z.val(null),e}),e.$on("$destroy",function(){h()||z.parent().remove(),angular.forEach(w,function(e){e()})}),a(function(){for(var e=0;e<r.length;e++){var t=r[e];document.body.contains(t.el[0])||(r.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,z,d)}var r=[];return{restrict:"AEC",require:"?ngModel",link:function(e,i,r,s){o(e,i,r,s,0,t,0,n)}}}]),function(){function e(e,t,i,n,o,r,s,a){function l(r){var s=e.attrGetter("ngfNoObjectUrl",o,i);e.dataUrl(r,s).finally(function(){t(function(){var e=(s?r.$ngfDataUrl:r.$ngfBlobUrl)||r.$ngfDataUrl;a?n.css("background-image","url('"+(e||"")+"')"):n.attr("src",e),e?n.removeClass("ng-hide"):n.addClass("ng-hide")})})}t(function(){var t=i.$watch(o[r],function(t){var u=s;if("ngfThumbnail"===r&&(u||(u={width:n[0].naturalWidth||n[0].clientWidth,height:n[0].naturalHeight||n[0].clientHeight}),0===u.width&&window.getComputedStyle)){var h=getComputedStyle(n[0]);h.width&&h.width.indexOf("px")>-1&&h.height&&h.height.indexOf("px")>-1&&(u={width:parseInt(h.width.slice(0,-2)),height:parseInt(h.height.slice(0,-2))})}if(angular.isString(t))return n.removeClass("ng-hide"),a?n.css("background-image","url('"+t+"')"):n.attr("src",t);!t||!t.type||0!==t.type.search(function(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}(n[0]))||a&&0!==t.type.indexOf("image")?n.addClass("ng-hide"):u&&e.isResizeSupported()?(u.resizeIf=function(n,r){return e.attrGetter("ngfResizeIf",o,i,{$width:n,$height:r,$file:t})},e.resize(t,u).then(function(e){l(e)},function(e){throw e})):l(t)});i.$on("$destroy",function(){t()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,i){var n=e;return n.base64DataUrl=function(e){if(angular.isArray(e)){var t=i.defer(),o=0;return angular.forEach(e,function(i){n.dataUrl(i,!0).finally(function(){if(++o===e.length){var i=[];angular.forEach(e,function(e){i.push(e.$ngfDataUrl)}),t.resolve(i,e)}})}),t.promise}return n.dataUrl(e,!0)},n.dataUrl=function(e,o){if(!e)return n.emptyPromise(e,e);if(o&&null!=e.$ngfDataUrl||!o&&null!=e.$ngfBlobUrl)return n.emptyPromise(o?e.$ngfDataUrl:e.$ngfBlobUrl,e);var r=o?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(r)return r;var s=i.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var i=window.URL||window.webkitURL;if(i&&i.createObjectURL&&!o){var r;try{r=i.createObjectURL(e)}catch(i){return void t(function(){e.$ngfBlobUrl="",s.reject()})}t(function(){if(e.$ngfBlobUrl=r,r){s.resolve(r,e),n.blobUrls=n.blobUrls||[],n.blobUrlsTotalSize=n.blobUrlsTotalSize||0,n.blobUrls.push({url:r,size:e.size}),n.blobUrlsTotalSize+=e.size||0;for(var t=n.defaults.blobUrlsMaxMemory||268435456,o=n.defaults.blobUrlsMaxQueueSize||200;(n.blobUrlsTotalSize>t||n.blobUrls.length>o)&&n.blobUrls.length>1;){var a=n.blobUrls.splice(0,1)[0];i.revokeObjectURL(a.url),n.blobUrlsTotalSize-=a.size}}})}else{var a=new FileReader;a.onload=function(i){t(function(){e.$ngfDataUrl=i.target.result,s.resolve(i.target.result,e),t(function(){delete e.$ngfDataUrl},1e3)})},a.onerror=function(){t(function(){e.$ngfDataUrl="",s.reject()})},a.readAsDataURL(e)}}else t(function(){e[o?"$ngfDataUrl":"$ngfBlobUrl"]="",s.reject()})}),(r=o?e.$$ngfDataUrlPromise=s.promise:e.$$ngfBlobUrlPromise=s.promise).finally(function(){delete e[o?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),r},n}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(t,i){return{restrict:"AE",link:function(n,o,r){e(t,i,n,o,r,"ngfSrc",t.attrGetter("ngfResize",r,n),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(t,i){return{restrict:"AE",link:function(n,o,r){e(t,i,n,o,r,"ngfBackground",t.attrGetter("ngfResize",r,n),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(t,i){return{restrict:"AE",link:function(n,o,r){var s=t.attrGetter("ngfSize",r,n);e(t,i,n,o,r,"ngfThumbnail",s,t.attrGetter("ngfAsBackground",r,n))}}}]),ngFileUpload.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(i,n,o){if(angular.isString(i))return t.trustAsResourceUrl(i);var r=i&&((n?i.$ngfDataUrl:i.$ngfBlobUrl)||i.$ngfDataUrl);return i&&!r?(!i.$ngfDataUrlFilterInProgress&&angular.isObject(i)&&(i.$ngfDataUrlFilterInProgress=!0,e.dataUrl(i,n)),""):(i&&delete i.$ngfDataUrlFilterInProgress,(i&&r?o?t.trustAsResourceUrl(r):r:i)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,i){function n(e){var t="",i=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var o=e.split(",");if(o.length>1)for(var r=0;r<o.length;r++){var s=n(o[r]);s.regexp?(t+="("+s.regexp+")",r<o.length-1&&(t+="|")):i=i.concat(s.excludes)}else 0===e.indexOf("!")?i.push("^((?!"+n(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t=(t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$").replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:i}}var o=e;return o.validatePattern=function(e,t){if(!t)return!0;var i=n(t),o=!0;if(i.regexp&&i.regexp.length){var r=new RegExp(i.regexp,"i");o=null!=e.type&&r.test(e.type)||null!=e.name&&r.test(e.name)}for(var s=i.excludes.length;s--;){var a=new RegExp(i.excludes[s],"i");o=o&&(null==e.type||a.test(e.type))&&(null==e.name||a.test(e.name))}return o},o.ratioToFloat=function(e){var t=e.toString(),i=t.search(/[x:]/i);return t=i>-1?parseFloat(t.substring(0,i))/parseFloat(t.substring(i+1)):parseFloat(t)},o.registerModelChangeValidator=function(e,t,i){e&&e.$formatters.push(function(n){if(e.$dirty){var r=n;n&&!angular.isArray(n)&&(r=[n]),o.validate(r,0,e,t,i).then(function(){o.applyModelValidation(e,r)})}return n})},o.applyModelValidation=function(e,t){!function(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}(e,t),angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})},o.getValidationAttr=function(e,t,i,n,r){var s="ngf"+i[0].toUpperCase()+i.substr(1),a=o.attrGetter(s,e,t,{$file:r});if(null==a&&(a=o.attrGetter("ngfValidate",e,t,{$file:r}))){var l=(n||i).split(".");a=a[l[0]],l.length>1&&(a=a&&a[l[1]])}return a},o.validate=function(e,i,n,r,s){function a(t,i,a){if(e){for(var l=e.length,u=null;l--;){var p=e[l];if(p){var f=o.getValidationAttr(r,s,t,i,p);null!=f&&(a(p,f,l)||(-1===h.indexOf(t)?(p.$error=t,(p.$errorMessages=p.$errorMessages||{})[t]=!0,p.$errorParam=f,-1===d.indexOf(p)&&d.push(p),c||e.splice(l,1),u=!1):e.splice(l,1)))}}null!==u&&n.$ngfValidations.push({name:t,valid:u})}}function l(i,a,l,p,f){function g(t,n,o){function r(r){if(r())if(-1===h.indexOf(i)){if(n.$error=i,(n.$errorMessages=n.$errorMessages||{})[i]=!0,n.$errorParam=o,-1===d.indexOf(n)&&d.push(n),!c){var s=e.indexOf(n);s>-1&&e.splice(s,1)}t.resolve(!1)}else{var a=e.indexOf(n);a>-1&&e.splice(a,1),t.resolve(!0)}else t.resolve(!0)}null!=o?p(n,o).then(function(e){r(function(){return!f(e,o)})},function(){r(function(){return u("ngfValidateForce",{$file:n})})}):t.resolve(!0)}var m=[o.emptyPromise(!0)];e&&(e=void 0===e.length?[e]:e,angular.forEach(e,function(e){var n=t.defer();m.push(n.promise),!l||null!=e.type&&0===e.type.search(l)?"dimensions"===i&&null!=o.attrGetter("ngfDimensions",r)?o.imageDimensions(e).then(function(t){g(n,e,u("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))},function(){n.resolve(!1)}):"duration"===i&&null!=o.attrGetter("ngfDuration",r)?o.mediaDuration(e).then(function(t){g(n,e,u("ngfDuration",{$file:e,$duration:t}))},function(){n.resolve(!1)}):g(n,e,o.getValidationAttr(r,s,i,a,e)):n.resolve(!0)}));var v=t.defer();return t.all(m).then(function(e){for(var t=!0,o=0;o<e.length;o++)if(!e[o]){t=!1;break}n.$ngfValidations.push({name:i,valid:t}),v.resolve(t)}),v.promise}(n=n||{}).$ngfValidations=n.$ngfValidations||[],angular.forEach(n.$ngfValidations,function(e){e.valid=!0});var u=function(e,t){return o.attrGetter(e,r,s,t)},h=(o.attrGetter("ngfIgnoreInvalid",r,s)||"").split(" "),c=o.attrGetter("ngfRunAllValidations",r,s);if(null==e||0===e.length)return o.emptyPromise({validFiles:e,invalidFiles:[]});e=void 0===e.length?[e]:e.slice(0);var d=[];a("pattern",null,o.validatePattern),a("minSize","size.min",function(e,t){return e.size+.1>=o.translateScalars(t)}),a("maxSize","size.max",function(e,t){return e.size-.1<=o.translateScalars(t)});var p=0;if(a("maxTotalSize",null,function(t,i){return!((p+=t.size)>o.translateScalars(i)&&(e.splice(0,e.length),1))}),a("validateFn",null,function(e,t){return!0===t||null===t||""===t}),!e.length)return o.emptyPromise({validFiles:[],invalidFiles:d});var f=t.defer(),g=[];return g.push(l("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return e.height<=t})),g.push(l("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t})),g.push(l("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t})),g.push(l("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t})),g.push(l("dimensions",null,/image/,function(e,t){return o.emptyPromise(t)},function(e){return e})),g.push(l("ratio",null,/image/,this.imageDimensions,function(e,t){for(var i=t.toString().split(","),n=!1,r=0;r<i.length;r++)Math.abs(e.width/e.height-o.ratioToFloat(i[r]))<.01&&(n=!0);return n})),g.push(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)<1e-4})),g.push(l("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)>-1e-4})),g.push(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=o.translateScalars(t)})),g.push(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=o.translateScalars(t)})),g.push(l("duration",null,/audio|video/,function(e,t){return o.emptyPromise(t)},function(e){return e})),g.push(l("validateAsyncFn",null,null,function(e,t){return t},function(e){return!0===e||null===e||""===e})),t.all(g).then(function(){if(c)for(var t=0;t<e.length;t++){e[t].$error&&e.splice(t--,1)}c=!1,a("maxFiles",null,function(e,t,n){return i+n<t}),f.resolve({validFiles:e,invalidFiles:d})}),f.promise},o.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var n=t.defer();return i(function(){n.resolve({width:e.$ngfWidth,height:e.$ngfHeight})}),n.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var r=t.defer();return i(function(){0===e.type.indexOf("image")?o.dataUrl(e).then(function(t){function n(){var t=a[0].naturalWidth||a[0].clientWidth,i=a[0].naturalHeight||a[0].clientHeight;a.remove(),e.$ngfWidth=t,e.$ngfHeight=i,r.resolve({width:t,height:i})}function o(){a.remove(),r.reject("load error")}function s(){i(function(){a[0].parentNode&&(a[0].clientWidth?n():l++>10?o():s())},1e3)}var a=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");a.on("load",n),a.on("error",o);var l=0;s(),angular.element(document.getElementsByTagName("body")[0]).append(a)},function(){r.reject("load error")}):r.reject("not image")}),e.$ngfDimensionPromise=r.promise,e.$ngfDimensionPromise.finally(function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},o.mediaDuration=function(e){if(e.$ngfDuration){var n=t.defer();return i(function(){n.resolve(e.$ngfDuration)}),n.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var r=t.defer();return i(function(){0===e.type.indexOf("audio")||0===e.type.indexOf("video")?o.dataUrl(e).then(function(t){function n(){var t=a[0].duration;e.$ngfDuration=t,a.remove(),r.resolve(t)}function o(){a.remove(),r.reject("load error")}function s(){i(function(){a[0].parentNode&&(a[0].duration?n():l>10?o():s())},1e3)}var a=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");a.on("loadedmetadata",n),a.on("error",o);var l=0;s(),angular.element(document.body).append(a)},function(){r.reject("load error")}):r.reject("not media")}),e.$ngfDurationPromise=r.promise,e.$ngfDurationPromise.finally(function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},o}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(e,t){var i=e;return i.dataUrltoBlob=function(e,t,i){for(var n=e.split(","),o=n[0].match(/:(.*?);/)[1],r=atob(n[1]),s=r.length,a=new Uint8Array(s);s--;)a[s]=r.charCodeAt(s);var l=new window.Blob([a],{type:o});return l.name=t,l.$ngfOrigSize=i,l},i.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},i.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),i.resize=function(e,n){if(0!==e.type.indexOf("image"))return i.emptyPromise(e);var o=t.defer();return i.dataUrl(e,!0).then(function(r){(function(e,n,o,r,s,a,l,u){var h=t.defer(),c=document.createElement("canvas"),d=document.createElement("img");return d.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(d),d.onload=function(){var e=d.width,t=d.height;if(d.parentNode.removeChild(d),null==u||!1!==u(e,t))try{if(a){var p=i.ratioToFloat(a);e/t<p?o=(n=e)/p:n=(o=t)*p}n||(n=e),o||(o=t);var f=function(e,t,i,n,o){var r=o?Math.max(i/e,n/t):Math.min(i/e,n/t);return{width:e*r,height:t*r,marginX:e*r-i,marginY:t*r-n}}(e,t,n,o,l);c.width=Math.min(f.width,n),c.height=Math.min(f.height,o),c.getContext("2d").drawImage(d,Math.min(0,-f.marginX/2),Math.min(0,-f.marginY/2),f.width,f.height),h.resolve(c.toDataURL(s||"image/WebP",r||.934))}catch(e){h.reject(e)}else h.reject("resizeIf")},d.onerror=function(){d.parentNode.removeChild(d),h.reject()},d.src=e,h.promise})(r,n.width,n.height,n.quality,n.type||e.type,n.ratio,n.centerCrop,n.resizeIf).then(function(t){if("image/jpeg"===e.type&&!1!==n.restoreExif)try{t=i.restoreExif(r,t)}catch(e){setTimeout(function(){throw e},1)}try{var s=i.dataUrltoBlob(t,e.name,e.size);o.resolve(s)}catch(e){o.reject(e)}},function(t){"resizeIf"===t&&o.resolve(e),o.reject(t)})},function(e){o.reject(e)}),o.promise},i}]),function(){function e(e,i,n,o,r,s,a,l,u,h){function c(){return i.attr("disabled")||g("ngfDropDisabled",e)}function d(t,i,o){if(t){var r;try{r=t&&t.getData&&t.getData("text/html")}catch(e){}(function(t,i,o,r){function s(e,t){var i=h.defer();if(null!=e)if(e.isDirectory){var n=[l.emptyPromise()];if(d){var o={type:"directory"};o.name=o.path=(t||"")+e.name,p.push(o)}var r=e.createReader(),a=[],g=function(){r.readEntries(function(o){try{o.length?(a=a.concat(Array.prototype.slice.call(o||[],0)),g()):(angular.forEach(a.slice(0),function(i){p.length<=u&&f<=c&&n.push(s(i,(t||"")+e.name+"/"))}),h.all(n).then(function(){i.resolve()},function(e){i.reject(e)}))}catch(e){i.reject(e)}},function(e){i.reject(e)})};g()}else e.file(function(e){try{e.path=(t||"")+e.name,d&&(e=l.rename(e,e.path)),p.push(e),f+=e.size,i.resolve()}catch(e){i.reject(e)}},function(e){i.reject(e)});return i.promise}var u=l.getValidationAttr(n,e,"maxFiles");null==u&&(u=Number.MAX_VALUE);var c=l.getValidationAttr(n,e,"maxTotalSize");null==c&&(c=Number.MAX_VALUE);var d=g("ngfIncludeDir",e),p=[],f=0;var m=[l.emptyPromise()];if(t&&t.length>0&&"file:"!==a.location.protocol)for(var v=0;v<t.length;v++){if(t[v].webkitGetAsEntry&&t[v].webkitGetAsEntry()&&t[v].webkitGetAsEntry().isDirectory){var w=t[v].webkitGetAsEntry();if(w.isDirectory&&!o)continue;null!=w&&m.push(s(w))}else{var _=t[v].getAsFile();null!=_&&(p.push(_),f+=_.size)}if(p.length>u||f>c||!r&&p.length>0)break}else if(null!=i)for(var y=0;y<i.length;y++){var z=i.item(y);if((z.type||z.size>0)&&(p.push(z),f+=z.size),p.length>u||f>c||!r&&p.length>0)break}var b=h.defer();return h.all(m).then(function(){if(r||d||!p.length)b.resolve(p);else{for(var e=0;p[e]&&"directory"===p[e].type;)e++;b.resolve([p[e]])}},function(e){b.reject(e)}),b.promise})(t.items,t.files,!1!==g("ngfAllowDir",e),g("multiple")||g("ngfMultiple",e)).then(function(t){t.length?p(t,i):function(t,i){if(!l.shouldUpdateOn(t,n,e)||"string"!=typeof i)return l.rejectPromise([]);var o=[];i.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,i){o.push(i)});var r=[],s=[];if(o.length){angular.forEach(o,function(e){r.push(l.urlToBlob(e).then(function(e){s.push(e)}))});var a=h.defer();return h.all(r).then(function(){a.resolve(s)},function(e){a.reject(e)}),a.promise}return l.emptyPromise()}(o,r).then(function(e){p(e,i)})})}}function p(t,i){l.updateModel(o,n,e,g("ngfChange")||g("ngfDrop"),t,i)}var f=t(),g=function(e,t,i){return l.attrGetter(e,n,t,i)};if(g("dropAvailable")&&s(function(){e[g("dropAvailable")]?e[g("dropAvailable")].value=f:e[g("dropAvailable")]=f}),f){null==g("ngfSelect")&&l.registerModelChangeValidator(o,n,e);var m,v=null,w=r(g("ngfStopPropagation")),_=1;i[0].addEventListener("dragover",function(t){if(!c()&&l.shouldUpdateOn("drop",n,e)){if(t.preventDefault(),w(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var o=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===o||"linkMove"===o?"move":"copy"}s.cancel(v),m||(m="C",function(e,t,i,n){var o=g("ngfDragOverClass",e,{$event:i}),r="dragover";if(angular.isString(o))r=o;else if(o&&(o.delay&&(_=o.delay),o.accept||o.reject)){var s=i.dataTransfer.items;if(null!=s&&s.length)for(var a=o.pattern||g("ngfPattern",e,{$event:i}),u=s.length;u--;){if(!l.validatePattern(s[u],a)){r=o.reject;break}r=o.accept}else r=o.accept}n(r)}(e,0,t,function(n){m=n,i.addClass(m),g("ngfDrag",e,{$isDragging:!0,$class:m,$event:t})}))}},!1),i[0].addEventListener("dragenter",function(t){!c()&&l.shouldUpdateOn("drop",n,e)&&(t.preventDefault(),w(e)&&t.stopPropagation())},!1),i[0].addEventListener("dragleave",function(t){!c()&&l.shouldUpdateOn("drop",n,e)&&(t.preventDefault(),w(e)&&t.stopPropagation(),v=s(function(){m&&i.removeClass(m),m=null,g("ngfDrag",e,{$isDragging:!1,$event:t})},_||100))},!1),i[0].addEventListener("drop",function(t){!c()&&l.shouldUpdateOn("drop",n,e)&&(t.preventDefault(),w(e)&&t.stopPropagation(),m&&i.removeClass(m),m=null,d(t.dataTransfer,t,"dropUrl"))},!1),i[0].addEventListener("paste",function(t){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&g("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!c()&&l.shouldUpdateOn("paste",n,e)&&d(t.clipboardData||t.originalEvent.clipboardData,t,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&g("ngfEnableFirefoxPaste",e)&&(i.attr("contenteditable",!0),i.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))}else!0===g("ngfHideOnDropNotAvailable",e)&&i.css("display","none")}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(t,i,n,o,r,s){return{restrict:"AEC",require:"?ngModel",link:function(r,a,l,u){e(r,a,l,u,t,i,n,o,0,s)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,i){t()&&i.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,i,n){return function(o,r,s){if(t()){var a=e(n.attrGetter("ngfDropAvailable",s));i(function(){a(o),a.assign&&a.assign(o,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(e,t){var i=e;return i.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&i.isResizeSupported()},i.readOrientation=function(e){var i=t.defer(),n=new FileReader,o=e.slice?e.slice(0,65536):e;return n.readAsArrayBuffer(o),n.onerror=function(e){return i.reject(e)},n.onload=function(e){var t={orientation:1},n=new DataView(this.result);if(65496!==n.getUint16(0,!1))return i.resolve(t);for(var o=n.byteLength,r=2;r<o;){var s=n.getUint16(r,!1);if(r+=2,65505===s){if(1165519206!==n.getUint32(r+=2,!1))return i.resolve(t);var a=18761===n.getUint16(r+=6,!1);r+=n.getUint32(r+4,a);var l=n.getUint16(r,a);r+=2;for(var u=0;u<l;u++)if(274===n.getUint16(r+12*u,a)){var h=n.getUint16(r+12*u+8,a);return h>=2&&h<=8&&(n.setUint16(r+12*u+8,1,a),t.fixedArrayBuffer=e.target.result),t.orientation=h,i.resolve(t)}}else{if(65280!=(65280&s))break;r+=n.getUint16(r,!1)}}return i.resolve(t)},i.promise},i.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return i.emptyPromise(e);var n=t.defer();return i.readOrientation(e).then(function(t){if(t.orientation<2||t.orientation>8)return n.resolve(e);i.dataUrl(e,!0).then(function(o){var r=document.createElement("canvas"),s=document.createElement("img");s.onload=function(){try{r.width=t.orientation>4?s.height:s.width,r.height=t.orientation>4?s.width:s.height;var o=r.getContext("2d");!function(e,t,i,n){switch(t){case 2:return e.transform(-1,0,0,1,i,0);case 3:return e.transform(-1,0,0,-1,i,n);case 4:return e.transform(1,0,0,-1,0,n);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,n,0);case 7:return e.transform(0,-1,-1,0,n,i);case 8:e.transform(0,-1,1,0,0,i)}}(o,t.orientation,s.width,s.height),o.drawImage(s,0,0);var a=r.toDataURL(e.type||"image/WebP",.934);a=i.restoreExif(function(e){for(var t="",i=new Uint8Array(e),n=i.byteLength,o=0;o<n;o++)t+=String.fromCharCode(i[o]);return window.btoa(t)}(t.fixedArrayBuffer),a);var l=i.dataUrltoBlob(a,e.name);n.resolve(l)}catch(e){return n.reject(e)}},s.onerror=function(){n.reject()},s.src=o},function(e){n.reject(e)})},function(e){n.reject(e)}),n.promise},i.restoreExif=function(e,t){var i={};return i.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i.encode64=function(e){var t,i,n,o,r,s="",a="",l="",u=0;do{n=(t=e[u++])>>2,o=(3&t)<<4|(i=e[u++])>>4,r=(15&i)<<2|(a=e[u++])>>6,l=63&a,isNaN(i)?r=l=64:isNaN(a)&&(l=64),s=s+this.KEY_STR.charAt(n)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(l),t=i=a="",n=o=r=l=""}while(u<e.length);return s},i.restore=function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var i=this.decode64(e),n=this.slice2Segments(i),o=this.exifManipulation(t,n);return"data:image/jpeg;base64,"+this.encode64(o)},i.exifManipulation=function(e,t){var i=this.getExifArray(t),n=this.insertExif(e,i);return new Uint8Array(n)},i.getExifArray=function(e){for(var t,i=0;i<e.length;i++)if(255===(t=e[i])[0]&225===t[1])return t;return[]},i.insertExif=function(e,t){var i=e.replace("data:image/jpeg;base64,",""),n=this.decode64(i),o=n.indexOf(255,3),r=n.slice(0,o),s=n.slice(o),a=r;return a=a.concat(t),a=a.concat(s)},i.slice2Segments=function(e){for(var t=0,i=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var n=t+(256*e[t+2]+e[t+3])+2,o=e.slice(t,n);i.push(o),t=n}if(t>e.length)break}return i},i.decode64=function(e){var t,i,n,o,r="",s="",a=0,l=[];/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=this.KEY_STR.indexOf(e.charAt(a++))<<2|(n=this.KEY_STR.indexOf(e.charAt(a++)))>>4,i=(15&n)<<4|(o=this.KEY_STR.indexOf(e.charAt(a++)))>>2,r=(3&o)<<6|(s=this.KEY_STR.indexOf(e.charAt(a++))),l.push(t),64!==o&&l.push(i),64!==s&&l.push(r),t=i=r="",n=o=s=""}while(a<e.length);return l},i.restore(e,t)},i}]),function(){var e="RandExp",t=function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};t[s][0].call(h.exports,function(e){var i=t[s][1][e];return o(i||e)},h,h.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){function n(e){return e+(97<=e&&e<=122?-32:65<=e&&e<=90?32:0)}function o(e){return e instanceof u?e.index(this.randInt(0,e.length-1)):e[this.randInt(0,e.length-1)]}function r(e){if(e.type===l.types.CHAR)return new u(e.value);if(e.type===l.types.RANGE)return new u(e.from,e.to);for(var t=new u,i=0;i<e.set.length;i++){var o=r.call(this,e.set[i]);if(t.add(o),this.ignoreCase)for(var s=0;s<o.length;s++){var a=o.index(s),h=n(a);a!==h&&t.add(h)}}return e.not?this.defaultRange.clone().subtract(t):t}function s(e,t){"number"==typeof t.max&&(e.max=t.max),t.defaultRange instanceof u&&(e.defaultRange=t.defaultRange),"function"==typeof t.randInt&&(e.randInt=t.randInt)}function a(e,t){var i,s,l,u,c;switch(e.type){case h.ROOT:case h.GROUP:if(e.followedBy||e.notFollowedBy)return"";for(e.remember&&void 0===e.groupNumber&&(e.groupNumber=t.push(null)-1),s="",u=0,c=(i=e.options?o.call(this,e.options):e.stack).length;u<c;u++)s+=a.call(this,i[u],t);return e.remember&&(t[e.groupNumber]=s),s;case h.POSITION:return"";case h.SET:var d=r.call(this,e);return d.length?String.fromCharCode(o.call(this,d)):"";case h.REPETITION:for(l=this.randInt(e.min,e.max===1/0?e.min+this.max:e.max),s="",u=0;u<l;u++)s+=a.call(this,e.value,t);return s;case h.REFERENCE:return t[e.value-1]||"";case h.CHAR:var p=this.ignoreCase&&function(){return!this.randInt(0,1)}.call(this)?n(e.value):e.value;return String.fromCharCode(p)}}var l=e("ret"),u=e("discontinuous-range"),h=l.types,c=t.exports=function(e,t){if(this.defaultRange=this.defaultRange.clone(),e instanceof RegExp)this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,s(this,e),e=e.source;else{if("string"!=typeof e)throw new Error("Expected a regexp or string");this.ignoreCase=t&&-1!==t.indexOf("i"),this.multiline=t&&-1!==t.indexOf("m")}this.tokens=l(e)};c.prototype.max=100,c.prototype.gen=function(){return a.call(this,this.tokens,[])},c.randexp=function(e,t){var i;return void 0===e._randexp?(i=new c(e,t),e._randexp=i):i=e._randexp,s(i,e),i.gen()},c.sugar=function(){RegExp.prototype.gen=function(){return c.randexp(this)}},c.prototype.defaultRange=new u(32,126),c.prototype.randInt=function(e,t){return e+Math.floor(Math.random()*(1+t-e))}},{"discontinuous-range":2,ret:3}],2:[function(e,t,i){function n(e,t){this.low=e,this.high=t,this.length=1+t-e}function o(e,t){return this instanceof o?(this.ranges=[],this.length=0,void(void 0!==e&&this.add(e,t))):new o(e,t)}function r(e){e.length=e.ranges.reduce(function(e,t){return e+t.length},0)}n.prototype.overlaps=function(e){return!(this.high<e.low||this.low>e.high)},n.prototype.touches=function(e){return!(this.high+1<e.low||this.low-1>e.high)},n.prototype.add=function(e){return this.touches(e)&&new n(Math.min(this.low,e.low),Math.max(this.high,e.high))},n.prototype.subtract=function(e){return!!this.overlaps(e)&&(e.low<=this.low&&e.high>=this.high?[]:e.low>this.low&&e.high<this.high?[new n(this.low,e.low-1),new n(e.high+1,this.high)]:e.low<=this.low?[new n(e.high+1,this.high)]:[new n(this.low,e.low-1)])},n.prototype.toString=function(){return this.low==this.high?this.low.toString():this.low+"-"+this.high},n.prototype.clone=function(){return new n(this.low,this.high)},o.prototype.add=function(e,t){function i(e){for(var t=[],i=0;i<s.ranges.length&&!e.touches(s.ranges[i]);)t.push(s.ranges[i].clone()),i++;for(;i<s.ranges.length&&e.touches(s.ranges[i]);)e=e.add(s.ranges[i]),i++;for(t.push(e);i<s.ranges.length;)t.push(s.ranges[i].clone()),i++;s.ranges=t,r(s)}var s=this;return e instanceof o?e.ranges.forEach(i):e instanceof n?i(e):(void 0===t&&(t=e),i(new n(e,t))),this},o.prototype.subtract=function(e,t){function i(e){for(var t=[],i=0;i<s.ranges.length&&!e.overlaps(s.ranges[i]);)t.push(s.ranges[i].clone()),i++;for(;i<s.ranges.length&&e.overlaps(s.ranges[i]);)t=t.concat(s.ranges[i].subtract(e)),i++;for(;i<s.ranges.length;)t.push(s.ranges[i].clone()),i++;s.ranges=t,r(s)}var s=this;return e instanceof o?e.ranges.forEach(i):e instanceof n?i(e):(void 0===t&&(t=e),i(new n(e,t))),this},o.prototype.index=function(e){for(var t=0;t<this.ranges.length&&this.ranges[t].length<=e;)e-=this.ranges[t].length,t++;return t>=this.ranges.length?null:this.ranges[t].low+e},o.prototype.toString=function(){return"[ "+this.ranges.join(", ")+" ]"},o.prototype.clone=function(){return new o(this)},t.exports=o},{}],3:[function(e,t,i){var n=e("./util"),o=e("./types"),r=e("./sets"),s=e("./positions");t.exports=function(e){var t,i,a=0,l={type:o.ROOT,stack:[]},u=l,h=l.stack,c=[],d=function(t){n.error(e,"Nothing to repeat at column "+(t-1))},p=n.strToChars(e);for(t=p.length;a<t;)switch(i=p[a++]){case"\\":switch(i=p[a++]){case"b":h.push(s.wordBoundary());break;case"B":h.push(s.nonWordBoundary());break;case"w":h.push(r.words());break;case"W":h.push(r.notWords());break;case"d":h.push(r.ints());break;case"D":h.push(r.notInts());break;case"s":h.push(r.whitespace());break;case"S":h.push(r.notWhitespace());break;default:/\d/.test(i)?h.push({type:o.REFERENCE,value:parseInt(i,10)}):h.push({type:o.CHAR,value:i.charCodeAt(0)})}break;case"^":h.push(s.begin());break;case"$":h.push(s.end());break;case"[":var f;"^"===p[a]?(f=!0,a++):f=!1;var g=n.tokenizeClass(p.slice(a),e);a+=g[1],h.push({type:o.SET,set:g[0],not:f});break;case".":h.push(r.anyChar());break;case"(":var m={type:o.GROUP,stack:[],remember:!0};"?"===(i=p[a])&&(i=p[a+1],a+=2,"="===i?m.followedBy=!0:"!"===i?m.notFollowedBy=!0:":"!==i&&n.error(e,"Invalid group, character '"+i+"' after '?' at column "+(a-1)),m.remember=!1),h.push(m),c.push(u),u=m,h=m.stack;break;case")":0===c.length&&n.error(e,"Unmatched ) at column "+(a-1)),h=(u=c.pop()).options?u.options[u.options.length-1]:u.stack;break;case"|":u.options||(u.options=[u.stack],delete u.stack);var v=[];u.options.push(v),h=v;break;case"{":var w,_,y=/^(\d+)(,(\d+)?)?\}/.exec(p.slice(a));null!==y?(0===h.length&&d(a),w=parseInt(y[1],10),_=y[2]?y[3]?parseInt(y[3],10):1/0:w,a+=y[0].length,h.push({type:o.REPETITION,min:w,max:_,value:h.pop()})):h.push({type:o.CHAR,value:123});break;case"?":0===h.length&&d(a),h.push({type:o.REPETITION,min:0,max:1,value:h.pop()});break;case"+":0===h.length&&d(a),h.push({type:o.REPETITION,min:1,max:1/0,value:h.pop()});break;case"*":0===h.length&&d(a),h.push({type:o.REPETITION,min:0,max:1/0,value:h.pop()});break;default:h.push({type:o.CHAR,value:i.charCodeAt(0)})}return 0!==c.length&&n.error(e,"Unterminated group"),l},t.exports.types=o},{"./positions":4,"./sets":5,"./types":6,"./util":7}],4:[function(e,t,i){var n=e("./types");i.wordBoundary=function(){return{type:n.POSITION,value:"b"}},i.nonWordBoundary=function(){return{type:n.POSITION,value:"B"}},i.begin=function(){return{type:n.POSITION,value:"^"}},i.end=function(){return{type:n.POSITION,value:"$"}}},{"./types":6}],5:[function(e,t,i){var n=e("./types"),o=function(){return[{type:n.RANGE,from:48,to:57}]},r=function(){return[{type:n.CHAR,value:95},{type:n.RANGE,from:97,to:122},{type:n.RANGE,from:65,to:90}].concat(o())},s=function(){return[{type:n.CHAR,value:9},{type:n.CHAR,value:10},{type:n.CHAR,value:11},{type:n.CHAR,value:12},{type:n.CHAR,value:13},{type:n.CHAR,value:32},{type:n.CHAR,value:160},{type:n.CHAR,value:5760},{type:n.CHAR,value:6158},{type:n.CHAR,value:8192},{type:n.CHAR,value:8193},{type:n.CHAR,value:8194},{type:n.CHAR,value:8195},{type:n.CHAR,value:8196},{type:n.CHAR,value:8197},{type:n.CHAR,value:8198},{type:n.CHAR,value:8199},{type:n.CHAR,value:8200},{type:n.CHAR,value:8201},{type:n.CHAR,value:8202},{type:n.CHAR,value:8232},{type:n.CHAR,value:8233},{type:n.CHAR,value:8239},{type:n.CHAR,value:8287},{type:n.CHAR,value:12288},{type:n.CHAR,value:65279}]};i.words=function(){return{type:n.SET,set:r(),not:!1}},i.notWords=function(){return{type:n.SET,set:r(),not:!0}},i.ints=function(){return{type:n.SET,set:o(),not:!1}},i.notInts=function(){return{type:n.SET,set:o(),not:!0}},i.whitespace=function(){return{type:n.SET,set:s(),not:!1}},i.notWhitespace=function(){return{type:n.SET,set:s(),not:!0}},i.anyChar=function(){return{type:n.SET,set:[{type:n.CHAR,value:10},{type:n.CHAR,value:13},{type:n.CHAR,value:8232},{type:n.CHAR,value:8233}],not:!0}}},{"./types":6}],6:[function(e,t,i){t.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}},{}],7:[function(e,t,i){var n=e("./types"),o=e("./sets"),r={0:0,t:9,n:10,v:11,f:12,r:13};i.strToChars=function(e){return e=e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z\[\\\]\^?])|([0tnvfr]))/g,function(e,t,i,n,o,s,a,l){if(i)return e;var u=t?8:n?parseInt(n,16):o?parseInt(o,16):s?parseInt(s,8):a?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(a):r[l],h=String.fromCharCode(u);return/[\[\]{}\^$.|?*+()]/.test(h)&&(h="\\"+h),h})},i.tokenizeClass=function(e,t){for(var r,s,a=[],l=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?(.)/g;null!=(r=l.exec(e));)if(r[1])a.push(o.words());else if(r[2])a.push(o.ints());else if(r[3])a.push(o.whitespace());else if(r[4])a.push(o.notWords());else if(r[5])a.push(o.notInts());else if(r[6])a.push(o.notWhitespace());else if(r[7])a.push({type:n.RANGE,from:(r[8]||r[9]).charCodeAt(0),to:r[10].charCodeAt(0)});else{if(!(s=r[12]))return[a,l.lastIndex];a.push({type:n.CHAR,value:s.charCodeAt(0)})}i.error(t,"Unterminated character class")},i.error=function(e,t){throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)}},{"./sets":5,"./types":6}]},{},[1])(1);"function"==typeof define&&"object"==typeof define.amd?define(e,function(){return t}):"undefined"!=typeof window&&(window[e]=t)}(),function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i={},n="",o=function(){var t=l.apply(this);""==t&&(this.get(0)==e(document).get(0)?t=document.location.href:this.is("[href]")?t=this.attr("href"):this.is("[src]")&&(t=this.attr("src")),""!=t&&(t=f(t),this.data("href",t)))},r=function(e,t){0!=this.is("["+e+"]")&&(null==this.data("original-"+e)&&this.data("original-"+e,this.attr(e)),this.attr(e,t))},s=function(e){null!=this.data("original-"+e)&&(this.attr(e,this.data("original-"+e)),this.removeData("original-"+e))},a=function(){this.removeData("href"),s.apply(this,["href"]),s.apply(this,["src"]),this.removeData("jurlp-no-watch"),this.removeData("is-watched"),I.unwatch.apply(this)},l=function(){return this.href||this.data("href")||this.attr("href")||this.attr("src")||""},u=function(e,t){c.apply(this,[g(l.apply(this),e,t)])},h=function(e){u.apply(this,[e[0],e[1]])},c=function(t){"object"==typeof t&&(t=p(t)),t=f(t),null==this.href?this.get(0)==e(document).get(0)?this.data("href",t):(r.apply(this,["href",t]),r.apply(this,["src",t])):this.href=t},d=function(e){if(null==e)return{scheme:"",user:"",password:"",host:"",port:"",path:"",query:"",fragment:""};var i={user:"",password:""};if("//"==e.substring(0,2)&&(e="http:"+e),""!=e&&-1==e.indexOf("://")&&(e="http://"+e),-1!=e.indexOf("@")){var n=e.match(t);n[4]&&(i.user=n[4]),n[5]&&(i.password=n[5])}var o=document.createElement("a");o.href=e;try{o.protocol}catch(t){if(-2146697202==t.number){var r="";""!=i.user&&(r+=i.user,""!=i.password&&(r+=":"+i.password),r+="@",o.href=e.replace(r,""))}}var s=o.protocol;-1==o.protocol.indexOf("//")&&(s+="//");var a=o.pathname;"/"!=a[0]&&(a="/"+a);var l=o.port+"";return("21"==l&&-1==e.indexOf(":21")||"80"==l&&-1==e.indexOf(":80")||"443"==l&&-1==e.indexOf(":443")||"0"==l)&&(l=""),{scheme:s,user:i.user,password:i.password,host:o.hostname,port:l,path:a,query:o.search,fragment:o.hash}},p=function(e){var t=e.scheme;return null!=e.user&&""!=e.user&&(t+=e.user,null!=e.password&&""!=e.password&&(t+=":"+e.password),t+="@"),t+e.host+(""!=e.port?":"+e.port:"")+e.path+e.query+e.fragment},f=function(e){return D.parse(e).toString()},g=function(e,t,i){var n=D.parse(e);return n[t]=i,p(n)},m=function(e){return"string"==typeof e?D.parse(e):e},v=function(t){var i={},n=_(l.apply(this));"string"==typeof t?("?"==t[0]&&(n={},t=t.substring(1)),i=w(t)):i=t,0==e.isEmptyObject(i)?i=e.extend(n,i):n={},u.apply(this,["query",y.apply(i)])},w=function(e){var t={};if(""!=e)for(var i=e.split("&"),n=0;n<i.length;n++){var o=i[n].split("=");t[o[0]]=o[1]}return t},_=function(e){return w(function(e){var t=m(e).query;return"?"==t[0]?t.slice(1):t}(e))},y=function(){var e="";for(var t in this)"toString"!=t&&null!=this[t]&&(e+="&"+t+"="+this[t]);return"&"==e[0]&&(e="?"+e.slice(1)),e},z=function(e){var t=m(l.apply(this)).path.split("/"),i=e.split("/"),n=0;""==i[0]&&(t=[],n++),t.splice(0,1);for(var o=i.length;n<o;n++)".."==i[n]?t.length>0&&t.splice(t.length-1,1):"."==i[n]||t.push(i[n]);u.apply(this,["path",b.apply(t)])},b=function(){return this.length>0?"/"+this.join("/"):"/"},S=function(e,t,o){1!=e.data("is-watched")&&i[n]&&i[n].push([t,o])},x=function(t,i){return null!=this.href?(t.apply(this,[i]),this):(S(this,t,[i]),this.each(function(){t.apply(e(this),[i])}))},C=function(t,i){if(null!=this.href)return t.apply(this,[i]);var n=[];return this.each(function(){n.push(t.apply(e(this),[i]))}),n},k=function(e,t,i){return 0==i.length?e.apply(this):t.apply(this,i)},D={toString:{http:function(){return p(this)},mailto:function(){return this.password="",this.path="",this.port="",p(this)},javascript:function(){return"javascript:"+this.javascript},generic:function(){return this.scheme+this.url}},parsers:{http:function(t){return e.extend(d(t),{toString:D.toString.http})},mailto:function(t){return e.extend(d(t.substring(7)),{scheme:"mailto:",toString:D.toString.mailto})},javascript:function(t){return e.extend(d(document.location.href),{javascript:t.substring(11),toString:D.toString.javascript})},generic:function(t,i){return"//"==i.substring(0,2)?e.extend(d(i.substring(2)),{scheme:t+"://",toString:D.toString.http}):{scheme:t+":",url:i,toString:D.toString.generic}}},parse:function(e){if("string"!=typeof e)return e;var t=e.indexOf(":");if(-1!=t){var i=e.substring(0,t).toLowerCase();return null!=this.parsers[i]?this.parsers[i](e):this.parsers.generic(i,e.substring(t+1))}return this.parsers.http(e)}},$={getUrl:function(){return C.apply(this,[l,null])},setUrl:function(e){c.apply(this,[e])},parseUrl:function(){return C.apply(this,[function(){return D.parse(l.apply(this))},null])},getFragment:function(){return C.apply(this,[function(){return function(e){return m(e).fragment}(l.apply(this))},null])},setFragment:function(e){return"#"!=e[0]&&(e="#"+e),x.apply(this,[h,["fragment",e]])},getQuery:function(){return C.apply(this,[function(){return e.extend(_(l.apply(this)),{toString:y})},null])},setQuery:function(e){return x.apply(this,[v,e])},getPath:function(){return C.apply(this,[function(){return e.extend(function(e){var t=function(e){var t=m(e).path;return"/"==t[0]?t.slice(1):t}(e);return""!=t?t.split("/"):[]}(l.apply(this)),{toString:b})},null])},setPath:function(e){return x.apply(this,[z,e])},getPort:function(){return C.apply(this,[function(){return function(e){return m(e).port}(l.apply(this))},null])},setPort:function(e){return x.apply(this,[h,["port",e]])},getHost:function(){return C.apply(this,[function(){return function(e){return m(e).host}(l.apply(this))},null])},setHost:function(e){return x.apply(this,[h,["host",e]])},getPassword:function(){return C.apply(this,[function(){return function(e){return m(e).password}(l.apply(this))},null])},setPassword:function(e){return x.apply(this,[h,["password",e]])},getUser:function(){return C.apply(this,[function(){return function(e){return m(e).user}(l.apply(this))},null])},setUser:function(e){return x.apply(this,[h,["user",e]])},getScheme:function(){return C.apply(this,[function(){return function(e){return m(e).scheme}(l.apply(this))},null])},setScheme:function(e){return x.apply(this,[h,["scheme",e]])},filters:{"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"*=":function(e,t){return-1!=e.indexOf(t)},"^=":function(e,t){return e.length>=t.length&&e.substring(0,t.length)==t},"$=":function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)==t},regex:function(e,t){return e.match(t)}}},I={url:function(e){return k.apply(this,[$.parseUrl,$.setUrl,arguments])},fragment:function(e){return k.apply(this,[$.getFragment,$.setFragment,arguments])},query:function(e){return k.apply(this,[$.getQuery,$.setQuery,arguments])},path:function(e){return k.apply(this,[$.getPath,$.setPath,arguments])},port:function(e){return k.apply(this,[$.getPort,$.setPort,arguments])},host:function(e){return k.apply(this,[$.getHost,$.setHost,arguments])},password:function(e){return k.apply(this,[$.getPassword,$.setPassword,arguments])},user:function(e){return k.apply(this,[$.getUser,$.setUser,arguments])},scheme:function(e){return k.apply(this,[$.getScheme,$.setScheme,arguments])},initialise:function(){var t=this,i=[];return null!=(i=function(){if(this.get(0)!=e(document).get(0)&&null==this.attr("href")&&null==this.attr("src")&&null!=this.html()&&0==this.hasClass("jurlp-span")){for(var t=[],i=!1,n="",o=/((((mailto|spotify|skype)\:([a-zA-Z0-9\.\-\:@\?\=\%]*))|((ftp|git|irc|ircs|irc6|pop|rss|ssh|svn|udp|feed|imap|ldap|nntp|rtmp|sftp|snmp|xmpp|http|https|telnet|ventrilo|webcal|view\-source)\:[\/]{2})?(([a-zA-Z0-9\.\-]+)\:([a-zA-Z0-9\.&;%\$\-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|localhost|([a-zA-Z0-9\-]+\.)*[a-zA-Z0-9\-]+\.(aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|[a-zA-Z]{2}))(\:[0-9]+)*(\/($|[a-zA-Z0-9\.\,\?\'\\\+&;%\$\=~_\-]+)?(#\w*)?)*))/i,r=this.html();n=o.exec(r);)r=r.replace(n[0],"$"+t.length),t.push(n[0]),i=!0;for(var s=0;s<t.length;s++){var a=r.indexOf("$"+s),u=r.substring(a-6,a-1);r="href="==u||" src="==u||">"==r.substring(a-1,a)?r.replace("$"+s,t[s]):r.replace("$"+s,'<a href="[url]" class="jurlp-no-watch">[url]</a>'.replace(/\[url\]/g,t[s]))}if(0!=i)return this.addClass("jurlp-span"),this.html(r),this.find("a[href]").each(function(){var t=l.apply(e(this));c.apply(e(this),[t])})}return null}.apply(e(this)))?x.apply(this.filter(function(){return e(this).get(0)!=e(t).get(0)}).add(i),[o]):x.apply(t,[o])},restore:function(){return x.apply(this,[a])},goto:function(){document.location.href=l.apply(this)},proxy:function(e,t){var i=l.apply(this),n={};c.apply(this,[p(m(e))]),n[t]=i,$.setQuery.apply(this,[n])},watch:function(t){var o=this.selector;return null==i[n]&&(i[n]=[],e(document).bind("DOMNodeInserted",function n(r){if(null!=i[o]){var s=e(r.target).filter(o);if(null==s.get(0)&&(s=e(r.target).find(o)),s.length>0&&0==s.is(".jurlp-no-watch")){var a=!1;s.data("is-watched",!0);for(var l=0,u=i[o].length;l<u;l++){var h=i[o][l][0].apply(s,i[o][l][1]);if(null!=h&&0==h.length){a=!0;break}}0==a&&"function"==typeof t&&s.each(function(){t(e(this),o)})}}else e(document).unbind("DOMNodeInserted",n)})),this},unwatch:function(){i[this.selector]=null},filter:function(t,i,n){var o=D.parse(l.apply(this));return"=="==i&&(i="="),"url"!=t&&null==o[t]||null==$.filters[i]?this:(S(this,I.filter,[t,i,n]),this.filter(function(){var o=l.apply(e(this)),r="";return r="url"!=t?D.parse(o)[t]:o,"port"==t&&(r=parseInt(r,10),n=parseInt(n,10)),$.filters[i].apply(e(this),[r,n])}))},interface:function(){return I}};e.fn.jurlp=function(e){return-1==this.selector.indexOf(".filter")&&(n=this.selector),x.apply(this,[o]),function(e){return null!=I[e]?I[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"==typeof e||null==e?I.initialise.apply(this,Array.prototype.slice.call(arguments,1)):this}.apply(this,arguments)},e.jurlp=function(t){return{href:t||document.location.href,url:I.url,scheme:I.scheme,user:I.user,password:I.password,host:I.host,port:I.port,path:I.path,query:I.query,fragment:I.fragment,proxy:I.proxy,goto:I.goto,watch:function(t){var i=this.host();return e('[href*="'+i+'"],[src*="'+i+'"]').jurlp("watch",t)},unwatch:function(){var t=this.host();return e('[href*="'+t+'"],[src*="'+t+'"]').jurlp("unwatch")}}}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,i,n){var o={init:function(t,i){var n=this;n.elem=i,n.$elem=e(i),n.options=e.extend({},e.fn.elevateZoom.options,t),n.options.imageSrc?n.imageSrc=n.options.imageSrc:n.$elem.data("zoom-image")?n.imageSrc=n.$elem.data("zoom-image"):n.imageSrc=n.$elem.attr("src"),n.options.tint&&(n.options.lensColour="none",n.options.lensOpacity="1"),"inner"==n.options.zoomType&&(n.options.showLens=!1),n.$elem.parent().removeAttr("title").removeAttr("alt"),n.zoomImage=n.imageSrc,n.refresh(1),e("#"+n.options.gallery+" a").click(function(t){return n.options.galleryActiveClass&&(e("#"+n.options.gallery+" a").removeClass(n.options.galleryActiveClass),e(this).addClass(n.options.galleryActiveClass)),t.preventDefault(),e(this).data("zoom-image")?n.zoomImagePre=e(this).data("zoom-image"):n.zoomImagePre=e(this).data("image"),n.swaptheimage(e(this).data("image"),n.zoomImagePre),!1})},refresh:function(e){var t=this;setTimeout(function(){t.fetch(t.imageSrc)},e||t.options.refresh)},fetch:function(e){var t=this,i=new Image;i.onload=function(){t.largeWidth=i.width,t.largeHeight=i.height,t.startZoom(),t.currentImage=t.imageSrc,t.options.onZoomedImageLoaded(t.$elem)},i.src=e},startZoom:function(){var t=this;if(t.nzWidth=t.$elem.width(),t.nzHeight=t.$elem.height(),t.isWindowActive=!1,t.isLensActive=!1,t.isTintActive=!1,t.overWindow=!1,t.options.imageCrossfade&&(t.zoomWrap=t.$elem.wrap('<div style="height:'+t.nzHeight+"px;width:"+t.nzWidth+'px;" class="zoomWrapper" />'),t.$elem.css("position","absolute")),t.zoomLock=1,t.scrollingLock=!1,t.changeBgSize=!1,t.currentZoomLevel=t.options.zoomLevel,t.nzOffset=t.$elem.offset(),t.widthRatio=t.largeWidth/t.currentZoomLevel/t.nzWidth,t.heightRatio=t.largeHeight/t.currentZoomLevel/t.nzHeight,"window"==t.options.zoomType&&(t.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(t.options.zoomWindowBgColour)+";width: "+String(t.options.zoomWindowWidth)+"px;height: "+String(t.options.zoomWindowHeight)+"px;float: left;background-size: "+t.largeWidth/t.currentZoomLevel+"px "+t.largeHeight/t.currentZoomLevel+"px;display: none;z-index:100;border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==t.options.zoomType){var i=t.$elem.css("border-left-width");t.zoomWindowStyle="overflow: hidden;margin-left: "+String(i)+";margin-top: "+String(i)+";background-position: 0px 0px;width: "+String(t.nzWidth)+"px;height: "+String(t.nzHeight)+"px;px;float: left;display: none;cursor:"+t.options.cursor+";px solid "+t.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==t.options.zoomType&&(t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?lensHeight=t.nzHeight:lensHeight=String(t.options.zoomWindowHeight/t.heightRatio),t.largeWidth<t.options.zoomWindowWidth?lensWidth=t.nzWidth:lensWidth=t.options.zoomWindowWidth/t.widthRatio,t.lensStyle="background-position: 0px 0px;width: "+String(t.options.zoomWindowWidth/t.widthRatio)+"px;height: "+String(t.options.zoomWindowHeight/t.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+t.options.lensOpacity+";filter: alpha(opacity = "+100*t.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+t.options.lensColour+";cursor:"+t.options.cursor+";border: "+t.options.lensBorderSize+"px solid "+t.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),t.tintStyle="display: block;position: absolute;background-color: "+t.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+t.nzWidth+"px;height: "+t.nzHeight+"px;",t.lensRound="","lens"==t.options.zoomType&&(t.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";width:"+String(t.options.lensSize)+"px;height:"+String(t.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==t.options.lensShape&&(t.lensRound="border-top-left-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-top-right-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-bottom-left-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-bottom-right-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;"),t.zoomContainer=e('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:fixed;left:'+t.nzOffset.left+"px;top:"+t.nzOffset.top+"px;height:"+t.nzHeight+"px;width:"+t.nzWidth+'px;"></div>'),t.$elem.after(t.zoomContainer),t.options.containLensZoom&&"lens"==t.options.zoomType&&t.zoomContainer.css("overflow","hidden"),"inner"!=t.options.zoomType&&(t.zoomLens=e("<div class='zoomLens' style='"+t.lensStyle+t.lensRound+"'>&nbsp;</div>").appendTo(t.zoomContainer).click(function(){t.$elem.trigger("click")}),t.options.tint&&(t.tintContainer=e("<div/>").addClass("tintContainer"),t.zoomTint=e("<div class='zoomTint' style='"+t.tintStyle+"'></div>"),t.zoomLens.wrap(t.tintContainer),t.zoomTintcss=t.zoomLens.after(t.zoomTint),t.zoomTintImage=e('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+t.nzWidth+"px; height: "+t.nzHeight+'px;" src="'+t.imageSrc+'">').appendTo(t.zoomLens).click(function(){t.$elem.trigger("click")}))),isNaN(t.options.zoomWindowPosition)?t.zoomWindow=e("<div style='z-index:999;left:"+t.windowOffsetLeft+"px;top:"+t.windowOffsetTop+"px;"+t.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){t.$elem.trigger("click")}):t.zoomWindow=e("<div style='z-index:999;left:"+t.windowOffsetLeft+"px;top:"+t.windowOffsetTop+"px;"+t.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(t.zoomContainer).click(function(){t.$elem.trigger("click")}),t.zoomWindowContainer=e("<div/>").addClass("zoomWindowContainer").css("width",t.options.zoomWindowWidth),t.zoomWindow.wrap(t.zoomWindowContainer),"lens"==t.options.zoomType&&t.zoomLens.css({backgroundImage:"url('"+t.imageSrc+"')"}),"window"==t.options.zoomType&&t.zoomWindow.css({backgroundImage:"url('"+t.imageSrc+"')"}),"inner"==t.options.zoomType&&t.zoomWindow.css({backgroundImage:"url('"+t.imageSrc+"')"}),t.$elem.bind("touchmove",function(e){e.preventDefault();var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t.setPosition(i)}),t.zoomContainer.bind("touchmove",function(e){"inner"==t.options.zoomType&&t.showHideWindow("show"),e.preventDefault();var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t.setPosition(i)}),t.zoomContainer.bind("touchend",function(e){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")}),t.$elem.bind("touchend",function(e){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")}),t.options.showLens&&(t.zoomLens.bind("touchmove",function(e){e.preventDefault();var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t.setPosition(i)}),t.zoomLens.bind("touchend",function(e){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!=t.options.zoomType&&t.showHideTint("hide")})),t.$elem.bind("mousemove",function(e){0==t.overWindow&&t.setElements("show"),t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),t.zoomContainer.bind("mousemove",function(e){0==t.overWindow&&t.setElements("show"),t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),"inner"!=t.options.zoomType&&t.zoomLens.bind("mousemove",function(e){t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),t.options.tint&&"inner"!=t.options.zoomType&&t.zoomTint.bind("mousemove",function(e){t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),"inner"==t.options.zoomType&&t.zoomWindow.bind("mousemove",function(e){t.lastX===e.clientX&&t.lastY===e.clientY||(t.setPosition(e),t.currentLoc=e),t.lastX=e.clientX,t.lastY=e.clientY}),t.zoomContainer.add(t.$elem).mouseenter(function(){0==t.overWindow&&t.setElements("show")}).mouseleave(function(){t.scrollLock||(t.setElements("hide"),t.options.onDestroy(t.$elem))}),"inner"!=t.options.zoomType&&t.zoomWindow.mouseenter(function(){t.overWindow=!0,t.setElements("hide")}).mouseleave(function(){t.overWindow=!1}),t.options.zoomLevel,t.options.minZoomLevel?t.minZoomLevel=t.options.minZoomLevel:t.minZoomLevel=2*t.options.scrollZoomIncrement,t.options.scrollZoom&&t.zoomContainer.add(t.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(i){t.scrollLock=!0,clearTimeout(e.data(this,"timer")),e.data(this,"timer",setTimeout(function(){t.scrollLock=!1},250));var n=i.originalEvent.wheelDelta||-1*i.originalEvent.detail;return i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault(),n/120>0?t.currentZoomLevel>=t.minZoomLevel&&t.changeZoomLevel(t.currentZoomLevel-t.options.scrollZoomIncrement):t.options.maxZoomLevel?t.currentZoomLevel<=t.options.maxZoomLevel&&t.changeZoomLevel(parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement):t.changeZoomLevel(parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement),!1})},setElements:function(e){if(!this.options.zoomEnabled)return!1;"show"==e&&this.isWindowSet&&("inner"==this.options.zoomType&&this.showHideWindow("show"),"window"==this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner"!=this.options.zoomType&&this.showHideTint("show")),"hide"==e&&("window"==this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide"))},setPosition:function(e){if(!this.options.zoomEnabled)return!1;this.nzHeight=this.$elem.height(),this.nzWidth=this.$elem.width(),this.nzOffset=this.$elem.offset(),this.options.tint&&"inner"!=this.options.zoomType&&(this.zoomTint.css({top:0}),this.zoomTint.css({left:0})),this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.largeWidth<this.options.zoomWindowWidth?lensWidth=this.nzWidth:lensWidth=this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens"!=this.options.zoomType&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.nzWidth<this.options.zoomWindowHeight/this.heightRatio?lensWidth=this.nzWidth:lensWidth=String(this.options.zoomWindowWidth/this.widthRatio),this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight),this.options.tint&&(this.zoomTintImage.css("width",this.nzWidth),this.zoomTintImage.css("height",this.nzHeight))),"lens"==this.options.zoomType&&this.zoomLens.css({width:String(this.options.lensSize)+"px",height:String(this.options.lensSize)+"px"})),this.zoomContainer.css({top:this.nzOffset.top}),this.zoomContainer.css({left:this.nzOffset.left}),this.mouseLeft=parseInt(e.pageX-this.nzOffset.left),this.mouseTop=parseInt(e.pageY-this.nzOffset.top),"window"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.zoomLens.height()/2,this.Eboppos=this.mouseTop>this.nzHeight-this.zoomLens.height()/2-2*this.options.lensBorderSize,this.Eloppos=this.mouseLeft<0+this.zoomLens.width()/2,this.Eroppos=this.mouseLeft>this.nzWidth-this.zoomLens.width()/2-2*this.options.lensBorderSize),"inner"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/2/this.heightRatio,this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<0+this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize),this.mouseLeft<0||this.mouseTop<0||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=String(Math.floor(this.mouseLeft-this.zoomLens.width()/2)),this.lensTopPos=String(Math.floor(this.mouseTop-this.zoomLens.height()/2))),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.windowLeftPos=0,this.lensLeftPos=0,this.tintpos=0),"window"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"==this.options.zoomType&&(this.windowLeftPos=String(-1*((e.pageX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2)),this.windowTopPos=String(-1*((e.pageY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2)),this.zoomLens.css({backgroundPosition:this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=!1),this.setWindowPostition(e)),this.options.tint&&"inner"!=this.options.zoomType&&this.setTintPosition(e),"window"==this.options.zoomType&&this.setWindowPostition(e),"inner"==this.options.zoomType&&this.setWindowPostition(e),this.options.showLens&&(this.fullwidth&&"lens"!=this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos+"px",top:this.lensTopPos+"px"})))},showHideWindow:function(e){var t=this;"show"==e&&(t.isWindowActive||(t.options.zoomWindowFadeIn?t.zoomWindow.stop(!0,!0,!1).fadeIn(t.options.zoomWindowFadeIn):t.zoomWindow.show(),t.isWindowActive=!0)),"hide"==e&&t.isWindowActive&&(t.options.zoomWindowFadeOut?t.zoomWindow.stop(!0,!0).fadeOut(t.options.zoomWindowFadeOut,function(){t.loop&&(clearInterval(t.loop),t.loop=!1)}):t.zoomWindow.hide(),t.isWindowActive=!1)},showHideLens:function(e){"show"==e&&(this.isLensActive||(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show(),this.isLensActive=!0)),"hide"==e&&this.isLensActive&&(this.options.lensFadeOut?this.zoomLens.stop(!0,!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide(),this.isLensActive=!1)},showHideTint:function(e){"show"==e&&(this.isTintActive||(this.options.zoomTintFadeIn?this.zoomTint.css({opacity:this.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(this.zoomTint.css({opacity:this.options.tintOpacity}).animate(),this.zoomTint.show()),this.isTintActive=!0)),"hide"==e&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),this.isTintActive=!1)},setLensPostition:function(e){},setWindowPostition:function(t){var i=this;if(isNaN(i.options.zoomWindowPosition))i.externalContainer=e("#"+i.options.zoomWindowPosition),i.externalContainerWidth=i.externalContainer.width(),i.externalContainerHeight=i.externalContainer.height(),i.externalContainerOffset=i.externalContainer.offset(),i.windowOffsetTop=i.externalContainerOffset.top,i.windowOffsetLeft=i.externalContainerOffset.left;else switch(i.options.zoomWindowPosition){case 1:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=+i.nzWidth;break;case 2:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.options.zoomWindowHeight/2-i.nzHeight/2),i.windowOffsetLeft=i.nzWidth);break;case 3:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=i.nzWidth;break;case 4:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth;break;case 5:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 6:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=-1*(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize));break;case 7:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=0;break;case 8:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 9:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 10:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.options.zoomWindowHeight/2-i.nzHeight/2),i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize));break;case 11:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 12:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 13:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=0;break;case 14:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=-1*(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize));break;case 15:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 16:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=i.nzWidth;break;default:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=i.nzWidth}i.isWindowSet=!0,i.windowOffsetTop=i.windowOffsetTop+i.options.zoomWindowOffety,i.windowOffsetLeft=i.windowOffsetLeft+i.options.zoomWindowOffetx,i.zoomWindow.css({top:i.windowOffsetTop}),i.zoomWindow.css({left:i.windowOffsetLeft}),"inner"==i.options.zoomType&&(i.zoomWindow.css({top:0}),i.zoomWindow.css({left:0})),i.windowLeftPos=String(-1*((t.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2)),i.windowTopPos=String(-1*((t.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2)),i.Etoppos&&(i.windowTopPos=0),i.Eloppos&&(i.windowLeftPos=0),i.Eboppos&&(i.windowTopPos=-1*(i.largeHeight/i.currentZoomLevel-i.zoomWindow.height())),i.Eroppos&&(i.windowLeftPos=-1*(i.largeWidth/i.currentZoomLevel-i.zoomWindow.width())),i.fullheight&&(i.windowTopPos=0),i.fullwidth&&(i.windowLeftPos=0),"window"!=i.options.zoomType&&"inner"!=i.options.zoomType||(1==i.zoomLock&&(i.widthRatio<=1&&(i.windowLeftPos=0),i.heightRatio<=1&&(i.windowTopPos=0)),"window"==i.options.zoomType&&(i.largeHeight<i.options.zoomWindowHeight&&(i.windowTopPos=0),i.largeWidth<i.options.zoomWindowWidth&&(i.windowLeftPos=0)),i.options.easing?(i.xp||(i.xp=0),i.yp||(i.yp=0),i.loop||(i.loop=setInterval(function(){i.xp+=(i.windowLeftPos-i.xp)/i.options.easingAmount,i.yp+=(i.windowTopPos-i.yp)/i.options.easingAmount,i.scrollingLock?(clearInterval(i.loop),i.xp=i.windowLeftPos,i.yp=i.windowTopPos,i.xp=-1*((t.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2),i.yp=-1*((t.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2),i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"!=i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.windowLeftPos+"px "+i.windowTopPos+"px"}),i.scrollingLock=!1,i.loop=!1):Math.round(Math.abs(i.xp-i.windowLeftPos)+Math.abs(i.yp-i.windowTopPos))<1?(clearInterval(i.loop),i.zoomWindow.css({backgroundPosition:i.windowLeftPos+"px "+i.windowTopPos+"px"}),i.loop=!1):(i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"!=i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.xp+"px "+i.yp+"px"}))},16))):(i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.largeHeight/i.newvaluewidth<i.options.zoomWindowHeight?i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}):i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.windowLeftPos+"px "+i.windowTopPos+"px"})))},setTintPosition:function(e){this.nzOffset=this.$elem.offset(),this.tintpos=String(-1*(e.pageX-this.nzOffset.left-this.zoomLens.width()/2)),this.tintposy=String(-1*(e.pageY-this.nzOffset.top-this.zoomLens.height()/2)),this.Etoppos&&(this.tintposy=0),this.Eloppos&&(this.tintpos=0),this.Eboppos&&(this.tintposy=-1*(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize)),this.Eroppos&&(this.tintpos=-1*(this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos+"px"}),this.zoomTintImage.css({top:this.tintposy+"px"}))},swaptheimage:function(t,i){var n=this,o=new Image;n.options.loadingIcon&&(n.spinner=e("<div style=\"background: url('"+n.options.loadingIcon+"') no-repeat center;height:"+n.nzHeight+"px;width:"+n.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),n.$elem.after(n.spinner)),n.options.onImageSwap(n.$elem),o.onload=function(){n.largeWidth=o.width,n.largeHeight=o.height,n.zoomImage=i,n.zoomWindow.css({"background-size":n.largeWidth+"px "+n.largeHeight+"px"}),n.swapAction(t,i)},o.src=i},swapAction:function(t,i){var n=this,o=new Image;if(o.onload=function(){n.nzHeight=o.height,n.nzWidth=o.width,n.options.onImageSwapComplete(n.$elem),n.doneCallback()},o.src=t,n.currentZoomLevel=n.options.zoomLevel,n.options.maxZoomLevel=!1,"lens"==n.options.zoomType&&n.zoomLens.css({backgroundImage:"url('"+i+"')"}),"window"==n.options.zoomType&&n.zoomWindow.css({backgroundImage:"url('"+i+"')"}),"inner"==n.options.zoomType&&n.zoomWindow.css({backgroundImage:"url('"+i+"')"}),n.currentImage=i,n.options.imageCrossfade){var r=n.$elem,s=r.clone();if(n.$elem.attr("src",t),n.$elem.after(s),s.stop(!0).fadeOut(n.options.imageCrossfade,function(){e(this).remove()}),n.$elem.width("auto").removeAttr("width"),n.$elem.height("auto").removeAttr("height"),r.fadeIn(n.options.imageCrossfade),n.options.tint&&"inner"!=n.options.zoomType){var a=n.zoomTintImage,l=a.clone();n.zoomTintImage.attr("src",i),n.zoomTintImage.after(l),l.stop(!0).fadeOut(n.options.imageCrossfade,function(){e(this).remove()}),a.fadeIn(n.options.imageCrossfade),n.zoomTint.css({height:n.$elem.height()}),n.zoomTint.css({width:n.$elem.width()})}n.zoomContainer.css("height",n.$elem.height()),n.zoomContainer.css("width",n.$elem.width()),"inner"==n.options.zoomType&&(n.options.constrainType||(n.zoomWrap.parent().css("height",n.$elem.height()),n.zoomWrap.parent().css("width",n.$elem.width()),n.zoomWindow.css("height",n.$elem.height()),n.zoomWindow.css("width",n.$elem.width()))),n.options.imageCrossfade&&(n.zoomWrap.css("height",n.$elem.height()),n.zoomWrap.css("width",n.$elem.width()))}else n.$elem.attr("src",t),n.options.tint&&(n.zoomTintImage.attr("src",i),n.zoomTintImage.attr("height",n.$elem.height()),n.zoomTintImage.css({height:n.$elem.height()}),n.zoomTint.css({height:n.$elem.height()})),n.zoomContainer.css("height",n.$elem.height()),n.zoomContainer.css("width",n.$elem.width()),n.options.imageCrossfade&&(n.zoomWrap.css("height",n.$elem.height()),n.zoomWrap.css("width",n.$elem.width()));n.options.constrainType&&("height"==n.options.constrainType&&(n.zoomContainer.css("height",n.options.constrainSize),n.zoomContainer.css("width","auto"),n.options.imageCrossfade?(n.zoomWrap.css("height",n.options.constrainSize),n.zoomWrap.css("width","auto"),n.constwidth=n.zoomWrap.width()):(n.$elem.css("height",n.options.constrainSize),n.$elem.css("width","auto"),n.constwidth=n.$elem.width()),"inner"==n.options.zoomType&&(n.zoomWrap.parent().css("height",n.options.constrainSize),n.zoomWrap.parent().css("width",n.constwidth),n.zoomWindow.css("height",n.options.constrainSize),n.zoomWindow.css("width",n.constwidth)),n.options.tint&&(n.tintContainer.css("height",n.options.constrainSize),n.tintContainer.css("width",n.constwidth),n.zoomTint.css("height",n.options.constrainSize),n.zoomTint.css("width",n.constwidth),n.zoomTintImage.css("height",n.options.constrainSize),n.zoomTintImage.css("width",n.constwidth))),"width"==n.options.constrainType&&(n.zoomContainer.css("height","auto"),n.zoomContainer.css("width",n.options.constrainSize),n.options.imageCrossfade?(n.zoomWrap.css("height","auto"),n.zoomWrap.css("width",n.options.constrainSize),n.constheight=n.zoomWrap.height()):(n.$elem.css("height","auto"),n.$elem.css("width",n.options.constrainSize),n.constheight=n.$elem.height()),"inner"==n.options.zoomType&&(n.zoomWrap.parent().css("height",n.constheight),n.zoomWrap.parent().css("width",n.options.constrainSize),n.zoomWindow.css("height",n.constheight),n.zoomWindow.css("width",n.options.constrainSize)),n.options.tint&&(n.tintContainer.css("height",n.constheight),n.tintContainer.css("width",n.options.constrainSize),n.zoomTint.css("height",n.constheight),n.zoomTint.css("width",n.options.constrainSize),n.zoomTintImage.css("height",n.constheight),n.zoomTintImage.css("width",n.options.constrainSize))))},doneCallback:function(){this.options.loadingIcon&&this.spinner.hide(),this.nzOffset=this.$elem.offset(),this.nzWidth=this.$elem.width(),this.nzHeight=this.$elem.height(),this.currentZoomLevel=this.options.zoomLevel,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"window"==this.options.zoomType&&(this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?lensHeight=this.nzHeight:lensHeight=String(this.options.zoomWindowHeight/this.heightRatio),this.options.zoomWindowWidth<this.options.zoomWindowWidth?lensWidth=this.nzWidth:lensWidth=this.options.zoomWindowWidth/this.widthRatio,this.zoomLens&&(this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var t=this;return t.gallerylist=[],t.options.gallery?e("#"+t.options.gallery+" a").each(function(){var i="";e(this).data("zoom-image")?i=e(this).data("zoom-image"):e(this).data("image")&&(i=e(this).data("image")),i==t.zoomImage?t.gallerylist.unshift({href:""+i,title:e(this).find("img").attr("title")}):t.gallerylist.push({href:""+i,title:e(this).find("img").attr("title")})}):t.gallerylist.push({href:""+t.zoomImage,title:e(this).find("img").attr("title")}),t.gallerylist},changeZoomLevel:function(e){this.scrollingLock=!0,this.newvalue=parseFloat(e).toFixed(2),newvalue=parseFloat(e).toFixed(2),maxheightnewvalue=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight),maxwidthtnewvalue=this.largeWidth/(this.options.zoomWindowWidth/this.nzWidth*this.nzWidth),"inner"!=this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/maxheightnewvalue/this.nzHeight,this.newvalueheight=maxheightnewvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/maxwidthtnewvalue/this.nzWidth,this.newvaluewidth=maxwidthtnewvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1),"lens"==this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.fullwidth=!0,this.newvaluewidth=maxheightnewvalue):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1))),"inner"==this.options.zoomType&&(maxheightnewvalue=parseFloat(this.largeHeight/this.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,newvalue>maxheightnewvalue?this.newvalueheight=maxheightnewvalue:this.newvalueheight=newvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,newvalue>maxheightnewvalue?this.newvalueheight=maxheightnewvalue:this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,newvalue>maxwidthtnewvalue?this.newvaluewidth=maxwidthtnewvalue:this.newvaluewidth=newvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1)),scrcontinue=!1,"inner"==this.options.zoomType&&(this.nzWidth>=this.nzHeight&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullheight=!0,this.fullwidth=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullheight=!0,this.fullwidth=!0))),"inner"!=this.options.zoomType&&(scrcontinue=!0),scrcontinue&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({height:String(this.options.zoomWindowHeight/this.heightRatio)+"px"})),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType||(this.changeBgSize=!0)),this.options.zoomWindowWidth/this.widthRatio<=this.nzWidth&&("inner"!=this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:String(this.options.zoomWindowWidth/this.widthRatio)+"px"})),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType||(this.changeBgSize=!0)),"inner"==this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight&&(this.currentZoomLevel=this.newvaluewidth),this.nzHeight>this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth))),this.setPosition(this.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(e){"enable"==e&&(this.options.zoomEnabled=!0),"disable"==e&&(this.options.zoomEnabled=!1)}};e.fn.elevateZoom=function(t){return this.each(function(){var i=Object.create(o);i.init(t,this),e.data(this,"elevateZoom",i)})},e.fn.elevateZoom.options={imageSrc:null,zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:e.noop,onDestroy:function(){},onZoomedImageLoaded:function(){},onImageSwap:e.noop,onImageSwapComplete:e.noop}}(jQuery,window,document),function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){"use strict";e.dateRangePickerLanguages={default:{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":["january","february","march","april","may","june","july","august","september","october","november","december"],shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"},de:{selected:"Auswahl:",day:"Tag",days:"Tage",apply:"Schließen","week-1":"mo","week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so","month-name":["januar","februar","märz","april","mai","juni","juli","august","september","oktober","november","dezember"],shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"Nächste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht größer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage auswählen","default-single":"Bitte ein Datum auswählen","default-less":"Bitte weniger als %d Tage auswählen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen auswählen","default-default":"Bitte ein Start- und Enddatum auswählen",Time:"Zeit",hour:"Stunde",minute:"Minute"},es:{selected:"Seleccionado:",day:"Día",days:"Días",apply:"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa","week-7":"do","month-name":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"Año",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"Año","less-than":"El rango no debería ser mayor de %d días","more-than":"El rango no debería ser menor de %d días","default-more":"Por favor selecciona un rango mayor a %d días","default-single":"Por favor selecciona un día","default-less":"Por favor selecciona un rango menor a %d días","default-range":"Por favor selecciona un rango entre %d y %d días","default-default":"Por favor selecciona un rango de fechas."},fr:{selected:"Sélection:",day:"Jour",days:"Jours",apply:"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortcuts:"Raccourcis",past:"Passé",following:"Suivant",previous:"Précédent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Année",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Année","less-than":"L'intervalle ne doit pas être supérieure à %d jours","more-than":"L'intervalle ne doit pas être inférieure à %d jours","default-more":"Merci de choisir une intervalle supérieure à %d jours","default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle inférieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},pt:{selected:"Selecionado:",day:"Dia",days:"Dias",apply:"Fechar","week-1":"seg","week-2":"ter","week-3":"qua","week-4":"qui","week-5":"sex","week-6":"sab","week-7":"dom","week-number":"N","month-name":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],shortcuts:"Atalhos","custom-values":"Valores Personalizados",past:"Passado",following:"Seguinte",previous:"Anterior","prev-week":"Semana","prev-month":"Mês","prev-year":"Ano",next:"Próximo","next-week":"Próxima Semana","next-month":"Próximo Mês","next-year":"Próximo Ano","less-than":"O período selecionado não deve ser maior que %d dias","more-than":"O período selecionado não deve ser menor que %d dias","default-more":"Selecione um período superior a %d dias","default-single":"Selecione uma data","default-less":"Selecione um período inferior a %d dias","default-range":"Selecione um período de %d a %d dias","default-default":"Selecione um período",time:"Tempo",hour:"Hora",minute:"Minuto"}},e.fn.dateRangePicker=function(i){function n(){var n=this;if(e(this).data("date-picker-opened"))T();else{e(this).data("date-picker-opened",!0),(j=function(){var t='<div class="date-picker-wrapper';i.extraClass&&(t+=" "+i.extraClass+" ");i.singleDate&&(t+=" single-date ");t+='">';var n=i.showWeekNumbers?6:5,o='<i class="icon-left-open-mini"></i>';i.customArrowPrevSymbol&&(o=i.customArrowPrevSymbol);var r='<i class="icon-right-open-mini"></i>';i.customArrowNextSymbol&&(r=i.customArrowNextSymbol);t+='<div class="month-wrapper">   <table class="month1" cellspacing="0" border="0" cellpadding="0">       <thead>           <tr class="caption">               <th style="width:27px;">                   <div class="prev">'+o+'                   </div>               </th>               <th colspan="'+n+'" class="month-name">               </th>               <th style="width:27px;">'+(i.singleDate||!i.stickyMonths?'<div class="next">'+r+"</div>":"")+'               </th>           </tr>           <tr class="week-name">'+A()+"       </thead>       <tbody></tbody>   </table>",i.singleMonth||(t+='<div class="gap"></div><table class="month2" cellspacing="0" border="0" cellpadding="0">   <thead>   <tr class="caption">       <th style="width:27px;">'+(i.stickyMonths?"":'<div class="prev">'+o+"</div>")+'       </th>       <th colspan="'+n+'" class="month-name">       </th>       <th style="width:27px;">           <div class="next">'+r+'</div>       </th>   </tr>   <tr class="week-name">'+A()+"   </thead>   <tbody></tbody></table>");t+='<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>',i.singleDate||(t+='<div class="time2"></div>');return t+='</div><div style="clear:both;height:0;font-size:0;"></div></div></div>',e(t)}().hide()).append('<div class="date-range-length-tip"></div>'),e(i.container).append(j),i.inline?j.addClass("inline-wrapper"):o(),i.alwaysOpen&&j.find(".apply-btn").hide();var r=U();if(B(r),i.time.enabled)if(i.startDate&&i.endDate||i.start&&i.end)D(t(i.start||i.startDate).toDate(),"time1"),D(t(i.end||i.endDate).toDate(),"time2");else{var s=i.defaultEndTime?i.defaultEndTime:r;D(r,"time1"),D(s,"time2")}var a="";a=H(i.singleDate?"default-single":i.minDays&&i.maxDays?"default-range":i.minDays?"default-more":i.maxDays?"default-less":"default-default"),j.find(".default-top").html(a.replace(/\%d/,i.minDays).replace(/\%d/,i.maxDays)),i.singleMonth?j.addClass("single-month"):j.addClass("two-months"),setTimeout(function(){l(),N=!0},0),j.click(function(e){e.stopPropagation()}),e(document).bind("click.datepicker",function(t){(function(t,i){return i.contains(t.target)||t.target==i||void 0!=i.childNodes&&e.inArray(t.target,i.childNodes)>=0})(t,n[0])||j.is(":visible")&&T()}),j.find(".next").click(function(){e(n).trigger("datepicker-next-month-clicked"),i.stickyMonths?function(e){var t=W(i.month1),n=W(i.month2);M(n)||!i.singleDate&&O(t,n)>=0||(k(t,"month1"),k(n,"month2"),C())}():function(t){var n=e(t).parents("table").hasClass("month2"),o=n?i.month2:i.month1;o=W(o),!i.singleMonth&&!i.singleDate&&!n&&O(o,i.month2)>=0||M(o)||(k(o,n?"month2":"month1"),I())}(this),e(n).trigger("datepicker-next-month-finish-clicked")}),j.find(".prev").click(function(){e(n).trigger("datepicker-prev-month-clicked"),i.stickyMonths?function(e){var t=P(i.month1),n=P(i.month2);M(t)||!i.singleDate&&O(n,t)<=0||(k(n,"month2"),k(t,"month1"),C())}():function(t){var n=e(t).parents("table").hasClass("month2"),o=n?i.month2:i.month1;o=P(o),n&&O(o,i.month1)<=0||M(o)||(k(o,n?"month2":"month1"),I())}(this),e(n).trigger("datepicker-prev-month-finish-clicked")}),j.attr("unselectable","on").css("user-select","none").bind("selectstart",function(e){return e.preventDefault(),!1}),j.find(".apply-btn").click(function(){T();var t=$(new Date(i.start))+i.separator+$(new Date(i.end));e(n).trigger("datepicker-apply",{value:t,date1:new Date(i.start),date2:new Date(i.end)})}),j.find("[custom]").click(function(){var t=e(this).attr("custom");i.start=!1,i.end=!1,j.find(".day.checked").removeClass("checked"),i.setValue.call(G,t),y(),z(!0),C(),i.autoClose&&T()}),j.find("[shortcut]").click(function(){var t,n=e(this).attr("shortcut"),o=new Date,r=!1;if(-1!=n.indexOf("day")){var s=parseInt(n.split(",",2)[1],10);r=new Date((new Date).getTime()+864e5*s),o=new Date(o.getTime()+864e5*(s>0?1:-1))}else if(-1!=n.indexOf("week")){var a;for(a=1==(t=-1!=n.indexOf("prev,")?-1:1)?"monday"==i.startOfWeek?1:0:"monday"==i.startOfWeek?0:6,o=new Date(o.getTime()-864e5);o.getDay()!=a;)o=new Date(o.getTime()+864e5*t);r=new Date(o.getTime()+864e5*t*6)}else if(-1!=n.indexOf("month"))(r=1==(t=-1!=n.indexOf("prev,")?-1:1)?W(o):P(o)).setDate(1),(o=W(r)).setDate(1),o=new Date(o.getTime()-864e5);else if(-1!=n.indexOf("year"))t=-1!=n.indexOf("prev,")?-1:1,(r=new Date).setFullYear(o.getFullYear()+t),r.setMonth(0),r.setDate(1),o.setFullYear(o.getFullYear()+t),o.setMonth(11),o.setDate(31);else if("custom"==n){var l=e(this).html();if(i.customShortcuts&&i.customShortcuts.length>0)for(var u=0;u<i.customShortcuts.length;u++){var h=i.customShortcuts[u];if(h.name==l){var c=[];if((c=h.dates.call())&&2==c.length&&(r=c[0],o=c[1]),c&&1==c.length){var d=c[0];k(d,"month1"),k(W(d),"month2"),I()}break}}}r&&o&&(S(r,o),y())}),j.find(".time1 input[type=range]").bind("change touchmove",function(t){var i=t.target;c("time1","hour"==i.name?e(i).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==i.name?e(i).val().replace(/^(\d{1})$/,"0$1"):void 0)}),j.find(".time2 input[type=range]").bind("change touchmove",function(t){var i=t.target;c("time2","hour"==i.name?e(i).val().replace(/^(\d{1})$/,"0$1"):void 0,"minute"==i.name?e(i).val().replace(/^(\d{1})$/,"0$1"):void 0)})}}function o(){if(!i.inline){var t=e(q).offset();if("relative"==e(i.container).css("position")){var n=e(i.container).offset();j.css({top:t.top-n.top+e(q).outerHeight()+4,left:t.left-n.left})}else t.left<460?j.css({top:t.top+e(q).outerHeight()+parseInt(e("body").css("border-top")||0,10),left:t.left}):j.css({top:t.top+e(q).outerHeight()+parseInt(e("body").css("border-top")||0,10),left:t.left+e(q).width()-j.width()-16})}}function r(t){o(),R(),s(),i.customOpenAnimation?i.customOpenAnimation.call(j.get(0),function(){e(q).trigger("datepicker-opened",{relatedTarget:j})}):j.slideDown(t,function(){e(q).trigger("datepicker-opened",{relatedTarget:j})}),e(q).trigger("datepicker-open",{relatedTarget:j}),I(),l()}function s(){var e=i.getValue.call(G),n=e?e.split(i.separator):"";if(n&&(1==n.length&&i.singleDate||n.length>=2)){var o=i.format;o.match(/Do/)&&(o=o.replace(/Do/,"D"),n[0]=n[0].replace(/(\d+)(th|nd|st)/,"$1"),n.length>=2&&(n[1]=n[1].replace(/(\d+)(th|nd|st)/,"$1"))),N=!1,n.length>=2?S(a(n[0],o,t.locale(i.language)),a(n[1],o,t.locale(i.language))):1==n.length&&i.singleDate&&x(a(n[0],o,t.locale(i.language))),N=!0}}function a(e,i,n){return t(e,i,n).isValid()?t(e,i,n).toDate():t().toDate()}function l(){var e=j.find(".gap").css("margin-left");e&&(e=parseInt(e));var t=j.find(".month1").width(),n=j.find(".gap").width()+(e?2*e:0),o=j.find(".month2").width();j.find(".month-wrapper").width(t+n+o+(i.singleMonth?0:77))}function u(e,i){j.find("."+e+" input[type=range].hour-range").val(t(i).hours()),j.find("."+e+" input[type=range].minute-range").val(t(i).minutes()),c(e,t(i).format("HH"),t(i).format("mm"))}function h(e,n){i[e]=parseInt(t(parseInt(n)).startOf("day").add(t(i[e+"Time"]).format("HH"),"h").add(t(i[e+"Time"]).format("mm"),"m").valueOf())}function c(e,n,o){function r(e,t){var r=t.format("HH"),s=t.format("mm");i[e]=t.startOf("day").add(n||r,"h").add(o||s,"m").valueOf()}switch(n&&j.find("."+e+" .hour-val").text(n),o&&j.find("."+e+" .minute-val").text(o),e){case"time1":i.start&&r("start",t(i.start)),r("startTime",t(i.startTime||t().valueOf()));break;case"time2":i.end&&r("end",t(i.end)),r("endTime",t(i.endTime||t().valueOf()))}y(),z(),C()}function d(e){var n=e;return"week-range"===i.batchMode?n="monday"===i.startOfWeek?t(parseInt(e)).startOf("isoweek").valueOf():t(parseInt(e)).startOf("week").valueOf():"month-range"===i.batchMode&&(n=t(parseInt(e)).startOf("month").valueOf()),n}function p(e){var n=e;return"week-range"===i.batchMode?n="monday"===i.startOfWeek?t(parseInt(e)).endOf("isoweek").valueOf():t(parseInt(e)).endOf("week").valueOf():"month-range"===i.batchMode&&(n=t(parseInt(e)).endOf("month").valueOf()),n}function f(n){if(!n.hasClass("invalid")){var o=n.attr("time");if(n.addClass("checked"),i.singleDate?(i.start=o,i.end=!1):"week"===i.batchMode?"monday"===i.startOfWeek?(i.start=t(parseInt(o)).startOf("isoweek").valueOf(),i.end=t(parseInt(o)).endOf("isoweek").valueOf()):(i.end=t(parseInt(o)).endOf("week").valueOf(),i.start=t(parseInt(o)).startOf("week").valueOf()):"workweek"===i.batchMode?(i.start=t(parseInt(o)).day(1).valueOf(),i.end=t(parseInt(o)).day(5).valueOf()):"weekend"===i.batchMode?(i.start=t(parseInt(o)).day(6).valueOf(),i.end=t(parseInt(o)).day(7).valueOf()):"month"===i.batchMode?(i.start=t(parseInt(o)).startOf("month").valueOf(),i.end=t(parseInt(o)).endOf("month").valueOf()):i.start&&i.end||!i.start&&!i.end?(i.start=d(o),i.end=!1):i.start&&(i.end=p(o),i.time.enabled&&h("end",i.end)),i.time.enabled&&(i.start&&h("start",i.start),i.end&&h("end",i.end)),!i.singleDate&&i.start&&i.end&&i.start>i.end){var r=i.end;i.end=p(i.start),i.start=d(r),i.time.enabled&&i.swapTime&&(u("time1",i.start),u("time2",i.end))}i.start=parseInt(i.start),i.end=parseInt(i.end),w(),i.start&&!i.end&&(e(q).trigger("datepicker-first-date-selected",{date1:new Date(i.start)}),v(n)),m(),y(),z(),C(),_()}}function g(e){if(e=parseInt(e,10),i.startDate&&E(e,i.startDate)<0)return!1;if(i.endDate&&E(e,i.endDate)>0)return!1;if(i.start&&!i.end&&!i.singleDate){if(i.maxDays>0&&b(e,i.start)>i.maxDays)return!1;if(i.minDays>0&&b(e,i.start)<i.minDays)return!1;if(i.selectForward&&e<i.start)return!1;if(i.selectBackward&&e>i.start)return!1;if(i.beforeShowDay&&"function"==typeof i.beforeShowDay){for(var t=!0,n=e;b(n,i.start)>1;){if(!i.beforeShowDay(new Date(n))[0]){t=!1;break}if(Math.abs(n-i.start)<864e5)break;n>i.start&&(n-=864e5),n<i.start&&(n+=864e5)}if(!t)return!1}}return!0}function m(){return j.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid"),i.start&&!i.end&&j.find(".day.toMonth.valid").each(function(){g(parseInt(e(this).attr("time"),10))?e(this).addClass("valid tmp").removeClass("invalid"):e(this).addClass("invalid tmp").removeClass("valid")}),!0}function v(t){var n=parseInt(t.attr("time")),o="";if(t.hasClass("has-tooltip")&&t.attr("data-tooltip"))o='<span style="white-space:nowrap">'+t.attr("data-tooltip")+"</span>";else if(!t.hasClass("invalid"))if(i.singleDate)j.find(".day.hovering").removeClass("hovering"),t.addClass("hovering");else if(j.find(".day").each(function(){var t=parseInt(e(this).attr("time"));i.start,i.end;t==n?e(this).addClass("hovering"):e(this).removeClass("hovering"),i.start&&!i.end&&(i.start<t&&n>=t||i.start>t&&n<=t)?e(this).addClass("hovering"):e(this).removeClass("hovering")}),i.start&&!i.end){var r=b(n,i.start);i.hoveringTooltip&&("function"==typeof i.hoveringTooltip?o=i.hoveringTooltip(r,i.start,n):!0===i.hoveringTooltip&&r>1&&(o=r+" "+H("days")))}if(o){var s=t.offset(),a=j.offset(),l=s.left-a.left,u=s.top-a.top;l+=t.width()/2;var h=j.find(".date-range-length-tip"),c=h.css({visibility:"hidden",display:"none"}).html(o).width(),d=h.height();l-=c/2,u-=d,setTimeout(function(){h.css({left:l,top:u,display:"block",visibility:"visible"})},10)}else j.find(".date-range-length-tip").hide()}function w(){j.find(".day.hovering").removeClass("hovering"),j.find(".date-range-length-tip").hide()}function _(){!0===i.singleDate?N&&i.start&&i.autoClose&&T():N&&i.start&&i.end&&i.autoClose&&T()}function y(){var e=Math.ceil((i.end-i.start)/864e5)+1;i.singleDate?i.start&&!i.end?j.find(".drp_top-bar").removeClass("error").addClass("normal"):j.find(".drp_top-bar").removeClass("error").removeClass("normal"):i.maxDays&&e>i.maxDays?(i.start=!1,i.end=!1,j.find(".day").removeClass("checked"),j.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(H("less-than").replace("%d",i.maxDays))):i.minDays&&e<i.minDays?(i.start=!1,i.end=!1,j.find(".day").removeClass("checked"),j.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(H("more-than").replace("%d",i.minDays))):i.start||i.end?j.find(".drp_top-bar").removeClass("error").addClass("normal"):j.find(".drp_top-bar").removeClass("error").removeClass("normal"),i.singleDate&&i.start&&!i.end||!i.singleDate&&i.start&&i.end?j.find(".apply-btn").removeClass("disabled"):j.find(".apply-btn").addClass("disabled"),i.batchMode&&(i.start&&i.startDate&&E(i.start,i.startDate)<0||i.end&&i.endDate&&E(i.end,i.endDate)>0)&&(i.start=!1,i.end=!1,j.find(".day").removeClass("checked"))}function z(t,n){j.find(".start-day").html("..."),j.find(".end-day").html("..."),j.find(".selected-days").hide(),i.start&&j.find(".start-day").html($(new Date(parseInt(i.start)))),i.end&&j.find(".end-day").html($(new Date(parseInt(i.end))));var o;i.start&&i.singleDate?(j.find(".apply-btn").removeClass("disabled"),o=$(new Date(i.start)),i.setValue.call(G,o,$(new Date(i.start)),$(new Date(i.end))),N&&!n&&e(q).trigger("datepicker-change",{value:o,date1:new Date(i.start)})):i.start&&i.end?(j.find(".selected-days").show().find(".selected-days-num").html(b(i.end,i.start)),j.find(".apply-btn").removeClass("disabled"),o=$(new Date(i.start))+i.separator+$(new Date(i.end)),i.setValue.call(G,o,$(new Date(i.start)),$(new Date(i.end))),N&&!n&&e(q).trigger("datepicker-change",{value:o,date1:new Date(i.start),date2:new Date(i.end)})):t?j.find(".apply-btn").removeClass("disabled"):j.find(".apply-btn").addClass("disabled")}function b(e,t){return Math.abs(F(e)-F(t))+1}function S(e,t,n){if(e.getTime()>t.getTime()){var o=t;t=e,e=o,o=null}var r=!0;if(i.startDate&&E(e,i.startDate)<0&&(r=!1),i.endDate&&E(t,i.endDate)>0&&(r=!1),!r)return k(i.startDate,"month1"),k(W(i.startDate),"month2"),void I();i.start=e.getTime(),i.end=t.getTime(),i.time.enabled&&(u("time1",e),u("time2",t)),(i.stickyMonths||E(e,t)>0&&0===O(e,t))&&(i.lookBehind?e=P(t):t=W(e)),i.stickyMonths&&!1!==i.endDate&&O(t,i.endDate)>0&&(e=P(e),t=P(t)),i.stickyMonths||0===O(e,t)&&(i.lookBehind?e=P(t):t=W(e)),k(e,"month1"),k(t,"month2"),I(),y(),z(!1,n),_()}function x(e,t){var n=!0;if(i.startDate&&E(e,i.startDate)<0&&(n=!1),i.endDate&&E(e,i.endDate)>0&&(n=!1),n){if(i.start=e.getTime(),i.time.enabled&&u("time1",e),k(e,"month1"),!0!==i.singleMonth){k(W(e),"month2")}I(),z(!1,t),_()}else k(i.startDate,"month1")}function C(){(i.start||i.end)&&(j.find(".day").each(function(){var n=parseInt(e(this).attr("time")),o=i.start,r=i.end;i.time.enabled&&(n=t(n).startOf("day").valueOf(),o=t(o||t().valueOf()).startOf("day").valueOf(),r=t(r||t().valueOf()).startOf("day").valueOf()),i.start&&i.end&&r>=n&&o<=n||i.start&&!i.end&&t(o).format("YYYY-MM-DD")==t(n).format("YYYY-MM-DD")?e(this).addClass("checked"):e(this).removeClass("checked"),i.start&&t(o).format("YYYY-MM-DD")==t(n).format("YYYY-MM-DD")?e(this).addClass("first-date-selected"):e(this).removeClass("first-date-selected"),i.end&&t(r).format("YYYY-MM-DD")==t(n).format("YYYY-MM-DD")?e(this).addClass("last-date-selected"):e(this).removeClass("last-date-selected")}),j.find(".week-number").each(function(){e(this).attr("data-start-time")==i.startWeek&&e(this).addClass("week-number-selected")}))}function k(n,o){var r=function(e){return H("month-name")[e]}((n=t(n).toDate()).getMonth());j.find("."+o+" .month-name").html(r+" "+n.getFullYear()),j.find("."+o+" tbody").html(function(e){var n=[];e.setDate(1);new Date(e.getTime()-864e5);var o=new Date,r=e.getDay();0===r&&"monday"===i.startOfWeek&&(r=7);var s,a;if(r>0)for(u=r;u>0;u--){d=new Date(e.getTime()-864e5*u);a=g(d.getTime()),i.startDate&&E(d,i.startDate)<0&&(a=!1),i.endDate&&E(d,i.endDate)>0&&(a=!1),n.push({date:d,type:"lastMonth",day:d.getDate(),time:d.getTime(),valid:a})}for(var l=e.getMonth(),u=0;u<40;u++)s=t(e).add(u,"days").toDate(),a=g(s.getTime()),i.startDate&&E(s,i.startDate)<0&&(a=!1),i.endDate&&E(s,i.endDate)>0&&(a=!1),n.push({date:s,type:s.getMonth()==l?"toMonth":"nextMonth",day:s.getDate(),time:s.getTime(),valid:a});for(var h=[],c=0;c<6&&"nextMonth"!=n[7*c].type;c++){h.push("<tr>");for(var d=0;d<7;d++){var p="monday"==i.startOfWeek?d+1:d;s=n[7*c+p];var f=t(s.time).format("L")==t(o).format("L");if(s.extraClass="",s.tooltip="",s.valid&&i.beforeShowDay&&"function"==typeof i.beforeShowDay){var m=i.beforeShowDay(t(s.time).toDate());s.valid=m[0],s.extraClass=m[1]||"",s.tooltip=m[2]||"",""!==s.tooltip&&(s.extraClass+=" has-tooltip ")}var v={time:s.time,"data-tooltip":s.tooltip,class:"day "+s.type+" "+s.extraClass+" "+(s.valid?"valid":"invalid")+" "+(f&&i.highlightToday?"real-today":"")};0===d&&i.showWeekNumbers&&h.push('<td><div class="week-number" data-start-time="'+s.time+'">'+i.getWeekNumber(s.date)+"</div></td>"),h.push("<td "+L({},i.dayTdAttrs,s)+"><div "+L(v,i.dayDivAttrs,s)+">"+function(e,t){return i.showDateFilter&&"function"==typeof i.showDateFilter?i.showDateFilter(e,t):t}(s.time,s.day)+"</div></td>")}h.push("</tr>")}return h.join("")}(n)),i[o]=n,m(),j.find(".day").unbind("click").click(function(t){f(e(this))}),j.find(".day").unbind("mouseenter").mouseenter(function(t){v(e(this))}),j.find(".day").unbind("mouseleave").mouseleave(function(e){j.find(".date-range-length-tip").hide(),i.singleDate&&w()}),j.find(".week-number").unbind("click").click(function(n){!function(e){var n,o,r=parseInt(e.attr("data-start-time"),10);i.startWeek?(j.find(".week-number-selected").removeClass("week-number-selected"),n=new Date(r<i.startWeek?r:i.startWeek),o=new Date(r<i.startWeek?i.startWeek:r),i.startWeek=!1,i.start=t(n).day("monday"==i.startOfWeek?1:0).valueOf(),i.end=t(o).day("monday"==i.startOfWeek?7:6).valueOf()):(i.startWeek=r,e.addClass("week-number-selected"),n=new Date(r),i.start=t(n).day("monday"==i.startOfWeek?1:0).valueOf(),i.end=t(n).day("monday"==i.startOfWeek?7:6).valueOf()),m(),y(),z(),C(),_()}(e(this))})}function D(e,t){j.find("."+t).append("<div><span>"+H("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour"><label>'+H("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute"><label>'+H("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>'),u(t,e)}function $(e){return t(e).format(i.format)}function I(){C();var e=parseInt(t(i.month1).format("YYYYMM")),n=parseInt(t(i.month2).format("YYYYMM")),o=Math.abs(e-n);o>1&&89!=o?j.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible"):j.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden");var r=j.find("table.month1").height(),s=j.find("table.month2").height();0===Math.max(r,s)?j.find(".gap").height(100):j.find(".gap").height(Math.max(r,s)+10)}function T(){if(!i.alwaysOpen){var t=function(){e(q).data("date-picker-opened",!1),e(q).trigger("datepicker-closed",{relatedTarget:j})};i.customCloseAnimation?i.customCloseAnimation.call(j.get(0),t):e(j).slideUp(i.duration,t),e(q).trigger("datepicker-close",{relatedTarget:j})}}function R(){k(i.month1,"month1"),k(i.month2,"month2")}function O(e,i){var n=parseInt(t(e).format("YYYYMM"))-parseInt(t(i).format("YYYYMM"));return n>0?1:0===n?0:-1}function E(e,i){var n=parseInt(t(e).format("YYYYMMDD"))-parseInt(t(i).format("YYYYMMDD"));return n>0?1:0===n?0:-1}function W(e){return t(e).add(1,"months").toDate()}function P(e){return t(e).add(-1,"months").toDate()}function A(){var e=i.showWeekNumbers?"<th>"+H("week-number")+"</th>":"";return"monday"==i.startOfWeek?e+"<th>"+H("week-1")+"</th><th>"+H("week-2")+"</th><th>"+H("week-3")+"</th><th>"+H("week-4")+"</th><th>"+H("week-5")+"</th><th>"+H("week-6")+"</th><th>"+H("week-7")+"</th>":e+"<th>"+H("week-7")+"</th><th>"+H("week-1")+"</th><th>"+H("week-2")+"</th><th>"+H("week-3")+"</th><th>"+H("week-4")+"</th><th>"+H("week-5")+"</th><th>"+H("week-6")+"</th>"}function M(e){return e=t(e),!(!i.startDate||!e.endOf("month").isBefore(i.startDate))||!(!i.endDate||!e.startOf("month").isAfter(i.endDate))}function L(t,i,n){var o=e.extend(!0,{},t);e.each(i,function(e,t){var i=t(n);for(var r in i)o.hasOwnProperty(r)?o[r]+=i[r]:o[r]=i[r]});var r="";for(var s in o)o.hasOwnProperty(s)&&(r+=s+'="'+o[s]+'" ');return r}function F(e){return Math.floor(function(e){t.isMoment(e)&&(e=e.toDate().getTime());"object"==typeof e&&e.getTime&&(e=e.getTime());"string"!=typeof e||e.match(/\d{13}/)||(e=t(e,i.format).toDate().getTime());return e=parseInt(e,10)-60*(new Date).getTimezoneOffset()*1e3}(e)/864e5)}function H(t){var i=t.toLowerCase(),n=t in Y?Y[t]:i in Y?Y[i]:null,o=e.dateRangePickerLanguages.default;return null==n&&(n=t in o?o[t]:i in o?o[i]:""),n}function U(){var e=i.defaultTime?i.defaultTime:new Date;return i.lookBehind?(i.startDate&&O(e,i.startDate)<0&&(e=W(t(i.startDate).toDate())),i.endDate&&O(e,i.endDate)>0&&(e=t(i.endDate).toDate())):(i.startDate&&O(e,i.startDate)<0&&(e=t(i.startDate).toDate()),i.endDate&&O(W(e),i.endDate)>0&&(e=P(t(i.endDate).toDate()))),i.singleDate&&(i.startDate&&O(e,i.startDate)<0&&(e=t(i.startDate).toDate()),i.endDate&&O(e,i.endDate)>0&&(e=t(i.endDate).toDate())),e}function B(e){e||(e=U()),i.lookBehind?(k(P(e),"month1"),k(e,"month2")):(k(e,"month1"),k(W(e),"month2")),i.singleDate&&k(e,"month1"),C(),I()}i||(i={}),(i=e.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" - ",language:"auto",startOfWeek:"sunday",getValue:function(){return e(this).val()},setValue:function(t){e(this).attr("readonly")||e(this).is(":disabled")||t==e(this).val()||e(this).val(t)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,highlightToday:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(e,t,i){return e>1?e+" "+H("days"):""},showTopbar:!0,swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(e){return t(e).format("w")},customOpenAnimation:null,customCloseAnimation:null,customArrowPrevSymbol:null,customArrowNextSymbol:null},i)).start=!1,i.end=!1,i.startWeek=!1,i.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints,i.isTouchDevice&&(i.hoveringTooltip=!1),"auto"==i.singleMonth&&(i.singleMonth=e(window).width()<480),i.singleMonth&&(i.stickyMonths=!1),i.showTopbar||(i.autoClose=!0),i.startDate&&"string"==typeof i.startDate&&(i.startDate=t(i.startDate,i.format).toDate()),i.endDate&&"string"==typeof i.endDate&&(i.endDate=t(i.endDate,i.format).toDate());var j,V,Y=function(){if("auto"==i.language){var t=navigator.language?navigator.language:navigator.browserLanguage;return t&&(t=t.toLowerCase())in e.dateRangePickerLanguages?e.dateRangePickerLanguages[t]:e.dateRangePickerLanguages.default}return i.language&&i.language in e.dateRangePickerLanguages?e.dateRangePickerLanguages[i.language]:e.dateRangePickerLanguages.default}(),N=!1,q=this,G=e(q).get(0);return e(this).unbind(".datepicker").bind("click.datepicker",function(e){j.is(":visible")||r(i.duration)}).bind("change.datepicker",function(e){s()}).bind("keyup.datepicker",function(){try{clearTimeout(V)}catch(e){}V=setTimeout(function(){s()},2e3)}),n.call(this),i.alwaysOpen&&r(0),e(this).data("dateRangePicker",{setStart:function(e,n){return"string"==typeof e&&(e=t(e,i.format).toDate()),i.end=!1,x(e,n),this},setEnd:function(e,n){var o=new Date;return o.setTime(i.start),"string"==typeof e&&(e=t(e,i.format).toDate()),S(o,e,n),this},setDateRange:function(e,n,o){"string"==typeof e&&"string"==typeof n&&(e=t(e,i.format).toDate(),n=t(n,i.format).toDate()),S(e,n,o)},clear:function(){i.start=!1,i.end=!1,j.find(".day.checked").removeClass("checked"),j.find(".day.last-date-selected").removeClass("last-date-selected"),j.find(".day.first-date-selected").removeClass("first-date-selected"),i.setValue.call(G,""),y(),z(),C()},close:T,open:r,redraw:R,getDatePicker:function(){return j},resetMonthsView:B,destroy:function(){e(q).unbind(".datepicker"),e(q).data("dateRangePicker",""),e(q).data("date-picker-opened",null),j.remove(),e(window).unbind("resize.datepicker",o),e(document).unbind("click.datepicker",T)}}),e(window).bind("resize.datepicker",o),this}}),angular.module("SER.utils",[]);var KEYS={up:38,down:40,left:37,right:39,escape:27,enter:13,backspace:8,delete:46,shift:16,leftCmd:91,rightCmd:93,ctrl:17,alt:18,tab:9};if(window.onbeforeprint=function(){console.log("Functionality to run before printing: ",window.location.href)},window.onafterprint=function(){console.log("Functionality to run after printing: ",window.location.href)},window.matchMedia){var mediaQueryList=window.matchMedia("print");mediaQueryList.addListener(function(e){e.matches?window.onbeforeprint():window.onafterprint()})}bowser&&$("body").addClass("bos-"+bowser.osname+" bosv-"+bowser.osversion+" bn-"+bowser.name+" bv-"+bowser.version),function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var i=window.Cookies,n=window.Cookies=e();n.noConflict=function(){return window.Cookies=i,n}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function t(i){function n(t,o,r){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(r=e({path:"/"},n.defaults,r)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}r.expires=r.expires?r.expires.toUTCString():"";try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(e){}o=i.write?i.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var u in r)r[u]&&(l+="; "+u,!0!==r[u]&&(l+="="+r[u]));return document.cookie=t+"="+o+l}t||(s={});for(var h=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,d=0;d<h.length;d++){var p=h[d].split("="),f=p.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var g=p[0].replace(c,decodeURIComponent);if(f=i.read?i.read(f,g):i(f,g)||f.replace(c,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(t===g){s=f;break}t||(s[g]=f)}catch(e){}}return s}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,i){n(t,"",e(i,{expires:-1}))},n.withConverter=t,n}return t(function(){})}),angular.module("SER.auth",[]),angular.module("SER.auth").value("userPermissions",[]),angular.module("SER.auth").value("isSuperuser",!1),angular.module("SER.auth").value("url403",""),angular.module("SER.auth").service("permissionService",["userPermissions","isSuperuser",function(e,t){return{hasPermission:function(i){return!!t||!notValue(i)&&-1!==e.indexOf(i)},atLeastPermissions:function(i){if(t)return!0;if(hasValue(i)){for(var n=0;n<i.length;n++)if(inArray(i[n],e))return!0;return!1}return!0},hasPermissions:function(i){if(t)return!0;for(var n=0;n<i.length;n++)if(notInArray(i[n],e))return!1;return!0}}}]),angular.module("SER.chip",[]),angular.module("SER.chip").directive("serChips",["$document",function(e){return{restrict:"E",scope:{model:"=",pattern:"=?"},link:function(e,t,i,n){var o=e.pattern?new RegExp(e.pattern):new RegExp(/^[\w\d].*$/),r=(t.find("input.chip-input"),t.find("select").controller("ngModel"));notValue(e.model)?(e.model=[],e.selectedValue=[]):(r.$setViewValue(e.model),r.$setDirty(!0)),e.addChip=function(){notValue(e.model)&&(e.model=[]),e.chipInput&&(notInArray(e.chipInput,e.model)&&o.test(e.chipInput)&&(e.model.push(e.chipInput),r.$setViewValue(e.model),r.$validate(),r.$setDirty(!0)),e.chipInput=null)},e.removeChip=function(t){e.model.splice(t,1),r.$setViewValue(e.model),r.$validate()},e.setFocus=function(){t.addClass("ng-focused"),t.removeClass("ng-blur")},e.setBlur=function(){t.addClass("ng-blur"),t.removeClass("ng-focused"),e.addChip()},e.checkKeypress=function(t){switch(t.keyCode){case KEYS.backspace:notValue(e.chipInput)&&hasValue(e.model)&&e.removeChip(e.model.length-1);break;case KEYS.enter:e.addChip()}}},template:function(e,t){var i="";return t.name&&(i='name="'+t.name+'"'),'<div class="chip" ng-repeat="chip in model track by $index">{{chip}}<md-icon class="remove" ng-click="removeChip($index)">close</md-icon></div>                 <input class="chip-input not-styled s-flex" ng-model="chipInput" ng-keydown="checkKeypress($event)" ng-focus="setFocus()" ng-blur="setBlur()" />                 <select '+i+' style="display: none;" multiple ng-model="selectedValue" '+("required"in t?"required":"")+" ></select>"}}}]),angular.module("SER.search",[]),angular.module("SER.search").directive("serAutocomplete",["$http","$timeout",function(e,t){return{restrict:"E",scope:{ngModel:"=",remoteUrl:"=",keywordField:"@",ngRequired:"=?",ngDisabled:"=?",selectItem:"&?",dropdownClass:"@?"},link:function(i,n,o,r,s){var a,l=angular.element(n[0].querySelector(".ser-autocomplete-results")),u=n.parents(),h="autocomplete-results-"+Math.round(1e6*Math.random());l.attr("id",h),l.detach(),i.results=[],i.isFetching=!1,i.selectInternalItem=function(e){angular.isFunction(i.selectItem)&&i.selectItem({newValue:e}),hasValue(i.keywordField)&&(i.ngModel=e[i.keywordField]),i.close()};var c=function(){var e=n[0],t={top:"",bottom:"",left:e.getBoundingClientRect().left+"px",width:e.offsetWidth+"px"};angular.element(document.body).height()-(e.offsetHeight+e.getBoundingClientRect().top)>=220?(t.top=e.offsetHeight+e.getBoundingClientRect().top,l.removeClass("ontop")):(t.bottom=angular.element(document.body).height()-e.getBoundingClientRect().top,l.addClass("ontop")),l.css(t)};i.showDropdown=function(){c(),angular.element(document.body).append(l),t(function(){angular.element(window).triggerHandler("resize")},50)},i.open=function(){i.isOpen=!0,i.showDropdown()},i.close=function(){i.isOpen=!1,l.detach()},u.each(function(e,t){angular.element(t).on("scroll."+h,function(e){c()})});angular.element(n[0].querySelector(".ser-autocomplete-wrapper input")).on("focus",function(){hasValue(i.results)&&t(function(){i.open()})}).on("blur",function(){i.close()}).on("keyup",function(t){a&&clearTimeout(a),a=setTimeout(function(){i.$apply(function(){i.isFetching=!0,i.results=[],i.close(),i.ngModel?e.get(i.remoteUrl+i.ngModel).then(function(e){i.results=e.data,i.isFetching=!1,hasValue(i.results)&&i.open()}):(i.isFetching=!1,i.close())})},500)}),l.on("mousedown",function(e){e.preventDefault()})},template:function(e,t){return'<div class="ser-autocomplete-wrapper" ng-class="{open: isOpen}"><div class="input-group">'+function(){var t=e.find("addon").detach();return t.length?'<span class="addon">'+t.html()+"</span>":""}()+'<input placeholder="{{placeholder}}" '+(t.name?'name="'+t.name+'"':"")+' ng-model="ngModel" '+(t.disabled?"disabled":'ng-disabled="ngDisabled"')+' ng-focus="ngFocus" ng-blur="searchBlur()" '+(t.required?"required":'ng-required="ngRequired"')+' /></div><div class="fetching line-loader" ng-show="isFetching"></div><ul md-virtual-repeat-container md-auto-shrink md-top-index="highlighted" class="ser-autocomplete-results '+t.dropdownClass+'"><li class="item" md-virtual-repeat="item in results" '+(t.mdItemSize?'md-item-size="'+t.mdItemSize+'"':"")+' ng-click="selectInternalItem(item)">'+function(){var t=e.find("ser-item-template").detach();return t.length?t.html():e.html()}()+"</li></ul></div>"}}}]),angular.module("SER.datepicker",[]),angular.module("SER.datepicker").directive("weekDay",function(){return{restrict:"E",require:["ngModel"],scope:{ngModel:"="},link:function(e,t,i,n){e.toggleDay=function(t){"multiple"in i?(notValue(e.ngModel)&&(e.ngModel=[]),notInArray(t,e.ngModel)?e.ngModel.push(t):e.ngModel.splice(e.ngModel.indexOf(t),1)):e.ngModel=t!==e.ngModel?t:null},e.isSet=function(t){return"multiple"in i?inArray(t,e.ngModel):t===e.ngModel}},template:function(){return'<div class="wrapper"><div class="day" ng-click="toggleDay(1)" ng-class="{active: isSet(1)}">'+__("LUN")+'</div><div class="day" ng-click="toggleDay(2)" ng-class="{active: isSet(2)}">'+__("MAR")+'</div><div class="day" ng-click="toggleDay(3)" ng-class="{active: isSet(3)}">'+__("MIE")+'</div><div class="day" ng-click="toggleDay(4)" ng-class="{active: isSet(4)}">'+__("JUE")+'</div><div class="day" ng-click="toggleDay(5)" ng-class="{active: isSet(5)}">'+__("VIE")+'</div><div class="day" ng-click="toggleDay(6)" ng-class="{active: isSet(6)}">'+__("SAB")+'</div><div class="day" ng-click="toggleDay(7)" ng-class="{active: isSet(7)}">'+__("DOM")+"</div></div>"}}}),angular.module("SER.datepicker").directive("serDate",["$filter",function(e){return{restrict:"E",require:["ngModel"],scope:{ngModel:"=",config:"="},controller:["$scope",function(e){e.placeholder=__("select_date"),e.clear=function(){e.ngModel=null}}],link:function(e,t){t.find(".value-wrapper").tooltipster({content:t.find(".picker-wrapper"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0});var i=t.find(".date-wrapper").dateRangePicker({inline:!0,container:t.find(".date-wrapper"),alwaysOpen:!0,language:"es",singleDate:!0,singleMonth:!0}).bind("datepicker-change",function(i,n){e.$apply(function(){e.ngModel=n.date1}),t.find(".value-wrapper").tooltipster("close")}).bind("datepicker-next-month-finish-clicked",function(e){t.find(".value-wrapper").tooltipster("reposition")}).bind("datepicker-prev-month-finish-clicked",function(e){t.find(".value-wrapper").tooltipster("reposition")});e.ngModel&&i.data("dateRangePicker").setStart(e.ngModel,!0),e.$watch("ngModel",function(e,t){e&&e!=t&&i.data("dateRangePicker").setStart(e,!0)},!0)},template:function(e,t){return'<div class="ser-date-wrapper" ng-class="{open: open, \'has-value\': blur}"><div ng-class="{\'bttn-group\': ngModel}" class="row center-center"><button type="button" class="bttn value-wrapper">{{ (ngModel | date: \'longDate\') || placeholder }}</button><button type="button" ng-show="ngModel" class="bttn clear" ng-click="clear()">×</button></div><div class="tooltip-templates"><div class="picker-wrapper"><div class="date-wrapper"></div></div></div></div>'}}}]),angular.module("SER.datepicker").directive("serDateRange",["$filter",function(e){return{restrict:"E",require:["ngModel"],scope:{ngModel:"=",config:"="},controller:["$scope",function(e){e.placeholder=__("select_date_range"),e.clear=function(){e.ngModel=null,e.placeholder=__("select_date_range")}}],link:function(t,i){i.find(".value-wrapper").tooltipster({content:i.find(".picker-wrapper"),delay:0,positionTracker:!0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",interactive:!0});var n=i.find(".date-wrapper").dateRangePicker({inline:!0,container:i.find(".date-wrapper"),alwaysOpen:!0,language:"es"}).bind("datepicker-change",function(n,o){t.$apply(function(){o.date1.setHours(0,0,0,0),o.date2.setHours(23,59,59,0),t.ngModel={FromDate:o.date1,ToDate:o.date2},t.placeholder=e("date")(o.date1,"longDate")+" - "+e("date")(o.date2,"longDate")}),i.find(".value-wrapper").tooltipster("close")}).bind("datepicker-next-month-finish-clicked",function(e){i.find(".value-wrapper").tooltipster("reposition")}).bind("datepicker-prev-month-finish-clicked",function(e){i.find(".value-wrapper").tooltipster("reposition")});t.ngModel&&t.ngModel.FromDate&&t.ngModel.ToDate&&(n.data("dateRangePicker").setStart(t.ngModel.FromDate,!0),n.data("dateRangePicker").setEnd(t.ngModel.ToDate,!0),t.placeholder=e("date")(t.ngModel.FromDate,"longDate")+" - "+e("date")(t.ngModel.ToDate,"longDate")),t.$watch("ngModel",function(e,i){e&&e!=i&&(n.data("dateRangePicker").setStart(t.ngModel.FromDate,!0),n.data("dateRangePicker").setEnd(t.ngModel.ToDate,!0))},!0)},template:function(e,t){return'<div class="ser-date-wrapper" ng-class="{open: open, \'has-value\': blur}"><div ng-class="{\'bttn-group\': ngModel}" class="row center-center"><button type="button" class="bttn value-wrapper">{{ placeholder }}</button><button type="button" ng-show="ngModel" class="bttn clear" ng-click="clear()">×</button></div><div class="tooltip-templates"><div class="picker-wrapper"><div class="date-wrapper"></div></div></div></div>'}}}]),angular.module("SER.filters",[]),angular.module("SER.filters").filter("PascalCase",[function(){return function(e){return e.replace(/([A-Z]+)([A-Z])/g," $1 $2").replace(/([a-z\d])([A-Z])/g,"$1 $2").replace(/([a-zA-Z])(\d)/g,"$1 $2").replace(/^./,function(e){return e.toUpperCase()}).trim()}}]),angular.module("SER.filters").filter("getItem",["$filter",function(e){return function(t,i,n){var o={};o[n]=t;var r=[];return r=e("filter")(i,o,!0),hasValue(r)&&0<r.length?r[0]:null}}]),angular.module("SER.filters").filter("minutesTime",[function(){return function(e,t){var i=parseInt(e/60,10);return(!t&&i>12?24===i?"00":(i-12<10?"0":"")+(i-12):(i<10?"0":"")+i)+":"+(e-60*i<10?"0"+(e-60*i):e-60*i)+(t?":00":i>=12&&24!==i?" pm":" am")}}]),angular.module("SER.filters").filter("timeMinutes",[function(){return function(e){return 60*parseInt(e.split(":")[0])+parseInt(e.split(":")[1])}}]),angular.module("SER.filters").filter("leadingChar",function(){return function(e,t,i){return i=i||"0",hasValue(e)?(e+="").length>=t?e:new Array(t-e.length+1).join(i)+e:""}}),angular.module("SER.fullscreen",[]),angular.module("SER.fullscreen").factory("Fullscreen",["$document","$rootScope",function(e,t){var i=e[0],n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element&&Element.ALLOW_KEYBOARD_INPUT,o=t.$new();e.on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){o.$emit("SERFullscreen.change",r.isEnabled())});var r={$on:angular.bind(o,o.$on),all:function(){r.enable(i.documentElement)},enable:function(e){e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?/Version\/[\d]{1,2}(\.[\d]{1,2}){1}(\.(\d){1,2}){0,1} Safari/.test(navigator.userAgent)?e.webkitRequestFullscreen():e.webkitRequestFullscreen(n):e.msRequestFullscreen&&e.msRequestFullscreen()},cancel:function(){i.cancelFullScreen?i.cancelFullScreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.msExitFullscreen&&i.msExitFullscreen()},isEnabled:function(){return!!(i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement||i.msFullscreenElement)},toggleAll:function(){r.isEnabled()?r.cancel():r.all()},isSupported:function(){var e=i.documentElement;return!!(e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen)}};return r}]),angular.module("SER.fullscreen").directive("fullscreen",["Fullscreen",function(e){return{link:function(t,i,n){if(n.fullscreen){t.$watch(n.fullscreen,function(t){var n=e.isEnabled();t&&!n?(e.enable(i[0]),i.addClass("isInFullScreen")):!t&&n&&(e.cancel(),i.removeClass("isInFullScreen"))});var o=e.$on("SERFullscreen.change",function(e,o){o||t.$evalAsync(function(){t.$eval(n.fullscreen+"= false"),i.removeClass("isInFullScreen")})});t.$on("$destroy",function(){o()})}else{if(void 0!==n.onlyWatchedProperty)return;i.on("click",function(t){e.enable(i[0])})}}}}]),angular.module("SER.Clipboard",[]),angular.module("SER.Clipboard").service("CopyToClipboard",["$window",function(e){var t=angular.element(e.document.body),i=angular.element("<textarea/>");return i.css({position:"fixed",opacity:"0"}),function(e,n){i.val(e),t.append(i),i[0].select();try{var o=document.execCommand("copy");if(!o)throw o;n&&alert(__("copy_success_clipboard"))}catch(t){window.prompt("Copy to clipboard: Ctrl+C, Enter",e)}i.remove()}}]),angular.module("SER.Clipboard").directive("serClickCopy",["CopyToClipboard",function(e){return{restrict:"A",link:function(t,i,n){i.bind("click",function(t){e(n.serClickCopy,!0)})}}}]);var i18n={__DICT:void 0,loadJSON:function(e){this.__DICT=e},__:function(e){if(void 0!==this.__DICT)return e in this.__DICT?this.__DICT[e]:(console.warn("Locale not found for: "+e),e);console.error("Locale JSON file not loaded | Locale not found for: "+e)}},__=function(e){return i18n.__(e)};angular.module("SER.i18n",[]),angular.module("SER.i18n").filter("translate",function(){return function(e){return i18n.__(e)}}),angular.module("SER.image",[]),angular.module("SER.image").directive("exifData",["Upload","$filter","afterPromises",function(e,t,i){return{restrict:"A",link:function(n,o,r){var s='<div class="exif">',a=new i(2,function(){s+="</div>",o.after(s)});o.on("load",function(e){s+="<div><strong>"+__("dimensions")+": </strong>"+e.target.naturalWidth+"x"+e.target.naturalHeight+"</div>",a.notify()}),e.urlToBlob(r.src).then(function(e){s+="<div><strong>"+__("size")+": </strong>"+t("byteFmt")(e.size,0)+"</div><div><strong>"+__("type")+": </strong>"+e.type+"</div>",a.notify()},function(){a.notify()})}}}]),angular.module("SER.image").directive("callbackImage",function(){return{restrict:"A",link:function(e,t,i){t.on("dragstart",function(e){e.preventDefault()}),t.bind("error",function(){t[0].src=i.callbackImage})}}}),angular.module("SER.image").directive("retryGetImage",function(){return{restrict:"A",scope:{retryGetImage:"@",fallbackRetry:"="},link:function(e,t,i){var n;e.$watch("retryGetImage",function(i){clearTimeout(n),t.unbind("load"),t.unbind("error"),t[0].src=i,t.addClass("hidden"),t.bind("load",function(){t.removeClass("hidden"),e.fallbackRetry=!1,clearTimeout(n),e.$apply()}),t.bind("error",function(){e.fallbackRetry=!0,n=setTimeout(function(){t[0].src=e.retryGetImage},5e3)})})}}}),angular.module("SER.image").directive("imgZoom",["$timeout",function(e){return{restrict:"E",scope:{image:"=",options:"="},link:function(t,i,n){i.find(".target").on("load",function(){i.find(".loader").addClass("ng-hide")}),i.find(".target").on("error",function(){i.find(".loader").addClass("ng-hide"),t.zoomReset()}),t.size="auto";var o={"max-height":"none"};angular.merge(o,t.options),t.zoomIn=function(){t.size=1.1*i.find(".target").width(),i.find(".target").css({"max-height":"none",height:"auto"})},t.zoomOut=function(){t.size=i.find(".target").width()/1.1,i.find(".target").css({"max-height":"none",height:"auto"})},t.zoomReset=function(){t.size="auto",i.find(".target").css({"max-height":o["max-height"],height:"auto"})},t.zoomExpand=function(){t.size="auto",i.find(".target").css({"max-height":o["max-height"],height:i.height()-2})},e(function(){t.zoomExpand()},500)},template:function(){return'<div class="controls"><button class="bttn icon" ng-click="zoomOut()"><i class="icon-zoom-out"></i></button><button class="bttn icon" ng-click="zoomReset()"><i class="icon-zoom-actual"></i></button><button class="bttn icon" ng-click="zoomExpand()"><i class="icon-zoom-expand"></i></button><button class="bttn icon" ng-click="zoomIn()"><i class="icon-zoom-in"></i></button></div><div class="loader dots">'+__("loading")+'</div><img class="target" ng-src="{{ image }}" ng-style="{width: size}" callback-image="/images/'+__("no_image_available.svg")+'" />'}}}]),angular.module("SER.image").directive("zoomImage",function(){return{restrict:"A",link:function(e,t,i){var n={responsive:!0,loadingIcon:!0,tint:!0,scrollZoom:!0,zoomWindowWidth:150,zoomWindowHeight:150,imageSrc:i.ngSrc};angular.merge(n,e.$eval(i.zoomImage)),t.elevateZoom(n)}}}),angular.module("SER.image").factory("cropAreaCircle",["cropArea",function(e){var t=function(){e.apply(this,arguments),this._boxResizeBaseSize=20,this._boxResizeNormalRatio=.9,this._boxResizeHoverRatio=1.2,this._iconMoveNormalRatio=.9,this._iconMoveHoverRatio=1.2,this._boxResizeNormalSize=this._boxResizeBaseSize*this._boxResizeNormalRatio,this._boxResizeHoverSize=this._boxResizeBaseSize*this._boxResizeHoverRatio,this._posDragStartX=0,this._posDragStartY=0,this._posResizeStartX=0,this._posResizeStartY=0,this._posResizeStartSize=0,this._boxResizeIsHover=!1,this._areaIsHover=!1,this._boxResizeIsDragging=!1,this._areaIsDragging=!1};return t.prototype=new e,t.prototype._calcCirclePerimeterCoords=function(e){var t=this._size/2,i=e*(Math.PI/180);return[this._x+t*Math.cos(i),this._y+t*Math.sin(i)]},t.prototype._calcResizeIconCenterCoords=function(){return this._calcCirclePerimeterCoords(-45)},t.prototype._isCoordWithinArea=function(e){return Math.sqrt((e[0]-this._x)*(e[0]-this._x)+(e[1]-this._y)*(e[1]-this._y))<this._size/2},t.prototype._isCoordWithinBoxResize=function(e){var t=this._calcResizeIconCenterCoords(),i=this._boxResizeHoverSize/2;return e[0]>t[0]-i&&e[0]<t[0]+i&&e[1]>t[1]-i&&e[1]<t[1]+i},t.prototype._drawArea=function(e,t,i){e.arc(t[0],t[1],i/2,0,2*Math.PI)},t.prototype.draw=function(){e.prototype.draw.apply(this,arguments),this._cropCanvas.drawIconMove([this._x,this._y],this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio),this._cropCanvas.drawIconResizeBoxNESW(this._calcResizeIconCenterCoords(),this._boxResizeBaseSize,this._boxResizeIsHover?this._boxResizeHoverRatio:this._boxResizeNormalRatio)},t.prototype.processMouseMove=function(e,t){var i="default",n=!1;if(this._boxResizeIsHover=!1,this._areaIsHover=!1,this._areaIsDragging)this._x=e-this._posDragStartX,this._y=t-this._posDragStartY,this._areaIsHover=!0,i="move",n=!0,this._events.trigger("area-move");else if(this._boxResizeIsDragging){i="nesw-resize";var o,r,s;o=(r=e-this._posResizeStartX)>(s=this._posResizeStartY-t)?this._posResizeStartSize+2*s:this._posResizeStartSize+2*r,this._size=Math.max(this._minSize,o),this._boxResizeIsHover=!0,n=!0,this._events.trigger("area-resize")}else this._isCoordWithinBoxResize([e,t])?(i="nesw-resize",this._areaIsHover=!1,this._boxResizeIsHover=!0,n=!0):this._isCoordWithinArea([e,t])&&(i="move",this._areaIsHover=!0,n=!0);return this._dontDragOutside(),angular.element(this._ctx.canvas).css({cursor:i}),n},t.prototype.processMouseDown=function(e,t){this._isCoordWithinBoxResize([e,t])?(this._areaIsDragging=!1,this._areaIsHover=!1,this._boxResizeIsDragging=!0,this._boxResizeIsHover=!0,this._posResizeStartX=e,this._posResizeStartY=t,this._posResizeStartSize=this._size,this._events.trigger("area-resize-start")):this._isCoordWithinArea([e,t])&&(this._areaIsDragging=!0,this._areaIsHover=!0,this._boxResizeIsDragging=!1,this._boxResizeIsHover=!1,this._posDragStartX=e-this._x,this._posDragStartY=t-this._y,this._events.trigger("area-move-start"))},t.prototype.processMouseUp=function(){this._areaIsDragging&&(this._areaIsDragging=!1,this._events.trigger("area-move-end")),this._boxResizeIsDragging&&(this._boxResizeIsDragging=!1,this._events.trigger("area-resize-end")),this._areaIsHover=!1,this._boxResizeIsHover=!1,this._posDragStartX=0,this._posDragStartY=0},t}]),angular.module("SER.image").factory("cropAreaSquare",["cropArea",function(e){var t=function(){e.apply(this,arguments),this._resizeCtrlBaseRadius=10,this._resizeCtrlNormalRatio=.75,this._resizeCtrlHoverRatio=1,this._iconMoveNormalRatio=.9,this._iconMoveHoverRatio=1.2,this._resizeCtrlNormalRadius=this._resizeCtrlBaseRadius*this._resizeCtrlNormalRatio,this._resizeCtrlHoverRadius=this._resizeCtrlBaseRadius*this._resizeCtrlHoverRatio,this._posDragStartX=0,this._posDragStartY=0,this._posResizeStartX=0,this._posResizeStartY=0,this._posResizeStartSize=0,this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._resizeCtrlIsDragging=-1,this._areaIsDragging=!1};return t.prototype=new e,t.prototype._calcSquareCorners=function(){var e=this._size/2;return[[this._x-e,this._y-e],[this._x+e,this._y-e],[this._x-e,this._y+e],[this._x+e,this._y+e]]},t.prototype._calcSquareDimensions=function(){var e=this._size/2;return{left:this._x-e,top:this._y-e,right:this._x+e,bottom:this._y+e}},t.prototype._isCoordWithinArea=function(e){var t=this._calcSquareDimensions();return e[0]>=t.left&&e[0]<=t.right&&e[1]>=t.top&&e[1]<=t.bottom},t.prototype._isCoordWithinResizeCtrl=function(e){for(var t=this._calcSquareCorners(),i=-1,n=0,o=t.length;n<o;n++){var r=t[n];if(e[0]>r[0]-this._resizeCtrlHoverRadius&&e[0]<r[0]+this._resizeCtrlHoverRadius&&e[1]>r[1]-this._resizeCtrlHoverRadius&&e[1]<r[1]+this._resizeCtrlHoverRadius){i=n;break}}return i},t.prototype._drawArea=function(e,t,i){var n=i/2;e.rect(t[0]-n,t[1]-n,i,i)},t.prototype.draw=function(){e.prototype.draw.apply(this,arguments),this._cropCanvas.drawIconMove([this._x,this._y],this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio);for(var t=this._calcSquareCorners(),i=0,n=t.length;i<n;i++){var o=t[i];this._cropCanvas.drawIconResizeCircle(o,this._resizeCtrlBaseRadius,this._resizeCtrlIsHover===i?this._resizeCtrlHoverRatio:this._resizeCtrlNormalRatio)}},t.prototype.processMouseMove=function(e,t){var i="default",n=!1;if(this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._areaIsDragging)this._x=e-this._posDragStartX,this._y=t-this._posDragStartY,this._areaIsHover=!0,i="move",n=!0,this._events.trigger("area-move");else if(this._resizeCtrlIsDragging>-1){var o,r;switch(this._resizeCtrlIsDragging){case 0:o=-1,r=-1,i="nwse-resize";break;case 1:o=1,r=-1,i="nesw-resize";break;case 2:o=-1,r=1,i="nesw-resize";break;case 3:o=1,r=1,i="nwse-resize"}var s,a=(e-this._posResizeStartX)*o,l=(t-this._posResizeStartY)*r;s=a>l?this._posResizeStartSize+l:this._posResizeStartSize+a;var u=this._size;this._size=Math.max(this._minSize,s);var h=(this._size-u)/2;this._x+=h*o,this._y+=h*r,this._resizeCtrlIsHover=this._resizeCtrlIsDragging,n=!0,this._events.trigger("area-resize")}else{var c=this._isCoordWithinResizeCtrl([e,t]);if(c>-1){switch(c){case 0:i="nwse-resize";break;case 1:case 2:i="nesw-resize";break;case 3:i="nwse-resize"}this._areaIsHover=!1,this._resizeCtrlIsHover=c,n=!0}else this._isCoordWithinArea([e,t])&&(i="move",this._areaIsHover=!0,n=!0)}return this._dontDragOutside(),angular.element(this._ctx.canvas).css({cursor:i}),n},t.prototype.processMouseDown=function(e,t){var i=this._isCoordWithinResizeCtrl([e,t]);i>-1?(this._areaIsDragging=!1,this._areaIsHover=!1,this._resizeCtrlIsDragging=i,this._resizeCtrlIsHover=i,this._posResizeStartX=e,this._posResizeStartY=t,this._posResizeStartSize=this._size,this._events.trigger("area-resize-start")):this._isCoordWithinArea([e,t])&&(this._areaIsDragging=!0,this._areaIsHover=!0,this._resizeCtrlIsDragging=-1,this._resizeCtrlIsHover=-1,this._posDragStartX=e-this._x,this._posDragStartY=t-this._y,this._events.trigger("area-move-start"))},t.prototype.processMouseUp=function(){this._areaIsDragging&&(this._areaIsDragging=!1,this._events.trigger("area-move-end")),this._resizeCtrlIsDragging>-1&&(this._resizeCtrlIsDragging=-1,this._events.trigger("area-resize-end")),this._areaIsHover=!1,this._resizeCtrlIsHover=-1,this._posDragStartX=0,this._posDragStartY=0},t}]),angular.module("SER.image").factory("cropArea",["cropCanvas",function(e){var t=function(t,i){this._ctx=t,this._events=i,this._minSize=80,this._cropCanvas=new e(t),this._image=new Image,this._x=0,this._y=0,this._size=200};return t.prototype.getImage=function(){return this._image},t.prototype.setImage=function(e){this._image=e},t.prototype.getX=function(){return this._x},t.prototype.setX=function(e){this._x=e,this._dontDragOutside()},t.prototype.getY=function(){return this._y},t.prototype.setY=function(e){this._y=e,this._dontDragOutside()},t.prototype.getSize=function(){return this._size},t.prototype.setSize=function(e){this._size=Math.max(this._minSize,e),this._dontDragOutside()},t.prototype.getMinSize=function(){return this._minSize},t.prototype.setMinSize=function(e){this._minSize=e,this._size=Math.max(this._minSize,this._size),this._dontDragOutside()},t.prototype._dontDragOutside=function(){var e=this._ctx.canvas.height,t=this._ctx.canvas.width;this._size>t&&(this._size=t),this._size>e&&(this._size=e),this._x<this._size/2&&(this._x=this._size/2),this._x>t-this._size/2&&(this._x=t-this._size/2),this._y<this._size/2&&(this._y=this._size/2),this._y>e-this._size/2&&(this._y=e-this._size/2)},t.prototype._drawArea=function(){},t.prototype.draw=function(){this._cropCanvas.drawCropArea(this._image,[this._x,this._y],this._size,this._drawArea)},t.prototype.processMouseMove=function(){},t.prototype.processMouseDown=function(){},t.prototype.processMouseUp=function(){},t}]),angular.module("SER.image").factory("cropCanvas",[function(){var e=[[-.5,-2],[-3,-4.5],[-.5,-7],[-7,-7],[-7,-.5],[-4.5,-3],[-2,-.5]],t=[[.5,-2],[3,-4.5],[.5,-7],[7,-7],[7,-.5],[4.5,-3],[2,-.5]],i=[[-.5,2],[-3,4.5],[-.5,7],[-7,7],[-7,.5],[-4.5,3],[-2,.5]],n=[[.5,2],[3,4.5],[.5,7],[7,7],[7,.5],[4.5,3],[2,.5]],o=[[-1.5,-2.5],[-1.5,-6],[-5,-6],[0,-11],[5,-6],[1.5,-6],[1.5,-2.5]],r=[[-2.5,-1.5],[-6,-1.5],[-6,-5],[-11,0],[-6,5],[-6,1.5],[-2.5,1.5]],s=[[-1.5,2.5],[-1.5,6],[-5,6],[0,11],[5,6],[1.5,6],[1.5,2.5]],a=[[2.5,-1.5],[6,-1.5],[6,-5],[11,0],[6,5],[6,1.5],[2.5,1.5]],l={areaOutline:"#fff",resizeBoxStroke:"#fff",resizeBoxFill:"#444",resizeBoxArrowFill:"#fff",resizeCircleStroke:"#fff",resizeCircleFill:"#444",moveIconFill:"#fff"};return function(u){var h=function(e,t,i){return[i*e[0]+t[0],i*e[1]+t[1]]},c=function(e,t,i,n){u.save(),u.fillStyle=t,u.beginPath();var o,r=h(e[0],i,n);u.moveTo(r[0],r[1]);for(var s in e)s>0&&(o=h(e[s],i,n),u.lineTo(o[0],o[1]));u.lineTo(r[0],r[1]),u.fill(),u.closePath(),u.restore()};this.drawIconMove=function(e,t){c(o,l.moveIconFill,e,t),c(r,l.moveIconFill,e,t),c(s,l.moveIconFill,e,t),c(a,l.moveIconFill,e,t)},this.drawIconResizeCircle=function(e,t,i){var n=t*i;u.save(),u.strokeStyle=l.resizeCircleStroke,u.lineWidth=2,u.fillStyle=l.resizeCircleFill,u.beginPath(),u.arc(e[0],e[1],n,0,2*Math.PI),u.fill(),u.stroke(),u.closePath(),u.restore()},this.drawIconResizeBoxBase=function(e,t,i){var n=t*i;u.save(),u.strokeStyle=l.resizeBoxStroke,u.lineWidth=2,u.fillStyle=l.resizeBoxFill,u.fillRect(e[0]-n/2,e[1]-n/2,n,n),u.strokeRect(e[0]-n/2,e[1]-n/2,n,n),u.restore()},this.drawIconResizeBoxNESW=function(e,n,o){this.drawIconResizeBoxBase(e,n,o),c(t,l.resizeBoxArrowFill,e,o),c(i,l.resizeBoxArrowFill,e,o)},this.drawIconResizeBoxNWSE=function(t,i,o){this.drawIconResizeBoxBase(t,i,o),c(e,l.resizeBoxArrowFill,t,o),c(n,l.resizeBoxArrowFill,t,o)},this.drawCropArea=function(e,t,i,n){var o=e.width/u.canvas.width,r=e.height/u.canvas.height,s=t[0]-i/2,a=t[1]-i/2;u.save(),u.strokeStyle=l.areaOutline,u.lineWidth=2,u.beginPath(),n(u,t,i),u.stroke(),u.clip(),i>0&&u.drawImage(e,s*o,a*r,i*o,i*r,s,a,i,i),u.beginPath(),n(u,t,i),u.stroke(),u.clip(),u.restore()}}}]),angular.module("SER.image").service("cropEXIF",[function(){function e(e){return!!e.exifdata}function t(e,t){function n(n){var s=i(n),a=function(e){var t=new DataView(e);r&&console.log("Got file of length "+e.byteLength);if(255!=t.getUint8(0)||216!=t.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;var i=2,n=e.byteLength,s=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};for(;i<n;){if(s(t,i)){var a=t.getUint8(i+7);a%2!=0&&(a+=1),0===a&&(a=4);var l=i+8+a,u=t.getUint16(i+6+a);return function(e,t,i){var n,r,s,a,l=new DataView(e),u={},c=t;for(;c<t+i;)28===l.getUint8(c)&&2===l.getUint8(c+1)&&(a=l.getUint8(c+2))in h&&(s=l.getInt16(c+3),s+5,r=h[a],n=o(l,c+5,s),u.hasOwnProperty(r)?u[r]instanceof Array?u[r].push(n):u[r]=[u[r],n]:u[r]=n),c++;return u}(e,l,u)}i++}}(n);e.exifdata=s||{},e.iptcdata=a||{},t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src)){n(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(e),n=i.length,o=new ArrayBuffer(n),r=new Uint8Array(o),s=0;s<n;s++)r[s]=i.charCodeAt(s);return o}(e.src))}else if(/^blob\:/i.test(e.src)){(a=new FileReader).onload=function(e){n(e.target.result)},function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},i.send()}(e.src,function(e){a.readAsArrayBuffer(e)})}else{var s=new XMLHttpRequest;s.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(s.response),s=null},s.open("GET",e.src,!0),s.responseType="arraybuffer",s.send(null)}else if(window.FileReader&&(e instanceof window.Blob||e instanceof window.File)){var a=new FileReader;a.onload=function(e){r&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},a.readAsArrayBuffer(e)}}function i(e){var t=new DataView(e);if(r&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;for(var i,h=2,c=e.byteLength;h<c;){if(255!=t.getUint8(h))return r&&console.log("Not a valid marker at offset "+h+", found: "+t.getUint8(h)),!1;if(i=t.getUint8(h+1),r&&console.log(i),225==i)return r&&console.log("Found 0xFFE1 marker"),function(e,t){if("Exif"!=o(e,t,4))return r&&console.log("Not valid EXIF data! "+o(e,t,4)),!1;var i,h,c,d,p,f=t+6;if(18761==e.getUint16(f))i=!1;else{if(19789!=e.getUint16(f))return r&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;i=!0}if(42!=e.getUint16(f+2,!i))return r&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var g=e.getUint32(f+4,!i);if(g<8)return r&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(f+4,!i)),!1;if((h=n(e,f,f+g,a,i)).ExifIFDPointer){d=n(e,f,f+h.ExifIFDPointer,s,i);for(c in d){switch(c){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":d[c]=u[c][d[c]];break;case"ExifVersion":case"FlashpixVersion":d[c]=String.fromCharCode(d[c][0],d[c][1],d[c][2],d[c][3]);break;case"ComponentsConfiguration":d[c]=u.Components[d[c][0]]+u.Components[d[c][1]]+u.Components[d[c][2]]+u.Components[d[c][3]]}h[c]=d[c]}}if(h.GPSInfoIFDPointer){p=n(e,f,f+h.GPSInfoIFDPointer,l,i);for(c in p){switch(c){case"GPSVersionID":p[c]=p[c][0]+"."+p[c][1]+"."+p[c][2]+"."+p[c][3]}h[c]=p[c]}}return h}(t,h+4,t.getUint16(h+2));h+=2+t.getUint16(h+2)}}function n(e,t,i,n,s){var a,l,u,h=e.getUint16(i,!s),c={};for(u=0;u<h;u++)a=i+12*u+2,!(l=n[e.getUint16(a,!s)])&&r&&console.log("Unknown tag: "+e.getUint16(a,!s)),c[l]=function(e,t,i,n,r){var s,a,l,u,h,c,d=e.getUint16(t+2,!r),p=e.getUint32(t+4,!r),f=e.getUint32(t+8,!r)+i;switch(d){case 1:case 7:if(1==p)return e.getUint8(t+8,!r);for(s=p>4?f:t+8,a=[],u=0;u<p;u++)a[u]=e.getUint8(s+u);return a;case 2:return s=p>4?f:t+8,o(e,s,p-1);case 3:if(1==p)return e.getUint16(t+8,!r);for(s=p>2?f:t+8,a=[],u=0;u<p;u++)a[u]=e.getUint16(s+2*u,!r);return a;case 4:if(1==p)return e.getUint32(t+8,!r);for(a=[],u=0;u<p;u++)a[u]=e.getUint32(f+4*u,!r);return a;case 5:if(1==p)return h=e.getUint32(f,!r),c=e.getUint32(f+4,!r),l=new Number(h/c),l.numerator=h,l.denominator=c,l;for(a=[],u=0;u<p;u++)h=e.getUint32(f+8*u,!r),c=e.getUint32(f+4+8*u,!r),a[u]=new Number(h/c),a[u].numerator=h,a[u].denominator=c;return a;case 9:if(1==p)return e.getInt32(t+8,!r);for(a=[],u=0;u<p;u++)a[u]=e.getInt32(f+4*u,!r);return a;case 10:if(1==p)return e.getInt32(f,!r)/e.getInt32(f+4,!r);for(a=[],u=0;u<p;u++)a[u]=e.getInt32(f+8*u,!r)/e.getInt32(f+4+8*u,!r);return a}}(e,a,t,0,s);return c}function o(e,t,i){for(var n="",o=t;o<t+i;o++)n+=String.fromCharCode(e.getUint8(o));return n}var r=!1,s=this.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},a=this.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},l=this.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},u=this.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},h={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};this.getData=function(i,n){return!((i instanceof Image||i instanceof HTMLImageElement)&&!i.complete)&&(e(i)?n&&n.call(i):t(i,n),!0)},this.getTag=function(t,i){if(e(t))return t.exifdata[i]},this.getAllTags=function(t){if(!e(t))return{};var i,n=t.exifdata,o={};for(i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);return o},this.pretty=function(t){if(!e(t))return"";var i,n=t.exifdata,o="";for(i in n)n.hasOwnProperty(i)&&("object"==typeof n[i]?n[i]instanceof Number?o+=i+" : "+n[i]+" ["+n[i].numerator+"/"+n[i].denominator+"]\r\n":o+=i+" : ["+n[i].length+" values]\r\n":o+=i+" : "+n[i]+"\r\n");return o},this.readFromBinaryFile=function(e){return i(e)}}]),angular.module("SER.image").factory("cropHost",["$document","cropAreaCircle","cropAreaSquare","cropEXIF",function(e,t,i,n){var o=function(e){var t=e.getBoundingClientRect(),i=document.body,n=document.documentElement,o=window.pageYOffset||n.scrollTop||i.scrollTop,r=window.pageXOffset||n.scrollLeft||i.scrollLeft,s=n.clientTop||i.clientTop||0,a=n.clientLeft||i.clientLeft||0,l=t.top+o-s,u=t.left+r-a;return{top:Math.round(l),left:Math.round(u)}};return function(r,s,a){function l(){u.clearRect(0,0,u.canvas.width,u.canvas.height),null!==h&&(u.drawImage(h,0,0,u.canvas.width,u.canvas.height),u.save(),u.fillStyle="rgba(0, 0, 0, 0.65)",u.fillRect(0,0,u.canvas.width,u.canvas.height),u.restore(),c.draw())}var u=null,h=null,c=null,d=[100,100],p=[300,300],f=200,g="image/png",m=null,v=function(){if(null!==h){c.setImage(h);var e=[h.width,h.height],t=h.width/h.height,i=e;i[0]>p[0]?(i[0]=p[0],i[1]=i[0]/t):i[0]<d[0]&&(i[0]=d[0],i[1]=i[0]/t),i[1]>p[1]?(i[1]=p[1],i[0]=i[1]*t):i[1]<d[1]&&(i[1]=d[1],i[0]=i[1]*t),r.prop("width",i[0]).prop("height",i[1]).css({"margin-left":-i[0]/2+"px","margin-top":-i[1]/2+"px"}),c.setX(u.canvas.width/2),c.setY(u.canvas.height/2),c.setSize(Math.min(200,u.canvas.width/2,u.canvas.height/2))}else r.prop("width",0).prop("height",0).css({"margin-top":0});l()},w=function(e){return angular.isDefined(e.changedTouches)?e.changedTouches:e.originalEvent.changedTouches},_=function(e){if(null!==h){var t,i,n=o(u.canvas);"touchmove"===e.type?(t=w(e)[0].pageX,i=w(e)[0].pageY):(t=e.pageX,i=e.pageY),c.processMouseMove(t-n.left,i-n.top),l()}},y=function(e){if(e.preventDefault(),e.stopPropagation(),null!==h){var t,i,n=o(u.canvas);"touchstart"===e.type?(t=w(e)[0].pageX,i=w(e)[0].pageY):(t=e.pageX,i=e.pageY),c.processMouseDown(t-n.left,i-n.top),l()}},z=function(e){if(null!==h){var t,i,n=o(u.canvas);"touchend"===e.type?(t=w(e)[0].pageX,i=w(e)[0].pageY):(t=e.pageX,i=e.pageY),c.processMouseUp(t-n.left,i-n.top),l()}};this.getResultImageDataURI=function(){var e,t;return t=angular.element("<canvas></canvas>")[0],e=t.getContext("2d"),t.width=f,t.height=f,null!==h&&e.drawImage(h,(c.getX()-c.getSize()/2)*(h.width/u.canvas.width),(c.getY()-c.getSize()/2)*(h.height/u.canvas.height),c.getSize()*(h.width/u.canvas.width),c.getSize()*(h.height/u.canvas.height),0,0,f,f),null!==m?t.toDataURL(g,m):t.toDataURL(g)},this.setNewImageSource=function(e){if(h=null,v(),a.trigger("image-updated"),e){var t=new Image;"http"===e.substring(0,4).toLowerCase()&&(t.crossOrigin="anonymous"),t.onload=function(){a.trigger("load-done"),n.getData(t,function(){var e=n.getTag(t,"Orientation");if([3,6,8].indexOf(e)>-1){var i=document.createElement("canvas"),o=i.getContext("2d"),r=t.width,s=t.height,l=0,u=0,c=0;switch(e){case 3:l=-t.width,u=-t.height,c=180;break;case 6:r=t.height,s=t.width,u=-t.height,c=90;break;case 8:r=t.height,s=t.width,l=-t.width,c=270}i.width=r,i.height=s,o.rotate(c*Math.PI/180),o.drawImage(t,l,u),(h=new Image).src=i.toDataURL("image/png")}else h=t;v(),a.trigger("image-updated")})},t.onerror=function(){a.trigger("load-error")},a.trigger("load-start"),t.src=e}},this.setMaxDimensions=function(e,t){if(p=[e,t],null!==h){var i=u.canvas.width,n=u.canvas.height,o=[h.width,h.height],s=h.width/h.height,a=o;a[0]>p[0]?(a[0]=p[0],a[1]=a[0]/s):a[0]<d[0]&&(a[0]=d[0],a[1]=a[0]/s),a[1]>p[1]?(a[1]=p[1],a[0]=a[1]*s):a[1]<d[1]&&(a[1]=d[1],a[0]=a[1]*s),r.prop("width",a[0]).prop("height",a[1]).css({"margin-left":-a[0]/2+"px","margin-top":-a[1]/2+"px"});var f=u.canvas.width/i,g=u.canvas.height/n,m=Math.min(f,g);c.setX(c.getX()*f),c.setY(c.getY()*g),c.setSize(c.getSize()*m)}else r.prop("width",0).prop("height",0).css({"margin-top":0});l()},this.setAreaMinSize=function(e){e=parseInt(e,10),isNaN(e)||(c.setMinSize(e),l())},this.setResultImageSize=function(e){e=parseInt(e,10),isNaN(e)||(f=e)},this.setResultImageFormat=function(e){g=e},this.setResultImageQuality=function(e){e=parseFloat(e),!isNaN(e)&&e>=0&&e<=1&&(m=e)},this.setAreaType=function(e){var n=c.getSize(),o=c.getMinSize(),r=c.getX(),s=c.getY(),d=t;"square"===e&&(d=i),(c=new d(u,a)).setMinSize(o),c.setSize(n),c.setX(r),c.setY(s),null!==h&&c.setImage(h),l()},u=r[0].getContext("2d"),c=new t(u,a),e.on("mousemove",_),r.on("mousedown",y),e.on("mouseup",z),e.on("touchmove",_),r.on("touchstart",y),e.on("touchend",z),this.destroy=function(){e.off("mousemove",_),r.off("mousedown",y),e.off("mouseup",_),e.off("touchmove",_),r.off("touchstart",y),e.off("touchend",_),r.remove()}}}]),angular.module("SER.image").factory("cropPubSub",[function(){return function(){var e={};this.on=function(t,i){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]),e[t].push(i)}),this},this.trigger=function(t,i){return angular.forEach(e[t],function(e){e.call(null,i)}),this}}}]),angular.module("SER.image").directive("imgCrop",["$timeout","cropHost","cropPubSub",function(e,t,i){return{restrict:"E",scope:{image:"=",resultImage:"=",changeOnFly:"=",areaType:"@",areaMinSize:"=",resultImageSize:"=",resultImageFormat:"@",resultImageQuality:"=",onChange:"&",onLoadBegin:"&",onLoadDone:"&",onLoadError:"&"},template:"<canvas></canvas>",controller:["$scope",function(e){e.events=new i}],link:function(i,n){var o,r=i.events,s=new t(n.find("canvas"),{},r),a=function(e){var t=s.getResultImageDataURI();o!==t&&(o=t,angular.isDefined(e.resultImage)&&(e.resultImage=t),e.onChange({$dataURI:e.resultImage}))},l=function(t){return function(){e(function(){i.$apply(function(e){t(e)})})}};r.on("load-start",l(function(e){e.onLoadBegin({})})).on("load-done",l(function(e){e.onLoadDone({})})).on("load-error",l(function(e){e.onLoadError({})})).on("area-move area-resize",l(function(e){e.changeOnFly&&a(e)})).on("area-move-end area-resize-end image-updated",l(function(e){a(e)})),i.$watch("image",function(){s.setNewImageSource(i.image)}),i.$watch("areaType",function(){s.setAreaType(i.areaType),a(i)}),i.$watch("areaMinSize",function(){s.setAreaMinSize(i.areaMinSize),a(i)}),i.$watch("resultImageSize",function(){s.setResultImageSize(i.resultImageSize),a(i)}),i.$watch("resultImageFormat",function(){s.setResultImageFormat(i.resultImageFormat),a(i)}),i.$watch("resultImageQuality",function(){s.setResultImageQuality(i.resultImageQuality),a(i)}),i.$watch(function(){return[n[0].clientWidth,n[0].clientHeight]},function(e){s.setMaxDimensions(e[0],e[1]),a(i)},!0),i.$on("$destroy",function(){s.destroy()})}}}]),angular.module("SER.loader",[]).service("afterPromises",[function(){var e=function(e,t){this.callback=t,this.topCount=e,this.counter=0};return e.prototype.notify=function(){this.counter+=1,this.counter==this.topCount&&this.callback()},e}]),angular.module("SER.search").directive("remoteSearch",["$http",function(e){return{restrict:"A",require:["ngModel"],scope:{remoteSearchResults:"=",remoteSearch:"=",model:"=ngModel"},link:function(t,i,n,o){var r;i.on("keyup",function(i){r&&clearTimeout(r),r=setTimeout(function(){t.$apply(function(){t.remoteSearchResults=[]}),t.model&&e.get(t.remoteSearch+t.model).then(function(e){0<e.data.length&&(t.remoteSearchResults=e.data)})},500)})}}}]),angular.module("SER.search").directive("ngEnter",function(){return function(e,t,i){t.bind("keydown keypress",function(n){13===n.which&&(e.$apply(function(){e.$eval(i.ngEnter,{$event:n})}),n.preventDefault(),t.blur())})}}),angular.module("SER.selector",[]).directive("selector",["$rootScope","$filter","$timeout","$window","$http","$q","$templateCache",function(e,t,i,n,o,r,s){return{restrict:"EC",replace:!0,transclude:!0,scope:{value:"=model",disabled:"=?disable",disableSearch:"=?",required:"=?require",multiple:"=?multi",placeholder:"@?",valueAttr:"@",labelAttr:"@?",options:"=?",dropdownClass:"@?",limit:"=?",rtl:"=?",api:"=?",change:"&?",removeButton:"=?",softDelete:"=?",closeAfterSelection:"=?"},link:function(e,n,o,r,s){var a=angular.element(n[0].querySelector(".selector-dropdown")),l=angular.element(n[0].querySelector("select")),u=n.parents(),h="selector-"+Math.round(1e6*Math.random());a.attr("id",h),s(e,function(e,o){var r=t("filter"),s=angular.element(n[0].querySelector(".selector-input input")),c=s.controller("ngModel"),d=n.find("select").controller("ngModel"),p={api:{},search:"",disableSearch:!1,selectedValues:[],highlighted:0,valueAttr:null,labelAttr:"label",options:[],limit:1/0,removeButton:!0,closeAfterSelection:!0};a.detach(),!angular.isDefined(o.value)&&o.multiple&&(o.value=[]);for(var f in p)angular.isDefined(o[f])||(o[f]=p[f]);o.getObjValue=function(e,t){var i;if(!angular.isDefined(e)||!angular.isDefined(t))return e;if(t=angular.isArray(t)?t:t.split("."),(i=t.shift()).indexOf("[")>0){var n=i.match(/(\w+)\[(\d+)\]/);null!==n&&(e=e[n[1]],i=n[2])}return 0===t.length?e[i]:o.getObjValue(e[i],t)},o.setObjValue=function(e,t,i){var n;if(angular.isDefined(e)||(e={}),t=angular.isArray(t)?t:t.split("."),(n=t.shift()).indexOf("[")>0){var r=n.match(/(\w+)\[(\d+)\]/);null!==r&&(e=e[r[1]],n=r[2])}return e[n]=0===t.length?i:o.setObjValue(e[n],t,i),e},o.optionValue=function(e){return null===o.valueAttr?e:o.getObjValue(e,o.valueAttr)},o.optionEquals=function(e,t){return angular.equals(o.optionValue(e),angular.isDefined(t)?t:o.value)},o.setValue=function(e){o.multiple?o.value=null===o.valueAttr?e||[]:(e||[]).map(function(e){return o.getObjValue(e,o.valueAttr)}):o.value=null===o.valueAttr?e:o.getObjValue(e||{},o.valueAttr)},o.hasValue=function(){return o.multiple?(o.value||[]).length>0:!!o.value},o.optionToObject=function(e){var t={},i=angular.element(e);angular.forEach(e.dataset,function(e,i){i.match(/^\$/)||(t[i]=e)}),e.value&&o.setObjValue(t,o.valueAttr||"value",e.value),i.text()&&o.setObjValue(t,o.labelAttr,i.text().trim()),o.options.push(t),!i.attr("selected")||!o.multiple&&o.hasValue()||(o.multiple?(o.value||(o.value=[]),o.value.push(o.optionValue(t))):o.value||(o.value=o.optionValue(t)))},o.fillWithHtml=function(){o.options=[],angular.forEach(e,function(e){"option"===(e.tagName||"").toLowerCase()&&o.optionToObject(e)}),o.updateSelected()},o.initialize=function(){angular.isArray(o.options)&&o.options.length||o.fillWithHtml(),o.hasValue()&&(o.multiple?angular.isArray(o.value)||(o.value=[o.value]):angular.isArray(o.value)&&(o.value=o.value[0]),o.updateSelected(),o.filterOptions(),o.updateValue())},o.$watch("multiple",function(){i(o.setInputWidth)});var g=function(){var e=s.parent()[0],t={top:"",bottom:"",left:e.getBoundingClientRect().left+"px",width:e.offsetWidth+"px"};angular.element(document.body).height()-(e.offsetHeight+e.getBoundingClientRect().top)>=220?(t.top=e.offsetHeight+e.getBoundingClientRect().top,a.removeClass("ontop")):(t.bottom=angular.element(document.body).height()-e.getBoundingClientRect().top,a.addClass("ontop")),a.css(t)};o.showDropdown=function(){g(),angular.element(document.body).append(a),i(function(){angular.element(window).triggerHandler("resize")},50)},o.open=function(){o.multiple&&(o.selectedValues||[]).length>=o.limit||(o.isOpen=!0,o.showDropdown(),i(o.scrollToHighlighted))},o.close=function(){o.isOpen=!1,a.detach(),o.resetInput()};var m=function(e){o.filteredOptions.length&&(o.highlighted=(o.filteredOptions.length+e)%o.filteredOptions.length)};o.set=function(e){o.multiple&&(o.selectedValues||[]).length>=o.limit||(o.multiple?(o.selectedValues||(o.selectedValues=[]),o.selectedValues.indexOf(e)<0&&o.selectedValues.push(e)):o.selectedValues=[e],!o.multiple&&o.closeAfterSelection&&s.blur(),m(o.options.indexOf(e)),o.resetInput(),d.$setDirty())},o.unset=function(e){o.multiple?o.selectedValues.splice(angular.isDefined(e)?e:o.selectedValues.length-1,1):o.selectedValues=[],o.resetInput(),d.$setDirty()},o.keydown=function(e){switch(e.keyCode){case KEYS.up:if(!o.isOpen)break;m(o.highlighted-1),e.preventDefault();break;case KEYS.down:o.isOpen?m(o.highlighted+1):o.open(),e.preventDefault();break;case KEYS.escape:m(0),o.close();break;case KEYS.enter:o.isOpen&&(o.filteredOptions.length&&o.set(),e.preventDefault());break;case KEYS.backspace:if(!s.val()){var t=o.getObjValue(o.selectedValues.slice(-1)[0]||{},o.labelAttr||"");o.unset(),o.open(),o.softDelete&&!o.disableSearch&&i(function(){o.search=t}),e.preventDefault()}break;case KEYS.left:case KEYS.right:case KEYS.shift:case KEYS.ctrl:case KEYS.alt:case KEYS.tab:case KEYS.leftCmd:case KEYS.rightCmd:break;default:!o.multiple&&o.hasValue()?e.preventDefault():(o.open(),m(0))}},o.inOptions=function(e,t){return e.indexOf(t)>=0},o.filterOptions=function(){if(o.filteredOptions=r(o.options||[],o.search),angular.isArray(o.selectedValues)||(o.selectedValues=[]),o.multiple)o.filteredOptions=o.filteredOptions.filter(function(e){return!o.inOptions(o.selectedValues,e)});else{var e=o.filteredOptions.indexOf(o.selectedValues[0]);e>=0&&m(e)}},o.measureWidth=function(){var e,t=getStyles(s[0]),i=angular.element('<span class="selector-shadow"></span>');return i.text(s.val()||(o.hasValue()?"":o.placeholder)||""),angular.element(document.body).append(i),angular.forEach(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(e){i.css(e,t[e])}),e=i[0].offsetWidth,i.remove(),e},o.setInputWidth=function(){var e=o.measureWidth()+1;s.css("width",e+"px")},o.resetInput=function(){s.val(""),o.setInputWidth(),i(function(){o.search=""})},o.$watch("[search, options, value]",function(){o.filterOptions(),i(function(){o.setInputWidth(),o.isOpen&&o.showDropdown()})},!0),o.updateValue=function(e){angular.isDefined(e)||(e=o.selectedValues||[]),o.setValue(o.multiple?e:e[0])},o.$watch("selectedValues",function(e,t){angular.equals(e,t)||(o.updateValue(),angular.isFunction(o.change)&&o.change(o.multiple?{newValue:e,oldValue:t}:{newValue:(e||[])[0],oldValue:(t||[])[0]}))},!0),o.$watchCollection("options",function(e,t){angular.equals(e,t)||o.updateSelected()}),o.updateSelected=function(){o.multiple?o.selectedValues=(o.value||[]).map(function(e){return r(o.options,function(t){return o.optionEquals(t,e)})[0]}).filter(function(e){return angular.isDefined(e)}).slice(0,o.limit):o.selectedValues=(o.options||[]).filter(function(e){return o.optionEquals(e)}).slice(0,1)},o.$watch("value",function(e,t){angular.equals(e,t)||o.updateSelected()},!0),s=angular.element(n[0].querySelector(".selector-input input")).on("focus",function(){i(function(){o.$apply(o.open)})}).on("blur",function(){o.close()}).on("keydown",function(e){o.$apply(function(){o.keydown(e)})}).on("input",function(){o.setInputWidth()}),a.on("mousedown",function(e){e.preventDefault()}),u.each(function(e,t){angular.element(t).on("scroll."+h,function(e){g()})}),o.$watch(function(){return c.$pristine},function(e){d[e?"$setPristine":"$setDirty"]()}),o.$watch(function(){return c.$touched},function(e){d[e?"$setTouched":"$setUntouched"]()}),angular.forEach(["open","close"],function(e){o.api[e]=o[e]}),o.api.focus=function(){s[0].focus()},o.api.set=function(e){return o.value=e},o.api.unset=function(e){var t=e?(o.selectedValues||[]).filter(function(t){return o.optionEquals(t,e)}):o.selectedValues,i=o.selectedValues.map(function(e,i){return o.inOptions(t,e)?i:-1}).filter(function(e){return e>=0});angular.forEach(i,function(e,t){o.unset(e-t)})},o.isDirty=function(){return l.hasClass("ng-dirty")},o.isInvalid=function(){return l.hasClass("ng-invalid")},o.initialize()}),e.$on("$destroy",function(){a.remove(),a.off("mousedown"),angular.element(n[0].querySelector(".selector-input input")).off("focus blur keydown input "),angular.element(document.body).off("resize."+h),u.each(function(e,t){$(t).off("scroll."+h+" resize."+h)}),u=null})},template:function(e,t){var i,n=s.get(t.viewItemTemplate)?s.get(t.viewItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>';i=t.labelAttr?'<span ng-bind="getObjValue(option, labelAttr) || option"></span>':s.get(t.viewItemTemplate)?s.get(t.viewItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>',t.dropdownItemTemplate&&(i=s.get(t.dropdownItemTemplate)?s.get(t.dropdownItemTemplate):'<span ng-bind="getObjValue(option, labelAttr) || option"></span>');var o="";t.name&&(o='name="'+t.name+'"');return s.get("selector/Base")?s.get("selector/Base"):"<div class=\"selector-container\" ng-attr-dir=\"{{rtl ? 'rtl' : 'ltr'}}\" ng-class=\"{open: isOpen, empty: !filteredOptions.length && !search, 'ng-dirty': isDirty(), 'ng-invalid': isInvalid(),multiple: multiple, 'has-value': hasValue(), rtl: rtl, 'remove-button': removeButton, disabled: disabled}\"><select "+o+' ng-required="required && !hasValue()" class="not-styled" ng-model="selectedValues" multiple style="display: none;"></select><label class="selector-input"><ul class="selector-values"><li ng-repeat="(index, option) in selectedValues track by index"><div>'+n+'</div><div ng-if="multiple" class="selector-helper" ng-click="!disabled && unset(index)"><span class="selector-icon"></span></div></li></ul><input ng-model="search" class="selector-search-input not-styled" placeholder="{{!hasValue() ? placeholder : \'\'}}"ng-disabled="disabled" ng-readonly="disableSearch" ng-required="required && !hasValue()" autocomplete="off"><div ng-if="!multiple" class="selector-helper selector-global-helper" ng-click="!disabled && removeButton && unset()"><span class="selector-icon"></span></div></label><ul md-virtual-repeat-container md-auto-shrink md-top-index="highlighted" class="selector-dropdown '+t.dropdownClass+'"><li md-virtual-repeat="option in filteredOptions" ng-class="{active: highlighted == $index}" class="selector-option" ng-click="set(option)">'+i+"</li></ul></div>"}}}]),angular.module("SER.tooltipster",[]),angular.module("SER.tooltipster").directive("tooltipster",function(){return{restrict:"A",scope:{tooltipsterOptions:"="},link:function(e,t,i){var n={content:i.tooltipster,maxWidth:300,delay:0,contentAsHTML:!0,positionTracker:!0,interactive:!0,trigger:"hover",theme:"tooltipster-borderless",functionReady:function(e,i){$(i.tooltip).on("click",function(){t.tooltipster("hide")})}};angular.merge(n,e.tooltipsterOptions),t.tooltipster(n)}}}),angular.module("SER.tooltipster").directive("tooltipsterMenu",function(){return{restrict:"A",scope:{tooltipsterMenu:"="},link:function(e,t,i){var n={content:t.find(".tooltip-content"),delay:0,trigger:"click",theme:"tooltipster-borderless",position:"bottom",positionTracker:!0,interactive:!0,functionReady:function(e,i){$(i.tooltip).on("click",function(){t.tooltipster("hide")})}};angular.merge(n,e.tooltipsterMenu),t.tooltipster(n)}}}),angular.module("SER.tooltipster").directive("tooltipsterHtml",function(){return{restrict:"A",scope:{tooltipsterHtml:"="},link:function(e,t,i){var n={content:t.find(".tooltip-content"),delay:0,trigger:"hover",theme:"tooltipster-borderless",position:"top",positionTracker:!0,functionReady:function(e,i){$(i.tooltip).on("click",function(){t.tooltipster("hide")})}};angular.merge(n,e.tooltipsterHtml),t.tooltipster(n)}}}),angular.module("SER.match",[]).directive("match",["$parse",function(e){return{require:"?ngModel",restrict:"A",link:function(t,i,n,o){function r(){var e=s(t);return angular.isObject(e)&&e.hasOwnProperty("$viewValue")&&(e=e.$viewValue),e}if(o&&n.match){var s=e(n.match),a=e(n.matchCaseless),l=e(n.notMatch),u=e(n.matchIgnoreEmpty);t.$watch(r,function(){o.$$parseAndValidate()}),o.$validators.match=function(e,i){var n,o=e||i,s=r(),h=l(t);return!(!u(t)||i)||(n=a(t)?angular.lowercase(o)===angular.lowercase(s):o===s,!!(n^=h))}}}}}]),angular.module("SER.barcode",[]),angular.module("SER.barcode").directive("barcode",function(){return{restrict:"EA",scope:{model:"=",options:"="},link:function(e,t,i){var n={format:"CODE128",lineColor:"#000000",width:3,height:110,displayValue:!0};angular.merge(n,e.options),e.$watch("model",function(e){JsBarcode(t[0],e,n)})}}}),angular.module("SER.diff",[]),angular.module("SER.diff").factory("ObjectDiff",["$sce",function(e){function t(e,n,o,r){if(e===n)return i(e);var s={},a=!0;for(var l in e)if(!r&&l in n||r&&void 0!==n&&n.hasOwnProperty(l))if(e[l]===n[l])s[l]=i(e[l]);else if(!o&&function(e,t){var i=typeof e,n=typeof t;return e&&t&&("object"==i||"function"==i)&&("object"==n||"function"==n)}(e[l],n[l])){var u=t(e[l],n[l],o,r);"equal"==u.changed?s[l]=i(e[l]):(a=!1,s[l]=u)}else a=!1,s[l]={changed:"primitive change",removed:e[l],added:n[l]};else a=!1,s[l]={changed:"removed",value:e[l]};for(l in n)(r||l in e)&&(!r||void 0===e||e.hasOwnProperty(l))||(a=!1,s[l]={changed:"added",value:n[l]});return a?i(e):{changed:"object change",value:s}}function i(e){return{changed:"equal",value:e}}return{diff:t,getPatchChanges:function(e,i,n,o){var r=angular.fromJson(angular.toJson(i)),s=t(angular.fromJson(angular.toJson(e)),r,n,o),a=[];return"equal"!==s.changed&&angular.forEach(s.value,function(e,t){"equal"!==e.changed&&a.push({op:"replace",path:"/"+t,value:r[t]})}),a}}}]),angular.module("SER.map",[]),angular.module("SER.map").service("mapFunctions",[function(){return{getCurrentPosition:function(){var e=$q.defer(),t=e.promise;return $window.navigator&&$window.navigator.geolocation?$window.navigator.geolocation.getCurrentPosition(function(t){e.resolve({Latitude:t.coords.latitude,Longitude:t.coords.longitude,accuracy:t.coords.accuracy})},function(){e.reject()}):e.reject(),t},checkLatLog:function(e,t){return-90<=e&&90>=e&&-180<=t&&180>=t},middlePoint:function(e){var t={From:{Lat:0,longitude:0},To:{Lat:0,longitude:0}};if(angular.merge(t,e),t.From.longitude!=t.To.Longitude||t.From.Latitude!=t.To.Latitude){var i=t.From.Latitude*Math.PI/180,n=t.To.Latitude*Math.PI/180,o=t.From.Longitude*Math.PI/180,r=t.To.Longitude*Math.PI/180-o,s=Math.cos(n)*Math.cos(r),a=Math.cos(n)*Math.sin(r),l=Math.atan2(Math.sin(i)+Math.sin(n),Math.sqrt((Math.cos(i)+s)*(Math.cos(i)+s)+a*a)),u=o+Math.atan2(a,Math.cos(i)+s);l*=180/Math.PI,u*=180/Math.PI;var h=t.To.Longitude-t.From.Longitude,c=t.To.Latitude-t.From.Latitude;return{longitude:u,Latitude:l,angle:180*Math.atan2(h,c)/Math.PI,distance:this.distancePoints(t.From.Longitude,t.From.Latitude,t.To.Longitude,t.To.Latitude)}}return!1},distancePoints:function(e,t,i,n){var o=Math.sin((n-t)*Math.PI/180/2)*Math.sin((n-t)*Math.PI/180/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin((i-e)*Math.PI/180/2)*Math.sin((i-e)*Math.PI/180/2);return 1.60934*(6371*(2*Math.asin(Math.sqrt(o))))},cutPrecision:function(e,t){if("number"==typeof e[0])for(n=0;n<e.length;n++)e[n]=Math.round(e[n]*t)/t;else for(var i=e.features||e.geometries||e.coordinates||e,n=0;n<i.length;n++)this.cutPrecision(i[n],t)},processPoints:function(e,t,i){e instanceof google.maps.LatLng?t.call(i,e):e instanceof google.maps.Data.Point?t.call(i,e.get()):e.getArray().forEach(function(e){this.processPoints(e,t,i)})},generateGeoJSONCircle:function(e,t,i){for(var n=[],o=360/i,r=0;r<i;r++){var s=google.maps.geometry.spherical.computeOffset(e,t,o*r);n.push([s.lng(),s.lat()])}return n.push(n[0]),{type:"Polygon",coordinates:[n]}},getLatLngLiteralArray:function(e){for(var t=[],i=0;i<e.length;i++)t.push({lat:e[i][1],lng:e[i][0]});return t}}}]),angular.module("SER.sentry",[]),angular.module("SER.sentry").factory("$exceptionHandler",["$window","$log",function(e,t){return e.Raven&&RAVEN_CONFIG_DSN?(console.log("Using the RavenJS exception handler."),Raven.config(RAVEN_CONFIG_DSN).install(),function(e,t){Raven.captureException(e),RAVEN_SHOW_DIALOG&&Raven.showReportDialog()}):(console.log("Using the default logging exception handler."),function(e,i){t.error.apply(t,arguments)})}]),angular.module("SER",["SER.i18n","SER.auth","SER.selector","SER.match","SER.image","SER.search","SER.tooltipster","SER.datepicker","SER.chip","SER.loader","SER.filters","SER.barcode","SER.diff","SER.fullscreen","SER.Clipboard","SER.sentry"]),function(e){var t=new Image;t.onload=function(){var t=["font-size: 1px;","line-height: "+this.height+"px;","padding: "+.5*this.height+"px "+.5*this.width+"px;","background-size: "+this.width+"px "+this.height+"px;","background: url("+e+");"].join(" ");console.log(""),console.log(""),console.log("%c",t),console.log("https://www.sersoluciones.com"),console.log(""),console.log("")},t.src=e}("https://s3.amazonaws.com/ser-ui/images/powered.jpg"),angular.module("SER").config(["$urlRouterProvider","$urlMatcherFactoryProvider","$compileProvider","$resourceProvider","$httpProvider",function(e,t,i,n,o){o.defaults.paramSerialize="$httpParamSerializerJQLike",n.defaults.stripTrailingSlashes=!0,i.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|skype|tel|chrome-extension):/),e.rule(function(e,t){var i=t.path();if("/"===i[i.length-1])return i.substr(0,i.length-1)});var r=/^[a-f\d]{8}-([a-f\d]{4}-){3}[a-f\d]{12}$/i;t.type("guid",{encode:angular.identity,decode:angular.identity,is:function(e){return r.test(e)}})}]),angular.module("SER").run(["$rootScope","$sce",function(e,t){e.backHistory=function(){$window.history.back()},e.__=__,e.bodyHeight=function(){return angular.element("body").height()},e.browserWidth=browserWidth,e.trustAsHtml=function(e){return t.trustAsHtml(e)}}]);
//# sourceMappingURL=ser-ui.min.js.map
